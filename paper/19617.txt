NBER WORKING PAPER SERIES

DYNAMIC FINANCIAL CONSTRAINTS:
DISTINGUISHING MECHANISM DESIGN FROM EXOGENOUSLY INCOMPLETE REGIMES
Alexander Karaivanov
Robert M. Townsend
Working Paper 19617
http://www.nber.org/papers/w19617

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
November 2013

We thank H. Cole, L. Hansen, A. Hortacsu, P. Lavergne, E. Ligon, T. Magnac, D. Neal, W. Newey,
W. Rogerson, S. Schulhofer-Wohl, K. Wolpin, Q. Vuong, and audiences at Berkeley, Chicago, Duke,
MIT, Northwestern, Penn, Toulouse, Stanford, UCSB, the SED conference, the European Meeting
of the Econometric Society, and the Vienna Macroeconomics Workshop for many insightful comments
and suggestions. Financial support from the NSF, NICHD, SSHRC, the John Templeton Foundation
and the Bill and Melinda Gates Foundation through a grant to the Consortium on Financial Systems
and Poverty at the University of Chicago is gratefully acknowledged. The views expressed herein
are those of the authors and do not necessarily reflect the views of the National Bureau of Economic
Research.
NBER working papers are circulated for discussion and comment purposes. They have not been peerreviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.
Â© 2013 by Alexander Karaivanov and Robert M. Townsend. All rights reserved. Short sections of
text, not to exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including Â© notice, is given to the source.

Dynamic Financial Constraints: Distinguishing Mechanism Design from Exogenously Incomplete
Regimes
Alexander Karaivanov and Robert M. Townsend
NBER Working Paper No. 19617
November 2013
JEL No. C51,C73,D82,O1
ABSTRACT
We formulate and solve a range of dynamic models of constrained credit/insurance that allow for moral
hazard and limited commitment. We compare them to full insurance and exogenously incomplete
financial regimes (autarky, saving only, borrowing and lending in a single asset). We develop computational
methods based on mechanism design, linear programming, and maximum likelihood to estimate, compare,
and statistically test these alternative dynamic models with financial/information constraints. Our methods
can use both cross-sectional and panel data and allow for measurement error and unobserved heterogeneity.
We estimate the models using data on Thai households running small businesses from two separate
samples. We find that in the rural sample, the exogenously incomplete saving only and borrowing
regimes provide the best fit using data on consumption, business assets, investment, and income. Family
and other networks help consumption smoothing there, as in a moral hazard constrained regime. In
contrast, in urban areas, we find mechanism design financial/information regimes that are decidedly
less constrained, with the moral hazard model fitting best combined business and consumption data.
We perform numerous robustness checks in both the Thai data and in Monte Carlo simulations and
compare our maximum likelihood criterion with results from other metrics and data not used in the
estimation. A prototypical counterfactual policy evaluation exercise using the estimation results is
also featured.

Alexander Karaivanov
Simon Fraser University
8888 University Drive, WMC 3602
Burnaby, B.C.
Canada V5A 1S6
akaraiva@sfu.ca
Robert M. Townsend
Department of Economics, E17-230
MIT
77 Massachusetts Avenue
Cambridge, MA 02139
and NBER
rtownsen@mit.edu

1

Introduction

We compute, estimate, and contrast the consumption and investment behavior of risk averse households running
small non-farm and farm businesses under alternative dynamic financial and information environments, including
exogenously incomplete markets settings (autarky, savings only, non-contingent debt subject to natural borrowing
limit) and endogenously constrained settings (moral hazard, limited commitment), both relative to full insurance.
We analyze in what circumstances these financial/information regimes can be distinguished in consumption and
income data, in investment and income data or in both, jointly. More generally, we propose and apply methods
for structural estimation of dynamic mechanism design models. We use the estimates to statistically test the
alternative models against each other with both actual data on Thai rural and also urban households and data
simulated from the models themselves. We conduct numerous robustness checks, including using alternative
model selection criteria and using data not used in the estimation in order to compare predictions at the estimated
parameters and to uncover data features that drive our results. We also provide an example of how our estimation
method and results could be used to evaluate policy counterfactuals within the model.
With few exceptions the existing literature maintains a dichotomy, also embedded in the national accounts:
households are consumers and suppliers of market inputs, whereas firms produce and hire labor and other factors.
This gives rise, on the one hand, to a large literature which studies household consumption smoothing. On the
other hand, the consumer-firm dichotomy gives rise to an equally large literature on investment in which, mostly,
firms are modeled as risk neutral maximizers of expected discounted profits or dividends to owners. Here we set
aside for the moment the issues of heterogeneity in technologies and firm growth and focus on a benchmark with
financial constraints, thinking of households as firms generating investment and consumption data, as they clearly
are in the data we analyze.
The literature that is closest to our paper, and complementary with what we are doing, features risk averse
households as firms but largely assumes that certain markets or contracts are missing.1 Our methods might indicate
how to build upon these papers, possibly with alternative assumptions on the financial underpinnings. Indeed, this
begs the question of how good an approximation are the various assumptions on the financial markets environment,
different across the different papers. That is, what would be a reasonable assumption for the financial regime if
that part too were taken to the data? Which models of financial constraints fit the data best and should be used in
future, possibly policy-informing, work and which are rejected and can be set aside? The latter, though seemingly
a more limited objective, is important to emphasize, as it can be useful to narrow down the set of alternatives that
remain on the table without falling into the trap that we must definitely pick one model.
Relative to most of the literature, the methods we develop and use in this paper offer several advantages.
First, we solve and estimate fully dynamic models of incomplete markets â€“ this is computationally challenging
but captures the complete, within-period and cross-period, implications of financial constraints on consumption,
investment, and production. Second, our empirical methods can handle any number or type of financial regimes
with different frictions. We do not need to make specific functional form or other assumptions to nest those various
1

For example, Cagetti and De Nardi (2006) follow Aiyagari (1994) in their study of inequality and assume that labor income is
stochastic and uninsurable, while Angeletos and Calvet (2006) and Covas (2006) in their work on buffer stock motives and macro savings
rates feature uninsured entrepreneurial risk. In the asset pricing vein, Heaton and Lucas (2000) model entrepreneurial investment as a
portfolio choice problem, assuming exogenously incomplete markets in the tradition of Geanakoplos and Polemarchakis (1986) or Zame
(1993).

2

regimes â€“ the Vuong model comparison test we use does not require this. Third, by using maximum likelihood,
as opposed to reduced-form techniques or estimation methods based on Euler equations, we are in principle able
to estimate a larger set of structural parameters than, for example, those that appear in investment or consumption Euler equations and also a wider set of models. More generally, the MLE approach allows us to capture
more dimensions of the joint distribution of data variables (consumption, income, investment, capital), both in the
cross-section or over time, as opposed to only specific dimensions such as consumption-income comovement or
cash flow/investment correlations. Fourth, on the technical side, compared to alternative approaches based on first
order conditions, our linear programming solution technique allows us to deal in a straightforward yet extremely
general way with non-convexities and non-global optimization issues common in endogenously incomplete markets settings. We do not need to assume that the first order approach is valid or limit ourselves to situations where
it is, assume any single-crossing properties, or adopt simplifying adjacency constraints. Combining linear programming with maximum likelihood estimation allows for a natural direct mapping between the model solutions,
already in probabilistic form, and likelihoods which may be unavailable using other solution or estimation methods. Our approach is also generally applicable to other dynamic discrete choice decision problems by first writing
them as linear programs and then mapping the solutions into likelihoods.
In this paper we focus on whether and in what circumstances it is possible to distinguish financial regimes,
depending on the data used. To that end we also perform tests in which we have full control, that is we know what
the financial regime really is by using simulated data from the model. Our paper is thus both a conceptual and
methodological contribution. We show how all the financial regimes can be formulated as linear programming
problems, often of large dimension, and how likelihood functions, naturally in the space of probabilities/lotteries,
can be estimated. We allow for measurement error, the need to estimate the underlying distribution of unobserved
state variables, and the use of data from transitions, before households reach steady state.
We apply our methods to a featured emerging market economy â€“ Thailand â€“ to make the point that what we
offer is a feasible, practical approach to real data when the researcher aims to provide insights on the source and
nature of financial constraints. We chose Thailand for two main reasons. First, our data source (the Townsend
Thai surveys) includes panel data on both consumption and investment and this is rare. We can thus see if the
combination of consumption and investment data really helps make a difference. Second, we also learn about
potential next steps in modeling financial regimes. We know in particular, from other work with these data, that
consumption smoothing is quite good, that is, it is sometimes difficult to reject full insurance, in the sense that the
coefficient on idiosyncratic income, if significant, is small (Chiappori et al., 2013). We also know that investment
is sensitive to income, especially for the poor but, on the other hand, this is to some extent overcome by family
networks (Samphantharak and Townsend, 2010). Finally, there is a seeming divergence between high rate-ofreturn households, who seem constrained in scale, and low rate-of-return households, who seemingly should be
doing something else with their funds. In short, intermediation is imperfect but varies depending on the dimension
chosen.
While we keep these data features in mind, we remain ex-ante neutral in what we expect to find in terms
of the best-fitting theoretical model. Hence, we test the full range of regimes, from autarky to full information,
against the data. We are interested in how these same data look when viewed jointly though the lens of each
of the alternative financial regimes we model. We also want to be assured that our methods, which feature

3

grid approximations, measurement error, estimation of unobserved distribution of utility promises and transition
dynamics, are as a practical matter applicable to actual data. This is our primary intent, to offer an operational
methodology for estimating and comparing across different dynamic models of financial regimes that can be taken
to data from various sources. We focus on the Thai application, first, but also use Monte Carlo simulations and a
variety of robustness checks, including with data or metrics not used in the estimation.
We find that by and large out methods work with the Thai data. In terms of the regime that fits the rural
data best, we echo previous work which finds that investment is not smooth and can be sensitive to cash flow
fluctuations and that capital stocks are very persistent. Indeed, we find that investment and income data alone are
most consistent with the saving only and borrowing and lending regimes, with statistical ties depending on the
specification, and this is true as well with the combined consumption and investment data. We also echo previous
work which finds that, with income and consumption data alone, full risk sharing is rejected, but not by much,
and indeed the moral hazard regime is consistent with these data though sometimes statistically tied with limited
commitment or savings only, depending on the specification. We find some evidence that family networks move
households more decisively toward less constrained regimes.
In the urban data, we find that the best-fitting financial/information regime is less constraining overall. There
is still persistence in the capital stock, though less than in the rural data so, with production data alone, the saving
only regime again fits best. But the consumption data is even smoother against income than in the rural sample
and the moral hazard and even full insurance regimes fit well, with fewer ties with the more constrained regimes.
Overall in the urban data, with combined production and consumption data, moral hazard provides the best fit,
unlike in the rural sample. The autarky regime is rejected in virtually all estimation runs with both the rural and
urban data.
We are also keen to distinguish across the financial/information regimes themselves, and not their auxiliary
assumptions. So in a major robustness check we establish that imposing a parametric production function with
estimated parameters does not drive our conclusions. Our primary specification uses unstructured histograms for
input/output data, as our computational methods allow arbitrary functional forms. We also perform a range of
additional runs with the Thai data that confirm the robustness of our baseline results â€” imposing risk neutrality,
fixing the size of measurement error across regimes, allowing for quadratic adjustment costs in investment, running on data purged from household or year fixed effects, different grid sizes, different distributional assumptions
on the unobservable state variable, and alternative assets and income definitions.
In another important robustness check, we perform Monte Carlo estimations with data simulated from the
model. In these runs we know what the financial regime really is, and what the true parameter values really
are, but we run our estimation the same way as in the Thai data, as if we did not have this information. We
find that our ability to distinguish between the regimes naturally depends on both the type of data used and
the amount of measurement error. With low measurement error, we are able to distinguish between almost all
regime pairs and recover the true regime. As expected, however, higher measurement error in the simulated data
reduces the power of the model comparison test â€“ some counterfactual regimes cannot be distinguished from
the data-generating baseline and from each other. For example, using investment, assets and income data, we
cannot distinguish between the regimes (with the exception of autarky) when moral hazard generated the data.
Using joint data on consumption, investment, business assets, and income, however, does markedly improve

4

the ability to distinguish across the regimes, including with high measurement error in the simulated data. We
also incorporate intertemporal data from the model, which we also find to significantly improve our ability to
distinguish the regimes relative to when using cross-sections of the same data variables. We also show that the
results with simulated data are robust to various modifications â€” different sizes of measurement error, different
grid and sample sizes, and using data-generating parameters identical to the ones estimated from the Thai data.
We also do runs allowing for heterogeneity in productivity, risk aversion and interest rates but then ignoring this
in the estimation so that the model is mis-specified. Our results remain robust.
Finally, we look back at some key features of our data and at how the alternative models do in fitting these
features and in predicting moments and time paths not used in the estimation. We display the persistence of
capital in the data and in the best-fitting financial/information regimes. This helps clarify why the savings-only
regime does best when there is substantial persistence (lack of adjustment) as in the rural, and to a less extent the
urban, data. We also display the rate of return on assets as a function of assets. Again, the more limited financial
regimes (saving only) do best in being consistent with the negative observed relationship in the rural data, i.e.,
low-asset households have relatively high rates of return and households with higher assets, low rates. The urban
data share some features with data simulated from a less constrained regime (moral hazard). We also simulate the
time paths of the best-fitting financial regime at the estimated parameters. The means of consumption, business
assets, and income fit the Thai data quite well. The standard deviations of these variables also fit, though there is
more heterogeneity in the actual than simulated data (removing extreme outliers helps). We also simulate the path
for savings in the model and compare, favorably, to financial net worth monthly data which was not utilized in the
ML estimation.
In a further robustness check on our likelihood approach and its auxiliary assumptions, a mean squared error
metric based on selected moments of the data picks out the savings regime as best fitting in the rural data, which
is consistent with our MLE results. The urban data show substantially more smoothing and the ad hoc moments
criterion picks out a less constrained regime. We also go beyond the MLE and Vuong tests by running GMM
tests based on Euler equations with our data. The Ligon (1998) GMM test using consumption data alone or with
business assets or income as instruments shows evidence in favor of either the savings/borrowing or moral hazard
regimes, depending on the exact sample or instruments used, in other words, mixed results as in our MLE using
consumption and income data alone. The Bond and Meghir (1994) investment sensitivity to cash flow GMM test
rejects the null of no financial constraints, as we do in the MLE, but their method is unable to distinguish across
the alternative constrained regimes.
Further comparisons to the literature
On the household side, our paper relates to a large literature which studies consumption smoothing.2 On the
firm side, there is equally large literature on investment.3 There are also papers attempting to explain stylized
facts on firm growth, with higher mean growth and variance in growth for small firms, e.g. Cooley and Quadrini
2
There is voluminous work estimating the permanent income model, the full risk sharing model, buffer stock models (Zeldes, 1989;
Deaton and Laroque, 1996) and, lately, models with private information (Phelan 1994; Ligon, 1998) or limited commitment (Ligon,
Thomas and Worrall, 2002) among many others.
3
For example, there is the adjustment costs approach of Abel and Blanchard (1983) and Bond and Meghir (1994) among many others.
In industrial organization, Hopenhayn (1992) and Ericson and Pakes (1995) model entry and exit of firms with Cobb-Douglas or CES
production technologies where investment augments capital with a lag and output produced from capital, labor and other factors is subject
to factor-neutral technology shocks.

5

(2001), among others. Albuquerque and Hopenhayn (2004) and Clementi and Hopenhayn (2006) introduce either
private information or limited commitment but maintain risk neutrality.4
In terms of distinguishing across alternative financial constraints, here we set out to see how far we can get,
going a bit deeper than most existing literature. For example, the adjustment costs investment literature may
be picking up constraints implied by financing and not adjustment costs per se. The â€˜pecking orderâ€™ investment
literature (Myers and Majuf, 1984) simply assumes that internally generated funds are least expensive, followed
by debt, and finally equity, discussing wedges and distortions. Berger and Udell (2002) also have a long discussion
in this spirit, on small vs. large firm finance. They point out that small firms seem to be informationally opaque yet
receive funds from family, friends, angels, or venture capitalists, leaving open the nature of the overall financial
regime. Bitler et al. (2005) argue likewise that agency considerations play important role. The empirical work
of Fazzari, Hubbard and Petersen (1988) picks up systematic distortions for small firms but, again, the nature of
the credit market imperfection is not modeled, leading to criticisms of their interpretation of cash flow sensitivity
tests (Kaplan and Zingales, 2000).5
In estimating both exogenously incomplete and endogenous information constrained regimes there are few
other similar efforts to which this paper relates. Ligon (1998) uses GMM based on regular vs. inverse Euler equations on Indian villages consumption data to distinguish between a moral hazard model and the permanent income
hypothesis assuming CRRA preferences. A similar approach is used in Kocherlakota and Pistaferri (2009) to test
between asset pricing implications of a private information model and a standard exogenously incomplete markets
model in repeated cross-sections of consumption data from the USA, UK and Italy. Both papers find evidence
in favor of the private information model. Meh and Quadrini (2006) compare numerically a bond economy to
an economy with unobserved diversion of capital while Attanasio and Pavoni (2011) estimate and compare the
extent of consumption smoothing in the permanent income model to that in a moral hazard model with hidden
savings (see also Karaivanov, 2012). Krueger and Perri (2011) use data on income, consumption and wealth from
Italy (1987-2008) and from the PSID (2004-2006) to compare and contrast the permanent income hypothesis vs.
a model of precautionary savings with borrowing constraints and conclude the former explains the dynamics of
their data better. Broer (2011) uses a simulated method of moments to estimate stationary joint distributions of
consumption, wealth and income in a limited commitment vs. a permanent-income model with US data and finds
evidence in favor of the permanent income model, including in a setting with production. Ai and Yang (2007)
study an environment with private information and limited commitment. Schmid (2008) is also an effort to estimate a dynamic model of financial constraints but by using regressions on model data, not maximum likelihood
as here. Dubois et al. (2008) estimate semi-parametrically a dynamic model with limited commitment to explain
the patterns of income and consumption growth in Pakistani villages nesting complete markets and the case where
only informal agreements are available. Kinnan (2011) tests inverse Euler equations and other implications of
moral hazard, limited commitment, and unobserved output financial regimes.
4

Some applied general equilibrium models feature both consumption and investment in the same context, e.g., Rossi-Hansberg and
Wright (2007), but there the complete markets hypothesis justifies within the model a separation of the decisions of households from the
decisions of firms. Alem and Townsend (2013) provide an explicit derivation of full risk sharing with equilibrium stochastic discount
factors, rationalizing the apparent risk neutrality of households as firms making investment decisions.
5
Under the null of complete markets there should be no significant cash flow variable in investment decisions, but the criticism is that
when the null is rejected, one cannot infer the degree of financial markets imperfection from the magnitude of the cash flow coefficient.
One needs to explicitly model the financial regime in order to make an inference, which is what we test here.

6

Our methods follow logically from Paulson, Townsend and Karaivanov (2006) where we model, estimate, and
test whether moral hazard or limited liability is the predominant financial obstacle explaining the observed positive
monotonic relationship between initial wealth and subsequent entry into business. Buera and Shin (2013) extend
this to endogenous savings decisions in a model with limited borrowing but do not test the micro underpinnings
of the assumed regime. Here, we abstract from occupational choice and focus much more on the dynamics as
well as include more financial regimes. We naturally analyze the advantages of using the combination of data
on consumption and the smoothing of income shocks with data on the smoothing of investment from cash flow
fluctuations, in effect filling the gap created by the dichotomy in the literature.

2

Theory

2.1

Environment

Consider an economy of infinitely-lived agents heterogeneous in their initial endowments (assets), 4 of a single
good that can be used for both consumption and investment. Agents are risk averse and have time-separable
preferences defined over consumption, -, and labor effort, A represented by % - A where %   %  . They
discount future utility using discount factor 

 

. We assume that - and A belong to the finite discrete sets

(grids)  and * respectively. The agents have access to a stochastic output technology,

8A 4  !  *  

   which gives the probability of obtaining output/income, 8 from effort level, A and capital level, 4.6 The
sets ! and  are also finite and discrete â€“ this could be a technological or computational assumption. Capital,
4 depreciates at rate 

 

. Depending on the intended application, the lowest capital level (4  ) could

be interpreted as a â€˜workerâ€™ occupation (similar to Paulson et al., 2006) or as firm exit but we do not impose a
particular interpretation in this paper.
Agents can contract with a financial intermediary and enter into saving, debt, or insurance arrangements. We
characterize the optimal dynamic financial contracts between the agents and the intermediary in different financial
markets â€˜regimesâ€™ distinguished by alternative assumptions regarding information, enforcement/commitment and
credit access. In all financial regimes we study, capital 4 and output 8 are assumed observable and verifiable.
However, effort, A may be unobservable to third parties, resulting in a moral hazard problem.7
The financial intermediary is risk neutral and has access to an outside credit market with exogenously given
and constant over time opportunity cost of funds ".8 The intermediary is assumed to be able to fully commit to
6

We can incorporate heterogeneity in productivity/ability across agents by adding a scaling factor in the production function, as we do
in a robustness run in Section 6.2. Note also that , as defined, can be interpreted as income net of payments for any hired inputs other
than " and 
7
In the working paper version (Karaivanov and Townsend, 2013) we also formulate, compute and perform several estimation runs
with a model of hidden output ( is unobservable) and a model of moral hazard and unobserved investment (the capital stock  and
effort " are unobservable resulting in a joint moral hazard and adverse selection problem). These regimes have heavier computational
requirements than the six featured here, which prevented us from treating them symmetrically in the empirical part. We did find the
exogenously incomplete borrowing and saving regimes dominating in the rural data. In the urban data, the hidden output regime fit best in
a specification with the parametric production function. Both findings are thus consistent with our main results â€“ exogenously incomplete
markets in the rural data and mechanism design financial regimes in the urban data. A more complete summary of these results and the
associated mechanism design problems is also available as an online appendix to the current paper at www.sfu.ca/Ëœakaraiva.
8
The assumption of risk neutrality is not essential since there are no aggregate shocks and we can think of the intermediary contracting
with a continuum of agents. We perform robustness runs varying the return , including taking different values at different dates (see
Section 6.1) and a run with simulated data varying  in different asset quartiles in the population (see Section 6.2).

7

the ex-ante (constrained-) optimal contract with agent(s) at any initial state while we consider the possibility of
limited commitment by the agents.
Using the linear programming approach of Prescott and Townsend (1984); Phelan and Townsend (1991)
and Paulson et al. (2006), we model financial contracts as probability distributions (lotteries) over assigned or
implemented allocations of consumption, output, effort, and investment (see below for details). There are two
possible interpretations. First, one can think of the intermediary as a principal contracting with a single agent/firm
at a time, in which case financial contracts specify mixed strategies over allocations. Alternatively, one can think
of the principal contracting with a continuum of agents, so that the optimal contract specifies the fraction of agents
of given type or at given state that receive a particular deterministic allocation. It is further assumed that there are
no technological links between the agents, the agents cannot collude, and there are no aggregate shocks.9

2.2

Financial and information regimes

We write down the dynamic linear programming problems determining the (constrained) optimal contract in many
alternative financial and information regimes which can be classified into two groups. The first group are regimes
with exogenously incomplete markets: autarky (A), saving only (S), and borrowing and lending (B). To save space
we often use the abbreviated names supplied in the brackets. In these regimes the feasible financial contracts take
a specific, exogenously given form (no access to financial markets, a deposit/storage contract, or a non-contingent
debt contract, respectively).
In the second group of financial regimes we study, optimal contracts are endogenously determined as solutions
to dynamic mechanism-design problems subject to information and incentive constraints. In the main part of this
paper we look at two such endogenously incomplete markets regimes â€“ moral hazard (MH), in which agentsâ€™
effort is unobserved but capital and investment are observed, and limited commitment (LC) in which there are no
information frictions but agents can renege on the contract after observing the output realization.10 All incompletemarkets regimes are compared the full information (FI) benchmark (the â€˜complete marketsâ€™ or â€˜first bestâ€™ regime).
In Section 5.3 we also consider versions of all regimes in which capital changes are subject to quadratic adjustment
costs.
2.2.1

Exogenously incomplete markets

Autarky
We say that agents are in (financial) â€˜autarkyâ€™ if they have no access to financial intermediation â€“ neither
borrowing nor saving. They can however choose how much output to invest in capital to be used in production
vs. how much to consume. The timeline is as follows. The agent starts the current period with business assets
(capital) 4

 which he puts into production. At this time he also supplies his effort A

period output 8

! is realized, the agent decides on the next period capital level

9

4

* At the end of the

 (we allow downward or

While conceptually we could allow for aggregate shocks by introducing another state variable in our dynamic linear programs and
still be able to solve them using our method, this would increase computational time beyond what is currently feasible at the estimation
stage. We perform robustness estimation runs with data with removed year fixed effects to allow for possible common shocks and find
almost identical results to the baseline results (see Section 6.1).
10
Again, see footnote 7. The proofs that the optimal contracting problems can be written in recursive form and that the revelation
principle applies follow from Phelan and Townsend (1991) and Doepke and Townsend (2006) and hence are omitted.

8

upward capital adjustments), and consumes -     4

8  4  . Clearly, 4 is the single state variable in the

recursive formulation of the agentâ€™s problem which is relatively simple and can be solved by standard dynamic
programming techniques. However, to be consistent with the solution method that we use for the mechanismdesign financial regimes where non-linear techniques may be inapplicable due to non-convexities introduced by
the incentive and truth-telling constraints (more on this below), we formulate the agentâ€™s problem in autarky (and
all others) as a dynamic linear programming problem in the joint probabilities (lotteries) over all possible choice
variables allocations 8 A 4 
=4 

!  *   given state 4,
8 A 4  4 %    4



% * ! !

% * !

8  4  A

=4  

(1)

The maximization of the agentâ€™s value function, =4 in (1) is subject to a set of constraints on the choice variables,
.11 First, 4

 the joint probabilities 8 A 4  4 have to be consistent with the technologically-determined

probability distribution of output,

!

8A 4 :


8  A 4  4 


8 
A 4

%

8 A 4  4 for all 
8  A

!

Second, given that the  â€™s are probabilities, they must satisfy 8 A 4  4 
!  *  , and â€˜adding-upâ€™,

% * !

!*

(2)

(non-negativity) 8 A 4 

8 A 4  4 

(3)

The policy variables 8 A 4  4 that solve the above maximization problem determine the agentâ€™s optimal effort

and output-contingent investment in autarky for each 4.
Saving only / Borrowing

In this setting we assume that the agent is able to either only save, i.e., accumulate and run down a buffer
stock, in what we call the saving only (S) regime; or borrow and save through a competitive financial intermediary
â€“ which we call the borrowing (B) regime. The agent thus can save or borrow in a risk-free asset to smooth
his consumption or investment in Bewley-Aiyagari manner, in addition to what he could do via production and
capital alone under autarky. Specifically, if the agent borrows (saves) an amount ,, then next period he has to
repay (collect) ",, independent of the state of the world. Involuntary default is ruled out by assuming that the
principal refuses to lend to a borrower who is at risk of not being able to repay in any state (computationally, we
assign a high utility penalty in such states). By shutting down all contingencies in debt contracts we aim for better
differentiation from the mechanism design regimes.
Debt/savings , is assumed to take values on the finite grid . By convention, a negative value of , represents
savings, i.e., in the S regime the upper bound of the grid  is zero, while in the B regime the upper bound is
positive. The lower bound of the grid for , in both cases is a finite negative number. The autarky regime can
be subsumed by setting    . This financial regime is essentially a version of the standard Bewley model
In (1) and later on in the paper  under the summation sign refers to summing over  and not  and similarly for
below.
11

9



and the set 

with borrowing constraints defined by the grid  and an endogenous income process defined by the production
function

84 A .

The timeline is as follows: the agent starts the current period with capital 4 and savings/debt , and uses his
capital in production together with effort A At the end of the period, output 8 is realized, the agent repays/receives
",, and borrows or saves ,
  4

8

 He also puts aside (invests in) next periodâ€™s capital, 4  and consumes - 

,  ",  4   The two â€˜assetsâ€™ 4 and , are assumed freely convertible into one another.

The problem of an agent with current capital stock 4 and debt/savings level , in the S or B regime can be

written recursively as:
=4 , 



% * !  ! 

% * ! 

8 A 4   , 4 , %    4

8

,  ",  4   A

=4   , 

(4)

subject to the technological consistency and adding-up constraints analogous to (2) and (3), and subject to
8 A 4   , 4 , 
2.2.2

for all 8 A 4   ,

!  *    

Mechanism Design Regimes

Full information
With full information (FI) the principal fully observes and can contract upon agentâ€™s effort and investment â€“
there are no private information or other frictions. We write the corresponding dynamic principal-agent problem
as an extension of Phelan and Townsend (1991) with capital accumulation. As is standard in such settings (e.g.,
see Spear and Srivastava, 1987), to obtain a recursive formulation we use an additional state variable â€“ promised
utility, > which belongs to the discrete set, ' . The optimal full-information contract for an agent with current
promised utility > and capital 4 consists of the effort and capital levels A 4 
utility

>

' , and transfers

*  , next periodâ€™s promised

belonging to the discrete set $ . A positive value of

denotes a transfer from the

principal to the agent. The timing of events is the same as in Section 2.2.1, with the addition that transfers occur
after output is observed.
Following Phelan and Townsend (1991), the set of promised utilities ' has a lower bound, > which
corresponds to assigning forever the lowest possible consumption, - (obtained from the lowest
highest

4

) and the highest possible effort, A

promising the highest possible consumption, -


>





*. The setâ€™s upper bound, >



$ and the

in turn corresponds to

and the lowest possible effort forever:

   *




and >  

   *  


(5)

The principalâ€™s value function, & 4 > when contracting with an agent at state 4 > maximizes expected
output net of transfers plus the discounted value of future outputs less transfers. We write the mechanism design
problem solved by the optimal contract as a linear program in the joint probabilities,   8 A 4  > 4 > over

all possible allocations   8 A 4   > :
& 4 > 



 % * ! ) ! )

 %*

!

)

  8 A 4   > 4 > 8 

10

 " & 4   > 

(6)

The maximization in (6) is subject to the â€˜technological consistencyâ€™ and â€˜adding-upâ€™ constraints:

 ! )

  8 A 4   > 4 > 


8 
A 4

 % * ! )

 % ! )

  8 A 4   > 4 > for all 
8  A

!  *

  8 A 4   > 4 >  ,

as well as non-negativity:   8 A 4   > 4 > 

for all   8 A 4   >

(7)
(8)

$  !  *    '.

The optimal FI contract must also satisfy an additional, promise keeping constraint which reflects the princi-

palâ€™s commitment ability and ensures that the agentâ€™s present-value expected utility equals his promised utility,
>:
 % * ! )

  8 A 4   > 4 > % 

   4  4  A

>   >

(9)

By varying the initial promise > we can trace the whole Pareto frontier for the principal and the agent. The
optimal FI contract is the probabilities



 8 A 4   > 4 > that maximize (6) subject to (7), (8) and (9).

The full information contract implies full insurance, so consumption is smoothed completely against output, 8
(conditioned on effort A if utility is non-separable). It also implies that expected marginal products of capital ought
to be equated to the outside interest rate implicit in ", adjusting for disutility of labor effort which the planner
would take that into account in determining how much capital 4 to assign to a project. The intermediary/bank
(planner) has access to outside borrowing and lending at the rate ", but internally, within its set of customers it
can in effect have them â€˜borrowâ€™ and â€˜saveâ€™ among each other, i.e., take some output away from one agent who
might otherwise have put money into his project and give that to another agent with high marginal product. A lot
of this nets out so only the residual is financed with (or lent to) the outside market. In contrast, the B/S regime
shuts down such within-group transfers and trades and instead each agent is dealing with the market directly.
Moral hazard
In the moral hazard (MH) regime the principal can still observe and control the agentâ€™s capital and investment
(4 and 4  ), but he can no longer observe or verify the agentâ€™s effort, A. This results in a moral hazard problem. The
state 4 here can be interpreted as endogenous collateral. The timing is the same as in the FI regime. However, the
optimal MH contract   8 A 4   > 4 > must satisfy an incentive-compatibility constraint (ICC), in addition
to (7)-(9).12 The ICC states that, given the agentâ€™s state 4 > and recommended effort level A capital 4   and

transfer  the agent must not be able to achieve higher expected utility by deviating to any alternative effort level
A. That is, 
A  A

*  * we must have,
 % ! )



 %

!

)

  8 A 4   > 4 > % 
  8 A 4   > 4 >

   4  4   A

8
A 4
% 
8
A 4

12

>  

   4  4   A

> 

(10)

For more details on the ICC derivation in the linear programming framework, see Prescott and Townsend (1984). The key term is the

which reflects the fact that by deviating the agent changes the probability distribution of output.
â€˜likelihood ratioâ€™, 
 
 

11

Apart from the additional ICC constraint (10), the MH regime differs from the FI regime in the set of feasible

promised utilities, ' . In particular, the lowest possible promise under moral hazard is no longer the value >

from (5). Indeed, if the agent is assigned minimum consumption forever, he would not supply effort above the
minimum possible. Thus, the feasible range of promised utilities, ' for the MH regime is bounded by:

>


   *  



and >
 

   *  


(11)

The principal cannot promise a slightly higher consumption in exchange for much higher effort such that agentâ€™s
  since this is not incentive compatible. If the agent does not follow the principalâ€™s recomutility falls below >

mendations but deviates to A the worst punishment he can receive is - forever.
The constrained-optimal contract in the moral hazard regime,

 

 8 A 4   > 4 > solves the linear pro-

gram defined by (6)â€“(10). The contract features partial insurance and intertemporal tie-ins, i.e., it is not a repetition
of the optimal one-period contract (Townsend, 1982).
Limited commitment
The third setting with endogenously incomplete financial markets we study assumes away private information
but focuses on another friction often discussed in the consumption smoothing and investment literatures (e.g.,
Thomas and Worrall, 1994; Ligon et al., 2000 among others) â€“ limited commitment (LC). As in those papers,
by â€˜limited commitmentâ€™ we mean that the agent may potentially renege on the contract after observing his
output realization knowing the transfer

he is supposed to give to others through the intermediary. Another

possible interpretation of this, particularly relevant for developing economies, is a contract enforcement problem.
The maximum penalty for a reneging agent is permanent exclusion from future credit/risk-sharing â€“ i.e., our
assumption is the agent goes to autarky forever.
Using the same approach as with the other financial regimes, we write the optimal contracting problem under
limited commitment as a recursive linear programming problem. The state variables are capital, 4
promised utility, >

 and

' . In this model regime the set (here, a closed interval on ) of feasible promised utilities,

' is an endogenous object to be iterated over during the dynamic program solution (Abreu, Pearce and Stacchetti,
 as equal to the autarky value at 4
1990). We initialize the lower bound of ' , >
 (see Section 2.2.1) and set

the initial upper bound to >



 >  . A similar solution approach, including allowing for randomization over

allocations, is used in Ligon et al. (2000).
Given the agentâ€™s current state 4 > the problem of the intermediary is
& 4 > 



 % *

!

)

! )

 % * ! )

  8 A 4   > 4 > 8 

 " & 4   > 

subject to the promise-keeping constraint

 % * ! )

  8 A 4   > 4 > % 

   4  4  A

>   >,

subject to the limited-commitment constraints which ensure that reneging does not occur in equilibrium, respect-

12

ing our timing that effort A is decided before output 8 is realized,13



!

)

 % * ! ) ! )
 )
 % * !
  ! )
  

 
  





%

   4  4   A


>  4 8 A for all 
8  A

!*

(12)

and subject to non-negativity   8 A 4   > 4 >  , technological consistency and adding-up,
 ! )

  8 A 4   > 4 > 


8 
A 4

 % * ! )

 % ! )

  8 A 4   > 4 > for all 
8  A

!  *

  8 A 4   > 4 >  ,

In constraint (12), 4 8 A denotes the present utility value of the agent going to autarky forever with his output
at hand 8 and capital 4, defined as:
% 8
4 8 A  

! 

   4  4  A

=4 

where = is the autarky regime value function defined in Section 2.2.1.

3

Computation

3.1

Solution Methods

We solve the dynamic programs for all financial regimes numerically. Specifically, we use the linear programming
(LP) methods developed by Prescott and Townsend (1984) and applied in Phelan and Townsend (1991) and Paulson et al. (2006) where, as shown in the previous section, the dynamic problems are written in terms of probability
distributions (â€˜lotteriesâ€™). An alternative to the LP method in the literature is the â€˜first order approachâ€™ (Rogerson,
1985) whereby the incentive constraints are replaced by their first order conditions.14 The public finance literature in the tradition of Mirrlees has adopted these latter methods to provide elegant characterizations of solutions
to tax and insurance problems, or used ex-post verification to show that simplified, less constrained problems
can be solved without loss of generality (Abraham and Pavoni, 2008; Farhi and Werning, 2012; Golosov et al.,
2006; Golosov and Tsyvinski, 2007; Ai and Yang, 2007). A problem with that approach arises from possible
non-convexities induced by the incentive or commitment constraints.15 Here, by way of contrast we operate in
extremely general environments, following Fernandes and Phelan (2000) and Doepke and Townsend (2006). Our
linear programming approach can be applied for any preference and technology specifications since, by construction, it convexifies the problem by allowing any possible randomization (lotteries) over the solution variables.
The only potential downside is that the LP method may suffer from a â€˜curse of dimensionalityâ€™ due to its use of
13
14

The terms



 
 
   
  

 
 
 
  

  

 


correspond to the respective probabilities conditional on  " having been realized.

The first order approach requires imposing monotonicity and/or convexity assumptions on the technology (Rogerson 1985; Jewitt,
1988) or, alternatively, as in Abraham and Pavoni (2008), employing a numerical verification procedure to check its validity for the
particular problem at hand.
15
We found such non-convexities in some of our solutions for the mechanism design regimes and hence we cannot use the first order
approach. See also Kocherlakota (2004).

13

discrete grids for all variables. However, as shown above, by judicious formulation of the linear programs, this
deficiency can be substantially reduced.
To speed up computation, we solve the dynamic programs for each regime using policy function iteration
(e.g., see Judd, 1998). That is, we start with an initial guess for the value function, obtain the optimal policy
function and compute the new value function that would occur if the computed policy function were used forever.
We iterate on this procedure until convergence. At each iteration step, that is for each interim value function
for each possible value of the state variables.16 In the

iterate, we solve a linear program in the policy variables

limited commitment regime, LC (see Section 2), the promised utilities set is endogenously determined and has to
be iterated and solved for together with the value function during the solution process, due to the commitment or
truth-telling constraints, which makes the LC regime computationally harder than the MH or FI regimes.

3.2

Functional Forms and Grids

Below are the functional forms we adopt in the empirical analysis. They are chosen and demonstrated below to be
flexible enough to generate significant and statistically distinguishable differences across the financial regimes. As
argued earlier, we can handle in principle any preferences and technology, including with non-convexities but, of
course, in practice we are limited by computational concerns (estimation time sharply increases with the number
of estimated parameters). We also verify robustness by using different parameterizations and model specifications
(see Section 6).
Agent preferences are of the CES form:17
% - A 
The production function,

8A 4  *  

8  8  8  from effort A

* and capital 4

-
 A


! represents the probability of obtaining output level, 8
. In our baseline runs with Thai data we fit

!

8A 4 non-

parametrically using a histogram function from a subset of households in the rural sample for which we have labor
time data.18 In robustness runs (with both the rural and urban data) we also use a parametric form for

8A 4

with parameters we estimate which encompasses production technologies ranging from perfect substitutes to
Cobb-Douglas to Leontief forms (see Section 6.1 below for details).
To get an idea of the computational complexity of the dynamic contracting problems we solve, Table 1 shows
the number of variables, constraints, and linear programs that need to be solved at each iteration for each regime
for the grids we use in the empirical implementation. The number of linear programs is closely related to the grid
size of the state variables while the total number of variables and constraints depends on the product of all grid
dimensions. The biggest computational difficulties arise from increasing  or * as this causes an exponential
16
The coefficient matrices of the objective function and the constraints are created in Matlab while all linear programs are solved using
the commercial LP solver CPLEX version 8.1. The computations were performed on a dual-core, 2.2 Ghz, 2GB RAM machine.
17
Our linear programming solution methodology does not require separable preferences. However, assuming separability is standard
in the dynamic contracts literature so we adopt it for comparison purposes. We perform a robustness run with a more general preference
form with an additional parameter in Section 6.1.
18
Specifically, we map output, , assets,  and time worked, " data onto the model grids and set   "  equal to the fraction of
observations in each   " grid cell. For the baseline runs with urban data, for data availability reasons we used the same data on " but
the actual urban sample values for  and 

14

increase in the number of variables and/or constraints. This is why we keep these dimensions relatively low,
whereas using larger $ (or, equivalently ) is relatively â€˜cheapâ€™ computationally.
The grids that we use in the estimation runs reflect the relative magnitudes and ranges of the variables in the
Thai data or simulated data. In our baseline estimation runs we use a five-point capital grid  with grid points
corresponding to the 10th, 30th, 50th, 70th and 90th percentiles in the data. The same applies for the output grid
!. The baseline grid for promised utility, ' consists of five uniformly-spaced points over the respective bounds
for the MH, FI or LC regimes. Table 2 displays the grids we use in the estimation runs with Thai rural data.
Further specific details on how all grids are determined are given in Section 5.2. We can use (and do robustness
runs with) finer grids but the associated computational time cost is extremely high at the estimation stage because
of the need to compute the linear programs and iterate at each parameter vector during the estimation. This is why
we keep dimensions relatively low at present.

4

Empirical Method

In this section we describe our estimation strategy. We estimate via maximum likelihood each of the alternative
dynamic models of financial constraints developed in Section 2. Our basic empirical method is as follows. We
write down a likelihood function that measures the goodness-of-fit between the data and each of the alternative
model regimes. We then use the maximized likelihood value for each model (at the MLE estimates for the
parameters) and perform a formal statistical test (Vuong, 1989) about whether we can statistically distinguish
between each pair of models relative to the data. We thus approach the data as if agnostic about which theoretical
model fits them best and let the data themselves determine this. The results of the Vuong test, a sort of â€˜horse raceâ€™
among competing models, inform us which theory(ies) fits the data best and also which theories can be rejected
in view of the observed data.
This is a structural estimation and model comparison paper, and so naturally this poses the question of distinguishing between testing or rejecting the imposed model structure (functional and parametric forms) versus
testing the actual relationships between the features we are interested in (the financial and information regimes).
In all structural MLE runs these two dimensions are tested jointly by construction. We try to deal with this issue in
several ways. First, in the robustness Section 6 we explore some alternative functional forms or parameterizations
and perform the empirical analysis for different data samples and variable definitions. Runs with data simulated
from the model are also performed to test the validity of our estimation method. Second, in section 7 we supplement the maximum likelihood and Vuong test results with additional graphs, tables and alternative criteria of
fit to better illustrate and provide further supporting evidence for the robustness of the main results. Finally, we
use flexible and standard functional forms for preferences and the unobservable states distribution which are held
constant across the alternative regimes, that is, any differences in likelihood are due to the nature of financial
constraints imposed by the model, not due to differences in functional forms.
The financial regimes we study have implications for both the transitional dynamics and long-run distributions
of variables such as consumption, assets, investment, etc. Given our application to Thailand â€“ an emerging, rapidly
developing economy, we take the view that the actual data is more likely to correspond to a transition than to a

15

steady state.19 Thus, estimating initial conditions (captured by the initial state variables distribution) is important
for us, as well as fitting the subsequent trajectories using intertemporal data. In addition, our simulations show
slow dynamics for the model variables in the mechanism design regimes and, theoretically, some regimes can
theoretically have degenerate long-run distributions (e.g., â€˜immiserationâ€™ in the moral hazard model). These are
further reasons to focus on transitions instead of steady states in the estimation. We explain the details below.

4.1

Maximum likelihood estimation

Suppose we have panel data 
? ( $


( 

where 3   7 denotes sample units and ; denotes time (in our

application sample units are households observed over seven years). The data are assumed i.i.d. across households,
3. In this paper we use various subsets of data collected from rural and urban Thai households running small
businesses on their productive assets, consumption and income, 4 (  - (  8 (  where ;     correspond to the
years 1999-2005. We also construct investment data as B (  4

(

for more details.

    4 ( for ;    . See Section 5.1

For each household 3, call @ the vector of variables used in the MLE. In the various runs we do this vector
-   8  or
consumption and income; that is @  
-  8  B  4 ) or can consist of variables
;   consumption, income, investment and capital; that is @  
can consist of different cross-sectional variables (e.g., ; 

from different time periods (e.g., consumption and income at ; 

and ;  ; that is @  
-   8   -   8  ).

The data @ may contain measurement error. Assume the measurement error is additive and distributed
    # ?

where ? denotes the range of the grid ( for variable ?, i.e., ?  ?



 ? where

? is any of the variables used in the estimation (e.g., consumption). The reasoning is that for computational time
reasons we want to be as parsimonious with parameters as possible in the likelihood routine while still allowing
the measurement error variance to be commensurate with the different variablesâ€™ ranges. In principle, more complex versions of measurement error can be introduced at the cost of computing time. The parameter  # will be
estimated in the MLE.
Call : the vector of observable state variables and : the vector of unobservable state variables. We have
:  4 for all models while :  > or :  , or : absent, depending on the financial regime. In the estimation
runs that follow there are two cases depending on whether or not the set of variables, @ used in the estimation
includes : â€“ the initial values of the observed state. Call @   @: , i.e., all variables in @ which are not : . For

example, in the runs with @  -  8 data in Sections 5 and 6 below, we have @  @  since 4  : is not among

the variables @, while in the runs with @  4  2  8 data we have @  @  since 4  : is among the variables
@ used in the estimation (see below for more discussion on this).
1. Model solutions and joint probabilities
For each possible values of the state variables, : and : over the grids #  and # in a given model regime
(e.g., 4 > â€“ the capital stock and promised utility for the MH, FI or LC models) and given structural parameters '
in the preferences and technology functions, the model solution obtained from the respective linear program (see
Section 2) is a discrete joint probability distribution, :  : . For example, the MH model solution consists of
the joint probabilities   8 A 4   > 4 > . Using the LP solution :  : , we can easily obtain, essentially
19

We do a robustness estimation run in Section 6.2 with simulated data drawn after running the model a large number of periods,
approximating a steady state.

16

by summing over the different variables and probabilities (see Appendix A for more details), the theoretical joint
probability distribution in model 6 over any set of variables @  used in the MLE â€“ for instance, @  could be ; 
consumption and income -  8 . Call this probability distribution 0 # @  :  :  ' .
2. Initialization of observable and unobservable state variables

Let 1:  :   denote the initial discrete joint distribution of the state variables over their corresponding
grids, the parameters of which,  will be estimated in the MLE. To initialize the observed state variable :
(capital 4 in all models) we take the actual data 4 $  for the initial period used in the estimation and discretize
it over the grid  via histogram function. Call the resulting discrete probability distribution 1: â€“ the marginal

distribution of : .20 The initial values of the unobservable state : (, or >, depending on the regime) are treated as
a source of unobserved heterogeneity. Their distribution and possible dependence on : are parametrized by  .
In our baseline estimation runs with the Thai data in Section 5 we assume that the initial distributions of the state
variables : and : are independent.21 We relax this assumption in robustness runs (see Section 6.1 and Table
9), where we allow the initial unobserved state : (e.g., initial promised utility) to be correlated with the initial
distribution of : (initial assets) via an additional estimated parameter. Note that we do not assume that the states
: and : are independent beyond the initial period â€“ they evolve endogenously with the model dynamics.
3. The likelihood
To form the likelihood of model 6 with observations from variables @ (e.g., consumption and income), denote by 1# @   : :  ' the joint density of all observables conditional on all unobservables. Then, â€˜integrateâ€™

over the initial distribution of the unobservable state, i.e., form 1# @   : :  ' 1:   where 1:   is
'

the marginal distribution of : . In our baseline specification with independent initial states : and : , we have

1:    :   and the summation over : is done using a histogram function over the grid # (e.g., ' in
the MH model). Naturally, since the only state in autarky (4) is observable, this step is not performed when we
estimate the A model. We have

'




'

1# @   : :  ' 1:   


'

0 # @  :  :  ' 1: : 1:   

(13)

0 # @  :  :  ' 1:  :    / # @   :  '  

Above, / # @   :  '   is the joint distribution of @  and : in model 6 given parameters '   . For instance, this could be the theoretical joint distribution of c,q,i, and k in the MH model for initial state distribution
1:  :   over the grid   ' . In the runs in which : is not among the variables @ used in the MLE (e.g.,

the runs with c,q data), we further â€˜integrate outâ€™ the initial distribution of the observable state to obtain the joint
In constructing the discrete initial distribution   (or     in general) we allow for the possibility that the  data contain
measurement error, with the same additive Normal specification parametrized by   assumed above. We use essentially the method
described in (15) below to compute the probability mass at each grid point. This step is done upfront since we need the discretized
distribution     to obtain using the LP solution the joint distribution of the variables !  used in the MLE (see   and  below).
21
Specifically, in these runs we assume that the unobserved state in the MH, FI, LC models is distributed          
     . Thus, in the independence case we have
and the unobserved state  in the B and S models is distributed    
 


         . Assuming Normality of the initial  or distributions is not essential for our method and more general
distributional assumptions can be incorporated at the computational cost of additional estimated parameters. We perform a robustness run
with a Gaussian mixture distribution in Section 6.1.
20

17

distribution in model 6 of the variables @,
/ # @ '   


'

'

0 # @  :  :  ' 1:  :  

denote the pdf of  

We also allow for measurement error in the variables in @  . Let  

the assumed measurement error distribution, the likelihood of observing data
any grid point

@&

)

,



" 


 @ " @& " 

"

 #

. Given

(for instance -  8 ), relative to



(15)

where 5     indexes the different elements of @  or @ (e.g.,  
 #

@



for any 9    ) is:


@ "

(14)

for @   - 8 ) and where

" 

#



is the measurement error standard deviation for each variable, as explained earlier.

Focus on the case @  @  ; the case @  @   : is handled analogously but the algebra is more cumbersome since for each 3 we need to condition on its : value in the grid #  . Expression (15) implies that the
likelihood of observing data vector @ (consisting of  data variables indexed by 5) for model 6, at parameters
  '     # and initial states distribution 1:  :   is




#


@  


#

'

/ @&    



& 

" 


 @" @&" 

"

 #



(16)

where / # @&  '   is the value of (14) at @& , i.e., the probability mass which model 6 puts on grid point 9,
and where we assume that measurement errors in all variables are independent from each other. We basically
sum over all grid points, appropriately weighted by / # , the likelihoods in (15). For example, for cross-sectional
@   @
consumption and income data @  
-  8   
 # 
&

 
-  8 , we have


/ # - 8 &  '    - -& 



 #




 8 8& 

 #

where 9 goes over all elements of the joint grid   !, 9    ! and where 5 

consumption - and 5 


in (16) refers to

refers to income 8.

Multiplying (16) over the sample units (households) and taking logs, the normalized by 7 log-likelihood of
data 
@ $



in model 6 with initial state distribution 1:  :   at parameters  is,
$

#
$ 



7

  # 
@  

(17)



The maximization of the log-likelihood (17) over  is performed by an optimization algorithm robust to local
maxima.22 Standard errors are computed using bootstrapping, repeatedly drawing with replacement from the
data.
22

We first perform an extensive grid search over the parameter space to rule out local extrema and then use non-gradient based optimization routines (Matlabâ€™s function patternsearch) to maximize the likelihood.

18

4.2

Testing and model selection

We follow Vuong (1989) to construct and compute an asymptotic test statistic that we use to distinguish across
the alternative models using simulated or actual data. The Vuong test does not require that either of the compared
models be correctly specified. The null hypothesis of the Vuong test, is that the two models are asymptotically
equivalent relative to the true data generating process â€“ that is, cannot be statistically distinguished from each
other based on their â€˜distanceâ€™ from the data in KLIC sense. The Vuong test-statistic is normally distributed under
the null hypothesis. If the null is rejected (i.e., the Vuong Z-statistic is large enough in absolute value), we say
that the higher likelihood model is â€˜closer to the dataâ€™ (in KLIC sense) than the other.
More formally, suppose the values of the estimation criterion being minimized, i.e., minus the log-likelihood,
  and  
 where 7 is the sample size and 
  and 
 are the
for two competing models are given by $ 
$
parameter estimates for the two models.23 The test allows us to rank the likelihoods with the data of all studied
models pairwise, although this ranking is not necessarily transitive (model A may be preferred to model B, which
may be preferred to model C, but A and C can be tied). Define the difference in lack-of fit statistic:
$$  7



    

$ 
$
$

 
where  $ is a consistent estimate of the asymptotic variance, $ of the log of the likelihood ratio, $ 
 .24 Under regularity conditions (see Vuong, 1989, pp. 309-13 for details), if the compared models are
$ 
strictly non-nested, the test-statistic $$ is distributed   

5

under the null hypothesis.

Application to Thai Data

5.1

Data

In this section we apply our estimation method to actual household-level data from a developing country. We use
the Townsend Thai Data, both the rural Monthly Survey and the annual Urban Survey (Townsend, Paulson and
Lee, 1997). Constrained by space and computation time, we report primarily on the rural data, but where possible
compare and contrast results with the urban data.
The Monthly Survey data were gathered from 16 villages in four provinces, two in the relatively wealthy and
industrializing Central region near Bangkok, Chacheongsao and Lopburi, and two in the relatively poor, semi-arid
Northeast, Buriram and Srisaket. That survey began in August 1998 with a comprehensive baseline questionnaire
on an extensive set of topics, followed by interviews every month. Initially consumption data were gathered
weekly, then bi-weekly. All variables were added up to produce annual numbers. The data we use here begins in
January 1999 so that technique and questionnaire adjustments were essentially done. We use a balanced panel of
23

For the functional forms and parameter space we use in the estimation, the models we study are statistically non-nested. Formally,
following Vuong (1989), if two models are represented by the parametric families of conditional distributions         
          where    
. The Vuong test can
  and 
  is i.i.d. data, they are non-nested if   
be also used for overlapping models, i.e., neither strictly nested nor non-nested, in which case a two-step procedure is used (see Vuong,
1989, p. 321).
24
We use for   the sample analogue of the variance of the LR statistic (see Vuong, 1989, p. 314).

19

531 rural households who run small businesses observed for seven consecutive years, 1999 to 2005.
Consumption expenditures, - include owner-produced consumption (rice, fish, etc.). Income, 8 is measured
on accrual basis (see Samphantharak and Townsend, 2010) though at an annual frequency this is close to cash flow
from operations. Business assets, 4 include business and farm equipment, but exclude livestock and household
assets such as durable goods. We do perform a robustness check with respect to the asset definition â€” see Section
6.1. Assets other than land are depreciated. All data are in nominal terms but inflation was low over this period.
The variables are not converted to per-capita terms, i.e., household size is not brought into consideration (though
we do a robustness check below). We construct a measure of investment using the assets in two consecutive years
as: 2(  4(     4( for each household.

The monthly data measure transfers and borrowing/lending among households within a village, and so we are

able to construct measures of financial networks. Gifts and especially loans are large when they occur, averaging
9% and 60% of household consumption, respectively. From an initial Census we also have the location of parents,
siblings, adult children, and parentsâ€™ siblings of each surveyed household and his/her spouse, and so we can
construct an indicator of family-connected households in each village.
From the Urban Survey which began later, in November 2005, we use a balanced panel of 475 households
observed each year in the period 2005 to 2009 from the same four provinces as in the rural data plus two more,
Phrae province in the North of Thailand and Satun province in the South. We use the same variables â€“ consumption
expenditure, business assets and income as in the rural data though in this case the variables are annual to begin
with, so the recall period is different. Note there is an overlap in years for 2005, and we do use that year for
comparable estimation results with the rural and urban data.
Table 3 displays summary statistics of these data in thousands Thai baht for both the rural and urban samples
(the average exchange rate in the 1999-05 period was 1 USD = 41 Baht). All magnitudes are higher in the
urban sample because those households are richer on average. Business assets, 4 and investment, 2 are very
unequally distributed as reflected in the high standard deviations and ratio between mean and median. There are
many observations with zero of close to zero assets and few with quite large assets. More detail is reported in
Samphantharak and Townsend (2010, ch. 7) for the monthly data.
Figure 1 plots, for both the urban and rural data, deviations from the sample year averages for income, consumption, and investment. As in Townsend (1994), the figure visualizes the relative degree of consumption and
investment smoothing relative to income fluctuations. We see that there is significant degree of consumption
smoothing in the data, but it is not perfect as the full insurance hypothesis would imply (if all households were
identical, the right hand panel should be flat at zero). Investment should not move with cash flow fluctuations
either, controlling for productivity, but should move with investment opportunities. This is more so in the urban
data.
Figure 2 plots the relationships between consumption level changes and asset level changes each relative to
income level changes, as in Krueger and Perri (2011). We sort the data into twenty bins by average income change
over the seven years (using quantiles) and report the average consumption and assets change corresponding to each
bin (each marker corresponds to a bin). The comovement between consumption changes and income changes,
- and 8 in the figure can be viewed as a measure of the degree of consumption smoothing in the data. For the
rural data, the top left panel shows a positive relationship between consumption and income changes (correlation

20

of 0.11) but the slope of the consumption change line is smaller than that found in Krueger and Perri for Italian
non-durable consumption data indicating more consumption smoothing. This pattern is stronger, i.e., the line is
flatter in the urban data (bottom left panel). The top right panel shows that changes in business assets in the rural
data are positively correlated with changes in contemporaneous income although this general pattern does not
hold at the two extremes of very high or very low income level changes (possibly due to measurement error or
large outliers). The comovement between assets and income changes is stronger in the urban data (bottom right
panel).

5.2

Structural estimation results

We convert all data from Thai currency into â€˜model unitsâ€™ by dividing all currency values by the 90-th percentile of
the assets distribution in the sample (this is 179,172 Thai baht for the rural sample). The normalized asset values
are used to define a five-point assets grid,25  corresponding to the 10th, 30th, 50th, 70th and 90th percentiles in
the data (e.g., for the rural sample we have     

    ). The unequal spacing reflects the skewness

of the asset distribution in the data. Similarly, from normalized income 8 we define a five-point grid corresponding
to the 10th, 30th, 50th, 70th and 90th income percentiles (for the rural sample !        ). The

grids for assets, 4 and income, 8 endogenously imply an upper bound of  model units for the borrowing/savings
 grid in the B regime â€“ higher values of , would result in default. The consumption grid used to compute the
moral hazard, full information and limited commitment models consists of thirty-one equally-spaced points on
the interval 

  model units which covers the range of consumption expenditure in the data. In the other

regimes (B, S and A) consumption is a residual variable, not independently chosen but obtained from the 4 and ,
grids. The promised utility grid, ' in the MH, FI and LC models consists of five uniformly-spaced points over
the endogenously determined intervals derived in Section 2.2. Table 2 describes all grids used in the baseline
estimation runs.
We use the algorithm described in Section 3 to estimate each model. We obtain estimates of the structural
parameters,

(risk aversion) and  (effort curvature); the distributional parameters, ) and  ) (respectively,

    for B or S); and the measurement error size parameter,  # . The discount factor , the risk-free rate, "
and the depreciation rate,  are fixed at   , "    and    . We also perform robustness runs with
alternative values for " and . For robustness purposes we perform the runs with cross-sectional (c,q) or (k,i,q) or
(c,q,i,k) data using the first or the final available year of the sample.26 In the cross-sectional runs for year ; (e.g.,
2004) we act as if the data starts in 2004, i.e., the initial 4 distribution 1: discussed in Section 4.1, is formed
using the 2004 4 data. We also perform runs in which we initialize the models with 1999 4 data, run them for a
number of periods and estimate with later periodsâ€™ data (see below).
Parameter estimates and bootstrap standard errors are displayed in Section 5.2.1 and Table 4, reported for the
1999 rural data runs only to save space. We then turn to the model comparisons in Section 5.2.2 and Table 5.
We use a standard histogram function based on distance to the closest grid point (Matlabâ€™s command hist).
Remember that we need  data from periods  and    to construct investment  in period . Thus, when we say below that we use
â€œ1999 (k,i,q) dataâ€, this means we take  and  from 1999 and, to obtain  in 1999, we also use  from 1999 and 2000. Similarly, when
we say we use â€œ2004 (k,i,q) dataâ€ we need the value of  from 2005 to construct the 2004 value of  For the runs with (c,q) data we use
consumption and income data from 1999 or 2005 (the main results do not change using 2004 data).
25
26

21

5.2.1

Parameter estimates

Table 4 reports the parameter estimates for each model and its maximized likelihood (in the last column) using
the 1999 Thai rural data. The best-fitting model is marked with an asterisk in the first column. We first discuss
its estimates. We find that the saving only (S) regime is the best-fitting (achieves the highest likelihood) with
(k,i,q) or (c,q,i,k) data. The moral hazard (MH) model achieves highest likelihood with the (c,q) data and is
statistically tied with the FI and LC models. The estimates for the S regime show that the estimate for  # â€“
the relative measurement error size parameter is relatively small (in the range 0.09-0.13 depending on the data
used, with small bootstrap standard errors). This corresponds to measurement error with standard deviation of 9
to 13% of the variablesâ€™ range. The same applies for the estimate of  # for the MH model with c,q data. The
estimates for the risk aversion parameter

for the best fitting regime indicate relatively high degree of curvature in

consumption for S (5.7 with (k,i,q) and (c,q,i,k) data) and 1.03 for MH with (c,q) data. The parameter , which can
be interpreted as capturing the extent to which households dislike variability in effort, is estimated to be relatively
high (9.2) when using (k,i,q) data alone, but lower (0.11 for S and 1.6 for MH) when including consumption
data, in the respective (c,q,i,k) and (c,q) data runs. Since effort A takes values on  
zero imply relatively high effort disutility,

A

, values for  close to

over the whole effort range, while high values of  imply low effort

disutility at low A levels increasing sharply at high effort levels. This parameter is sometimes not very precisely
estimated (relatively large bootstrap standard errors). The final two parameters reported in Table 4, )



and  )



determine the mean and standard deviation of the initial distribution of unobserved heterogeneity in the models
captured by the state variables promised utility, > (for the MH, FI and LC models) or debt/savings, , (for the B
and S models). Their estimates are reported relative to these variablesâ€™ grid ranges, e.g., )   estimated for
the best-fitting MH regime with (c,q) data means that the initial promised utility distribution is estimated to have
a mean of >

>



 > . Similarly,  ) refers to the estimate of the standard deviation of the initial

distribution of >, again relative to its grid range (e.g.,  )    means a standard deviation of  >



 >

around the mean ) ). The estimates of  for the S regime are high and in a very narrow range (.96-.99) for all
data subsets which means putting the mean of the unobserved initial savings distribution close to zero savings (the
upper limit of the  grid). The standard deviation parameter   is estimated relatively small for the S model, in
the range .01-.08 depending on the data used, with standard errors in the .01-.04 range.
More generally, Table 4 shows that the estimates differ across the regimes as the MLE optimization adjusts
the parameters for each model to attain best fit with the Thai data. The estimates for the measurement error
size,  # across all regimes and data types are in a relatively narrow range 0.09-0.18. This corresponds to
measurement error with standard deviation of 9 to 18% of the variablesâ€™ grid ranges. The bootstrap standard
errors on this parameter are low. The highest-likelihood model in each sub-section of Table 4 accommodates the
smallest measurement error size. In contrast, the regimes which obtain the lowest likelihoods generally feature
high estimated level of measurement error (e.g., the MH, FI, LC regimes with (k,i,q) data have estimates for  #
larger than 0.16 vs. 0.089 for S). The likely explanation is that to compensate for the bad fit the MLE routine is
raising the level of measurement error. The estimates for the risk-aversion parameter

vary in the range .03 to 5.7

depending on the model and data used. The MH, LC and FI regimes seem to require less risk-aversion to fit the
data ( below 1.04) while the B and S models produce estimates above 2.9 (with one exception, B with (c,q,i,k)
data). A possible reason is that the mechanism design models need to impose less curvature in consumption to

22

explain the data â€“ higher curvature would lead to excessive smoothing in these models relative to the data. There
is substantial variation in the estimates for the effort-curvature parameter  across the six regimes. For example,
with the (c,q,i,k) data, they range from 0.11 for saving only to 9.2 for autarky. Table 4 also shows that, in order
to fit the data, the B and S regimes estimate the parameter of the unobserved debt/savings distribution,  in the
range 0.84 to 0.99 which implies putting the mean initial , close to the borrowing limit ,



in the B model or

to zero savings in the S model. In contrast the range of the estimates for ) is wider (between .01 for LC with
c,q,i,k data and .79 for MH and FI with c,q data). The variance parameter,  

)

is estimated to be relatively low,

below .08 of the > or , grid ranges, with the FI, (c,q) data case the sole exception.
5.2.2

Model comparisons â€“ Vuong test results

Business assets, investment and income data
We first explore the implications of the different models on the production side alone by using the joint
distribution of assets, investment and income, (k,i,q) in the data. When estimated from (k,i,q) 1999 cross-sectional
data (see footnote 25), the regimes rank in decreasing order of likelihood as: S, B, A, LC, MH, FI (Table 4, last
column). The saving only (S) model wins all its bilateral model comparisons at the 1% significance level in the
1999 data (Table 5, row 1.1) while the B and S regimes are tied for best fit in the 2004 data (row 1.2). The MH,
LC, FI and A regimes obtain the worst likelihoods and are rejected at the 1% significance level in all comparisons
with the best fitting regime(s).
Consumption and income data
We next test whether we can distinguish between the regimes based solely on the degree of consumption
smoothing they imply relative to the data using the (c,q) joint cross-sectional distribution (Table 5, section 2). The
Thai consumption and income data alone seem to be unable to pin down precisely the best fitting regime â€” we
have a tie between MH, FI and LC with the 1999 data and between S, LC and MH with the 2004 data.
Business assets, investment, consumption and income data
We also evaluate the gains from using combined data on assets, investment, income, and consumption as
opposed to using the (k,i,q) or the (c,q) data on their own. This captures both the consumption and production
side of the household/enterprise problem as shaped by the postulated financial constraints (section 3 of Table
5). Theoretically, the classical separation between consumption and production/investment decisions fails with
incomplete markets, and so empirically, joint data on the consumption and investment side of the model should
be helpful to distinguish the regimes better. Adding the consumption data to the set of variables, we observe an
improvement in our ability to distinguish the regimes relative to using (k,i,q) data or especially the (c,q) data alone
and we are able to pin down S as the single winner in both the 1999 and 2004 samples.
Dynamics
We next use the panel structure of the data to estimate and test across the alternative regimes targeting differences in the variablesâ€™ dynamics across the models. Our empirical method, based as it is on repeatedly computing
discrete joint distributions of model variables during the estimation, is heavy on computer time and memory when
we use several years of data at a time. For example, if we wanted to use three periods of (k,i,q) data in the estimation, we would have a discretized joint distribution / # in (14) of dimension (total number of mutually exclusive

23

probability cells) equal to   !

(this equals almost two million with our baseline grids).27 For

these reasons we only use (c,q) data from two periods in the runs reported below. We did, however, manage to run
our MLE with three-period long consumption time series data using the baseline grids (see below). We also did
a robustness run with a five-year time series of consumption data, 1999-03, but needed to use coarser grids (see
Table 9).
Restricting ourselves to using two years of (c,q) data at a time (see rows 4.1 and 4.2 in Table 5), the regimesâ€™
likelihood ordering is consistent with results discussed above. The ability to distinguish across the regimes with
the 1999/00 (c,q) panel data is better than in the single 1999 (c,q) cross-section but worsens with the gap between
years included in the panel â€“ three regimes, B, MH and S are statistically tied when the 1999/05 (c,q) panel is
used. In rows 4.3 and 4.4 of Table 5 we perform a run using three consecutive years (1999-01 and 2003-05) of
consumption data alone, as in a time series. The result, MH best-fitting (tied with FI in 4.3), is consistent with the
runs with (c,q) data in rows 2.1-2.2.
In addition, we did runs (Table 5, rows 4.5-4.7) where we used the 1999 distribution of 4 to initialize the
models but 2004-05 data in the MLE. That is, each model was run for six (seven in the case of c,q data) periods
and its predictions for the joint distributions of (k,i,q), (c,q) or (c,q,i,k) at the final period were matched with actual
data from the corresponding year of the panel. Once again, the evidence points to the exogenously incomplete
market regimes fitting best (B, followed by S) when using the production-side (k,i,q) and the joint (c,q,i,k) data,
while we are unable to distinguish those two regimes from FI and MH with the (c,q) data alone. We discuss further
the modelsâ€™ ability to match the dynamics of the data in the robustness Section 6.
Rural networks
In Table 6 we also perform runs with sub-samples of the Thai rural data with various definitions of networks
between households. We first focus on a set of households (n = 391) who are related by blood or marriage (section
1 of Table 6). Compared to the whole sample results and likelihoods in Table 5, with consumption and income
cross-sectional data alone, this networked sub-sample allows us to narrow down the best fitting regime as moral
hazard (tied with FI). Evidently, family networks help in consumption smoothing as in Chiappori et al. (2013).
LC is, however, the best-fitting regime in the (c,q) sub-sample of unrelated households (tied with MH, but note
the small number of observations). In contrast, including the production side, the results with 1999 (k,i,q) and
(c,q,i,k) data still indicate that the S regime remains best-fitting in all stratifications, as in the whole sample. This
is also true in the sub-sample of households not related by blood or marriage (line 1.5).
A re-estimation with another data sub-sample of 357 households related via observed personal loans or gifts
(see Kinnan and Townsend, 2012 for details) and the 1999 (c,q) data puts the FI regime on top in terms of
likelihood (row 2.1 in Table 6), tied with MH and LC, compared to less information for those not in networks
â€“ S has highest likelihood (but tied with many other models, possibly due to the small number of observations).
Again this effect is not present when using the production-side data in the same sub-samples â€” S wins, as in the
whole sample.
27

In terms of memory requirements, with our baseline grids, computing the MLE with three periods of (k,i,q) data would involve manipulating repeatedly vectors and matrices (some for each   with size     =1,953,125, as opposed to
   =24,025, when using two periods of (c,q) data (a factor of 81) and size  =155 when using (c,q) cross-sections.
In terms of computer time, the baseline MLE runs with the slowest to run LC regime and two periods of (c,q) data or with three periods of
c data require 10-15% more time than those with (c,q) cross-sections but the run with five periods of c data (Table 9, row 5.13) required
50-60% more time.

24

Urban data
We also ran our estimation routines on the more recent panel data from the Thai Urban Surveys on households
in urban areas. Results are displayed in Table 7. Now the moral hazard (MH) regime is identified as the best-fitting
using the complete data on consumption, income, investment and assets (c,q,i,k) from both 2005 and 2008 (see
Table 7, section 1).
In fact, the moral hazard regime appears as winning in all sections of Table 7 with one exception â€“ when using
data on the production side alone â€“ the (k,i,q) specification (Table 7, section 3), where we recover the saving only
(S) regime, the same as in the rural data. Again the results with joint production and consumption data (c,q,i,k)
are more decisive and an endogenously incomplete (MH) rather than exogenously incomplete regime is chosen.
Urban households seem to be doing better than the rural in terms of smoothing consumption and investment. We
come back to this in Section 7.

6

Robustness

6.1

Additional estimation runs with Thai data

In this section we report on a large number of additional estimation runs we did to check the robustness of the
baseline results and shed more light onto the regime likelihood patterns with consumption vs. investment vs. joint
data. Here we restrict most of our robustness checks to the rural data.
Using parametric production function
We redo the baseline estimation runs from Table 5 using an alternative, parametric production function. The
advantage of doing this is that we can take into account the endogeneity in production decisions determined jointly
with the financial regime. The disadvantage is that we are jointly testing the financial regime with the assumed
parametric form. We assume the following parametric form for
 4 

8  8 A 4 
8  8 A 4 

! 

   A
4 

8A 4 ,
 

   A

(18)
 

for 2    !

where 8 is the lowest output level. The probability of obtaining each output level is bounded away from zero or
one by setting it equal to 0.01 if it is lower and 0.99 if higher. We estimate

but fix    for computational

time reasons. This functional form encompasses a range of production technologies. ( 
technology;

â€“ Cobb-Douglas; and

actual output and so the CES parameter



â€“ Leontief). Note that

â€“ perfect substitutes

8A 4 determines expected, not

here is not comparable to values from the macro literature.28

Table 8 reports the results from the Vuong test model comparisons with this production function specification.
Using the production side of household operations, (k,i,q) data from either 1999 or 2004 (Table 8, rows 1.1 and
1.2) reveals the saving only (S) regime (tied with B in one run) as best fitting, consistent with the baseline runs
(Table 5, section 1). Using the consumption side, (c,q) data (rows 1.3-1.4) the B regime comes on top but in 1.3 is
tied with S and MH which was the best fitting regime in Table 5. The combined consumption, income, investment
28

In an earlier version of the paper we also did runs with a version of this production function with an extra parameter that allowed
differential probability for output levels different from the lowest. This did not affect the results in terms of best-fitting regime.

25

and assets data runs (Table 8, rows 1.5-1.6) show as best-fitting (tied with B in one run) the S regime, the dominant
regime in the corresponding part of Table 5. The results with two-year panels of (c,q) data (Table 8, rows 1.7-1.8)
are similar to those in Table 5, with many tied regimes.
We also perform the same exercise with the parametric production function with the urban data (Table 8,
section 2). As with the rural data, the results are once again similar to the corresponding baseline runs (in Table 7
for the urban data) although there are more ties and the LC regime is doing better when using consumption data.
The moral hazard regime ties for best-fitting with FI and LC using the urban 2005 (c,q,i,k) data; MH, LC and FI
are also tied when only the (c,q) data is used. The S regime still fits best with the urban (k,i,q) data although now
tied with autarky. The bottom line is that most, if not all the results are similar to the baseline, and so we conclude
that assumptions about the production function are not driving the regime comparisons.
Robustness runs â€“ risk neutrality, fixed measurement error, adjustment costs, fixed effects, etc.
We perform a number of robustness check with several variations of our baseline specification. The results
are displayed in Table 9. Unless stated otherwise Table 9 uses 1999 data. First, a re-estimation imposing risk
neutrality, i.e., fixing



instead of estimating

(Table 9, section 1) produces similar results to the baseline

runs allowing for risk aversion. One difference, however, is that the saving only regime shows as sole winner
with the 1999 (c,q) data (row 1.1). Apparently, not allowing for risk aversion worsens the fit of the endogenously
incomplete regimes which came on top with (c,q) data in Table 5. Otherwise, with the production side data,
imposing risk neutrality yields the borrowing or saving only regimes as best fitting, as in the baseline.
Re-estimating with fixed size of measurement error (in these runs we set the standard deviation parameter  #
to .1) naturally reduces the regimesâ€™ likelihood values, especially for autarky, but preserves the MH modelâ€™s best
fit (tied with FI and LC) with the Thai data on consumption and income (see Table 9, section 2). The saving only
(S) regime emerges as the single best-fitting regime with (k,i,q) and (c,q,i,k) data, exactly as in the 1999 baseline
runs.
In Section 3 of Table 9 we allow quadratic adjustment costs in investment. The bottom line here is that the
introduction of adjustment costs does blur the distinction across the financial regimes, especially, endogenous
versus exogenously incomplete markets regimes, or can pick out a different regime entirely. The full information
regime with adjustment costs corresponds to the standard adjustment costs model in the literature (Bond and
Meghir, 1994 among many others) though we are allowing risk aversion. It appears as best-fitting in a tie with S
using the joint production and consumption data (line 3.3). Production data alone (k,i,q) actually has S tied with
autarky, A (line 3.2). The moral hazard and limited commitment regimes are tied with the borrowing regime with
adjustment costs as fitting the consumption-income data best (line 3.1), though B was dominated when adjustment
costs were not included, as in Table 5. It is true that the likelihoods of some regimes improve but there are more
parameters. We do not come away convinced that adjustment costs offer a better underlying specification than the
baseline. An exception, dealing with the persistence of capital, is discussed below.
In section 4 of table 9 we perform a series of estimation runs with the data from which we removed year or
year and household fixed effects and replaced them with average values. The issue here is that there might be
more heterogeneity in the raw data than what the models are designed to accommodate.
Removing only year fixed effects (Table 9, lines 4.1-4.3) can be thought of as â€˜purgingâ€™ the data from aggregate
shocks. Our baseline results remain robust. Using the 1999 (c,q,i,k) rural data reassuringly produces almost

26

identical results in all bilateral comparisons as the corresponding baseline run with the raw data (compare line
4.1 in Table 9 with line 3.1 in Table 5), with the S regime coming on top. The run with 2004 (c,q,i,k) data with
removed time fixed effects results in a tie between B and S for best fit which is again consistent with the baseline
(Table 5, line 3.2). The run with 2005 (c,q,i,k) urban data with removed year fixed effects (line 4.3) yields MH as
the best-fitting regime, exactly as in the corresponding baseline run in Table 7, line 1.1.
Removing both year and household fixed effects (Table 9, row 4.4) reveals S as the best-fitting regime with
the (k,i,q) data, also as in the baseline. The MH regime has the highest likelihood with the 1999 consumption and
income data from which year and household fixed effects have been removed (line 4.5), which is again consistent
with the corresponding baseline run in Table 5 where MH was tied for best fit with LC and FI. The run with (c,q,i,k)
data where LC and MH are revealed as best-fitting (row 4.6 in Table 9) is the only one that does not reproduce the
baseline result where S is best-fitting (row 3.1 in Table 5). Naturally, removing time and household fixed effects
from the Thai data and replacing them with averages produces a â€˜smootherâ€™ dataset so perhaps the better fit of
the LC and MH models is not surprising (this applies also to row 4.7 with the parametric production function).
We do not use this specification as the baseline since the fixed effects may, at least partially, be endogenous to the
financial regime in the data which we are trying to uncover. We come back to this question in the estimation runs
with simulated data from one of the models (Section 6.2 below). In some of these runs we deliberately generate
simulated data with heterogeneity in risk aversion, in productivity, or in interest rates and estimate the models as if
this heterogeneity did not exist. In another run we took out the time and household-level heterogeneity the model
is generating endogenously and the results echo what we find above.
In section 5 of Table 9 we perform thirteen additional robustness runs. We first check robustness with respect
to our baseline assumption of independent initial states. Specifically, the runs in Table 9, rows 5.1-5.3 allow for
correlation between the initial distributions of 4 and > or 4 and , used to initialize the respective model regimes.
This introduces an extra estimated parameter slowing down computation considerably. The results from these
three runs confirm that our respective baseline results remain robust. In the runs with 1999 (c,q,i,k) and (k,i,q)
data the S regime is best fitting, just like in the baseline (see Table 5, rows 3.1 and 1.1). In the run with (c,q) data
the three mechanism designs (MH, FI and LC) are statistically tied for best fit, as in the baseline (compare with
Table 5, row 2.1).
Next, we check robustness with respect to our definitions of assets and income in the Thai data (Table 9,
row 5.4). That is, we re-estimate using the 1999 (c,q,i,k) data including all household assets and livestock in
the definition of 4. The sample size drops to  but the best fitting regime (S) from the baseline, Table 5, row
3.1 does not change (now tied with A, possibly due to the smaller sample size). In row 5.5 we check robustness
with respect to the income definition by excluding labor income from the value of 8 for all 531 households. The
baseline results remain robust. Re-estimating fixing the lender risk-free rate to "=1.1 instead of the baseline value
1.05 in the baseline or the depreciation rate    instead of .05 in the baseline (Table 9, rows 5.6 and 5.8) does
not affect our findings either â€“ the S regime is still best-fitting although in these runs we cannot discern it from the
B regime. To address possible change in the rate " over time we also did a run (Table 9, row 5.7) with the 2004
(c,q,i,k) data and R=1.025, that is, a net interest rate equal to half of the baseline value. When viewed together
with the runs using R=1.05 (Table 5, line 3.1 with 1999 c,q,i,k data) or using R=1.1 (run 5.6 above, also with 1999
c,q,i,k data), this lower value of R can be thought of proxying the gradual fall in interest rates in Thailand over the

27

period 1999-04. Our results remain robust.
Re-estimation using either grids coarser than the baseline (3 points) or denser than the baseline (10 points)
produces similar results (see rows 5.9 and 5.10). The next robustness check (row 5.11) introduces an additional
estimated preference parameter,

â€“ in this run we use the functional form % - A 




 A  . The result

is identical to the baseline â€“ the S regime is best-fitting. We also do a run (row 5.12) where we assume that the

initial distribution of the unobservable state (> or ,) is a mixture of two Normals, instead of our univariate Normal
baseline. This introduces extra parameters to be estimated in the MLE and slows down computation considerably,
which is why we were not able to use it as baseline. The best-fitting regime remains saving only. Finally, in Table
9, row 5.13 we use a five-year long time series of consumption data alone but, for computational reasons, we had
to reduce the dimensionality of the  grid from 31 to 11 points. The best-fitting regime, MH is consistent with
our findings from the baseline run with a three-year consumption time series (Table 5, row 4.3).
We also did MLE runs with 2000 and 2002 data and with data stratified by region, by bank access and by â€˜net
wealthâ€™ (the latter constructed from household accounts as in Samphantharak and Townsend, 2010). We are not
reporting details since we did not find systematic patterns or differences with the baseline.

6.2

MLE with simulated data

Because of the analytical complexity of the dynamic models we study, it is not possible to provide identification
proofs while keeping the setting general. To show that our procedure works we use a numerical verification
algorithm consisting of the following steps: Step 1 â€“ take a baseline model; Step 2 â€“ generate simulated data
from the baseline model at a baseline vector of parameters, ' ; Step 3 â€“ estimate the baseline model with the
data from Step 2 using our method from Section 4, with grids determined by the simulated data percentiles and
 ' ; Step 4 â€“ check whether the estimates from Step
the same maximization routine, to obtain ML estimates, 
3 are close to the baseline ' within the standard error bands and whether the Vuong test recovers the actual
data-generating regime. In short, we use data simulated from the model itself to check that our estimation method
performs as it should.
While we have done our best to argue robustness, this section is purely intended as a validation exercise of our
empirical method and further support for our results with the Thai data, not a proof of identification. Nonetheless,
this section is important since we fully control the data used in the estimation. This enables us to test the robustness
of our method to features that we do not currently model such various forms of heterogeneity (in risk aversion,
productivity, or interest rates) or sensitivity to the grids.
6.2.1

Baseline results

We adopt as baseline model the moral hazard regime (MH) and simulate from it a panel dataset with 7 
and $  , which we then use to estimate and test across all regimes, including MH. Details on how the data are
simulated are in Appendix B. All runs in this section use the parametric production function specification, (18)
from Section 6.1. The reported results are representative of many more runs that we did, including with alternative
parameterizations and functional forms. We discuss some of these runs in Section 6.2.3 though obviously we are
limited by space in what we can report. We use two specifications differing in the size of measurement error added
to simulated data â€“ â€œlow measurement errorâ€, with  '
#   (i.e., measurement error with standard deviation
28

equal to 10% of the variables grid ranges) and a â€œhigh measurement errorâ€ specification, with  '
#   . Table
10 reports parameter estimates for the low measurement error specification, while Table 11 reports the Vuong test
results.
Business assets, investment and income
Using data on assets, investment and income (k,i,q) Table 10 shows that, when estimating the data-generating
MH regime, the baseline parameter values used to simulate the data (in italics) for  # 

and

are recovered

relatively well but the estimates for , ) and  ) inclusive of bootstrap standard errors are

off.29

The estimates

in Table 10 differ across the regimes but in general are quite close between FI and MH, allowing for standard
errors. The A regime requires much higher measurement error (.3) to approach the data compared to the baseline
value (.1). The FI and MH regimes achieve the highest likelihoods, followed by LC, S, B, and finally autarky. The
Vuong tests (Table 11, section 1) show that in the low measurement error specification we are unable to distinguish
between the data-generating MH regime and FI but we can reject the rest at the 1% significance level. We also
distinguish at the 1% level within all pairs of counterfactual regimes. That is, even if the researcher incorrectly
believed that the data were, for example, generated from the FI regime, he/she can still distinguish it from the LC,
B, S or A regimes. In contrast, with high measurement error the distinction between the regimes is blurred and
the Vuong test cannot discern statistically between MH and all regimes but autarky. In all cases, including those
with high measurement error, the non-autarky regimes are distinguished at the 1% level from autarky.
Consumption and income
We next estimate using the simulated data on consumption and income (c,q). The maximized likelihood
values (see Table 10) are ordered MH, LC, FI, S, B and A from highest to lowest. We recover the data-generating
parameters better than with the (k,i,q) data (compare the MH estimates with the values in italics in Table 10).
In contrast, the estimates for the exogenously incomplete regimes in many instances differ significantly from
the parameters at which we ran the model. With low measurement error, the data-generating MH regime is
distinguished at 1% significance level from all alternatives (Table 11, section 2), though ties appear between some
counterfactual pairs (FI and LC, FI and S, LC and S). With high measurement error we are, however, unable to
recover MH as best-fitting (LC is). The autarky regime is statistically distinguished from all others, including in
the high measurement error specification.
Business assets, consumption, investment, and income
The estimates with the (c,q,i,k) simulated data are reported in Table 10, section 3. The data-generating regime
(MH) is best-fitting and its estimates are close to the baseline values reported in italics â€“ compare with the (k,i,q)
case in particular, especially the estimates for , )    )  . All parameters are relatively precisely estimated
for the MH regime, with small bootstrap standard errors relative to the point estimates. The regimesâ€™ likelihood
order is MH, LC, FI, B, S, A. The incorrect regimes require higher measurement error to fit the data compared
to the .1 baseline. Table 11, section 3 shows that our ability to distinguish the data-generating MH regime from
all alternatives is excellent (at the 1% level) with low measurement error in the simulated data, but MH is tied
with LC for best-fitting with high measurement error. These results, compared to those using (c,q) or (k,i,q) data
demonstrate that using joint data on consumption and production yields an improvement, especially with high
29

How well we recover the baseline parameters at which the model is computed should be judged taking into account that two non-trivial
sources of noise are added to the theoretical solution when we simulate data from the model â€“ the random draws from the LP probabilities
 and sizeable measurement error (10% or 20% of the range for each variable.

29

measurement error. The ability to distinguish between counterfactual regimes also improves significantly relative
to when using (c,q) or (k,i,q) data alone â€“ the total number of ties falls from 7 or 4 to two.
Dynamics
We use simulated data on the joint distribution of consumption and income (c,q) in two different periods,
; 

and

(rows 4.1 and 4.2 in Table 11) or ; 

and  (row 4.3) as in a two-year panel. Compared to

Table 11, section 2 which uses a single (c,q) cross-section, section 4 of Table 11 demonstrates that using multiperiod data improves our ability to distinguish the regimes (both the MH and counterfactual) â€“ the number of ties
diminishes and MH is always recovered as best-fitting (in one case with high measurement error, tied with LC).
The improvement in our ability to discern the regimes is comparable to when (c,q,i,k) data was used (compare
with rows 3.1-3.2). In row 4.4 we first run the MH model for 1,000 periods to approximate a steady state and then
estimate using simulated (c,q) data from the 1,000th period. In this run MH comes up first in likelihood but is
statistically tied with LC and FI.
We also report on additional runs with the simulated data which explore sensitivity to the grids, sample size,
and measurement error size in Appendix C.
6.2.2

Allowing for heterogeneity

Heterogeneity in productivity
We test the robustness of the baseline results with simulated data by allowing for productivity differences
across households (Table 11, row 5.1). In contrast, remember that in the baseline runs initial heterogeneity across
agents exists only in their assets, 4; debt/savings, ,, or promised utility, >. Specifically, to capture productivity
heterogeneity we draw ten values from a uniform distribution on [0.75,1.25] and compute the MH regime multiplying the income grid ! by each of these ten productivity â€˜factorsâ€™. We draw and pool simulated data from these
ten runs, ending up with (c,q,i,k) data that corresponds to a mixture of households with different productivities.
We then estimate all six regimes as if those differences in productivity did not exist (that is, as if we mistakenly
treat the data as generated without such differences, like we do in our runs with actual data in Section 5). The results show that allowing for this additional source of unobserved heterogeneity and thus, mis-specification, in the
model does not affect the robustness of the baseline findings. Significantly, we still recover MH as best-fitting and
it is still distinguished at the 1% level from all alternatives. Compared to the homogeneous productivity baseline
(Table 11, row 3.1) there is only one difference â€“ a tie between the counterfactual regimes FI and B. The parameter
estimates are also quite close to the baseline in Table 10; for the MH regime with productivity heterogeneity we
obtain  # =.103, =.5,  2.36, =.26, ) =.51 and  ) =.34.
Heterogeneity in risk aversion
We also test robustness to heterogeneity in preferences in the data by simulating data from the MH regime at
three different values for the risk aversion parameter,
their baseline values. The

    and  holding the rest of the parameters at

values are taken from the actual range of risk aversion values estimated in Chiappori et

al. (2013). Similarly to the robustness run with productivity differences above, a mixed sample of size 7 
is generated from the simulations. We then run our MLE routine with these data as if all sample units shared
the same risk aversion parameter. We find that our baseline results (compare Table 11, row 5.2 with row 3.1) are
not sensitive to allowing for this type of preference heterogeneity â€“ we recover the data-generating MH regime

30

as best-fitting and we are able to distinguish it from all alternatives at the 1% confidence level. The parameter
estimates for the MH regime (with the exception of ) are very close to their baseline values:  # =.098, =.70,
=9.9, =.21, ) =.49 and  ) = .35. Note that the

estimate is in the intermediate range used to generate the data.

Heterogeneity in interest rates
In Table 11, row 5.3 we test the robustness of our method to heterogeneity in interest rates in the data. As in
the previous two runs exploring heterogeneous samples, we first simulate the MH regime at four different values
for the financial intermediary interest rate parameter, " taken from another study using a different part of the
Thai data (Cunha, Townsend and Wang, 2012), namely "  1.038, 1.026, 1.016 and 1.009. These four values
correspond roughly to the interest rates faced by the quartiles of households ordered by increasing assets. The rest
of the model parameters are held at their baseline values. We create a heterogeneous sample of size 7 
applying the respective " value to the households in our sample falling within the corresponding asset quartiles.
We then run our MLE routine on the heterogeneous but pooled data using the same fixed interest rate set equal
to the average of the four values above â€“ i.e., assuming counterfactually that the data came from a homogeneous
sample. Once again, as in the runs with heterogeneity in productivity or risk aversion, we are able to recover
the data-generating MH regime as best-fitting and distinguish it from all alternatives at the 1% significance level.
The MH MLE parameter estimates (except that for ) are close to the data-generating values:  # =.11, =.47,
 2.97, =-2.64, ) =.499 and  ) =.24.

7
7.1

Inside the MLE â€˜Black Boxâ€™
Comparing actual and simulated data

In this section we use simulated data from the model at the MLE parameter estimates to assess the dimensions in
which the alternative models of financial and information constraints fail or succeed in matching the Thai data.
The purpose of this section is to give a better idea why the omnibus MLE approach picks one regime in favor of
another in terms of likelihood with the data, as well as to evaluate the fit of the highest-likelihood regime with
data outside of the sub-sample we use to estimate.
Thai vs. simulated data â€“ assetsâ€™ persistence
The different financial regimes impose endogenous constraints on the ability of agents to adjust assets or, in
other words, endogenize the degree of persistence of assets/capital 4. For example, the FI regime stipulates that
an agent, facing no financial constraints, could immediately adjust to the first-best capital level 4   , no matter
what his initial 4 is. Such adjustment is subject to incentive compatibility constraints in the MH regime, to selfenforcement constraints in the LC regime, and subject to even more stringent borrowing constraints (e.g., zero
borrowing under savings only and autarky) in the exogenously incomplete markets regimes. A salient feature of
the Thai rural data is that investment events are infrequent (Samphantharak and Townsend, 2010). Likewise, as
is evident from Table 3, capital is very persistent â€” the median yearly investment 2, computed from the data as
2(  4(   4( , is close to zero (20 Baht). This persistence in assets favors the S (and sometimes B) regimes

overall. It may also be the reason why in our robustness runs with quadratic adjustment costs the likelihood of the
FI regime improves with (c,q,i,k) data (see Table 9, row 3.3), though this is not the case with (k,i,q) data in row
3.2.

31

Figure 3 helps visualize these observations. We plot the fractions of all possible 4( to 4( transitions between
any pair of points in the assets grid  for the whole panel. Remember the grid points in  correspond to the 10th,
30th, 50th, 70th and 90th percentiles of assets in the data. We see that in the Thai Monthly (rural) data (the top
left panel) basically all transitions are on the main diagonal, i.e. no movement at all, or the diagonals immediately
next to it which indicates very high persistence in assets. In contrast, in the urban data (the top right panel) there
is still persistence (the main diagonal) but also many more households transitioning across capital levels each
year. The bottom two panels of Figure 3 plot the same transition fractions but for the simulated data at the MLE
estimates with the rural data for the S and MH regimes from our baseline runs. We see that the S regime manages
to come the closest to the rural data in terms of the diagonal pattern, although not perfectly. The moral hazard
(MH) model in contrast predicts too many off-diagonal transitions, unlike what we see in the rural data, but closer
to what the urban data looks like. We view this as supportive, independent evidence for our baseline results with
rural data (Table 5; where S wins) and urban data (Table 7; where MH wins with (c,q,i,k) data and comes much
closer in likelihood to S with (k,i,q) data compared to rural).
Thai vs. simulated data â€“ time paths
Figure 4 explores how well the highest-likelihood regime matches the paths of the mean and standard deviation
(in model units) of consumption, -, business assets, 4 and income, 8 over the entire panel 1999-2005, that is using
far more data than in any MLE estimation run. To match the data time span, we use the MLE estimates from
row 4.5 in Table 5 where we used the initial 1999 4 distribution and the 2004 (c,q,i,k) data. Figure 4 shows that
the best-fitting regime in this run (B) tracks extremely well the time paths of the means of all three variables, - 4
and 8 over the complete sample period. In terms of standard deviations, the model traces relatively well that for
consumption but understates the variance of output in the Thai data and, even more significantly, the variance of
assets after the initial period. The reason is the very skewed 4 and 8 distributions in the data, with few extremely
large observations that are lumped on the highest grid point of the  and ! grids. When we plot the standard
deviations excluding observations with average assets above the 90th percentile in the data (there are 54 such
observations, or 10% of the sample) â€“ see the right panels of Figure 4, the dashed lines â€“ the standard deviations
of 4 and 8 in the model come within 0.1 model units of those in the data.
Thai vs. simulated data â€“ alternative measure of fit
We use the MLE estimates with 1999 (c,q,i,k) data to simulate data from each model, as explained in Section
6.2. We then compute a set of 22 summary statistics or â€˜momentsâ€™ (mean, median, standard deviation, skewness
for each of the four variables - 4 2 8 plus the six bilateral correlations between them) for each of the regimes
and the same statistics (in model units) for the Thai data panel years used in the MLE estimation (here, 1999
data for - 8 and 4 and 1999 and 2000 4 data used to compute investment 2). Our MLE criterion is not fitting
these moments per se. Nevertheless, as a robustness check that the auxiliary assumptions of our MLE are not
explaining the results, we compute an ad hoc goodness-of-fit measure between actual and simulated data as

' '  '
 
where :# , 3   
denotes each of the computed moments in model 6 and
# 


'


:( is the corresponding value in the 1999 Thai data. The following Table 12 (in the text) reports the value of
the measure # for each of the six models (smaller values indicate better fit):
Table 12 â€“ Thai vs. simulated data â€“ mean-squared criterion

32

model, 6 
criterion value (rural data),

#

criterion value (urban data),



#



MH

FI

B

S

A

LC

321.1

395.4

38.5

20.8

28.1

520.1

36.8

32.0

36.4

35.3

35.4

38.0

We see that the S regime achieves the lowest # measure (best fit) while the LC regime has the highest
measure (worst fit). This is consistent with the baseline results with (c,q,i,k) data from Table 4 using the MLE
criterion. We also do the same robustness exercise with the urban data (Table 12, third row). In contrast to the
rural data, we found that a less constrained regime (full information, FI) attains the lowest criterion value (32)
followed by the other regimes all bunched in the 35-38 range.
Thai vs. simulated data â€“ financial net worth
Figure 5 compares the implications of the best-fitting regime with 1999 (c,q,i,k) data (the S regime, see row
3.1 in Table 5) for the time path of savings in the model and the data. Remember, in our baseline estimation runs
we assumed that initial savings are distributed normally with mean and variance that we estimate, but we did not
use actual savings data to maintain symmetry with the MH, FI, LC regimes. Figure 5 compares the median and
standard deviation of savings, as computed from the S model with a measure of â€˜financial net worthâ€™ from the
data (see Pawasutipaisit and Townsend, 2011).30 To plot the figure, and since the data is very skewed again, we
exclude â€˜outliersâ€™ with more than three model units of savings or one model unit of debt (remember, one model
unit equals the 90th percentile of business assets in the data). Figure 5 shows that the model is able to match the
out-of-sample financial net worth data relatively well.31
Thai vs. simulated data â€“ return on assets
Figure 6 plots realized gross â€˜return on assetsâ€™ (ROA), defined as income per unit of productive assets,

%
!

in the

Thai data, rural and urban, and compares it with the corresponding simulated values from the S and MH models
computed at the MLE estimates from 1999 (c,q,i,k) data (Table 4, section 3). We compute the gross ROA for each
year in the panel and plot the average for each household over all years against the householdâ€™s average business
assets holdings over that time period. We see that, for the rural data, the S model which we found best-fitting in
the MLE (Table 5, row 3.1) fits the general pattern (convex and downward-sloping) better than the MH model
which exhibits a lot of bunching in the relatively low 4, low ROA range. The urban data appear to share visual
features with both the MH and S panels â€“ bunching at low 4 and the hyperbola shape.

7.2

Euler equations GMM estimation

In this section we report results from two robustness estimation runs that use a GMM approach based on Euler
equations. These results supplement our MLE results by using a different method to assess the fit of the alternative
models of dynamic financial constraints with the Thai data.
30
We did not use these data to initialize the  distribution in the estimation routine for two reasons: (i) we want to keep the B and S
regimes on even ground with the MH, LC and FI regimes where the state variable distribution is unknown and (ii) these data only
became available recently, after the baseline MLE runs were completed.
31
We also plotted (not included in the paper to save space) the initial savings distribution in the S regime at the MLE parameters vs.
in the financial net worth data. Both the actual and estimated distributions have most of the mass around zero savings and a long left tail
towards large savings.

33

7.2.1

Consumption Euler equations

Following Ligon (1998) we test a moral hazard vs. a â€˜permanent incomeâ€™ (borrowing and lending in a riskfree asset) models based on their implications for the path of consumption over time. The permanent income
hypothesis (PIH) implies the Euler equation,
< -(  "( < -(
which we estimate using our consumption panel data, -(  2    ;   $ Suppose < is CRRA, with


 and <    (  where

coefficient   , that is, <- 
and ;   $  and 1  (  ,
the moment conditions,

 - . Let also "  . Denoting   ( 




for 2   

,   (minus the coefficient of relative risk aversion) we have

( 1  (  , 
On the other hand, as shown in Rogerson (1985) among others, the corresponding â€˜inverseâ€™ Euler equation for
the repeated moral hazard model is,
< -(



"

( 

< -(

With CRRA utility and "  , the above equation can be written as:
( 1  (  , 

(19)

where now ,   (the coefficient of relative risk aversion). As proposed by Ligon (1998), conditions (19) can
be used in a GMM (following his paper we actually use as moment restriction the unconditional expectation
1  (  ,

 ) to: (i) estimate the parameter , and (ii) use the sign of the estimate of , from step (i) to infer

which model (PIH vs. private information) holds in the data. Essentially, assuming households are risk-averse, a
positive estimate for , would indicate that the private information model is consistent with the data, while if the
, estimate is negative, the PIH model is consistent with the data. A version of (19), 1  (  ,   ( 

using

variables   ( that are in the information set of household 2 at time ; as instruments is also estimated (see Ligon,
1998 for details).
We ran the GMM estimation described above on our rural and urban samples. The GMM results are somewhat
sensitive to the choice of sample years or instruments. In the rural data, we obtain a negative estimate for , when
using all available consumption data (from 1999 to 2005), including in the specifications with different sets of
instruments such as pre-determined income and assets data (see Table 13, lines 1-5).32 This is consistent with
PIH-type models (non-contingent debt or savings), such as our B and S regimes, which are tied for best-fit in
several MLE runs with (c,q) data (see Table 5, lines 2.2, 4.1 and 4.2). However, we also ran the GMM using
only the consumption data from 1999 to 2001 (see Table 13, lines 6 and 7). The result (a positive , estimate) is
consistent with the private information model (compare with Table 5, row 4.3). The runs with instruments also
yield positive estimates (not reported in the table).
In the urban sample, the GMM test results also vary. The run without instruments produces ,=-0.23 which is
32

The run in line 5 uses separate moment conditions for each 

   .

34

evidence in favor of the PIH but when we use pre-determined income alone and income and assets as instruments,
we obtain ,=8.53 and ,=4.73 respectively which is suggestive of moral hazard. The run from Table 13, line 4 (with
three instruments) produced a singular matrix so we cannot report ,. The bottom line: it is hard to distinguish the
regimes, whether via the Euler equation GMM or our structural MLE methods, when restricting attention to the
consumption data (jointly with income and/or instruments).
7.2.2

Investment Euler equations

We follow Bond and Meghir (1994) and Bond et al. (2003) to test a model with quadratic adjustment costs and no
financial constraints vs. the alternative of financial constraints. Specifically, we estimate the following equation,
obtained from the modelâ€™s Euler equation, using GMM methods proposed by Arellano and Bond (1991),
 
 
2
2
 
4 (
4

(

 
2

4


(

8
4

(

.(





(

where 3 denotes household, ; is time, and 2 4 8 are respectively investment, capital and income (cash flow). Bond
et al. (2003) show that under the null of no financial constraint we must have        and   . The
focus in this literature (not without controversy, e.g. see Kaplan and Zingales, 2000) has been on the cash flow

coefficient  . A positive  estimate suggesting that investment, 2 is â€˜sensitiveâ€™ to fluctuations in cash flow, 8 has
been interpreted as indicating the presence of financial constraints.
Table 14 contains the results from the above estimation using the Stata function xtabond2 and the rural sample.
We obtain an estimate for  which is positive and statistically insignificant from zero instead of negative. Both
estimates of the coefficients   and  also do not satisfy the theoretical restrictions   

and    under

the null. This indicates that the data reject the null of no financial constraints. Compared to our MLE results with

(k,i,q) data allowing for adjustment costs (Table 9, line 3.2), where S and A with adjustment costs are tied for best
fit, we reach a similar conclusion which we view as further supporting evidence for the MLE findings in favor of
the exogenously incomplete financial regimes when using the investment, income and assets data. Unfortunately
the shorter panel length does not allow us to use this method on the urban sample.
7.2.3

Euler equations â€“ summary

In sum, both the GMM and MLE methods have their advantages and disadvantages. The advantage of the GMM
approach is its simplicity and, aside from the CRRA assumption in the Ligon (1998) case or sign restrictions on
the parameters in the Bond et al. (2003) case, not requiring additional structure.33 Advantages of our MLEVuong
test approach include: (i) being able to estimate more parameters that the coefficient of risk aversion.; (ii) being
able to distinguish among more financial regimes; and (iii) being able to use more data variables than those
appearing in the Euler equations (e.g., consumption alone in Ligon,1998). Naturally, these advantages need to be
weighed against the need for fully specified dynamic programs and much heavier computational requirements.
33

Some limitations to estimating parameters from consumption Euler equations are discussed in Carroll (2001).

35

7.3

Policy evaluation in the model â€“ an example

In this section we present a simple stylized example of how the structural estimation and model comparison results
can be potentially used as ingredients in â€˜policy experimentsâ€™ within the context of the model. Here we would like
to emphasize not so much the particular policy exercise we perform but instead the welfare implications of having
or not having uncovered the best-fitting model of financial constraints among the many possible alternatives.
Specifically, here is what we do. Suppose the model economy is at our baseline value for the risk-free gross
interest rate " (=1.05). Take the saving only (S), borrowing and lending (B), moral hazard (MH) and full information (FI) models at their corresponding MLE parameter estimates with the 1999 (c,q,i,k) data (Table 5). Holding
all other parameters fixed, we reduce the gross risk-free interest rate parameter " to 1.025, as if a â€˜subsidizationâ€™
of interest rates or simply a change in domestic or international rates. We then re-compute the four chosen models
at the new, lower ".
The top-row panels of Figure 7 plot the welfare gains or losses from the interest rate reduction, expressed
as fractions of first-period consumption, for each value of assets 4 and savings , in the S and B models at their
respective MLE estimates. For the B model we do not plot the welfare gains for positive values of , (being in
debt) to be able to compare directly with the S regime where being in debt is not possible.34 Looking at the figure,
savers (those with , 

in both the S and B models) naturally lose from the reduction in " with their loses

ranging from 0 to 40% in terms of ; 

consumption, depending on the current 4 and ,. The rightmost panel

shows the relative difference, however, a complicated, non-monotone picture of gains and losses from +15% to
-10%. For the MH and FI models, computed at their respective MLE estimates, (the bottom-row panels of Figure
7), we plot the corresponding welfare gains or losses in terms of business assets 4 holding fixed present-value
profit levels for the principal, & 4 > (see Section 2.2.2) at their level from before the policy change. Evaluating
at fixed profit level is needed since, unlike in the S and B models, if we were to evaluate welfare at fixed value
for the state variable > we would be unable to identify the welfare effect of the policy on households since by
construction the agentâ€™s discounted utility in the optimal contract must equal > either before or after the policy.
Higher values of initial profits & correspond to lower initial present value utility for agents. We see a complex
picture of winners and losers, especially in the moral hazard regime and in the difference between MH and FI.
The main take-away from Figure 7 is that evaluating who benefits and who loses from a given policy depends
critically on knowing which financial or information regime is likely true in the data. If we took one specific
regime as given (that is, if we assumed financial constraints take a particular form, as much of the literature) and
used MLE to estimate it and evaluate a policy counterfactual we would come with a certain policy recommendation. However, the assumed regime might have been incorrect â€“ another regime may fit the data better which, as
Figure 7 illustrates, could have very different predictions on who wins or loses and how much from the policy.

8

Conclusions

We formulate and solve numerically a wide range of models of dynamic financial constraints with exogenous or
endogenous contract structure that allow for moral hazard, limited commitment and unobservable output, capital
34

The gains for borrowers, especially those initially near the natural borrowing limit (the upper bound of the grid
possible initial debt) are very high â€“ up to 9 times first-period consumption.

36

, i.e., maximum

and investment. We develop methods based on mechanism design theory and linear programming and use them
to structurally estimate, compare and statistically test between the different financial regimes. Our methods can
handle unobserved heterogeneity, grid approximations, transitional dynamics, and reasonable measurement error.
The compared regimes differ significantly with respect to their implications for investment and consumption
smoothing in the cross-section and over time. Combined consumption and investment data were found particularly
useful in pinning down the financial regime.
We have established that our methods work on actual data from Thailand. We echo previous work which finds
that full risk sharing is rejected, but not by much, and indeed find that the moral hazard regime is not inconsistent
with the rural income and consumption data, where limited commitment also does well, and with the joint business
and consumption data in our urban sample. We also recover more sophisticated contract theoretic regimes (moral
hazard constrained credit, tied with full information) if we restrict attention to family or gift/loan networks data,
confirming related work by Chiappori et al. (2013) and Kinnan and Townsend (2012).
In terms of investment, we confirm previous work which finds that investment is not smooth and may be sensitive to cash flow and, indeed, find that more constrained regimes such as saving only and borrowing and lending
characterize best the investment and income data (both rural and urban), as well as the combined consumption,
income and investment data in the rural sample. The reasons for these findings are most likely the infrequent
nature of investment in the Thai data, especially in the rural sample and the relatively large size of investment
compared to capital when investment takes place. On the other hand, the financial regimes we study postulate
endogenous constraints on the ability of firms to adjust assets, including the degree of persistence. The feature
of the Thai data that capital is persistent thus favors the S (or B) regimes in which assets adjustment is subject
to more stringent constraints than in MH, LC or FI. Evidently we have learned something from our approach,
beginning to distinguish, in a sense, capital adjustment costs from financial constraints.
Our results here can be put in perspective relative to our previous findings in Paulson, Townsend and Karaivanov
(2006) where we estimated a one-period model of occupational choice between starting a business and subsistence
farming as a function of ex-ante wealth. We found moral hazard rather than limited liability to be the predominant
source of financial constraints for rural Thai entrepreneurs, but we did not test the borrowing and saving only
regimes we study here. In contrast, in the current paper we not only introduce full-blown dynamic mechanism
design models but also significantly extend our previous work and estimate using cross-sections, time-series, or
panels of consumption, investment, assets and income, separately and jointly. Karaivanov (2012) finds that, in a
one-shot occupational choice setting similar to that of Paulson et al., one cannot distinguish statistically between
a model of moral hazard vs. a model of borrowing with default but rejects a model of saving only. The good fit of
the moral hazard regime is similar to what we find here in our results using consumption and income data alone.
As discussed earlier, the saving only regime seems to fit better the production side of our data (e.g., the persistence
in assets over time or the inability to smooth investment when income fluctuates). These features, for which a
dynamic model is necessary, are not directly tested in the essentially static settings of Paulson et al. (2006) and
Karaivanov (2012) where the focus is instead on the one-off decision of becoming an entrepreneur. The reason
for the differences in the results, therefore, are both the different data on which we fit, which here using the joint
distribution of consumption and investment data variables together, is much richer than the binary occupational
choice data from our previous work, and the fact that here we estimate models of fully dynamic constraints on

37

consumption and investment smoothing versus a one-time constraint on business start-ups.
One important finding from the robustness runs with simulated data from one of the models is that using
consumption and investment data jointly we can readily distinguish exogenously incomplete financial regimes
from endogenously incomplete ones, where the latter are solutions to mechanism design problems with private
information or limited commitment. As the literature we surveyed in the introduction typically takes one route
or the other, we believe this ability to distinguish would prove helpful in future research and the applications of
others. We are also able to distinguish within these regime groups, though this depends on measurement error, the
available data variables, or whether or not we have more than a single cross-section of data.
Of course, we do not claim that we cover all possible models of financial constraints, only six common
prototypes. Natural extensions would include a model with unobserved productivity (adverse selection), allowing
for distinctions across different technologies (fish, shrimp, livestock, business, etc.) or allowing for aggregate
shocks (shrimp disease, rainfall, etc.). We would also like to return to the issue of entrepreneurial talent, as in our
earlier work (Paulson et al., 2006) and allow for heterogeneity in project returns. Related work (Pawasutipaisit
and Townsend, 2011) shows that ROA varies considerably across households and is persistent. On the other
hand, such data summaries have trouble finding consistent patterns with respect to finance, suggesting the data be
viewed through the lens of revised models.
We are still somewhat limited on the computational side, though we are encouraged with recent advances we
have made. In an on-going collaboration with computer scientists, we have been exploring the use of parallel
processing to speed up our codes and allow denser grids. What we have done thus far is, for want of better
terminology, brute force. There would be further gains from more streamlined codes and more efficient search,
e.g., where to refine the grids, when to use non-linear or mixed methods, the use of nested pseudo-likelihood
methods, and so on. On the econometrics side, recent developments by Kristensen and Salanie (2010) can be used
to improve accuracy in the maximum likelihood computation.
We have our eyes on other economies as well, in part because we see more entry and exit from business
in other countries, and in part because we can have larger sample size. Unfortunately, we do not typically find
both consumption and investment data, which is why we chose the Thai data to begin with. Work in progress
(Karaivanov, Ruano, Saurina and Townsend, 2012) with data from Spain shows evidence that the number of nonfinancial firmsâ€™ bank relationships matters for whether they exhibit excess cash flow sensitivity of investment. We
use the computational and estimation methods developed here to evaluate which of four financial regimes (autarky,
non-contingent debt, moral hazard and complete markets) best characterizes the nature of financial constraints
for unbanked, single-banked and multiple-banked firms. Our methods allow in principle for transitions across
financial regimes, which is another extension we plan.

References
[1] Abraham, A. and N. Pavoni (2008), â€œEfficient Allocations with Moral Hazard and Hidden Borrowing and
Lending: A Recursive Formulationâ€, Review of Economic Dynamics 11(4), pp. 781-03.
[2] Abel, A. and O. Blanchard (1983), â€œAn Intertemporal Model of Savings and Investmentâ€, Econometrica,
51(3), pp. 675-92.

38

[3] Abreu, D., D. Pearce and E. Stacchetti (1990), â€œToward a Theory of Discounted Repeated Games with
Imperfect Monitoringâ€, Econometrica 58(5), pp. 1041-63.
[4] Aguirregabiria, V. and P. Mira (2002), â€œSwapping the Nested Fixed Point Algorithm: A Class of Estimators
for Discrete Markov Decision Modelsâ€, Econometrica 70(4), pp. 1519-43.
[5] Ai, H. and F. Yang (2007), â€œPrivate Information, Limited Commitment and Risk Sharingâ€, working paper.
[6] Aiyagari, S.R. (1994), â€œUninsured Idiosyncratic Risk and Aggregate Savingâ€, Quarterly Journal of Economics, 109(3), pp. 659-84
[7] Albuquerque, R. and H. Hopenhayn (2004), â€œOptimal Lending Contracts and Firm Dynamics,â€ Review of
Economic Studies, 71(2), pp. 285-315.
[8] Alem, M. and R. Townsend (2013), â€œAn Evaluation of Financial Institutions: Impact on Consumption and
Investment Using Panel Data and the Theory of Risk-Bearingâ€, forthcoming in the Annals Issue of the
Journal of Econometrics in Honor of Bill Barnett.
[9] Angeletos, G. and L. Calvet (2006), â€œIdiosyncratic Production Risk, Growth, and the Business Cycleâ€,
Journal of Monetary Economics, 53(6), 1095-15.
[10] Arellano, M. and S. Bond (1991), â€œSome Tests of Specification for Panel Data: Monte Carlo Evidence and
an Application to Employment Equationsâ€, Review of Economic Studies, 58(2), pp. 277-97.
[11] Attanasio, O. and N. Pavoni (2011), â€œRisk Sharing in Private Information Models with Asset Accumulation:
Explaining the Excess Smoothness of Consumptionâ€, Econometrica, 79(4), pp. 1027-68.
[12] Berger, A. and G. Udell (2002), â€œSmall Business Credit Availability and Relationship Lending: The Importance of Bank Organisational Structureâ€, Economic Journal, 112, pp. F32-F53.
[13] Bitler, M., T. Moskowitz and A. Vissing-Jorgensen (2005), â€œTesting Agency Theory with Entrepreneur Effort
and Wealthâ€, Journal of Finance, 60(2), pp. 539-76.
[14] Bond, S. and C. Meghir (1994), â€œDynamic investment models and the firmsâ€™ financial policyâ€, Review of
Economic Studies, 61(2), pp. 197-222.
[15] Bond, S., J. Elston, J. Mairesse and B. Mulkay (2003), â€œFinancial Factors and Investment in Belgium, France,
Germany and the United Kingdom: A Comparison using Company Panel Dataâ€, Review of Economics and
Statistics, 85(1), pp. 153-65.
[16] Broer, T. (2011), â€œThe wrong shape of insurance? Stationary equilibrium distributions with limited enforcement of contractsâ€, working paper.
[17] Buera, F. and Y. Shin (2013), â€œFinancial Frictions and the Persistence of History: A Quantitative Explorationâ€, Journal of Political Economy, 121(2), pp. 221-72.
[18] Cagetti, M. and M. De Nardi (2006), â€œEntrepreneurship, Frictions, and Wealthâ€, Journal of Political Economy, 114(5), pp. 835-70.
[19] Carroll, C. (2001), â€œDeath to the Log-linearized Consumption Euler Equation!â€, Advances in Macroeconomics, vol. 1(1), article 6.
[20] Chiappori, P., S. Schulhofer-Wohl, K. Samphantharak, and R. Townsend (2013), â€œHeterogeneity and Risk
Sharing in Village Economiesâ€, Quantitative Economics, forthcoming.
39

[21] Clementi, G. and H. Hopenhayn (2006), â€œA Theory of Financing Constraints and Firm Dynamicsâ€, Quarterly
Journal of Economics, 121(1), pp. 229-65.
[22] Cooley, T. and V. Quadrini (2001), â€œFinancial Markets and Firm Dynamicsâ€, American Economic Review,
91(5), pp. 1286-1310.
[23] Covas, F. (2006), â€œUninsured idiosyncratic production risk with borrowing constraintsâ€, Journal of Economic Dynamics and Control, 30(11), pp. 2167-90.
[24] Cunha, F., R. Townsend and F. Wang (2012), â€œInvestments in the Human Capital of Children in Village
Economiesâ€, working paper.
[25] Deaton, A. and G. Laroque (1996), â€œCompetitive Storage and Commodity Price Dynamicsâ€, Journal of
Political Economy, 104(5), pp. 896-923.
[26] Doepke, M. and R. Townsend (2006), â€œDynamic Mechanism Design with Hidden Income and Hidden Actionsâ€, Journal of Economic Theory, 126(1), pp. 235-85.
[27] Dubois, P., B. Julien and T. Magnac (2008), â€œFormal and Informal Risk Sharing in LDCs: Theory and
Empirical Evidenceâ€, Econometrica, 76(4), pp. 679-25.
[28] Ericson, R. and A. Pakes, (1995), â€œMarkov-Perfect Industry Dynamics: A Framework for Empirical Workâ€,
Review of Economic Studies, 62(1), pp. 53-82.
[29] Farhi, E. and I. Werning (2012), â€œCapital Taxation: Quantitative Explorations of the Inverse Euler Equationâ€,
Journal of Political Economy 120(3), p.398-445.
[30] Fazzari, S., R. Hubbard and B. Petersen (1988), â€œFinancing Constraints and Corporate Investmentâ€, Brooking
Papers on Economic Activity 1, p.141-206.
[31] Fernandes, A. and C. Phelan (2000), â€œA Recursive Formulation for Repeated Agency with History Dependenceâ€, Journal of Economic Theory 91, p.223-47.
[32] Geanakoplos, J. and H. Polemarchakis (1986), â€œExistence, Regularity, and Constrained Suboptimality of
Competitive Allocations When Markets are Incompleteâ€, in: W.P. Heller, R.M. Ross, D.A. Starrett (eds.):
Uncertainty Information and Communication. Essays in Honor of Kenneth Arrow Vol. 3, Cambridge.
[33] Golosov, M., A. Tsyvinski and I. Werning (2006), â€œNew Dynamic Public Finance: A Userâ€™s Guideâ€, NBER
Macro Annual.
[34] Golosov, M. and A. Tsyvinski (2006), â€œDesigning Optimal Disability Insurance: A Case for Asset Testingâ€,
Journal of Political Economy 114(2), p.257-79.
[35] Heaton, J. and D. Lucas, (2000), â€œPortfolio Choice and Asset Prices: The Importance of Entrepreneurial
Riskâ€, Journal of Finance 55(3), p.1163-98.
[36] Hopenhayn, H. (1992), â€œEntry, Exit, and Firm Dynamics in Long Run Equilibriumâ€, Econometrica, 60(2),
p.1127-50.
[37] Jewitt, I. (1988), â€œJustifying the First-Order Approach to Principal-Agent Problemsâ€, Econometrica 56(5),
p.1177-90.
[38] Judd, K. (1998), Numerical Methods in Economics, MIT Press, Cambridge, MA.

40

[39] Kaplan and Zingales (2000), â€œInvestment and Cash Flow Sensitivities are not Valid Measures of Financing
Constraintsâ€, Quarterly Journal of Economics 115(2), p.707-12.
[40] Karaivanov, A. (2012), â€œFinancial Constraints and Occupational Choice in Thai Villagesâ€, Journal of Development Economics, 97, p.201-20.
[41] Karaivanov, A., S. Ruano, J. Saurina and R. Townsend (2012), â€œNo Bank, One Bank, Several Banks: Does
it Matter for Investment?â€, Bank of Spain Working Paper #1003.
[42] Kasahara, H. and K. Shimotsu (2011), â€œSequential Estimation of Dynamic Programming Models with Unobserved Heterogeneityâ€, working paper.
[43] Kinnan, C. (2011), â€œDistinguishing Barriers to Insurance in Thai Villagesâ€, working paper, Northwestern.
[44] Kinnan, C. and R. Townsend (2012), â€œKinship and Financial Networks, Formal Financial Access and Risk
Reductionâ€, American Economic Review 102(3), p.289-93.
[45] Kocherlakota, N. (2004), â€œFiguring Out the Impact of Hidden Savings on Optimal Unemployment Insuranceâ€, Review of Economic Dynamics 7(3), p.541-54.
[46] Kocherlakota, N. and L. Pistaferri (2009), â€œAsset Pricing Implications of Pareto Optimality with Private
Informationâ€, Journal of Political Economy, 117(3), p.555-90.
[47] Kristensen, D. and B. Salanie (2010), â€œHigher Order Improvements for Approximate Estimatorsâ€, Centre
for Applied Microeconometrics Working Paper #2010-04.
[48] Krueger, D. and F. Perri (2011), â€œHow Do Households Respond to Income Shocks?â€, working paper.
[49] Ligon, E. (1998), â€œRisk Sharing and Information in Village Economiesâ€, Review of Economic Studies 66(4),
p.847-64.
[50] Ligon, E., J. Thomas and T. Worrall (2000), â€œMutual insurance, individual savings, and limited commitmentâ€, Review of Economic Dynamics 3(2), p.216-46.
[51] Ligon, E., J. Thomas and T. Worrall (2002) â€œInformal Insurance Arrangements with Limited Commitment:
Theory and Evidence from Village Economiesâ€, Review of Economic Studies, 69(1), p.209-44.
[52] Meh, C. and V. Quadrini (2006), â€œEndogenous Incomplete Markets With Investment Risksâ€, Journal of
Economic Dynamics and Control, 30(11), p.2143-65.
[53] Myers, S. and N. Majuf (1984), â€œCorporate financing and investment decisions when firms have information
that investors do not haveâ€, Journal of Financial Economics 13(2), p.41-56.
[54] Paulson, A., R. Townsend and A. Karaivanov (2006), â€œDistinguishing Limited Liability from Moral Hazard
in a Model of Entrepreneurshipâ€, Journal of Political Economy 114(1), p.100-144.
[55] Pawasutipaisit, A. and R. Townsend (2011), â€œWealth Accumulation and Factors Accounting for Successâ€,
Journal of Econometrics, 161(1), pp. 56-81
[56] Phelan, C. (1994), â€œIncentives, Insurance and the Variability of Consumption and Leisureâ€, Journal of Economic Dynamics and Control 18, p.581-99.
[57] Phelan, C. and R. Townsend (1991), â€œComputing Multi-Period, Information-Constrained Equilibriaâ€, Review
of Economic Studies 58, p.853-81.
41

[58] Prescott, E.C. and R. Townsend (1984), â€œPareto Optima and Competitive Equilibria with Adverse Selection
and Moral Hazard,â€ Econometrica 52, p. 21â€“45.
[59] Prescott, E. S. (2003), â€œCommunication in Models with Private Information: Theory and Computationâ€,
Geneva Papers on Risk and Insurance Theory 28(2), p.105-30.
[60] Rogerson, W. (1985), â€œThe First Order Approach to Principal-Agent Problemsâ€, Econometrica 53, p.135768.
[61] Rossi-Hansberg, E. and M. Wright (2007), â€œEstablishment Size Dynamics in the Aggregate Economyâ€,
American Economic Review, 97(5), p.1639-66.
[62] Samphantharak, K. and R. Townsend (2010), Households as Corporate Firms: An Analysis of Household
Finance Using Integrated Household Surveys and Corporate Financial Accounting, Cambridge University
Press.
[63] Schmid, L. (2008), â€œA Quantitative Dynamic Agency Model of Financing Constraintsâ€, working paper, Duke
University.
[64] Spear, S. and S. Srivastava (1987), â€œOn Repeated Moral Hazard with Discountingâ€, Review of Economic
Studies 53, p.599-617.
[65] Thomas, J. and T. Worrall (1994), â€œForeign Direct Investment and the Risk of Expropriationâ€, Review of
Economic Studies 61(1), p.81-108.
[66] Townsend, R. (1982), â€œOptimal Multi-period Contracts and the Gain from Enduring Relationships Under
Private Informationâ€, Journal of Political Economy 61, p.166-86.
[67] Townsend, R., A. Paulson and T. Lee (1997), Townsend Thai Project Surveys, http://cier.uchicago.edu
[68] Vuong, Q. (1989), â€œLikelihood Ratio Tests for Model Selection and Non-nested Hypothesesâ€, Econometrica
57(2), p.307-33.
[69] Zame, W. (1993), â€œEfficiency and the Role of Default when Security Markets are Incompleteâ€, American
Economic Review 83, p.1142-64.
[70] Zeldes, S. (1989), â€œOptimal Consumption with Stochastic Income: Deviations from Certainty Equivalenceâ€,
Quarterly Journal of Economics 104(2), p.275-98.

9
9.1

Appendices
Appendix A â€“ Computing joint distributions of model variables

Our linear programming solution method allows us to easily map to likelihoods and take to data the implications of
the different model regimes through the policy functions, the probabilities   that solve the dynamic programs
in section 2. We first construct the state transition matrix for each regime. Denote by : # the current state â€“ 4
in autarky, 4 , in S/B, or 4 > in the MH/FI/LC regimes. The transition probability of going from any current
state : to any next-period state : is computed from the optimal policy   , integrating out all non-state variables.
For example, for the MH regime we have:
Prob4   > 4 > 


%*

42

- 8 A 4   > 4 >

where we have replaced the transfer by consumption - (the problem is mathematically equivalent). Putting
these transition probabilities together for all : # yields the state transition matrix  of dimension #  #,
(for example, for MH #    ' ), with elements 6  2 3    # corresponding to the transition
probabilities of going from state : to state : in #.
The matrix  completely characterizes the dynamics of the model. For example, we can use  to compute
the cross-sectional distribution over states at any time ;, ( :  1(   1
, starting from an arbitrary given
(
initial state distribution,  : as:
( :   (  :
(20)
In our empirical application we take  : from the data. In practice some elements of the state : may be
unobservable to the researcher, e.g. here, the state variable > in the MH, LC and FI regimes. We assume that the
unobserved state is drawn from some known distribution, the parameters of which we estimate.
We use the state probability distribution (20) in conjunction with the policy functions   to compute crosssectional probability distributions ( ? for any vector of model variables ? (which could include 4 4   A  8 -
etc.), at any time period. For example, in the MH regime, the time-; joint cross-sectional distribution of consumption over the grid  with elements -"  5     and income 8 over the grid ! with elements 8  1    !
is:



( -"  8  Prob( -  -"  8  8  
1(
( -  -"  8  8  A 4  > :
 

* ! )

We also use the time-; distribution over states ( : and the transition matrix  to compute the transition probabilities, ( ? ? for any model variable ?, at any time period, ;. The transition and the cross-sectional probabilities are then easily combined to construct joint probability distributions encompassing several periods at a time as
in a panel.

9.2

Appendix B â€“ Simulating data from the model

To simulate data from the moral hazard (MH) regime we fixed the parameter values as follows: risk aversion,
  effort curvature,   and the production function parameter  (corresponding to Cobb-Douglas
form). These parameters are representative, chosen from a large set of runs we did and generate well-behaved
interior solutions for the baseline grids chosen (we use a five-point 4 grid on    five-point 8 grid on the interval
[.05,1.75]). The rest of the parameters are the same as discussed in Section 5.2.
We simulate data from the MH model at the baseline parameters, ' and grids described above. We take an
initial distribution over the states 4 > which has an equal number of data points for each grid point in the capital
grid  and is normally distributed in > i.e., >   )   ) for each 4 . In the Thai data applications we
use the actual initial discretized distribution of assets in the data for the marginal distribution over 4.35 We set the
mean ) to be equal to the average value in the promise grid, )  )  , at the baseline parameters; the standart
deviation is set to 0.35 of the > grid span. We next compute the data-generating regime (MH) at the baseline
parameters, ' given the drawn initial distribution over states 4 > as described above and use the LP solution
 to generate, via a Monte Carlo procedure (with fixed random numbers across regimes) draw â€˜dataâ€™ on - 8 4
and 2 to use in the estimation.
Consistent with the runs with actual data, the simulatuon allows for additive normally distributed measurement error in all variables. We perform all estimation runs and tests in this section for two measurement error
specifications: â€˜low measurement errorâ€™, where we set the parameter  # governing the size of measurement error
relative to a variableâ€™s range equal to  , and â€˜high measurement errorâ€™, with  #   of the grid range.
35

We also perform a robustness run with a mixture of two normals distribution for  or â€“ see Table 9, row 5.12. Our methods allow
any other possible distributional forms at the cost of additional parameters to be estimated and slower computation.

43

9.3

Appendix C â€“ Additional runs with simulated data

Table 11, section 6 contains results from several additional robustness runs using simulated (c,q,i,k) data from
the MH regime with the low measurement error specification, unless stated otherwise. Rows 6.1 and 6.2 study
the effect of varying the sample size, 7. We find that reducing 7 from 1,000 to 200 produces more ties between
counterfactual regimes (compare row 6.1 with row 3.1) but the data-generating MH regime is still distinguished
at 1% confidence level. Increasing the sample size of simulated data to 5,000 achieves virtually the same results
to the n=1,000 baseline (compare rows 6.2 and 3.1). Row 6.3 of Table 11 checks the sensitivity of the results to
grid dimensionality. Reducing the size of all grids to three points does not affect the Vuong statistics and baseline
results in any significant way which is reassuring. In row 6.4 we instead used denser grids for  and ' (10
points) to generate the simulated data but then estimated with the baseline five-point grids obtained from data
percentiles as explained previously. Our results are again not sensitive to the grid sizes.
In yet another run (row 6.5) we generate the simulated data without adding measurement error but we then
allow for measurement error in the MLE routine when estimating afterwards as per our usual MLE routine. The
Vuong test statistics show that, as in row 3.1, the data-generating MH model is distinguished at the 1% confidence
level from the rest. In the next run (row 6.6) we use the MLE estimates from the rural (c,q,i,k) data from Table
4 as data-generating parameters instead of the baseline parameters from Table 10 used in the above runs. The
data-generating regime MH is recovered as best-fitting, tied with LC. The last run (row 6.7) uses simulated data
from the S regime at the 1999 (c,q,i,k) MLE parameters from which we remove household and period fixed effects
as discussed in Section 6.1 and Table 9, section 4. We recover S as best fitting (we also did a run without removing
the fixed effects with the same result).

44

deviations from year average 99âˆ’05, â€™000 baht

year (1 = 2005)

0

0

2

4

2

urban data, consumption

400
300
200
100

5000

5000

4

10000

10000

400
300
200
100
household #

15000

15000

2

urban data, income

year (1 = 1999)

0
âˆ’1000

0

âˆ’1000

2

1000

1000

500
400
300
200
100

2000

2000

6

3000

500
400
300
200
100
household #

4000

3000

rural data, consumption

4

6

400
300
200
100

0

5000

10000

15000

2

4

1

2

3

urban data, investment

500
400
300
200
100

âˆ’1000

0

1000

2000

3000

4000

rural data, investment

W?UL4ic L?t4T|L? @?_ W?it|4i?| L4Li4i?|

4000

4

rural data, income

6}hi ÂG A@ #@|@

4

6

?UL4i ? |i Â€ht| t@4T*i )i@h

L|iG ,@U T@?i* _tT*@)t _gihi?Uit uhL4 )i@h @ih@}it Lu ?UL4ic UL?t4T|L?c Lh ?it|4i?| uLh i@U LtiL*_ @?_ )i@h ? |i A@ hh@* Lh hM@? _@|@ OLtiL*_t @hi Lh_ihi_ M) ?Uhi@t?}

deviations from year average 05âˆ’09, â€™000 baht

W?UL4ic L?t4T|L? @?_ tti|t @?}it

Changes in income and consumption âˆ’ rural data
400
annual income and assets, dk changes (â€™000 baht)

300
corr(dy,dc)=0.11

200
100
0
âˆ’100
âˆ’200
âˆ’300
âˆ’400
âˆ’400

Changes in income and assets âˆ’ rural data

400

âˆ’200
0
200
annual income changes, dy (â€™000 baht)

Changes in income and consumption âˆ’ urban data
2000

1500
corr(dy,dc)=0.08

1000
500
0
âˆ’500
âˆ’1000
âˆ’1500
âˆ’2000
âˆ’2000

âˆ’1000
0
1000
annual income changes, dy (â€™000 baht)
income change

2000

300
corr(dy,dk)=0.08

200
100
0
âˆ’100
âˆ’200
âˆ’300
âˆ’400
âˆ’400

400

âˆ’200
0
200
annual income changes, dy (â€™000 baht)

400

Changes in income and assets âˆ’ urban data

2000
annual income and assets, dk changes (â€™000 baht)

annual income and consumption changes, dc (â€™000 baht)

annual income and consumption changes, dc (â€™000 baht)

6}hi 2G A@ #@|@

1500
corr(dy,dk)=0.11

1000
500
0
âˆ’500
âˆ’1000
âˆ’1500
âˆ’2000
âˆ’2000

âˆ’1000
0
1000
annual income changes, dy (â€™000 baht)

consumption or assets change

L|iG ,@U T@?i* T*L|t |i hi*@|L?tTt Mi|ii? UL?t4T|L? *ii* U@?}it Lh Mt?itt @tti| *ii* U@?}it i@U hi*@|i |L ?UL4i *ii* U@?}it `i
tLh| |i _@|@ t?} ^@?|*it ?|L |i?|) M?t _iÂ€?i_ M) |i @ih@}i ?UL4i U@?}i Lih |i t@4T*i )i@ht ,@U 4@h!ih ULhhitTL?_t |L |i @ih@}i
UL?t4T|L? U@?}i Lh @tti|t U@?}i ? i@U ?UL4i U@?}i M?

2000

6}hi G A@ t 54*@|i_ #@|@( t?itt tti|t Ah@?t|L? @|h

fraction of all observations

Rural data

Urban data

0.2

0.2

0.15

0.15

0.1

0.1

0.05

0.05

0

0
1

1
2

2
3
4
5

kt

1

2

3

4

5

3
4
5

kt+1

Saving only (S)

1

2

4

3

5

Moral hazard (MH)

0.2

0.2

0.15

0.15

0.1

0.1

0.05

0.05

0

0
1

1
2

2
3
4
5

1

2

3

4

5

3
4
5

1

2

4

3

L|itG Ai @ t *@Mi*t ULhhitTL?_ |L Mt?itt @tti|t E! TihUi?|*it @| UL?tiU|i TihL_t | @?_ |nÂc TLL*i_ Lih @** t@4T*i )i@htc RÂ ULhhitTL?_t |L
|i Âf| TihUi?|*ic R2 |L |i

3

f|c R  |L |i Df|c Re |L |i .f|c @?_ RD ULhhitTL?_t |L |i bf| TihUi?|*i ?*) @*it *@h}ih |@? eEÂf
T*L||i_ ? UL*Lh

 @hi

5

6}hi eG A@ t 54*@|i_ #@|@

stdev consumption, c

0.8
0.6
0.4
0.2
0
99

mean capital, k

1

00

01

02
03
time period

04

data

0.2

2

2

1

0
99

00

01

02
03
time period

04

05

00

01

02
03
time period

04

05

00

01

02
03
time period

04

05

1.5
1
0.5

00

01

02
03
time period

04

0
99

05

2

1.5

1.5

stdev income, q

2

1
0.5
0
99

model

0.4

2.5

1.5

model, outliers removed

0.6

2.5

0.5

mean income, q

data, outliers removed

0.8

0
99

05

stdev capital, k

mean consumption, c

1

A4i @|t

00

01

02
03
time period

04

05

1
0.5
0
99

L|iG Ai *?it T*L| UhLtttiU|L?@* @ih@}it Lh t|@?_@h_ _i@|L?t Lu UL?t4T|L?c U@T|@* @?_ ?UL4i uLh i@U |4i TihL_ Ai R_@|@ *?it ti |i
A@ hh@* t@4T*i Ai R4L_i* *?it ti t4*@|i_ _@|@ uhL4 |i  hi}4i @| |i w, it|4@|it uhL4 h? eD ? A@M*i D Ai *?it *@Mi*i_ L|*iht
hi4Li_< i U*_i LMtih@|L?t *@h}ih |@? |i bf| TihUi?|*i Lu |i T*L||i_ _@|@

6}hi DG A@ t 54*@|i_ #@|@

2

5@?}t

2

1

stdev savings, b

median savings, b

data
model

0

âˆ’1

âˆ’2
99

1

0

âˆ’1

00

01

02
03
time period

04

05

âˆ’2
99

L|iG Ai R4L_i* *?i t _@|@ t4*@|i_ uhL4 |i 5 hi}4i @| |i w, it|4@|it uhL4 *?i

00

01

02
03
time period

04

05

Â ? A@M*i D Ai R_@|@ *?i T*L|t @ 4i@thi Lu

LtiL*_t< Â€?@?U@* ?i| Lh|< @t UL4T|i_ ? @@t|T@t| @?_ AL?ti?_ E2fÂÂ , U*_i_ @hi L|*iht< | 4Lhi |@? |hii 4L_i* ?|t Lu
t@?}t Lh 4Lhi |@? L?i 4L_i* ?| Lu _iM| EÂ 4L_i* ?|< ' |i bf| TihUi?|*i Lu Mt?itt @tti|t ? |i A@ _@|@

6}hi SG A@ t 54*@|i_ #@|@

+i|h? L? tti|t

Urban data, 2005âˆ’2009
average gross ROA (q/k) over t=1,..5

average gross ROA (q/k) over t=1,..7

Rural data, 1999âˆ’2005
15

10

5

0
0

0.5

15

10

5

0

1

0

average assets over t=1,..7

10

5

0
0.5

15

10

5

0

1

0

average assets over t=1,..7

10

5

0
average assets over t=1,..7

1

Moral hazard (at urban MLE estimates)
average gross ROA (q/k) over t=1,..5

average gross ROA (q/k) over t=1,..7

Moral hazard (at rural MLE estimates)

0.5

0.5
average assets over t=1,..5

15

0

1

Saving only (at urban MLE estimates)
average gross ROA (q/k) over t=1,..5

average gross ROA (q/k) over t=1,..7

Saving only (at rural MLE estimates)
15

0

0.5
average assets over t=1,..5

1

15

10

5

0
0

0.5

1

average assets over t=1,..5

Qrwh= Hdfk flufoh uhsuhvhqwv d krxvhkrog1 Wkh uxudo POH hvwlpdwhv duh iurp wkh uxq zlwk +f/t/l/n, gdwd lq
Wdeoh 7 dqg Wdeoh 8/ olqh 6141 Wkh xuedq POH hvwlpdwhv duh iurp wkh uxq lq Wdeoh :/ olqh 4141

present value of lifetime welfare gains,
fraction of t=1 consumption

present value of lifetime welfare gains,
fraction of t=1 consumption

0.5

0.5

âˆ’2

0
âˆ’5

0
present value profits

5

savings, b

0

0
âˆ’2

âˆ’1

0

0.5
assets, k

âˆ’0.5
1

âˆ’0.4

âˆ’0.3

âˆ’0.2

âˆ’0.1

0

0.1

0

âˆ’5

0

5

0.5
assets, k

âˆ’0.2
1

âˆ’0.1

0

0.1

0.2

0.3

âˆ’2

savings, b

âˆ’1

0

âˆ’5

0

0

present value profits

5

Difference = (MH gains âˆ’ FI gains)

0

Â ? A@M*i D | Âbbb EUc^cc! _@|@

present value profits

FI model at MLE estimates

savings, b

0.5

Difference = (S gains âˆ’ B gains)

assets, k

âˆ’0.2
1

âˆ’0.5
1

assets, k

âˆ’0.1

0

âˆ’0.4

âˆ’0.3

âˆ’0.2

0.1

0.2

0
âˆ’0.1

0.3

0.1

0.5

B model at MLE estimates

+i_U|L? ? |i BhLtt W?|ihit| +@|i + uhL4 ÂfD |L Âf2D

L|iG #@|@ t4*@|i_ uhL4 |i 5c c O @?_ 6W 4L_i*t @hi @| |i w, it|4@|it uhL4 h?

assets, k

âˆ’0.5
1

âˆ’0.4

âˆ’0.3

âˆ’0.2

âˆ’0.1

0

0.1

0

âˆ’1

MH model at MLE estimates

assets, k

âˆ’0.5
1

âˆ’0.4

âˆ’0.3

âˆ’0.2

âˆ’0.1

0

0.1

S model at MLE estimates

6}hi .G L*U) , Tih4i?|

present value of lifetime welfare gains,
fraction of t=1 consumption
present value of lifetime welfare gains,
fraction of t=1 consumption

linear programs solved
per iteration
5
25
25
25
25

variables
per linear program
75
375
11,625
11,625
11,625

constraints
per linear program
16
16
17
23
32

income/cash flow, Q
business assets, K
effort, Z
savings/debt, B
transfers/consumption, C
promised utility, W

Variable

Grid bounds and spacing

5
[.04,1.75], from data percentiles
5
[0, 1], from data percentiles
3
[.01, 1], uniform
5 (6 for B regime) S: uniform on [-2, 0], B: uniform on [-2, .82] including 0
31 MH/FI/LC: uniform on [.001, 0.9]; B/S/A - endogenous
5
regime-dependent bounds, uniformly-spaced values

Grid size (# points)

Table 2 - Baseline Variable Grids Used in the Estimation

Note: The numbers in this table are based on the following grid sizes used in the estimation: #Q=5, #K=5, #Z=3, #B=5, #T=#C=31; #W=5

Model:
Autarky (A)
Saving / Borrowing (S, B)
Full information (FI)
Moral hazard (MH)
Limited commitment (LC)

Number of:

Table 1 - Problem Dimensionality

Table 3 - Thai data Summary Statistics
Rural data, 1999-2005

Urban data, 2005-2009

Consumption expenditure, c
mean
standard deviation
median

64.172
53.284
47.868

148.330
131.710
115.171

Income, q
mean
standard deviation
median

128.705
240.630
65.016

635.166
1170.400
361.000

Business assets, k
mean
standard deviation
median

80.298
312.008
13.688

228.583
505.352
57.000

Investment, i
mean
standard deviation
median

6.249
57.622
0.020

17.980
496.034
1.713

Notes: 1. Sample size in the rural data is 531 households observed over seven consecutive years (1999-2005); 2. Sample size in
the urban data is 475 households observed over five consecutive years (2005-2009); 3. All summary statistics in the Table are
computed from the pooled data. Units are '000s Thai baht.

Table 4 - Parameter Estimates using 1999-00 Thai Rural Data
Business assets, investment and income, (k,i,q) data
Model
Moral hazard - MH
Full information - FI
Limited commitment - LC
Borrowing and lending - B
Saving only - S *
Autarky - A

È–me
0.1632
(0.0125)
0.1625
(0.0132)
0.1606
(0.0115)
0.0950
(0.0059)
0.0894
(0.0068)
0.1203
(0.0046)

Ä±
0.0465
(0.0000)
0.0323
(0.0060)
0.4390
(0.0001)
4.2990
(0.0880)
5.7202
(0.0000)
3.1809
(0.6454)

È™
1.3202
(0.0000)
1.1928
(0.0770)
1.2039
(0.0053)
0.1091
(0.0000)
9.2400
(0.0000)
9.2000
(0.0000)

Èw/b1
0.4761
(0.0139)
0.4749
(0.0351)
0.7010
(0.0456)
0.8883
(0.0269)
0.9569
(0.0087)
n.a.
n.a.

LL Value2
È–w/b
0.0574
-3.1081
(0.0005)
0.0591
-3.1100
(0.0138)
0.0609
-3.0994
(0.0432)
0.0065
-2.5992
(0.0153)
0.0101
-2.5266
(0.0075)
n.a.
-2.7475
n.a.

Consumption and income, (c,q) data
Model
Moral hazard - MH *
Full information - FI *
Limited commitment - LC *
Borrowing and lending - B
Saving only - S
Autarky - A

È–me
0.1240
(0.0086)
0.1242
(0.0082)
0.1337
(0.0109)
0.1346
(0.0130)
0.1354
(0.0074)
0.1769
(0.0087)

Ä±
1.0260
(0.0046)
0.9345
(0.0002)
1.0358
(0.0076)
4.3322
(0.0197)
2.9590
(0.0343)
1.2000
(0.0000)

È™
1.6057
(0.0584)
1.9407
(0.0000)
7.7343
(0.5142)
1.8706
(0.0000)
0.0947
(0.8556)
1.2000
(4.2164)

Èw/b
0.7933
(0.0053)
0.7938
(0.0055)
0.0188
(0.0070)
0.8397
(0.0045)
0.9944
(0.0133)
n.a.
n.a.

È–w/b
LL Value
0.0480
-0.8869
(0.0007)
0.0464
-0.9008
(0.0000)
0.0672
-0.9116
(0.0000)
0.0311
-1.0558
(0.0004)
0.0516
-1.0033
(0.0180)
n.a.
-1.1797
n.a.

Business assets, consumption, investment, and income, (c,q,i,k) data
Model
Moral hazard - MH
Full information - FI
Limited commitment - LC
Borrowing and lending - B
Saving only - S *
Autarky - A

È–me
0.1581
(0.0073)
0.1434
(0.0083)
0.1626
(0.0075)
0.1397
(0.0071)
0.1245
(0.0077)
0.1394
(0.0050)

Ä±
0.0342
(0.0000)
0.1435
(0.0018)
0.8035
(0.0102)
1.0831
(0.1102)
5.6697
(0.0225)
1.6922
(0.3157)

È™
0.9366
(0.0000)
1.0509
(0.0009)
1.0179
(0.0147)
8.1879
(0.2536)
0.1114
(0.0744)
9.2000
(0.0000)

Èw/b
0.3599
(0.0013)
0.5608
(0.0112)
0.0142
(0.0074)
0.9571
(0.0359)
0.9839
(0.0248)
n.a.
n.a.

È–w/b
LL Value
0.0156
-2.8182
(0.0010)
0.1244
-2.8119
(0.0105)
0.0630
-2.8178
(0.0003)
0.0398
-2.5582
(0.0267)
0.0823
-2.3825
(0.0432)
n.a.
-2.6296
n.a.

Notes: 1. Èw/b and È–w/b (the mean and standard deviation of the w or b initial distribution) are reported relative to the variables' grid
range. 2. Log-likelihood values are normalized by dividing by the sample size n; higher values imply better fit. 3. Bootstrap standard
errors are in parentheses below each parameter estimate.; * denotes the best fitting regime (including ties)

tie
S***
S***
S***
S***
S***
S*

B***
B***
LC*
B***
B***
B***
B***
B***
B***

A***
A***

A**
A**
tie
tie
FI***
FI***
FI*
FI***
FI**

FI v S

S***
S***
FI**
S***
S***
S***
S***
S***
FI***
FI***
tie
tie
S*

FI v B

B***
B***

LC***
tie

MH v A

A***
A***

MH v S

S***
S***

MH*** MH*** MH*** tie
FI***
tie
tie
tie LC*** tie
B***
B***

FI v LC

tie
tie

LC***
MH***
MH***
MH***
MH***
MH***
LC*

B*** S*** MH** LC*** B***
tie
tie MH*** FI*** B***
MH*** MH*** MH*** FI*** FI***
MH*** MH*** MH*** FI*** FI***
B***
tie
tie
FI*** B***
tie
tie MH*** FI***
tie
B***
S** MH** FI*** B***

Table 6 - Model Comparisons1 using Thai Rural Data - Networks

MH***
MH***
tie
MH***
FI***
tie
FI***

tie
tie
B***
FI*** MH*** B***

MH**
tie

MH v A

MH v S

MH v B

MH v LC

MH v FI

MH* MH*** tie
S*** A***
tie
S***
A** FI***
tie MH** LC*
S***
tie
tie

FI***
B***
B***
tie
B***

FI**
S***
S***
tie
S***

FI***
S***
S***
tie
S***

FI*** LC***
A*** B***
A**
B***
FI*
tie
tie
B***

FI*** LC***
A*** B***
A*** B***
tie
LC**
A**
B**

tie
S***
S***
tie
S***

tie
S***
S***
LC*
S***

LC***
A***
A***
LC**
tie

S***
S**
S***
tie
S**

B***
B**
tie
B**
B*

S***
S***
S**
S***
S***

S

S,LC,MH,FI,B

FI,MH,LC
S
S

MH,FI
S
S
LC,MH
S

Notes:
     WZRVLGHGVLJQLILFDQFHOHYHOWKHEHWWHUILWWLQJPRGHODEEUHYLDWLRQLVGLVSOD\HGÂ‚NGDWDIURPLVDOVRXVHGWRFRQVWUXFWLQYHVWPHQWLNGDWDIURPLVDOVRXVHGWR
construct 2004 investment, i

MH***
B***
B***
tie
B***

tie
tie
MH***
tie
tie

FI v LC

tie
tie
tie
tie
tie

FI v B

FI***
B***
B***
tie
tie

FI v S

MH*** MH*** MH*** MH*** FI***
tie
B*** S*** A***
tie
tie
B*** S***
A**
tie
tie
tie
tie
tie
LC**
MH*** tie
S***
tie
FI***

FI v A

tie
tie
tie
tie
tie

LC v B

S***
S***
S**
tie
S*

S***
S***

B***
B***

FI v A
LC v S

B***
B**
tie
B*
tie

tie
tie
S***
S***
B***
tie
B***

LC***
A***
A***
A***
A***
A**
LC**

S***
S***

LC v B

FI*** LC*** LC** LC***
tie
tie
tie
LC*
A**
A***

LC v S

S***
S**
S***
tie
S***

S***
S***

A***
A***

LC v A

LC***
A***
A**
LC**
A***

B***
B***
B***
B***
B***
B***
B***

S***
S**

LC v A

Best Fit

S***
LC,S
S***
B,S,MH
S***
FI,MH
S***
MH
S**
B
S*** S,B,FI,MH
S***
B

tie
tie

S***
tie

BvS

1. Networks by friend or relative
1.1 (c,q) data, in network, n=391
1.2 (k,i,q) data, in network
1.3 (c,q,i,k) data,in network
1.4 (c,q) data, not in network, n=140
1.5 (c,q,i,k) data, not in network
2. Networks by gift or loan
2.1 (c,q) data, in network, n=357
2.2 (k,i,q) data, in network
2.3 (c,q,i,k) data, in network
2.4 (c,q) data, not in network, n=174
2.5 (c,q,i,k) data, not in network

MH v FI

Comparison

S
S

S***
S**

B***
tie

BvS

tie
FI***

MH,FI,LC
S,LC,MH

S***
S***

B***
B***

BvA

A**
A***

S
B,S

S***
S***

BvA

S***
S***

Best Fit

SvA

MH* LC** B***
FI*** MH*** B***

MH v LC

1. Using (k,i,q) data
1.1 year: 1999â€ 
1.2 year: 2004â€ 
2. Using (c,q) data
2.1 year: 1999
2.2 year: 2005
3. Using (c,q,i,k) data
3.1 year: 1999â€ 
3.2 year: 2004â€ 
4. Dynamics
4.1 (c,q) panel, years: 1999 and 2000
4.2 (c,q) panel, years: 1999 and 2005
4.3 c time series, years 1999-01
4.4 c time series, years 2003-05
4.5 99 k distribution and 04 (c,q,i,k)
4.6 99 k distribution and 05 (c,q)
4.7 99 k distribution and 04 (k,i,q)

Comparison

Table 5 - Model Comparisons1 using Thai Rural Data - Baseline Vuong Test Results
MH v B
SvA

Notes:

tie
tie
tie

tie
tie

S**
tie

LC***
LC***

MH*** LC***
MH*** LC**

A***
A***

tie MH** MH*** MH*** tie
tie MH*** MH*** MH*** tie
LC**
tie
S**
tie
LC**

tie
tie

S***
S***

FI***
FI***
tie

B***
tie

B***
B***

B***
B***

B***
B***

FI***
FI*
S***

S***
tie

S***
S***

S***
S***

S***
S***

B*
tie

B***
B***

B***
B***

B***
B***

S***
tie

S***
S***

S***
S***

S***
S***

LC***
LC***

tie
A***

tie
A***

A***
A***

FI*** LC*** LC*** LC***
FI*** LC*** tie LC***
tie
tie
S**
tie

FI***
FI***

A***
A***

FI*
A**

A***
A***

B***
S***
S***

tie
tie

tie
S*

tie
B**

B***
B***
tie

B***
B***

B***
B**

B***
B**

B,S
S

B,S,MH
B

S,B
S

S*** FI,MH,LC
S*** MH,FI,LC
tie
S,A

S***
S,B
S*** LC,B,MH,S

S***
S***

S***
tie

S***
S**

     WZRVLGHGVLJQLILFDQFHOHYHOWKHEHWWHUILWWLQJPRGHODEEUHYLDWLRQLVGLVSOD\HGÂ‚%XVLQHVVDVVHWVNGDWDIURP\HDUWLVDOVRXVHGWRFRQVWUXFW\HDUWLQYHVWPHQWL

2. Urban data
2.1 (c,q,i,k), year: 2005â€ 
2.2 (c,q), year: 2005
2.3 (k,i,q), year: 2005â€ 

1.7 (c,q) panel, years: 1999 and 2000 MH***
1.8 (c,q) panel, years: 1999 and 2005 MH*

B***
B***

tie LC***
MH*** LC***

MH v FI

1.5 (c,q,i,k), year: 1999â€ 
1.6 (c,q,i,k), year: 2004â€ 

MH v LC

tie MH*** FI***
S***
tie
tie

MH v B

MH*** MH*** tie
MH** MH** B***

MH v S

1.3 (c,q), year: 1999
1.4 (c,q), year: 2005

MH v A

LC***
FI***

FI v LC

A***
A***

FI v B

S***
S***

FI v S

FI** LC*** B***
MH*** MH*** B***

FI v A

1. Rural data
1.1 (k,i,q), year: 1999â€ 
1.2 (k,i,q), year: 2004â€ 

LC v B

B***
tie

Best Fit

Comparison

Table 8 - Model Comparisons1 using parametric production function
LC v S

tie
S***

S,MH,FI
MH

S***
S***

B**
B***

S***
S***

LC**
tie

S***
S***

tie
B***

FI***
FI***

tie
FI***

FI***
FI***

tie MH*** MH*** tie MH*** FI***
MH*** MH*** MH*** MH*** MH*** FI***

4. Two-year panel
4.1. (c,q) data, years: 2005 and 06
4.2. (c,q) data, years: 2005 and 09

S
S,B

S**
S*

tie
tie

S***
tie

tie
A**

S***
S***

tie
B***

tie
tie

S***
S***

tie
A***

tie
B***

S***
S***

tie
FI*

tie
B***

tie
FI*

3. Using (k,i,q) data
3.1. year: 2005â€ 
3.2. year: 2008â€ 
MH*
tie

MH,FI
MH,B

S***
S***

B***
B***

S***
tie

FI*** LC*** LC** LC***
FI*** B*** S*** LC***

MH v FI

FI**
tie

MH v LC

FI***
tie

MH v B

tie MH** MH*** MH*** MH*** tie
MH* MH*** tie
MH* MH*** FI***

MH v S

2. Using (c,q) data
2.1. year: 2005
2.2. year: 2009

MH v A

MH
MH

FI v LC

S***
S***

FI v B

B***
B***

FI v S

S***
S***

tie
LC**

FI v A

LC***
LC***

S***
tie

LC v B

FI*
tie

LC v S
LC v A

S***
S***

LC v A
BvS

B***
B***

BvS
BvA

MH*** MH*** MH*** MH*** MH*** LC***
MH*** MH*** MH*** MH*** MH*** LC***

Best Fit

BvA
SvA

1. Using (c,q,i,k) data
1.1. year: 2005â€ 
1.2. year: 2008â€ 

Comparison

1
Table 7 - Model Comparisons using Thai Urban Data - Vuong Test Results

SvA

MH v A

MH v S

MH v B

MH v LC

MH v FI

tie
B***
tie

MH** tie
tie
tie
LC** B***
tie MH*** tie
S***
S***
S***
S***
FI**
FI***
tie
S***
FI***
S***
S***
S***
S***
S***
S***
S***
S***
S***
S***
FI***

tie
B***
LC** B***
LC*** B***
tie
B*
tie
FI***
LC*** FI***
LC*** tie
tie
B**
tie
FI***
FI*** B***
FI*** FI**
FI*** B**
tie
B***
LC*** B***
FI*
B***
FI*** B***
LC*** B***
tie
B***
FI*** B***
FI*** FI***

tie
S***
tie

FI***
S***
S***

B***
B***
B***

S***
S***
S***

A***
A***
A***

B***
B***
LC***
B*
LC***
LC***
LC***

tie
B***
B***
S***
S***
LC***
S***
LC***
LC***
LC***

tie
S***
S***

A*
A***
LC***
A***
LC***
LC***
LC***

LC***
A***
A***

tie
B*** S***
tie
FI*** LC*** LC*** LC***
A*
B*** S*** A***
tie
B*** S*** A***
A*** B*** S*** A***
A*
B*** S***
A**
A*** B*** S*** A***
A**
B*** S*** A***
A*** B*** S*** A***
A*** B*** S*** A***
tie
B*** S***
tie
A*
B*** S*** A***
FI*** LC*** LC*** LC***

A***
A***
tie
A***
FI***
FI***
FI***

FI***
A***
FI***

FI*** LC*** LC** LC***
A*** B*** S*** A***
A*
B*** S*** A***

A***
A***
A***

S***
S**
S**
S***
S***
tie
tie
tie
B**
tie
S***
S***
S**

S*
tie
B***
S***
S***
S***
tie

B*
S*
S**

S***
S***
S***

S***
B***
S**

tie
B***
B***
A***
tie
B***
B*
B*
B***
B***
B***
tie
B***

tie
B***
B***
A***
B***
B***
B***

B***
A*
B***

B***
B***
tie

B**
B***
tie

S***
S***
S***
tie
S***
S***
S**
S***
S***
S***
S***
S***
S***

S*
S***
S***
S*
S***
S***
S***

S***
tie
S***

S***
S***
S***

S***
A***
S***

S
FI,MH,LC
S
S,A
S
S,B
S,B
S,B
B
B,S
S
S
MH

S
B,S
MH
S
MH
LC,MH
LC

MH,B,LC
S,A
S,FI

MH,FI,LC
S
S

S
B
S

Best Fit

      9XRQJ  WHVWWZRVLGHGVLJQLILFDQFHOHYHO/LVWHGLVWKHEHWWHUILWWLQJPRGHORUWLHLIWKHPRGHOVDUHWLHG6DPSOHVL]HLVQ GDWDDUHIRUXQOHVVQRWHGRWKHUZLVHÂ‚N
data from 2000 is also used to construct 1999 investment i; k data from 2005 is also used to construct 2004 investment, i

4. Removed fixed effects
tie
tie
B*** S*** A***
4.1 year fixed effects, 1999 cqikâ€ 
4.2 year fixed effects, 2004 cqikâ€ 
MH*** MH*** B*** S***
A**
4.3 year fixed effects, cqik urban
MH*** MH*** MH*** MH*** MH***
4.4 year+hh fixed effects, kiq
tie
tie
B*
S*** A***
4.5 year+hh fixed effects, cq
MH* MH*** MH*** MH*** MH***
4.6 year+hh fixed effects, cqik
MH*** tie MH*** MH*** MH***
4.7 year+hh fixed effects, param. prod. fn
FI** LC*** tie
tie MH***
â€ 
5. Other robustness runs (with 1999 c,q,i,k data unless otherwise indicated)
5.1 correlated initial states, 1999 cqik
FI** LC** B*** S***
A**
5.2 correlated initial states, 1999 cq
tie
tie MH** MH*** MH***
5.3 correlated initial states, 1999 kiq
FI*** MH*** B*** S***
A*
5.4 alternative assets definition
tie MH*** MH** S***
tie
5.5 alternative income definition
MH*** MH*** tie
S*
tie
5.6 alternative interest rate, R=1.1
tie
tie
B*** S***
A*
â€ 
MH*** LC*** B*** S*** A***
5.7 interest rate R=1.025; 2004 cqik
5.8 alternative depreciation rate, Ä¯=.1
FI*** LC*** B*** S*** A***
5.9 coarser grids
MH*** MH*** B*** S*** A***
5.10 denser grids
MH*** LC*** B*** S*** A***
5.11 more general effort disutility form
FI***
tie
B*** S***
A*
5.12 mixture of normals b,w distributions MH*** MH*** B*** S***
tie
5.13 1999-03 c time series (coarse grid)
MH* MH*** MH** MH*** MH***

MH* MH*** tie
S*** A*** LC**
S** MH** FI***

FI***
B***
B***

FI v LC

tie
tie MH*** MH*** MH*** tie
tie MH*** B*** S*** A*** FI***
FI***
tie
B*** S*** A*** FI***

FI v B

S***
S***
S***

FI v S

B***
B***
B***

FI v A

LC***
tie
LC***

LC v B

A***
A***
A***

LC v S

S***
S***
S***

LC v A

B***
B***
B***

BvS

MH*** LC***
tie
tie
MH*** tie

BvA

1. Risk neutrality
1.1 (c,q) data
1.2 (k,i,q) data
1.3 (c,q,i,k) data
2. Fixed measurement error variance
2.1 (c,q) data
2.2 (k,i,q) data
2.3 (c,q,i,k) data
3. Investment adjustment costs
3.1. (c,q) data
3.2 (k,i,q) data
3.3 (c,q,i,k) data

Comparison

Table 9 - Model Comparisons1 using Thai Data - Robustness Runs. Vuong test results
SvA

Table 10 - Parameter Estimates using Simulated Data from the Moral Hazard (MH) Model
Assets, investment and income, (k,i,q) data
Model
Moral hazard - MH *
Full information - FI *
Limited commitment - LC
Borrowing & Lending - B
Saving only - S
Autarky - A
baseline parameters

È–me
0.0935
(0.0019)
0.0937
(0.0019)
0.0929
(0.0020)
0.1011
(0.0021)
0.0972
(0.0025)
0.2927
(0.0046)
0.1000

Ä±
0.6557
(0.0144)
0.5495
(0.0648)
0.0000
(0.0032)
1.0940
(0.0782)
0.5000
(0.0000)
0.0000
(0.1431)
0.5000

È™
0.1000
(0.0001)
0.1000
(0.0011)
1.9202
(0.0311)
1.0811
(0.1352)
1.2043
(0.0000)
2.0000
(0.5000)
2.0000

È¡
0.2212
(0.0079)
0.2720
(0.0291)
2.3012
(0.1623)
-1.5783
(2.6279)
-1.8369
(0.0000)
2.2117
(1.4179)
0.0000

Èw/b1
0.8289
(0.0008)
0.8111
(0.0081)
0.2000
(0.0002)
0.0096
(0.0003)
0.5184
(0.0104)
n.a.
n.a.
0.5000

È–w/b
0.0778
(0.0029)
0.1078
(0.0105)
0.2371
(0.0266)
0.9995
(0.0683)
0.1697
(0.0076)
n.a.
n.a.
0.3500

LL Value2
-1.0695

Èw/b
0.4780
(0.0098)
0.5056
(0.0108)
0.1287
(0.0352)
0.5202
(0.0178)
0.4204
(0.0278)
n.a.
n.a.
0.5000

È–w/b
0.2867
(0.0117)
0.2644
(0.0180)
0.6126
(0.0685)
0.3489
(0.0312)
0.4527
(0.0272)
n.a.
n.a.
0.3500

LL Value
-0.1462

È–w/b
0.3464
(0.0097)
0.2862
(0.0082)
0.5510
(0.0154)
0.3238
(0.0134)
0.2771
(0.0230)
n.a.
n.a.
0.3500

LL Value
-0.8952

-1.0692
-1.1015
-1.1821
-1.1407
-2.5390

Consumption and income, (c,q) data
Model
Moral hazard - MH *
Full information - FI
Limited commitment - LC
Borrowing & Lending - B
Saving only - S
Autarky - A
baseline parameters

È–me
0.1041
(0.0022)
0.1102
(0.0027)
0.1097
(0.0022)
0.1160
(0.0023)
0.1077
(0.0020)
0.1868
(0.0122)
0.1000

Ä±
0.4851
(0.0188)
0.4462
(0.0000)
0.4990
(0.0072)
0.6007
(0.0000)
0.0000
(0.0000)
0.0276
(0.0124)
0.5000

È™
2.7887
(0.0742)
0.0934
(0.0001)
1.5704
(0.1311)
0.1544
(0.0043)
1.9849
(0.4816)
0.9828
(0.0004)
2.0000

È¡
-0.2338
(0.6062)
-1.2892
(11.694)
1.5944
(0.0493)
-1.5090
(0.0170)
3.0075
(0.0445)
0.2036
(0.0271)
0.0000

-0.1784
-0.1710
-0.2182
-0.1842
-0.7443

Assets, consumption, investment, and income, (c,q,i,k) data
Model
Moral hazard - MH *
Full information - FI
Limited commitment - LC
Borrowing & Lending - B
Saving only - S
Autarky - A
baseline parameters

È–me
0.0952
(0.0020)
0.1358
(0.0029)
0.1267
(0.0022)
0.1339
(0.0036)
0.1678
(0.0040)
0.3302
(0.0042)
0.1000

Ä±
0.5426
(0.0079)
0.5436
(0.0167)
1.6114
(0.0004)
1.2000
(0.2416)
0.0000
(0.0000)
1.2000
(0.3634)
0.5000

È™
2.1951
(0.0889)
0.0967
(0.0021)
1.1028
(0.0114)
7.7164
(0.0000)
0.0727
(0.0004)
0.1000
(0.2738)
2.0000

È¡
0.2267
(0.0162)
-6.4718
(1.3883)
-8.8824
(0.1380)
-3.0189
(20.484)
-1.1738
(0.0028)
0.4681
(0.6550)
0.0000

Èw/b
0.5005
(0.0119)
0.5567
(0.0127)
0.2549
(0.0165)
0.4048
(0.0135)
0.3818
(0.0212)
n.a.
n.a.
0.5000

-1.4184
-1.2773
-1.5624
-1.7803
-3.0631

Notes: 1. Èw/b and È–w/b (the mean and standard deviation of the w or b initial distribution) are reported relative to the variables' grid range; 2. Loglikelihood values are normalized by dividing by the sample size n; higher values imply better fit. 3. Bootstrap standard errors are in parentheses
below each parameter estimate. * denotes the best fitting regime (including tied); All runs use data with sample size n=1000 generated from the MH
model at the baseline parameters

FI v B

FI v LC

MH v A

MH v S

MH v B

MH v LC

MH v FI

MH***
MH***
MH***
MH***
MH***
MH***
tie

LC*** tie
LC*** FI***
LC*** FI***
LC*** FI***
FI*** FI**
LC*** tie
LC*** B***

FI***
FI***
FI***
FI***
FI***
FI***
A***

LC***
LC***
LC***
LC***
B***
LC***
B***

LC***
LC***
LC***
LC***
S***
LC***
S***

LC***
LC***
LC***
LC***
LC***
LC***
tie

FI*** LC*** LC*** LC***
FI*** LC*** LC*** LC***
FI*** LC** LC*** LC***

FI*** LC*** LC*** LC***
FI*** LC*** LC*** LC***
FI*** LC*** LC*** LC***
FI***
tie
tie LC***

FI*** LC*** LC*** LC***
FI*** LC*** LC*** LC***

FI*** LC*** tie LC***
FI*** LC*** LC*** LC***

B***
B***
B***
B**
B***
tie
S***

B***
B***
B***

B***
B***
B***
B***

B***
B***

S**
B***

S**
tie

B***
B***
B***
B***
B***
B***
B***

B***
B***
B***

B***
B***
B***
B***

B***
B***

B***
B***

B***
B***

MH
LC,MH

MH
LC

FI,MH
all but A

S***
S***
S***
S***
S***
S***
S***

S***
S***
S***

MH
MH
MH
MH
MH
LC,MH
S

MH
MH
MH

S***
MH
S*** LC,MH
S***
MH
S*** MH,FI,LC

S***
S***

S***
S***

S***
S***

Best Fit

1. *** = 1%, ** = 5%, * = 10% two-sided significance level, the better fitting model regime's abbreviation is displayed. Data-generating model is MH and sample size is n = 1000 unless stated otherwise.; 2. these
runs use (c,q,i,k) data simulated from the MH model and low measurement error (È–me = .1) unless stated otherwise

MH***
MH***
MH***
MH***
MH***
MH***
S***

FI***
FI***
FI***
FI***
FI***
tie
S***

MH***
MH***
MH***
MH***
MH***
MH***
B***

6. Robustness runs with simulated data2
6.1 sample size n = 200
6.2 sample size n = 5000
6.3 coarser grids
6.4 denser grids used to simulate data
6.5 no measurement error in simul. data
6.6 data simulated at MLE estimates
6.7 sim. data from S, removed fixed effects
MH**
MH***
MH***
MH***
MH***
tie
tie

FI***
FI***
FI***

5. Runs with heterogeneity in the simulated data
5.1 heterogeneous productivity
MH*** MH*** MH*** MH*** MH*** LC*** tie
5.2 heterogeneous risk aversion
MH*** MH*** MH*** MH*** MH*** LC*** FI***
5.3 heterogeneous interest rates
MH*** MH*** MH*** MH*** MH*** LC*** tie
MH***
MH***
MH***
MH***
MH***
MH***
MH***

FI***
FI***
FI***
FI**

MH*** MH*** MH*** MH*** MH*** FI**
tie
tie MH*** MH*** MH*** LC**
MH*** MH*** MH*** MH*** MH*** FI***
tie
tie
MH* MH*** MH*** FI*

4. Dynamics
4.1 t=0,1 (c,q) panel, low meas. error
4.2 t=0,1 (c,q) panel, high meas. error
4.3 t=0,50 (c,q) panel, low meas. error
4.4 t=1,000 (c,q) data, low meas. error

FI***
FI***

tie
FI***

FI***
FI***
FI***
tie

MH*** MH*** MH*** MH*** MH*** LC*** FI***
tie
tie MH*** MH*** MH*** LC*** FI***

3. Using (c,q,i,k) data
3.1 low measurement error
3.2 high measurement error

FI**
tie

MH*** MH** MH*** MH*** MH*** tie
FI*** LC*** B*
MH* MH*** LC***

FI v S

2. Using (c,q) data
2.1 low measurement error
2.2 high measurement error

FI v A

FI*** LC*** LC*** LC***
FI*** B***
tie LC***

LC v B

FI***
tie

LC v S

FI***
B**

LC v A

MH*** MH*** MH*** MH*** FI***
tie
tie
tie MH*** FI***

BvS

tie
tie

BvA

1. Using (k,i,q) data
1.1 low measurement error
1.2 high measurement error

Comparison

Table 11 - Model Comparisons using Simulated Data1 - Vuong Test Results
SvA

Table 13: Consumption Euler equation GMM test as in Ligon (1998), rural sample
Instruments

b

std. error

[ 95% conf. interval ]

J-test p-value

1. none

-0.336*

0.044

-0.423

-0.249

n.a.

2. income

-0.333*

0.044

-0.418

-0.248

0.251

3. income, assets

-0.340*

0.043

-0.424

-0.257

0.248

4. income, assets, average consumption

-0.332*

0.041

-0.413

-0.252

0.312

-0.356*

0.030

-0.415

-0.296

0.000

6. 1999-01 data only

0.062

0.113

-0.159

0.283

n.a.

7. 1999-01 data, t=1,..,T-1 moment conditions

0.037*

0.008

0.021

0.054

0.000

Other specifications
5. t=1,..,T-1 moment conditions

Notes: 1. b is the estimate of the risk aversion coefficient; assuming households are risk-averse, a negative b suggests the correct model is B
(standard EE); a positive b suggests MH (inverse EE); 2. the estimates are obtained using continuous updating GMM (Hansen, Heaton and
Yaron, 1996).

Table 14: Investment Euler equation GMM test as in Bond and Meghir (1994), rural sample
Dynamic panel data estimation, one-step difference GMM using lags of 2 or more as instruments
Group variable: household
Time variable : year
Number of instruments = 24

Number of observations: 1552
Number of groups: 388
Observations per group: 4

dependent variable = it / kt
Coef

Robust st. err.

z

P > |z|

[ 95% conf. interval ]

it-1 / kt-1

0.3233

0.0595

5.43

0.000

0.2066

0.4399

(it-1 / kt-1)2

-0.0965

0.2778

-0.35

0.728

-0.6410

0.4479

qt-1 / kt-1

0.0002

0.0003

0.77

0.440

-0.0003

0.0008

year dummies

included

Arellano-Bond test for AR(1) in first differences: z = -1.87 Pr > z =
Arellano-Bond test for AR(2) in first differences: z = -0.48 Pr > z =
Arellano-Bond test for AR(3) in first differences: z = 1.25 Pr > z =
Hansen test of overid. restrictions: chi2(17) = 22.29 Prob > chi2 =
Note: observations with yearly assets (k) less than 400 Baht were excluded.

0.061
0.628
0.211
0.174

 77,5+0? 
 69(3 /(A(9+ >0;/ <56):,9=,+ *(70;(3 (5+ 05=,:;4,5;
$<776:, (.,5;D: ,F69; 0: <56):,9=()3, (: 05 ;/, 469(3 /(A(9+  9,.04, (5+ 05 (++0;065 ;/,
7905*07(3 (3:6 *(556; 6):,9=, ;/, (.,5;D: *<99,5; *(70;(3 :;6*2  (5+ ;/, */60*, -69 5,?; 7,906+    %/,
<56):,9=,+ :;(;,  (++: ( +@5(40* (+=,9:, :,3,*;065 796)3,4 ;6 ;/, 469(3 /(A(9+ 796)3,4: (90:05.
-964 ;/, ;>6 <56):,9=,+ (*;065:  (5+   
%6 >90;, ;/0: :,;;05. (: ( 4,*/(50:4+,:0.5 796)3,4 :<776:, ;/, (.,5; :,5+: ( 4,::(., ()6<;
 ;6 ;/, 7905*07(3 >/6 6F,9: /04 ( *65;9(*; *65+0;065(3 65 ;/, 4,::(., >/0*/ *65:0:;: 6- ;9(5:-,9  
9,*644,5+,+ ,F69;  05=,:;4,5;    (5+ -<;<9, 79640:,+ <;030;@ ,*(<:, 6- ;/, +@5(40* (+=,9:,
:,3,*;065 796)3,4 05  -6336>05. ,95(5+,: (5+ "/,3(5 

 (5+ 6,72, (5+ %6>5:,5+ 



;/, 7967,9 :;(;, =(90()3, 05 ;/, 9,*<9:0=, 9,79,:,5;(;065 6- ;/0: 796)3,4 0: 56; (: :*(3(9 (: 05 ;/,
 9,.04, )<; ( 79640:,+ <;030;@            ),365.05. ;6 :64, :,; 6:*/,+<3,:  ;6 ), +,;,9405,+ >/,9,     ,;* (9, ;/, ,3,4,5;: 6- ;/, .90+



%/, :,; 6- -,(:0)3, 79640:, :*/,+<3,:  0: ,5+6.,56<:3@ +,;,9405,+ 56; (33 79640:,(::,;: *64)0
5(;065: (9, -,(:0)3, (5+ 4<:; ), 0;,9(;,+ <765 ;6.,;/,9 >0;/ ;/, =(3<,7630*@ -<5*;065: )9,< "0,9*,
(5+ $;(**/,;;0   $7,*0B*(33@ <:05. ;/, 05*,5;0=, *647(;0)030;@ *65:;9(05;: >, 9,:;90*; (;;,5;065
;6 565+,*9,(:05. 79640:, =,*;69:  ', C+0:*9,;0A,D ;/, :,;  )@ :;(9;05. -964 ( 3(9., :,; 
*65:0:;05. 6- 305,(9 -<5*;065:  >0;/ 05;,9*,7;: ;/(; ;(2, =(3<,: 65 ;/, .90+ 
>0;/ 

(5+ 





   





+,B5,+ 05 6<9 +0:*<::065 6- ;/,  9,.04, (5+ ( +0:*9,;, :,; 6- 5655,.(;0=,

:367,: ', 050;0(33@ 0;,9(;, 65 ;/, & +@5(40* 796.9(4 <:05. =(3<, -<5*;065 0;,9(;065 ;/(; 0: >, 0;,9(;,
6=,9 ;/, 79640:, :,;  ;6.,;/,9 >0;/ ;/, =(3<, -<5*;065   +967705. (33 05-,(:0)3, =,*;69:  (; ,(*/
0;,9(;065 (5+ ;/<: C:/905205.D  (: ( 9,:<3; !5*, >, /(=, :<**,::0=,3@ ,30405(;,+ (33 ,3,4,5;:  05
 -69 >/0*/ ;/, 9,:7,*;0=, 305,(9 796.9(4: /(=, 56 -,(:0)3, :63<;065 ;/(; 0: 65*, >, /(=, *65=,9.,+
;6 ( :,3-.,5,9(;05. -,(:0)3, 79640:, :,;   >, :>0;*/ ;6 4<*/ -(:;,9 7630*@ -<5*;065 0;,9(;065 (5+
*65;05<, 0;,9(;05. 65 ;/, ,334(5 ,8<(;065 <5;03 *65=,9.,5*, ', (3:6 =,90B,+ 6<9 9,:<3;: (.(05:;
796*,,+05. >0;/ =(3<, -<5*;065 0;,9(;065 (33 ;/, >(@
%/, *647<;(;065(3 4,;/6+ >, <:, ;6 :63=, -69 ;/, 67;04(3 *65;9(*; 05 ;/0: <56):,9=,+ 05=,:;4,5;
& 9,.04, 9,8<09,: :,7(9()030;@ 05 *65:<47;065 (5+ 3,0:<9,   

  

6;, ;/0: >(:

56; 5,,+,+ -69 ;/,   69 ;/, ,?6.,56<:3@ 05*6473,;, 9,.04,: %/, :,7(9()030;@ (336>: <: ;6 :730;
,(*/ ;04, 7,906+ 05;6 ;>6 :<)7,906+: (5+ <:, +@5(40* 796.9(4405. >0;/05 ;/, ;04, 7,906+: %/0:
/,37: 2,,7 +04,5:065(30;@ 05 */,*2 :05*, ;/, 9,:<3;05. :<)796)3,4: (9, 6- 4<*/ 36>,9 +04,5:065 %/,
B9:; :<)7,906+ 05*3<+,: ;/, (556<5*,4,5; 6-  )@ ;/, (.,5; ;/, 7905*07(3D: ,F69; 9,*644,5+(;065 
;/, (.,5;D: (*;<(3 ,F69; :<773@ (5+ ;/, 9,(30A(;065 6- ;/, 6<;7<;  %/, :,*65+ :<)7,906+ 05*3<+,:
;/, ;9(5:-,9 ;/, 05=,:;4,5; 9,*644,5+(;065 (5+ ;/, (.,5;D: *65:<47;065 (5+ (*;<(3 05=,:;4,5;
+,*0:065: %6 ;0, ;/, ;>6 :<)7,906+: ;6.,;/,9 >, 05;96+<*, ;/, ,?;9( =(90()3,: 

;/(; >, *(33

C05;,904 79640:,+ <;030;@D E ( 9,79,:,5;(;065 6- ;/, (.,5;D: ,?7,*;,+ <;030;@ -964 ;/, ,5+ 6- :<)7,906+
;/(; 0: -964 ;/, 40++3, 6- ;/, 7,906+ 65>(9+: %/, 05;,904 79640:,+ <;030;@ 0: (   =,*;69
33 9,-,9,5*,: (9, 30:;,+ 05 ;/, 4(05 7(7,9



          :0403(9 ;6  02,  ;/, :,; 

0: ,5+6.,56<:3@ +,;,9405,+

(365. ;/, =(3<, -<5*;065 0;,9(;065

%/, B9:; :<)7,906+ 796)3,4 -69 *647<;05. ;/, 67;04(3 *65;9(*; >0;/ (5 (.,5; >/6 /(: (556<5*,+
 (5+ /(: ),,5 79640:,+  0:
'$'" 
  



   





          

%/, */60*, =(90()3,: (9, ;/, 796)()030;0,: 6=,9 (336*(;065:     

 

     %/, -<5*;065

    0: +,B5,+ 05 ;/, :,*65+ :<)7,906+ 796)3,4 :,, "96.9(4 & ),36> %/, 4(?040A(;065

05   0: :<)1,*; ;6 ;/, -6336>05. *65:;9(05;: 09:; ;/, 67;04(3 *65;9(*; 4<:; +,30=,9 ;/, 79640:,+
<;030;@ 65 ;/, ,8<030)90<4 7(;/ 




        



 

%/, <;030;@ -964 *65:<47;065 (5+ +0:*6<5;,+ -<;<9, <;030;@ (9, 05*69769(;,+ 05   $,*65+ (: 05 ;/,
 9,.04, ;/, 67;04(3 *65;9(*; 4<:; :(;0:-@ 05*,5;0=, *647(;0)030;@ 05 ,F69; %/(; 0: 
     




     
     





    


  

    

  

 

%/09+ :05*, ;/, :;(;,  0: 790=(;, 05-694(;065 ;/, (.,5; 5,,+: 05*,5;0=,: ;6 9,=,(3 0; ;9<;/-<33@ !5
;67 6- ;/(; ;/, (.,5; *(5 79,:<4()3@ *65:0+,9 1605; +,=0(;065: 05 /0: (556<5*,4,5;  (5+ /0: ,F69;
*/60*,  %6 79,=,5; :<*/ 1605; +,=0(;065: ;9<;/;,3305. 4<:; ), ,5:<9,+ ;6 /63+ 9,.(9+3,:: 6- >/,;/,9
;/, (.,5; +,*0+,: ;6 -6336> ;/, ,F69; 9,*644,5+(;065  69 *65:0+,9: ( +,=0(;065 ;6 (56;/,9 ,F69; 3,=,3
   >/,9,  +,56;,: (33 76::0)3, 4(7705.: -964 9,*644,5+,+ ;6 (*;<(3 ,F69; ;/(; 0: -964

;/, :,;  ;6 0;:,3- $<*/ ),/(=069 0: 9<3,+ 6<; )@ 0476:05. ;/, -6336>05. C;9<;/;,3305.D *65:;9(05;:
>/0*/ 4<:; /63+ -69 (33   (5+ 
 






    


 

   
 

 

5 >69+: (5 (.,5; >/6 (*;<(33@ /(:  )<; *65:0+,9: (556<5*05.  ;90..,905.   :/6<3+ B5+ (5@
:<*/ +,=0(;065 <5(;;9(*;0=, %/,9, (9, 

   :<*/ *65:;9(05;: 05 ;6;(3 05(33@ ;/, *65;9(*;

4<:; :(;0:-@ ;/, (39,(+@ -(4030(9 ;,*/5636.0*(3 *65:0:;,5*@ (++05.<7 (5+ 5655,.(;0=0;@ *65:;9(05;:
-69 ;/, 796)()030;0,:     

%6 :63=, "96.9(4 &  >, B9:; 5,,+ ;6 *647<;, ;/, 7905*07(3D: C05;,904 =(3<, -<5*;065D    

%/, :;(;, =(90()3,: (9, ;/, :*/,+<3, 

6- 05;,904 <;030;0,: -69 ,(*/  

(5+ ;/, (.,5;D: (*;<(3

(556<5*,4,5;  65:;9(05;: >033 05;96+<*, ;9<;/;,3305. (5+ 6),+0,5*, 05 ;/, :,*65+:;(., 796.9(4
', 5,,+ ;6 ,5:<9, ;/(; >/,5 +,*0+05. 65    ;/, (.,5; *(556; 6);(05 469, ;/(5 /0: 05;,904 <;030;@

  -69 (5@ (556<5*,4,5; 
'$'" 

   


 

  

   

  



     

           

     



6;, ;/(; 05 (++0;065 ;6 ;/, (336*(;065 36;;,90,:          >, 05;96+<*, (++0;065(3 */60*,
        ;/(; >, 9,-,9 ;6 (: C<;030;@ )6<5+:D :,, "9,:*6;;
-69 +,;(03: %/,:,
=(90()3,: 
)6<5+: :7,*0-@ ;/, 4(?04<4 ,?7,*;,+ <;030;@ ;/(; (5 (.,5; >/6 0: (*;<(33@ (;  9,*,0=05. ;9(5:-,9 
(5+ (5 05=,:;4,5; 9,*644,5+(;065   *6<3+ 6);(05 )@ 9,769;05.  (5+ +605.   %/0: ;9(5:3(;,: 05;6
;/, *65:;9(05;



       
                      



>/0*/ 4<:; /63+ -69 (33 76::0)3, *64)05(;065:      
 (5+ 
   %6 ,5:<9, ;9<;/;,3305. ;/,
 ;/(; ;/, (.,5; 6);(05: 05 ;/, :,*65+ :<)7,906+ )@ 9,769;05.  >/,5 ;/, ;9<,
05;,904 <;030;@  
 4<:; :(;0:-@ -69 (33  

:;(;, 0: 





          





%/, ;>6 :,;: 6- *65:;9(05;:  (5+  9<3, 6<; (5@ 1605; +,=0(;065: 05 ;/, 9,769;  (5+ ;/, (*;065   
05(33@ )@ +,B50;065 ;/, 05;,904 <;030;@ 4<:; :(;0:-@
 





 

                      



(5+ ;/, 796)()030;0,:          4<:; :(;0:-@ 5655,.(;0=0;@ (5+ (++05.<7

 0++,5 6<;7<;
5 ;/0: 46+,3 >, (336> 6<;7<;  ;6 ), <56):,9=()3, ;6 ;/, B5(5*0(3 05;,94,+0(9@ :0403(93@ ;6
%6>5:,5+    69 %/64(: (5+ '699(33    ::<4, ,F69;  0: *65;9(*;0)3, :6 ;/,9, 0: 56 796)3,4
>0;/ 1605; +,=0(;065: ', /(=,
  



      



    

            

     

:<)1,*; ;6 ;/, 79640:, 2,,705. *65:;9(05;


    

                        



(5+ ;/, ;9<;/;,3305. *65:;9(05;: ;9<, 6<;7<; 0:  )<; ;/, (.,5; *65:0+,9: (556<5*05. 


   

   










  



   

           
              



           
             

:<)1,*; ;6 ;/, ;,*/5636.0*(3 *65:0:;,5*@ (5+ (++05.<7 *65:;9(05;:


   

         


 
  


    



    

          -69 (33 
   

         

  (5+



(: >,33 (: 5655,.(;0=0;@             -69 (33            

 

 

5 04769;(5; 0::<, ;6 ;(2, (**6<5; 05 5<4,90*(33@ :63=05. ;/0: 46+,3 0: ;/(; +<, ;6 ;/, ;9<;/;,3305.

*65:;9(05;:   (77,(9: 65 )6;/ :0+,: *64)05,+ >0;/ +0F,9,5;  ;/, -,(:0)3, :,; 6- 79640:,: 
/(: ;6 ), +,;,9405,+ 0;,9(;,+ 6=,9 ,5+6.,56<:3@ >0;/05 ;/, :63<;065 796*,:: %/0: (5+ ;/, -(*; ;/(;
;/,9, (9, 469, *65:;9(05;: :,, %()3,  4(2,: ;/0: 9,.04, 4<*/ /(9+,9 *647<;(;065(33@ <7 ;6 ;,5
;04,: :36>,9 7,9 ,=(3<(;065 ;/(5 ;/,  9,.04, ,=,5 ;/6<./ ;/,@ (33 /(=, ;/, :(4, ;6;(3 5<4),9 6=(90()3,:

 47090*(3 #,:<3;:
%()3,  9,769;: 9,:<3;: -964 <:05. 6<9 4,;/6+: +,:*90),+ 05 $,*;065:

(5+

6- ;/, 7(7,9 ;6

*647<;, (5+ ,:;04(;, ;>6 (++0;065(3 B5(5*0(305-694(;065 9,.04,: E ( 469(3 /(A(9+ 9,.04, >0;/
<56):,9=,+ 05=,:;4,5; & (5+ ( /0++,5 6<;7<; 9,.04, ! E :,, $,*;065:

(5+

-69 +,;(03,+

+,:*907;065: %/,:, ,:;04(;065 9<5: +,465:;9(;, ;/, .,5,9(30;@ 6- 6<9 (7796(*/ (5+ 0;: ()030;@ ;6
(**6446+(;, =(90(5;: 6- 05-694(;065 *65:;9(05;: 6<;:0+, 6<9 :0? )(:,305, 9,.04,: 05*3<+05. ;/6:, 05 ;/,
30;,9(;<9, 9,=0,>,+ 05 ;/, 05;96+<*;065 ,*(<:, 6- /0./ *647<;(;065(3 ;04, (5+ 4,469@ 9,8<09,4,5;:
*647<;05. 6=,9



305,(9 796.9(4: 7,9 0;,9(;065 >, (9, <5()3, ;6 ,:;04(;, ;/, & 9,.04, >0;/

;/, )(:,305, .90+: <:,+ 05 %()3,:  (5+ 05:;,(+ <:, ( *6(9:, ;/9,,7605; .90+ :7,*0B*(;065 ;/, &
9,:<3;: 05 %()3,  ),36> :/6<3+ ), 9,(+ ;6.,;/,9 >0;/ 305,  05 %()3,  ', <:, ;/, 7(9(4,;90*
796+<*;065 -<5*;065 :7,*0B*(;065 ;6 ), ()3, ;6 *647<;, ;/, ! 9,.04, :,, ;/, -66;56;, 05 %()3,  
5 ;/, 9<9(3 :(473, <:05.  *802 +(;( ;/, & 9,.04, 6<;7,9-694: ;/, 6;/,9 4,*/(50:4
+,:0.5 9,.04,:   (5+  05 302,30/66+ 6>,=,9 ;/, & (5+ ! 9,.04,: (*/0,=, >69:, B;
>0;/ ;/, 9<9(3 +(;( *647(9,+ ;6 ;/, $ (5+  9,.04,: :6 6<9 6=,9(33 *65*3<:065: -964 ;/, )(:,305,
9<5: :;(5+ 055(5 

 +6,: B5+ ,=0+,5*, 05 -(=69 6- /0++,5 05*64, 05 ( 9,3(;,+ +(;( :,; )<; :/,

<:,: (5 <3,9,8<(;065 4,;90* >0;/ *65:<47;065 (5+ 3(..,+ 05*64, +(;( (365, 5 6<9 <9)(5 :(473,
<:05.

 *802 +(;( ;/,  9,.04, (*/0,=,: ;/, /0./,:; 302,30/66+ 05 ;/, *6(9:,.90+: :7,*0B*(;065

<99,5;3@ ( :05.3, ,=(3<(;065 6- ;/, & 9,.04, 302,30/66+ -<5*;065 >0;/ 6<9 )(:,305, .90+: ;(2,: ()6<;  405<;,: (:
6776:,+ ;6  :,* -69 ;/,  9,.04, !=,9  :<*/ ,=(3<(;065:   +(@: (9, ;@70*(33@ 9,8<09,+ ;6 B5+ ;/, 
,:;04(;,: -69 ( :05.3, ,:;04(;065 9<5 ', (9, >69205. 65 ( 7(9(33,3 *647<;05. =,9:065 6- 6<9 ,:;04(;065 (3.690;/4 (: >,33
(: 67;040A(;065: )(:,+ 65 ;/, " (7796(*/ .<099,.()090( (5+ 09(
 (:(/(9( (5+ $/046;:<


-6336>,+ *36:,3@ )@ & :,, ;/, 3(:; 96> 6- %()3,   >/03, ;/, ! 9,.04, B;: ),:; -6336>,+ )@ 
05 ;/, 7(9(4,;90* 796+<*;065 -<5*;065 :7,*0B*(;065 ;/, 7,5<3;04(;, 96> 05 %()3,   ', (3:6 +0+ (
9<5 >0;/ *8 +(;( (365, 56; 9,769;,+ 05 ;/, ;()3, 05 >/0*/  (*/0,=,+ /0./,9 302,30/66+ ;/(5 !

!

 - $!

$"%'($#( - *$# )() '(*!)(

+ 

+ 

+

+

+

+

() ,)

/0++,5 6<;7<; !

;0,

;0,



$





$

<56):,9=,+ 05=,:;4,5; &

&

&



$

;0,

&



/0++,5 6<;7<; !

!

!

!

!

!

!

!

<56):,9=,+ 05=,:;4,5; &

&

&

&

&

&





*'! ) 

& 

'# )  & 

69 *647<;(;065(3 9,(:65: ;/, ! 46+,3 0: ,:;04(;,+ <:05. ;/, 7(9(4,;90* 796+<*;065 -<5*;065 9,(+ ;6.,;/,9 >0;/
%()3,  05 ;/, 7(7,9 (5+ ;/, & 46+,3 0: *647<;,+ >0;/ *6(9:,9 .90+: 9,(+ >0;/ 305,  05 %()3,  05 ;/, 7(7,9



