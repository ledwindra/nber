NBER WORKING PAPER SERIES

REGULATING CAPITAL FLOWS TO EMERGING MARKETS:
AN EXTERNALITY VIEW
Anton Korinek
Working Paper 24152
http://www.nber.org/papers/w24152

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
December 2017

The author would like to thank Viral Acharya, Julien Bengui, Javier Bianchi, Olivier Blanchard,
Patrick Bolton, Alessandra Bonfiglioli, Phil Brock, Fernando Broner, Tiago Cavalcanti, Mick
Devereux, Rex Ghosh, Gita Gopinath, Olivier Jeanne, Enrique Mendoza, Marcus Miller,
Jonathan Ostry, Alessandro Rebucci, Carmen Reinhart, Joseph Stiglitz, Cédric Tille, Carlos
Vegh, Iván Werning and Jianfeng Yu as well as participants at several conferences and seminars
for helpful discussions and comments. I am also indebted to two anonymous referees and my
editor, Charles Engel, who provided detailed comments on the manuscript. Financial support
from INET/CIGI and from the IMF Research Fellowship is gratefully acknowledged. The views
expressed herein are those of the author and do not necessarily reflect the views of the National
Bureau of Economic Research.
NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.
© 2017 by Anton Korinek. All rights reserved. Short sections of text, not to exceed two
paragraphs, may be quoted without explicit permission provided that full credit, including ©
notice, is given to the source.

Regulating Capital Flows to Emerging Markets: An Externality View
Anton Korinek
NBER Working Paper No. 24152
December 2017
JEL No. E44,F38,F41,H23
ABSTRACT
We show that capital flows to emerging market economies create externalities that differ by an
order of magnitude depending on the state-contingent payoff profile of the flows. Those with procyclical payoffs, such as foreign currency debt, generate substantial negative pecuniary
externalities because they lead to large repayments and contractionary exchange rate
depreciations during financial crises. Conversely, capital flows with an insurance component,
such as FDI or equity, are largely benign. We construct an externality pricing kernel and use
sufficient statistics and DSGE model simulations to quantify the externalities that materialized
during past financial crises. We find stark differences depending on the payoff profile, justifying
taxes of up to 3% for dollar debt but close to zero for FDI. These findings contrast with the
existing literature, which has suggested that policymakers should focus on reducing overborrowing rather than changing the composition of external liabilities.

Anton Korinek
Department of Economics
Johns Hopkins University
Wyman Park Building 531
3400 N. Charles Street
Baltimore, MD 21218
and NBER
akorinek@jhu.edu

1

Introduction

In the aftermath of the global financial crisis, regulations on capital flows to emerging market
economies have experienced a renaissance. Emerging economies around the world faced strong
capital inflows as their growth prospects appeared superior to those of the industrialized world.
However, whenever US interests rates ticked up, the flows abruptly reversed direction and gave
rise to phenomena such as “taper tantrums.” This has renewed an old debate among academics
and policymakers on the wisdom of free capital flows to emerging economies. In standard neoclassical models, there is no role for restrictions on capital flows, since free international capital
markets allow poor countries to increase their capital stock and to insure against idiosyncratic
shocks, thereby raising growth and reducing consumption volatility (see e.g. Obstfeld and Rogoff, 1996). However, empirical evidence such as Reinhart and Reinhart (2009) suggests that large
capital inflows make emerging market economies vulnerable to financial crises that both increase
consumption volatility and hurt growth prospects. In recent years, even the IMF (2012) changed
its long-standing policy to permit the use of capital controls (see also Ostry et al., 2010; Gallagher
and Tian, 2014).
Capital
Outflows
Balance
Sheet Effects

Falling
Exchange Rates

Figure 1: Financial Amplification Effects
A number of recent papers, including Jeanne and Korinek (2010a) and Bianchi (2011), have
emphasized that excessive borrowing creates externalities in emerging economies because individual borrowers do not internalize that, when a negative shock hits, their past borrowing contributes to a feedback loop of capital outflows, depreciations in the exchange rate, and tightening
financial constraints due to adverse balance sheet effects, as illustrated in Figure 1.1
The main contribution of our paper is to show that the externalities of capital flows differ by an
order of magnitude depending on the state-contingent payoff profile of the flows. Those with procyclical payoffs, such as foreign currency debt, generate substantial negative externalities because
they lead to large repayments and contractionary exchange rate depreciations during financial crises. Conversely, capital flows with an insurance component, such as FDI or equity, are largely
1 In

the emerging market context, such models were first introduced by Calvo (1998) and Krugman (1999). More recent contributions include Jeanne and Zettelmeyer (2005); Mendoza (2005); Céspedes et al. (2017). They are successful at
capturing both the qualitative and quantitative aspects of emerging market financial crises. For surveys of the literature
see Korinek and Mendoza (2014) and Lorenzoni (2015).

2

benign. Our paper is thus the first to arrive at normative conclusions that mirror the empirical
evidence on the desirability of different types of capital flows: For example, Calvo et al. (2004) and
Levy Yeyati (2006) show that dollar debts significantly raise the risk of financial crisis without yielding benefits in terms of higher growth. By contrast, Mauro et al. (2007) show that financial flows
that are conducive to risk-sharing, such as foreign direct investment, are positively associated with
both macroeconomic stability and long-run growth.
The primary goal of capital flow regulation should thus be to improve the composition of capital flows towards more insurance rather than affecting the total level of flows.
We obtain our findings in a real model of a small open economy in which domestic agents
trade a broad set of financial claims with international investors but are subject to a collateral
constraint. The value of the collateral that domestic agents carry on their balance sheets depends
on the country’s real exchange rate. If the real exchange rate depreciates, the borrowing capacity of
domestic agents contracts and international investors pull their funds from the domestic economy.
Depreciations thus have contractionary effects when the collateral constraint is binding.2 This
introduces the critical part of the feedback loop in Figure 1.
If international investors experience an increase in risk aversion or if the domestic economy is
hit by a negative output shock, capital flows out of the economy, the exchange rate depreciates, the
financial constraint tightens, and these dynamics feed on each other to amplify the initial shock.
This phenomenon of financial amplification captures the typical dynamics of the real exchange
rate, the current account, and aggregate demand during emerging market crises.
Rational private agents do not optimally solve the trade-off between the benefits of foreign
capital and the risks of financial crises in such an environment. The inefficiency arises from a
well-known pecuniary externality: Individual agents take market prices, including the country’s
exchange rate, as given and do not internalize that their collective behavior leads to contractionary
depreciations when the collateral constraint is binding. In short, they neglect their individual
contribution to the feedback loop. Private agents therefore undervalue the social cost of financial
liabilities that mandate repayments in constrained states of nature.
We constrast the decentralized equilibrium with the allocation chosen by a social planner who
internalizes these general equilibrium effects. A planner reduces the financial liabilities that agents
carry into constrained states of nature, which leads to smaller capital outflows, a more appreciated
real exchange rate, and a relaxation of the collateral constraint compared to the decentralized equilibrium. In short, the planner shifts the liability structure of the economy towards more insurance
and less risk-taking. This reduces the incidence and severity of financial crises.
We construct an externality pricing kernel to quantify the magnitude of the externalities of different types of capital flows. This kernel is a stochastic variable that captures the uninternalized
2 Observe

that the contractionary effects of depreciations when the collateral constraint binds contrast strongly with
the expansionary effects of depreciations in standard macroeconomic models (see e.g. Obstfeld and Rogoff, 1996). For a
comprehensive review of the role of contractionary exchange rate depreciations in emerging market crises see e.g. Frankel (2005). This literature also documents that sharp exchange rate depreciations are a systematic feature of emerging
market financial crises, even though exchange rates are largely disconnected from fundamentals in normal times.

3

social cost of payoffs in different states of nature. It is zero in states of nature in which agents
are unconstrained and positive when the financial constraint in the economy is binding and externalities are present. The externality pricing kernel allows us to express the optimal Pigovian
taxes necessary to internalize the externalities of capital flows with different payoff profile, such as
dollar debt, local currency debt, or portfolio equity investment.
Using a sufficient statistics approach, we quantify the externalities of capital flows using standard parametric assumptions together with three statistics that can be obtained from the data:
(i) the tightness of financial constraints, (ii) the extent of financial amplification, and (iii) the real
payoff profile of different types of capital flows during a crisis. Aside from the simplicity of implementation, the main benefits of this approach are that it is very transparent, that it is robust
to many changes in the model structure, and that it obviates the need to calibrate and simulate a
full structural DSGE model, which relies on many additional assumptions about parameters and
structural relationships that are difficult to verify. (See Korinek, 2018, for a more detailed discussion of the benefits and disadvantages of DSGE models.) We also show that the methodology is
robust to a range of model extensions in section 5.
We apply this approach to quantify the externalities from capital flows in a number of emerging
market crises identified by Korinek and Mendoza (2014). We find that there is a clear pecking order
of different types of capital flows: Dollar debt imposes the greatest externalities during financial
crises, with magnitudes of up to 45 cents per dollar (i.e. each dollar borrowed reduces welfare by
the equivalent of 45 cents). Local currency debt leads to externalities that are about half the size of
those of dollar debt since crises go hand in hand with exchange rate depreciations that reduce the
value of local currency liabilities. Equity portfolio investments generate even lower externalities
since asset price declines during crises reduce the external liabilities of emerging market agents.
We also translate these externalities into Pigovian taxes by combining them with assumptions on
the long-run probability of crises.
We complement these findings with conventional DSGE model simulations. We introduce a
numerical algorithm based on the endogenous gridpoints method of Carroll (2006) and its extension to occasionally binding constraints by Jeanne and Korinek (2010b). We calibrate the model to
replicate the dynamics of the Thai financial crisis of 1997/98. We find that the externalities obtained from our DSGE simulation closely correspond to those obtained from the sufficient statistics
approach.
Furthermore, we employ model simulations to investigate the effects of implementing the planner’s optimal borrowing decisions on the equilibrium allocations of the economy. If a planner
corrects the externalities, the economy accumulates 5% of GDP in additional insurance against
sudden stop shocks. Given the financial amplification effects, this reduces the current account reversal and the decline in domestic absorption in the event of a sudden stop by more than half. The
welfare gains from optimal capital flow regulation are higher than Lucas’s estimate of the welfare
cost of business cycles.
We also solve the problem of a planner who is unable to distinguish between different types

4

of capital flows and needs to choose a uniform tax on all types of flows. We find that such a
planner imposes a tax rate that corresponds to a weighted average of the tax rates on individual
state-contingent securities, corrected for the targeting problem. However, the resulting allocation
is close to the unregulated decentralized equilibrium and there are scant welfare gains from this
type of intervention. This underlines that it is critical to distinguish between safe and risky forms
of finance when regulating capital flows.
We analyze a number of extensions to investigate the robustness of our model setup and our
quantitative approach: We discuss how several types of ex-post crisis management policies interact with the optimal ex-ante prudential regulation of capital flows. We extend our framework to
account for a more general maturity structure of financial liabilities. We show that controls on capital inflows are equivalent to controls on outflows under certain conditions, but that the latter raise
problems of time consistency. We introduce capital investment and time-varying leverage ratios
and show that our formula for the optimal level of capital controls is robust. We also investigate
how to regulate capital flows when domestic agents take on risk because of over-optimism.
Related Literature Our work is related to a growing literature that analyzes the implications of
market frictions for the optimality of financing decisions of private agents. One strand in this
literature motivates capital controls from pecuniary externalities, as first analzyed by Caballero
and Krishnamurthy (2001, 2003). Our approach differs from theirs in two respects: First, building
on Korinek (2007), the pecuniary externalities in our framework arise from changes in the value
of collateral, capturing the role of balance sheet effects, rather than from limitations on the risksharing capacity of domestic agents.3 Secondly, we quantify the externalities of different types
of capital flows – using both a sufficient statistics approach and model simulations. Other recent
papers motivate capital controls based on pecuniary externalities but in environments in which
foreign currency debt is the only financial contract available. See for example Jeanne and Korinek
(2010a), Aizenman (2011), Bianchi (2011) and Benigno et al. (2013, 2016). Once we allow for statecontingency, we find that the main goal in regulating emerging market capital flows is to shift the
liability composition towards more crisis insurance. The planner’s intervention barely changes the
total amount of liabilities issued. Whereas our focus is on preventive policies, Benigno et al. (2011,
2013, 2016), and Caballero and Lorenzoni (2014) also analyze the role of crisis mitigation policies
in related frameworks.
Another strand of literature analyzes how aggregate demand externalities in the presence of
nominal price stickiness may justify the imposition of capital controls. See for example Farhi and
Werning (2012, 2014) and Schmitt-Grohé and Uribe (2012, 2016). The externalities that we investigate are distinct from these and put the focus on preserving financial stability and avoiding adverse
balance sheet effects. Fornaro (2015), Ottonello (2015) and Zhu (2015) focus on crisis mitigation
when both adverse balance sheet effects and benign aggregate demand effects from depreciation
are present.
3 See

Davila and Korinek (2017) for a careful differentiation between the two types of pecuniary externalities.

5

A more general aspect that we add to the literature on capital controls is that we introduce
an externality pricing kernel to discriminate among different forms of capital flows according to
their social cost. We also develop a sufficient statistics approach that allows us to calibrate this
externality pricing kernel in a robust and transparent manner with minimal computing and data
requirements.
There are two themes in the empirical literature that support our approach and our findings.
First, a number of recent papers, esp. Burger et al. (2012) and Forbes and Warnock (2014), document that emerging market economies issue a wide variety of liabilities, including dollar debt,
local currency debt, equity, FDI etc.4 This underlines the importance of theoretical research to
compare the relative social benefits and costs of different types of financial liabilities.
Secondly, a growing body of empirical literature, surveyed e.g. by Magud et al. (2011), finds
robust evidence that capital controls are successful in changing the type of financial liabilities that
emerging market agents issue, even if the effects on the total amount of liabilities are questionable. Shifting the composition of financial liabilities is indeed the main objective of capital flow
regulation in our framework.

2

Baseline Model Setup

We assume a small open economy in infinite discrete time t = 0, 1, .... The economy is inhabited
by a unit mass of domestic agents that interact with large international investors in a market of
state-contingent securities. Domestic agents derive utility from their consumption of traded and
non-traded goods (c T,t , c N,t ) according to a utility function
∞

U = E ∑ βt u (c T,t , c N,t )

(1)

t =0

where β < 1 is a time discount factor, and the period utility function u (c T , c N ) is strictly increasing
in each element, quasiconcave and homothetic. Each period, a state of nature ωt ∈ Ωt is realized
and observed by all agents. The period budget constraint of domestic agents is
ω
c T,t + pt c N,t + E [mω
t+1 bt+1 ] = y T,t + pt y N,t + bt

(2)

where all variables are contingent on the state of nature ωt . For simplicity of notation, we omit the
argument ωt for variables that only depend on the contemporaneous state of nature, for example
c T,t = c T,t (ωt ), but we include a superscript for random variables that depend on the realization
of future states of nature, e.g. btω+1 = bt+1 (ωt+1 ) for the security holdings of domestic agents that
are contingent on the future state ωt+1 . The pair (y T,t , y N,t ) describes the stochastic endowment of
domestic agents and follows a Markov process, which represents the only source of uncertainty.
4 This contrasts with the experience of emerging market economies in earlier decades when dollar-denominated debt

was the only financial liability available. Eichengreen and Hausmann (2005) termed this phenomenon the “original sin”
of emerging economies.

6

We denote by pt the relative price of non-traded goods in terms of traded goods, which serve as
numeraire goods. pt represents the country’s real exchange rate.5
ω
The term E[mω
t+1 bt+1 ] denotes the total amount of finance that domestic agents save in statecontingent securities if btω+1 > 0 or raise from international investors if btω+1 < 0. The pricing kernel
of international investors mω
t+1 = mt+1 ( ωt+1 ) is a random variable contingent on the next-period
state of nature and is exogenous for the domestic economy – it can describe both risk-neutral
ω
investors if the pricing kernel is constant mω
t+1 = m̄t+1 ∀ ωt+1 and risk-averse investors if mt+1 is
state-contingent.
Two remarks are in order to describe how to relate our model of state-contingent Arrow securities to the liability choices that borrowers in emerging markets face in practice:
Remark 1 (Model of State-Contingent Security Payoffs). It may seem like an extreme assumption
that borrowers in emerging economies can trade in a full set of state-contingent Arrow securities,
but what matters for our analysis is that there is a meaningful choice of liabilities with different
risk characteristics. For example, Burger et al. (2012) and Forbes and Warnock (2014) show that
emerging market borrowers issue significant amounts of liabilities denominated not only in dollars
but also in local currency, equity, FDI etc. As long as there are at least as many independent
securities as states of nature, this is equivalent to a full set of Arrow securities. In our applications
below, we will demonstrate most of our results in a two-state setup that captures crisis and normal
times. This reflects that crisis insurance is possible even if only two types of financial securities
are available. Our modeling choice is common in the theoretical literature analyzing the liability
composition of emerging market borrowers (see e.g. Caballero and Krishnamurthy, 2003).
To provide examples of how to map emerging market liabilities that are used in practice into
our framework of state-contingent securities: dollar debt can be captured in our model framework
as a security that repays one unit of traded good in all states of nature, Xtω+1 = 1∀ωt+1 ; CPI-indexed
local currency debt could be mapped into our model as a security that pays the value of one unit
6
of non-traded good, Xtω+1 = pω
t+1 ∀ ωt+1 ; etc.
Remark 2 (International Lenders). We take the supply of capital from international investors as
given and do not take a stance on what determines their pricing kernel mω
t+1 . It is a standard
observation that investors are averse to market risk. In addition, there may be a number of additional factors that induce investors to charge emerging market borrowers a premium, including the
risk that governments could inflate away domestic nominal returns or expropriate international
lenders (see e.g. Tirole, 2003; Du and Schreger, 2016). Our paper shows that the private liability
choices of emerging market agents exhibit inefficient externalities even if they face an exogenous
supply of risky funds from international lenders. The described factors may introduce additional
inefficiencies beyond what we describe here.
5 It

is straightforward to extend the model to explicitly include a nominal exchange rate. See e.g. Végh (2012) for a
variety of options on how to introduce nominal exchange rates in small open economy models.
6 An alternative would be to define an exogenous set of securities that can be traded by individual borrowers. We
describe this case in appendix B.1.2 and show that the analysis proceeds along similar steps as our baseline model but
is more complicated and requires additional notation.

7

We impose the following assumption, which captures that domestic agents generally have an
incentive to decumulate wealth over time,
β < E [mω
∀t, ωt
t +1 ]


where the expected pricing kernel E mω
t+1 = 1/R corresponds to the inverse of the risk-free
interest rate in international capital markets. The assumption is thus equivalent to the condition
βR < 1 in models of uncontingent borrowing by emerging market economies.
However, to capture that there are limits on the external liabilities that domestic agents can
incur, we assume that domestic financial markets are subject to a financial constraint: domestic
agents suffer from a moral hazard problem that limits the total amount of financial liabilities that
they can incur in period t to a fraction φ of their total income,
ω
E [mω
t+1 bt+1 ] + φ [ y T,t + pt y N,t ] ≥ 0

(3)

A micro-foundation for this constraint is that domestic agents can divert wealth but investors can
seize up to a fraction φ of their income. See appendix A.1 for an analytic description of this moral
hazard problem and how it relates to the broader literature on balance sheet crises in emerging
market economies.
Remark 3 (Specification of Financial Constraint). The crucial characteristic of our specification is
that the financing capacity of private agents depends on the real exchange rate pt . Depreciations
in the exchange rate reduce their financing capacity and give rise to so-called “contractionary depreciations” when financial constraints are binding. This phenomenon is widely documented in
emerging economies that suffer financial crises and is an integral part of models of balance sheet
crises in emerging economies (see e.g. the citations in footnote 1).7
The financial constraint (3) limits the total market value of all financial liabilities issued by
domestic agents – it does not distinguish e.g. between debt and equity. This can be motivated
from the observation that similar agency problems arise for all types of external finance, no matter
whether it is contingent or uncontingent.8 In appendix B.1, we have analyzed the implications of
alternative specifications to investigate the robustness of the constraint (3) by (i) imposing it on a
state-by-state basis and by (ii) differentiating between the tightness of constraints on different types
of financial liabilities, such as dollar-denominated bonds and equity. We show that both of these
specifications deliver similar analytic expressions for optimal prudential policy intervention.9
7 For

empirical evidence that the majority of collateral in emerging economies derives from non-traded goods, see
e.g. Calomiris et al. (2017).
8 To underline the similarity of these agency problems, Tirole (2006, ch. 3), for example, describes the agency problem
between lenders and borrowers and that between inside and outside shareholders using an identical model setup.
9 If the cost of binding constraints is calibrated to similar levels in these alternative specifications, our baseline calibration approach in section 3 for prudential capital controls also remains valid. The intuition is that optimal prudential
taxes on capital flows depend on the social cost of tightening economy-wide constraints at the time of repayment, not
on the exact specification of constraints at the time of issuance.

8

The strategy of domestic agents is to choose a path of consumtion (c T,t , c N,t ) and a portfolio
of state-contingent security holdings {btω+1 } so as to maximize utility (1) subject to the budget
constraint (2) and the financial constraint (3). We assign the shadow prices λt and µt to the two
constraints and report the Lagrangian to the optimization problem in the appendix. The optimality
conditions of domestic agents are
FOC (c T,t ) : λt = u T,t

(4)

FOC (c N,t ) : pt λt = u N,t
ω
FOC (btω+1 ) : mω
t+1 ( λt − µt ) = βλt+1

where we denote by u T,t = ∂u (c T,t , c N,t ) /∂c T,t the partial derivative of the period utility with
respect to traded consumption, and similarly for u N,t .
Given their impatience, domestic agents decumulate wealth until they reach the neighborhood
of the binding constraint (3). In the ergodic equilibrium, the economy fluctuates between periods
of binding constraints and periods of loose constraints in that neighborhood.

2.1

Decentralized Equilibrium

The decentralized equilibrium in the described economy consists of a sequence of allocations

c T,t , c N,t , btω+1 and real exchange rates ( pt ) that satisfy the optimization problem of domestic
agents and that clear the market for non-traded goods c N,t = y N,t and for traded goods every
period, with the latter being guaranteed by the economy’s external budget constraint (2).
In solving for the equilibrium, we observe:
Lemma 1 (Real Exchange Rate). The economy’s real exchange rate is a strictly increasing function of the
ratio c T,t /y N,t , i.e.
pt = p (c T,t /y N,t )
(5)
with p0 (c T,t /y N,t ) > 0.
Proof. The result follows from combining the first two optimality conditions, the non-traded marketclearing condition c N,t = y N,t , and the homotheticity of the utility function.
Intuitively, the real exchange rate adjusts to reflect the relative scarcity of traded goods in the
economy. For example, when there are large capital inflows, the domestic absorption of traded
goods increases. Since traded and non-traded goods are complements, this increases the demand
for non-traded goods, and domestic agents bid up the relative price pt of the non-traded goods
as described in the lemma, leading to a real exchange rate appreciation and vice versa for capital
outflows.10
10 Although

exchange rates are notoriously disconnected from fundamentals during normal times (see Meese and
Rogoff, 1983), they systematically experience sharp depreciations during emerging market financial crises (see e.g. Reinhart and Rogoff, 2009). Even in countries with pegged nominal exchange rates, real exchange rates still depreciate due

9

Portfolio Allocation Problem and Optimal Risk-sharing The Euler equation of decentralized
agents describes how domestic agents share risk with international lenders. For any state ωt+1 ∈
Ωt+1 , optimal risk-sharing requires that
u T,t =

βuω
T,t+1
mω
t +1

+ µt

(6)

i.e. the marginal rates of substitution between domestic agents and international investors are
equated across all states of nature ωt+1 in period t + 1. In addition, if the financial constraint in
period t is loose, then µt = 0 and domestic agents also equate their intertemporal marginal rate of
ω
substitution with that of international investors, βuω
T,t+1 /u T,t = mt+1 ∀ ωt+1 .
If international investors were risk-neutral, domestic agents obtain perfect consumption insurance across all states of nature. If insurance from international investors is costly, domestic agents
choose an unsmooth consumption profile that optimally trades off risk versus return. In good
states of nature when international investors put a low price on consumption (low mω
t+1 ), domesω
tic agents choose high consumption (low u T,t+1 ). Conversely, in states of nature towards which
international investors are highly risk-averse (high mω
t+1 ), domestic agents choose low consumpω
tion (high u T,t+1 ). Capital market integration with risk-averse international capital markets may
therefore involve significant consumption fluctuations across different states of nature.
Financial Amplification When the financial constraint on domestic agents is binding, a marginal
change in the wealth of domestic agents leads to financial amplification, as we illustrated in Figure
1. We show this analytically by focusing on a state of nature and period in which the economy
is constrained and substituting the collateral constraint (3) and the non-traded market-clearing
condition into the budget constraint (2):
c T,t = y T,t + bt + φ [y T,t + p (c T,t /y N,t ) y N,t ]

(7)

Abbreviating the derivative of the exchange rate function by p0 , we obtain the following characterization:
Lemma 2 (Financial Amplification). In a constrained period, a marginal increase in aggregate wealth bt
relaxes the financial constraint by


ω
−dE mω
φp0
t + 1 bt + 1
=
(8)
dbt
1 − φp0
and raises traded consumption by


ω
−dE mω
dc T,t
1
t + 1 bt + 1
= 1+
=
>1
dbt
dbt
1 − φp0

(9)

to deflationary pressures, and the nominal peg frequently collapses during crises, giving way to strong nominal and
real depreciations.
Our model does not aim to describe real exchange rate fluctuations during normal times, which is famously difficult.
Instead, the real exchange rate in our model only matters during crises, i.e. when the financial constraint is binding
and financial amplification dynamics play out. The real exchange rate predictions of our model are consistent with the
evidence under those circumstances.

10

Proof. We obtain the results from implicitly differentiating expression (7).
The inequality in equation (9) captures the phenomenon of financial amplification when the
constraint is binding.11 We can disentangle the effect of higher net worth bt into two parts, given by
the two additive terms in the middle of equation (9). First, it leads to a direct one-for-one increase in
consumption. Secondly, it relaxes the constraint and triggers financial amplification effects: higher
consumption appreciates the real exchange rate, captured by p0 , which in turn allows for more
borrowing φp0 , a further increase in consumption and so on. We can also re-write the expression
as a geometric sum of the initial effect of increasing net worth 1 plus successive rounds of relaxing
2
the financial constraint, 1 + φp0 + (φp0 ) + ... = 1−1φp0 , which all occur instantaneously in period t.
We observe another insight by taking the inverse of equation (9). For any increase in traded
consumption dc T when the constraint is binding, a fraction 1 − φp0 is financed by higher net worth
db and the remaining fraction φp0 is financed by additional borrowing. We will use this result
below to quantify the strength φp0 of financial amplification effects.
Assumption 1 (Uniqueness of Equilibrium). The utility function and endowments are such that φp0 <
1 ∀ω, t.
If this condition was violated, the economy would be prone to multiple equilibria: starting from
a given constrained allocation at which φp0 ≥ 1, a coordinated increase in the consumption of all
agents by a marginal unit would appreciate the real exchange rate and relax the constraint by at
least one unit so that the increase in consumption can be financed by issuing additional securities
without violating the financial constraint. This can be repeated either until domestic agents reach
their optimal unconstrained level of consumption or until the economy becomes constrained at
higher levels of consumption at which φp0 < 1 is satisfied. In both cases, there exists another
equilibrium in addition to the original equilibrium at which φp0 ≥ 1. This multiplicity is a wellknown property of models of endogenous financial constraints (see e.g. the discussion in Korinek
and Mendoza, 2014).
Since the price function p (c T /y N ) is a general equilibrium object that depends on policy functions that do not necessarily have an explicit representation, it is impossible to characterize conditions on fundamental parameters that are equivalent to Assumption 1 in general. However, in our
calibration below we assume that inter- and intratemporal preferences are given by CES utility
functions, which allows us to obtain a closed-form expression for φp0 (·) as reported there. This
expression implies that the assumption is satisfied for standard parameter values.

2.2

Constrained Social Planner

We determine the scope for capital flow regulation in the described economy by introducing a
constrained social planner who is subject to the same financial constraint (3) as private agents.
We assume that the planner has the power to determine the portfolio allocation btω+1 of domestic
11 A

detailed description of this amplification mechanism can be found in in Krugman (1999) and Mendoza (2005).

11

agents. We will show below that this is equivalent to the setup of a constrained Ramsey planner
who imposes taxes/regulations on capital flows btω+1 . Private agents continue to choose how to
allocate their income to the consumption of traded and non-traded goods. As a result, the planner
needs to respect the optimality condition (5) of private agents, which pins down the real exchange
rate and serves as an implementability constraint to the planning problem.12

The problem of the planner is to pick a path of real variables c T,t , c N,t , btω+1 that maximize
utility (1) subject to the resource constraints given by c N,t = y N,t and (2), as well as subject to
the financial constraint (3) and the implementability constraint (5). Given that non-traded consumption is pinned down by non-traded endowment, the planner has a single relevant decision
margin every period: how much traded wealth to consume versus how much to save in different
state-contingent securities.
∞

ω
max
E ∑ βt u (c T,t , y N,t ) s.t. c T,t + E [mω
t+1 bt+1 ] = y T,t + bt
ω

c T,t ,bt+1

(10)

t =0

ω
E [mω
t+1 bt+1 ] + φ [ y T,t + p ( c T,t /y N,t ) y N,t ] ≥ 0

The critical difference between the planner’s problem (10) and the optimization problem of decentralized agents is that the planner internalizes the effects of aggregate traded consumption on the
real exchange rate p and therefore on the financial constraint, as captured in the second line of the
problem. Assigning the shadow prices λ̃t and µ̃t to the two constraints, the planner’s optimality
conditions are
FOC (c T,t ) : λ̃t = u T,t + µ̃t φp0 (c T,t /y N,t )

ω
∀ω
FOC (btω+1 ) : mω
t+1 λ̃t − µ̃t = β λ̃t+1
The first optimality condition highlights that the social value of additional wealth consists not only
of the marginal utility u T,t of consuming it, as in the private optimality condition (4), but also of
relaxing the financial constraint. When the financial constraint is loose so µ̃t = 0, the expressions
for the social and private value of additional wealth are identical so λ̃t = λt . Combining the two
optimality conditions, we obtain



ω
ω p0 cω
ω
β
u
+
φ
µ̃
/y

T,t+1
t +1
T,t+1
N,t+1
∀ω
(11)
u T,t − µ̃t 1 − φp0 (c T,t /y N,t ) =
ω
m t +1
In every period, the planner equates the social marginal rates of substitution between domestic
agents and international investors across all states of nature ωt+1 for the following period. The
social marginal benefit of wealth of domestic agents includes the effects of additional wealth on
the constraint.
12 This

setup follows the tradition of Stiglitz (1982) and Geanakoplos and Polemarchakis (1986) and captures that
policymakers have instruments to regulate financial market allocations, but that they are subject to the laws of demand
and supply when they attempt to manipulate market prices such as the exchange rate. We will consider additional
policy instruments below in section 5.

12

Implementation via Taxes The planner can equivalently implement her optimal allocations by
using taxes on the security issuance of domestic agents in a decentralized setting.
Proposition 1 (Constrained Efficient Allocation). The planner implements the constrained efficient allocation in the economy by imposing non-negative taxes on the sale of state-contingent Arrow securities btω+1
of
 βµ̃ω
t +1
ω
0
ω
ω
τt+1 = φp c T,t+1 /y N,t+1 ·
≥0
(12)
u T,t
Proof. A detailed derivation is reported in appendix A.3. The intuition is that we can replicate
the generalized Euler equation (11) of the planner by substituting the tax rates τtω+1 into the Euler
equation of private agents under taxation. Furthermore, comparing the private optimality condition (6) with the planner’s optimality condition (11), we observe that the planner’s shadow price
of being constrained will satisfy

µ̃t 1 − φp0 = µt
(13)

The optimal tax (12) is a prudential policy instrument: it depends not on whether the economy
is presently constrained but on whether the economy is at risk of hitting binding constraints in
the future. Specifically, the tax rate τtω+1 is zero for securities that are contingent on future states
of nature ωt+1 in which the financial constraint will be loose. It is positive and reflects the uninternalized social benefit of carrying additional wealth into states ωt+1 of period t + 1 in which the
financial constraint will be binding.
The expression for the optimal tax rate (12) consists of three elements: the term p0 (·) captures
how much an additional unit of liquid wealth in period t + 1 will appreciate the value of nontraded collateral; the term φ captures how much additional borrowing capacity this will deliver;
the term βµ̃t+1 /u T,t captures the welfare benefit of relaxing the binding constraint normalized by
the marginal utility of traded consumption, i.e. expressed in terms of the numeraire good. This
latter term is zero if the economy is unconstrained in state ωt+1 .
The planner’s intervention described in Proposition 1 is time-consistent, as can easily be verified – the optimal tax (12) on liability issuance depends only on current and future objects so
there is no value to commitment. (In section 5.3 we will show that this is no longer the case if an
equivalent tax wedge is impose on the repayment of liabilities.)
Furthermore, the allocation implemented by the planner achieves a Pareto improvement: The
welfare of domestic agents is higher by revealed preference of the planner: the planner could pick
the allocation of decentralized agents by setting zero taxes but instead chooses to pick the positive
tax rates (12) that alter this allocation. International lenders are large and are indifferent between
purchasing securities or not so their welfare is unchanged.
Regulating Composite Securities In practice, policymakers are interested in regulating realworld securities, such as different types of debt or equity, rather than Arrow securities. In our
13

framework, we can view such securities as composite bundles of state-contingent Arrow securities, and we can easily extend our analysis to this case.
We denote the state-contingent payoff profile of a given composite security by a payoff vector
ω
Xt+1 . For example, the payoff profile of a dollar-denominated discount bond D can be denoted by a
vector Xtω+1 (D) = {1} since it pays one unit of traded good in all states of nature of the following
period. Similarly, bonds indexed to the real exchange rate Rn or GDP-indexed bonds
Y can be
o
 ω
ω
ω
ω
ω
ω
denoted by the vectors Xt+1 (R) = pt+1 and Xt+1 (Y ) = y T,t+1 + pt+1 y N,t+1 , respectively,
since the payoffs of the two correspond to the value of the real exchange rate and of aggregate
output. This allows us to extend our results on capital flow regulation to securities with arbitrary
payoff profiles:
Corollary 1 (Regulating Capital Flows). The optimal specific tax on a capital inflow with payoff vector
Xtω+1 is
t ( Xtω+1 ) = E [τtω+1 Xtω+1 ]
(14)
We thus call τtω+1 the externality pricing kernel of the economy. If Xtω+1 < 0 then equation (14) provides
the optimal subsidy on capital outflows.
Proof. The optimal specific tax t ensures that the no-arbitrage condition for the purchase of a corresponding bundle of Arrow securities btω+1 = Xtω+1 is satisfied. A more detailed derivation is
reported in appendix A.3.
This optimal tax reflects the social cost of the externalities created by issuing one unit of a
security with payoffs Xtω+1 in terms of the numeraire good. Conversely, it also reflects the social
benefit of saving one unit of a security with payoffs Xtω+1 .
Expression (14) takes on a very similar form to standard asset pricing conditions, making it
natural to define the term τtω+1 as the externality pricing kernel of the economy. Just like a regular
pricing kernel, the externality pricing kernel is a state-contingent variable that quantifies the externality of a unit payoff in state ωt+1 of period t + 1. The externality pricing kernel is zero when the
financial constraint in period t + 1 is loose and no externalities occur; it is positive and captures the
cost that the tightening constraint imposes on other domestic agents when the financial constraint
in period t + 1 is binding.



ω
ω
International lenders are willing to pay q Xtω+1 = E mω
t+1 Xt+1 for a payoff vector Xt+1 , but





ω
ω
the social benefit to the domestic economy is q Xtω+1 + t Xtω+1 = E mω
t+1 + τt+1 Xt+1 . We

ω
can therefore view the stochastic variable mω
t+1 + τt+1 as the social pricing kernel of the domestic
economy. The social benefit of a marginal unit of wealth is equal to the private benefit in those
states ωt+1 in which the financial constraint is loose. It is increased by the value of relaxing the
constraint when the financial constraint is binding.
The case Xtω+1 < 0 captures a capital outflow in period t that leads to a state-contingent inflow in period t + 1, for example from savings or investments abroad that are repatriated in the
following period. Receiving a payoff from abroad generates the opposite externalities of making a
payoff to foreigners in period t + 1, and this results in a negative optimal tax in equation (14), i.e.
14

in a subsidy. In line with our earlier discussion, it would be desirable to impose such prudential
subsidies on capital outflows in periods when the financial constraint is slack to obtain positive payoffs from foreigners in future periods in states of nature when the financial constraint is binding.
This policy could be interpreted as a subsidy to purchasing crisis insurance or to private foreign
reserve accumulation. However, one practical caveat to providing such subsidies is that it is difficult to ensure that repatriation will actually occur at the desired times, i.e. during crises when the
financial constraint is binding.

3

Empirical Investigation Using Sufficient Statistics

We employ sufficient statistics to quantify the externalities of capital flows that we identified in
the previous section. In other words, we impose assumptions on the functional forms and map the
mathematical terms that describe the externalities in Proposition 1 and Corollary 1 into empirically
observable magnitudes that can be readily obtained from the data.
There are two important benefits to such a sufficient statistics approach compared to a model
calibration: First, it minimizes the data required to quantify optimal policy measures. It does
not require estimating all of the structural parameters of our model, some of which are difficult
to obtain empirically and subject to considerable uncertainty. Second, the sufficient statistics are
intuitive, transparent, and robust to a number of extensions of our basic model structure, as we
show in section 5.
Naturally, there is also a caveat: it is difficult to use sufficient statistics to perform counterfactual analysis of how equilibrium will change in response to changes in fundamental parameters
or to the imposition of policies.13 For robustness and to address these concerns, we will thus complement and compare our sufficient statistics approach with quantitative simulations of a DSGE
version of our model below in section 4. For a detailed evaluation of the benefits and disadvantages of DSGE models see Korinek (2018).
There is also a limitation that applies to both sufficient statistics and calibration approaches,
but that becomes perhaps more transparent under a sufficient statistics approach: our analysis is
based on data from historical financial crises, which are (fortunately) rare events. Our estimates
are point estimates that capture the specific circumstances of the economies and events under
consideration. They are only applicable to the future in the absence of structural changes in the
described economies. This caveat also applies to DSGE model simulations that are calibrated to
replicate past crises episodes, as is commonly done in the literature.
13 The

latter problem is frequently referred to as the ‘Lucas critique.’ However, by imposing mild additional assumptions on behavioral responses, we will show below that sufficient statistics can also be used to investigate how the
externalities of capital flows change in response to the imposition of optimal capital flow regulation (see footnote 23).

15

List of Sudden Stop Episodes We consider a sample of Sudden Stop episodes during the period
of 1994 to 2013 based on the dataset of Korinek and Mendoza (2014).14 Table 1 reports our list of
sudden stop episodes. In the spirit of Calvo (1998), we define the peak quarter of each episode as
the quarter within each episode in which the greatest current account reversal occurred compared to four quarters before. For example, in Thailand the greatest current account/GDP reversal
occured from a CA/Y ratio of -4.7% in 1997Q1 to 16.3% in 1998Q1. The third column lists the
magnitude of the current account reversal ∆CA/Y in that quarter.
Peak Quarter ∆CA/Y

Country
Thailand
S Korea
Malaysia
Indonesia
Russia
Turkey
Argentina

1998Q1
1998Q1
1998Q2
1998Q3
1998Q4
2001Q2
2002Q3

20.9%
20.8%
21.8%
10.0%
13.9%
8.2%
3.1%

Table 1: List of sudden stop episodes

Our objective is to characterize the externalities associated with private capital flows in the year
leading up to the peak period of each of these sudden stop episodes.
Sufficient Statistics Substituting for µ̃ from equation (13), we express the externality pricing kernel τtω+1 in equation (12) as the product of the following two terms,
τ=

φp0 (c T /y N )
βµ
·
u T 1 − φp0 (c T /y N )

The first term, the normalized shadow price βµ/u T , expresses the tightness of the financial constraint normalized by marginal utility. This term captures the private benefit in terms of dollars
of relaxing the financial constraint by one marginal dollar. The expression can equivalently be
interpreted as the shadow interest rate premium of domestic private agents, i.e. the interest rate
14 These

countries include the four countries most affected by the East Asian crises, which were the first prototypical
examples of emerging market crises driven by balance sheet effects of private borrowers (see e.g. Krugman, 1999), as
well as the three largest crises (as measured by the size of support via international rescue packages) in the following
decade but prior to the Great Financial Crisis of 2008/09. We exclude sudden stop episodes that occurred during or
shortly after the Great Financial Crisis since the latter had effects on worldwide financial markets and trade networks
that may have been partly responsible for the observed contraction in capital flows and output. However, in principle,
our method is applicable to any country that experiences a sharp decline in domestic absorption coinciding with a
current account reversal that can reasonably be interpreted as the result of balance sheet effects and binding financial
constraints.

16

premium that would have to prevail so they domestic agents indifferent between being constrained or not.
We determine βµ/u T by measuring how much domestic consumption declines below its HPfiltered trend during financial crises and imposing a parametric assumption on utility. Specifically,
we assume that domestic agents are on their Euler equation u T (c T , ·) = βE [u0T /m0 ] if consumption c T equals trend consumption c̄ T , and that declines below this trend during financial crisis
events are driven by binding financial constraints. A first-order Taylor approximation to the Euler
equation of domestic agents then implies15
βµ
∆c
≈ −σ · T
uT
c̄ T

(15)

where we define ∆c T /c̄ T = (c T − c̄ T ) /c̄ T the decline of consumption below its trend, and where
σ is the elasticity of substitution of traded consumption, σ = −c̄ T · u TT /u T , for which we assume
the standard value σ = 2 in macroeconomics.
We approximate the percentage decline in consumption ∆c T /c̄ T from its trend using the percentage reduction in domestic absorption from its trend in the data. Absorption is defined as the
sum of consumption, investment and government spending, and equals GDP minus net exports.
In our model, consumption equals absorption since we do not explicitly account for government
spending and investment.16
We determine the deviation of absorption from trend by looking at the average deviation of
absorption from trend during the four quarters starting with the peak of the sudden stop. In
Thailand, for example, we date the peak of the sudden stop as 1998Q1 and we find absorption
to be on average 15.0% below trend during the four quarters of 1998. We list the corresponding
values for the normalized shadow price βµ/u T for different sudden stop episodes in column 3 of
15 To obtain the approximation, we express the shadow price of domestic agents from the wedge in their Euler equation

as


µ = u T (c T , ·) − βE u0T /m0 = u T (c T , ·) − u T (c̄ T , ·)
where the second step follows from the assumption that trend consumption satisfies the Euler equation with equality.
Then we approximate the right-hand side around c T = c̄ T and divide by u T .
16 Using absorption rather than consumption data for our sufficient statistics and, later, for the calibration of our
quantitative model, thus allows us to map the budget constraint in the model c T = y T − ( E [m0 b0 ] − b) to the accounting
identity in the data that absorption equals GDP minus net exports, Ab = Y − ( NX ). Otherwise, there would be a discrepancy between consumption and current account movements and the mapping from the data to our model is less clean.
During sudden stops, all three components of absorption are typically subject to severe constraints and experience large
declines. We performed robustness tests using consumption data instead of absorption data and obtained estimates of
similar magnitude.
Furthermore, observe that we use data on total absorption rather than absorption of traded goods since reliable
sector-specific absorption data is not available for most of the countries and sudden stop episodes that we consider. For
a given functional form of the utility function, any value of the elasticity of substitution of composite consumption can
be translated into an equivalent elasticity of substitution of traded consumption under which equation (15) is valid. For
CES specifications of the utility of traded and non-traded consumption, such as the one that we use in the quantitative
analysis of section 4, the two elasticities in fact coincide as long as traded and non-traded consumption move in parallel.

17

Table 2. Our estimates are all positive, capturing that absorption declines below trend in typical
financial crises.
Country
Thailand
S Korea
Malaysia
Indonesia
Russia
Turkey
Argentina

Date

βµ
uT

1998Q1
1998Q1
1998Q2
1998Q3
1998Q4
2001Q2
2002Q3

30.0%
31.6%
31.6%
16.8%
14.9%
19.1%
21.0%

φp0
1−φp0

1.21
1.39
.39
.30
.46
.54
.17

τ
36.3%
44.1%
12.2%
5.1%
6.8%
10.3%
3.6%

Table 2: Sufficient statistics and externality
The second term, φp0 / (1 − φp0 ), captures how much additional net worth will relax the constraint. Specifically, the numerator of the expression, φp0 , describes by how much the constraint
is relaxed in response to an increase in domestic consumption. The denominator reflects that an
increase in net worth increases consumption not only directly but also indirectly via amplification
effects, as described in Lemma 2. We use this lemma to obtain our second sufficient statistic: we
divide the two expressions (8) and (9) from the lemma to obtain

−∆E [m0 b0 ]
−dE [m0 b0 ]
= φp0 ≈
dc T
∆c T

(16)

Intuitively, the expression describes how external financial liabilities and traded consumption
co-move when the economy experiences wealth shocks and the financial constraint is binding:
a fraction φp0 of any change in consumption dc T is due to the tightening financial constraint
−dE [m0 b0 ]. Conversely, the remaining fraction 1 − φp0 is due to the wealth shock itself. We approximate the marginal effect in equation (16) by the average effect.
We map the right-hand side of expression (16) to the data by observing that the current account
is defined as the change in the net external wealth of a country in a given time period. We equate
the change in external wealth −∆E [m0 b0 ] to the deviation in the current account from its HPfiltered trend in the year starting with the peak of the sudden stop. Furthermore, we map ∆c T
to the decline in absorption over the same period. For example, in Thailand, the current account
deficit declined by 8.2% in 1998. Absorption declined by 15.0% of GDP, implying an estimate for
φp0 ≈ .55 and φp0 / (1 − φp0 ) ≈ 1.21. The estimates for other countries are listed in column 4 of
Table 2.
The externality term τ is obtained by multiplying the two terms and is listed in the last column
of the table. It reflects the percentage social cost of a marginal capital outflow during the described
sudden stop episodes. For example, we estimate the externality of capital outflows in Thailand
18

1998Q1 as 36% of the outflow – in other words, the total social cost of a capital outflow was more
than one third larger than the private cost.
The externalities in South Korea’s sudden stop of 1998Q1 were of similar magnitude. Malaysia
experienced somewhat smaller externalities in 1998Q2, potentially due to the use of restrictions
φp0
on capital outflows that mitigated the factor of amplification 1−φp0 . In both the sudden stops of
Indonesia 1998Q3 and Russia 1998Q4, the externalities are estimated to be lower because both
absorption and the current account deviated less from their HP-filtered trend during their sudden
stops – the crises in the two countries were so prolongued that the trend on both variables dipped
significantly.17 Turkey in 2001Q2 exhibited externalities of similar scale to Malaysia. Interestingly,
our estimates for the externalities of capital flows to Argentina are comparably small – presumably
because the main problem in Argentina’s sudden stop of 2002 was sovereign default rather than
private balance sheet problems.
Payoff Profile of Different Capital Flows We describe the realized real payoffs of five different
categories of capital flows during our sudden stop episodes.18 Table 3 lists the nominal depreciation of the local currency e/et−4 (with higher values indicating greater depreciation) as well as
nominal consumer price inflation Π over the four quarters leading up to the peak quarter. For
example, in the case of Thailand, the exchange rate depreciated from 25.86 THB/USD at the end of
1997Q1 to 47.09 THB/USD at the end of 1998Q1, and consumer prices rose by 9%. In the ensuing
five columns, the table lists the real gross returns of five categories of capital flows in terms of a
domestic consumption basket:
Dollar debt R$ : When domestic agents borrow in dollars, they expose themselves to real exchange
rate risk. The real gross return on dollar debt consists of the principal plus the dollar interest
rate 1 + r$ times the increase in the value of foreign currency e/et−4 deflated by the increase
in consumer prices (1 + Π), or R$ = (1 + r$ ) (e/et−4 )/(1 + Π).
GDP-indexed debt RY : GDP-indexed dollar debt adjusts the real returns on dollar debt for unexpected shocks to GDP. We multiply the gross return on dollar debt by the deviation in GDP
from its expectation, RY = R$ · Y/E[Y ], where we approximate expected output E[Y ] by
HP-filtered trend output.
CPI-indexed debt RΠ : The real return on CPI-indexed local currency debt consists of the contractual interest rate adjusted for expected nominal inflation, RΠ = (1 + r L )/ (1 + E[Π]) where
17 This observation suggests that it may be desirable to use a slightly higher smoothing parameter

λ in the HP-filter to
determine deviations from trend in countries that suffered prolonged crisis, as also recommended by Drehmann, Borio
and Tsatsaronis (2012) to measure financial cycles. The resulting estimates of externalities are somewhat larger than
those reported in Table 2 – detailed results are available from the author upon request. However, for consistency with
the existing literature, we used the standard smoothing parameter for quarterly data λ = 1600.
18 One of the strengths of our sufficient statistics approach is that it is sufficient to describe the realized payoffs of
different types of financial contracts during sudden stops without specifying the full stochastic process of the payoffs
across all states of nature. This allows us to obtain externality estimates during crises for a wide range of financial
securities.

19

we approximate expected inflation E[Π] by the rise in the HP-filtered consumer price index.
Local currency debt R L : The real return on nominal local currency debt consists of the nominal
local currency interest rate r L deflated by the realized increase in consumer prices, R L =
(1 + r L ) / (1 + Π ).
Equity investment RQ : Finally, for the average real return on equity portfolio investment, we
deflate the nominal return on the country’s main stock market index Q by the CPI, RQ =
( Q/Qt−4 )/(1 + Π).
Country
Thailand
S Korea
Malaysia
Indonesia
Russia
Turkey
Argentina

Date
1998Q1
1998Q1
1998Q2
1998Q3
1998Q4
2001Q2
2002Q3

e/et−4 1 + Π
1.82
1.84
1.53
4.39
3.46
2.03
3.69

1.09
1.09
1.06
1.76
1.70
1.52
1.36

R$

RY

1.77
1.79
1.53
2.63
2.15
1.42
2.80

1.64
1.69
1.44
2.20
1.97
1.33
2.53

RΠ

RL

RQ

1.05 1.01
1.06 1.01
1.04 1.02
1.01 .69
.81 .65
.99 .93
1.12 .90

.59
.69
.49
.35
.26
.43
.89

Table 3: Realized gross returns on different asset categories during sudden stops

Finally, let us observe that capital flows that are unlikely to reverse during financial crises, such
as greenfield FDI, do not generate externalities.
Externalities of Capital Flows We combine the externality kernel during sudden stop episodes
from Table 2 with the realized returns data during sudden stop episodes from Table 3. To obtain
the Pigovian tax to offset the externality of issuing a security with payoff profile X, we need to
characterize the expectation E[τX ]. Recall that the externality kernel in unconstrained time periods
is zero; therefore the returns in unconstrained periods are irrelevant for our calculation. We can
multiply the externality kernel conditional on a crisis with the ex-ante probability of a crisis and
the realized returns during crises so that E[τX ] = πτR X . Our sample period spans 1993 – 2012,
and each of the countries experienced only one sudden stop episode in which financial constraints
were clearly binding at the aggregate level. We therefore set the probability of crisis in each country
to π = 5%, corresponding to a crisis incidence of once every twenty years.19
Table 4 lists our estimates of the Pigovian taxes required to offset the externalities of different
types of capital inflows. These can equivalently be interpreted as the long-run externalities of
capital inflows when the probability of crisis is at its average:
19 Eichengreen

et al. (2008) estimates the long-run incidence of sudden stops in an emerging economy to be 5.5%.
More broadly, we could also adjust our results for time variation in the probability of a sudden stop, for example if an
emerging economy has recently experienced a large credit boom.

20

Country
Thailand
S Korea
Malaysia
Indonesia
Russia
Turkey
Argentina

π
5%
5%
5%
5%
5%
5%
5%

τ
36.3%
44.1%
12.2%
5.1%
6.8%
10.3%
3.6%

E[τR$ ] E[τRY ] E[τRΠ ] E[τR L ] E[τRQ ]
3.20%
3.94%
0.94%
0.67%
0.73%
0.73%
0.49%

3.09%
3.69%
0.90%
0.62%
0.68%
0.69%
0.44%

1.91%
2.33%
0.64%
0.26%
0.27%
0.51%
0.20%

1.83%
2.23%
0.62%
0.18%
0.22%
0.47%
0.16%

1.07%
1.52%
0.30%
0.09%
0.09%
0.22%
0.16%

Table 4: Pigovian taxes on different categories of capital flows
The table displays a clear ranking: Dollar debt imposes the greatest externalities among the
capital inflows under consideration. The intuition is that emerging market crises involve significant depreciations in the exchange rate which multiply the value of dollar debt obligations from
the point of view of domestic agents and lead to adverse balance sheet effects (cp. Table 3) and
feedback loops. In the case of Thailand 1998Q1, for example, the baht exchange rate rose by 82%,
creating an externality of 66.1% per unit of dollar debt during the sudden stop, which we translate
into a long-run externality of 3.20% of the value of dollar debt.
The long-run externalities from GDP-linked debt are only marginally lower – 3.09% in the case
of Thailand. GDP-linked debt provides for some insurance – the coupon is reduced by the same
percentage as the growth rate of the country – but is typically still denominated in foreign currency,
giving rise to adverse valuation effects.20
CPI-indexed local currency debt allocates the risk of real exchange rate depreciations to international investors but protects them from inflation risk. In the event of a crisis, international
investors suffer considerable losses – 55% during the sudden stop in Thailand 1998Q1 – but domestic agents are protected against contractionary real depreciations. CPI-indexed debt therefore
imposes considerably lower long-run externalities on the economy – 1.91% in our estimate derived
from Thailand’s 1998Q1 sudden stop.
Unindexed local currency debt allocates the risk of both currency depreciation and inflation to
international investors. Since severe sudden stops frequently trigger a spike in inflation, this provides domestic agents with additional insurance. In Thailand, inflation was relatively moderate
during the 1998Q1 sudden stop, but Indonesia, for example, experienced a 76% increase in consumer prices during the sudden stop of 1998Q3, implying that domestic agents who had borrowed
in local currency saw the nominal value of their debts decline to 1/1.76 = 57% of its original real
value.
Equity investments expose international investors not only to exchange rate risk but also to
the business risk of domestic agents. Sudden stops and the ensuing financial crises lead to sharp
20 In

principle, this problem could be addressed by making GDP-linked bonds a levered bet on GDP. However, in
practice, GDP-linked bonds are structured such that only the coupon is linked to GDP growth and the principal is
returned in full in order for the security to be treated as a bond and make it appealing to a broader class of investors.

21

declines in economic activity and corporate profits and therefore to negative returns on equity
investments. In the case of Thailand, for example, the country’s main stock market index declined
by 41%. This leads to an estimate of the long-run externalities of foreign equity investments of
1.07%. Note that this is only about one third of the externalities of dollar debt.
We have not included greenfield foreign direct investment (FDI) in the Table. Such investment
occurs when foreign investors construct new operational facilities in a foreign country from the
ground up. Greenfield FDI exposes foreign investors to exchange rate and business risk and is
also quite illiquid. Since installed capital cannot easily be repatriated and is unlikely to yield
significant dividends in the event of a sudden stop, the externalities from greenfield FDI are close
to zero. This type of foreign investment is therefore the most benign.
In line with our discussion in Corollary 1, the externalities of capital outflows that are repatriated during crises are of the opposite sign of the externalities of the corresponding inflows. For
example, if private agents purchase crisis insurance that pays off whenever an economy experiences a financial crisis, the country would experience positive externalities given by the externality
kernel τ in Table 4. If private agents accumulate dollar reserves abroad during good times that are
guaranteed to be repatriated during crisis, the country would experience positive externalities of
the magnitude given for dollar flows in Table 4.

4

Quantitative Simulations

This section performs quantitative simulations of a calibrated version of our baseline model. The
objective of our simulations is twofold. First, we examine how closely the results from the sufficient
statistics approach and the simulations correspond to each other to check the robustness of the two
methodologies. Secondly, we use model simulations to analyze counterfactual policy experiments.
Equilibrium in the described economy can be characterized in recursive form by observing
that all variables in a given time period are determined by two state variables: the initial financial
wealth bt and the vector of endowment shocks yt = (y T,t , y N,t ) of the domestic agents. In the
remainder of the paper, we express all allocations and prices as a function of these state variables,
e.g. c T (b, y) and p (b, y), where we simplify notation by dropping time sub-scripts (unless required
for clarity).
We implement our numerical simulations using an endogenous gridpoints method for occasionally binding collateral constraints, as described in Jeanne and Korinek (2010b), extended to the
case of state-contingent financial markets.

4.1

Calibration

We calibrate our baseline model to yearly data with the objective of replicating the main macroeconomic dynamics of Thailand, with special focus on the sudden stop in 1997/98. For the utility
function, we choose β = 0.96 and period utility u (c) = c1−σ / (1 − σ) over a composite good in
which traded and non-traded goods enter in CES fashion c = c (c T , c N ) = [ acrT + (1 − a) crN ]1/r .
22

We use the standard value σ = 2 to replicate an elasticity of intertemporal substitution of 1/2. We
follow Mendoza (2005) in picking a traded goods share a = 0.4, and an elasticity of substitution
1
21
1−r = 0.8 between traded and non-traded goods.
We assume the output of both traded and non-traded goods follows a binary stochastic process
y T,t = y N,t ∈ {y H , y L }, where we equate the low realization of the output shock with sudden stop
episodes, which arise with i.i.d. probability π L = 5% to capture an average incidence of once every
20 years.22 We normalize y H = 1 and choose y L = .93 so as to replicate a decline in output of 7%
during sudden stops (see Table 1). We set the pledgeability parameter φ = 0.20 in accordance with
the finding that emerging economies frequently run into financial trouble when their net external
debts exceed 20% of GDP (see e.g. Reinhart et al., 2003). We calibrate (m L , m H ) = (1.25, .97) so as
to replicate a current account reversal of ∆E[mb]/y H = 8.2% in the event of a sudden stop shock,
as experienced by Thailand in 1998, and a risk-free real interest rate of 1.6%.

4.2

Policy Functions

Figure 2 depicts the policy functions c T (b, y), p (b, y) and bω 0 (b, y) as a function of the two state
variables (b, y), where we vary the initial financial wealth b along the x-axis and fix endowment
shocks to the high level y T = y N = y H . The dotted vertical line indicates the threshold b̂ at
which the financial constraint becomes slack: to the left of this threshold, the consumption function
c T (b, y) increases more than one-for-one in financial wealth b since domestic agents are constrained
and financial amplification effects are at work (cp. Lemma 2), and similar for the exchange rate
function p (b, y). To the right of the threshold, only a small fraction of any additional wealth is
consumed so both policy functions c T (b, y) and p (b, y) are much flatter.
The two lines b H 0 (b, y) and b L0 (b, y) indicate how much financial wealth domestic agents carry
into the two future states of nature H and L. The b H 0 -curve is V-shaped: To the left of b̂, when
the financial constraint is binding, additional financial wealth relaxes the constraint and allows for
greater security issuance against state H in the following period. Conversely, to the right of b̂, the
constraint is slack. When domestic agents receive additional financial wealth, they save most of it,
as captured by the fact that the b H 0 -curve is close to but below the 45◦ -line. These patterns arise
because in the given calibration, the borrowing constraint is slack (or only marginally binding) if
state H materializes in the following period.
To describe the b L0 -curve, we need to distinguish betwen two regimes: (i) For b < 1 in the current period, domestic agents are so poor that they willingly expose themselves to binding financial
21 Given

our specification of the utility function, it can easily be verified that our setup satisfies Assumption 1 by
observing that, in the neighborhood of c T = c N = 1,
 
 
cT
1 − a c T −r
1 − .4
8
= φ (1 − r )
= φ (1 − .25)
< 1 for φ < φ̂ =
φp0
cN
a
cN
.4
9
22 We

also considered calibrations with a larger number of states. However, since our main objective is to study
financial crises and insurance against financial crises, we found that the additional insights were small.

23

p

N

2.5
2

45°
bH’
cT

1.5
1
0.5
0

bL’

−0.5
b^

−1
−1

−0.5

0

0.5

1

b
1.5

Figure 2: Policy Functions
constraints if the low state L is realized in the following period, reflected in a choice of b L0 < −0.5.
In this region, small changes in b L0 lead to financial amplification and large changes in marginal
utility u TL0 . As a result, for b < 1, the allocation b L0 is almost unresponsive to changes in initial
financial wealth b. (ii) For b ≥ 1, domestic agents are sufficiently wealthy that they can afford
to carry enough wealth into the following period that they will be unconstrained even in the low
state L. Given the slack constraint, domestic agents spread their saving across both states H and L
in this region.
In Figure 3 we show the impulse response of an economy starting from the steady state that
is reached after a number of periods of high output shocks. We simulate a sudden stop shock in
period 5: The top panel depicts the output shock (dashed line) and the response of traded consumption (solid line), which is greater than the output shock because of financial amplification.
The middle panel shows that the real exchange rate moves in tandem with traded consumption –
it depreciates by 12%.
The third panel indicates the financial decisions of private agents: the solid line E [m0 b0 ] shows
that domestic agents are forced to delever, i.e. to reduce their financial liabilities, during the sudden

stop. Looking at the individual components b H 0 , b L0 , we find that domestic agents are willing to
take on a certain amount of sudden stop risk because b H 0 > b L0 ∀t. Once the sudden stop hits
in period 5, the deleveraging is stronger for b H 0 than b L0 : domestic agents delever in both b H 0
and b L0 such that their marginal utilities in states H and L of the next period decline by the same
percentage. Since domestic agents experience binding constraint in the L-state, consumption is
much more sensitive to changes in b L0 and they adjust b L0 only little when they have to delever.
This mirrors the flatness of the policy function b L0 in Figure 2.

24

Path of tradable output/consumption
yT
cT

1
0.95
0.9
0.85
1

2

3

4

5

6

7

8

9

10

Path of real exchange rate
p

2

N

1.9
1.8
1

2

3

4

5

6

7

8

9

10

ω

Path of net worth b ’
−0.52
−0.54
−0.56
−0.58
−0.6

bH’

1

2

3

4

E[m’b’]

bL’
5

6

7

8

9

10

ω

Externalities of inflows τ ’
0.4

τL’

0.2
0

1

2

3

4

5

6

7

8

9

τH’
10

T

Figure 3: Impulse Response to Low-Output Shock

25

4.3

Externalities

We quantify the externalities by calculating the tax wedges according to equation (12). The two tax

wedges τ H , τ L on claims contingent on states H and L are depicted in the fourth panel of Figure
3. The externalities in the high state of nature are close to zero. By contrast, in the low (sudden
stop) state of nature, the externalities are 32.5% in steady state and temporarily decline to 28.6%
after the deleveraging has reduced the liabilities in the sudden stop of period 5.

We can map the externalities of the Arrow securities b H , b L into those of real-world composite
securities in the same manner as in the previous section using realized real returns data as in Table
3. For example, a dollar bond in our calibration of Thailand corresponds to a bundle (1.05, 1.77) of
Arrow securities, where 1.05 reflects the principal and interest in normal times when the exchange
rate remains on average unchanged, and 1.77 reflects the increased real repayment that was realized during the 1997/98 sudden stop due to the real currency depreciation, as reported in the Table.
The optimal tax to internalize the externalities is given by Corollary 1.
Comparison with Sufficient Statistics In Table 5, we compare the tax wedge τ L and its components in our calibrated DSGE model with the wedge obtained from the sufficient statistics approach in the previous section.

Sufficient statistics approach
Calibrated DSGE model

βµ
uT

φp0

φp0
1−φp0

τL

30%
30%

0.56
0.52

1.21
1.08

36.3%
32.5%

Table 5: Comparison of externality pricing kernel τ L and its components
The term βµ/u T is almost identical using the two approaches. This is not surprising: since
the DSGE model was calibrated to replicate the current account reversal that was observed in the
data, domestic consumption declines by the same amount. For a given elasticity of intertemporal
substitution, the tightness of the financial constraint is the same. There is a small discrepancy
in the value of φp0 estimated by the sufficient statistics approach and by the calibrated model
and, by implication, in the factor of amplification φp0 / (1 − φp0 ), which derives from the linear
approximation of p0 . The resulting estimates for the externality wedge τ L differ only by 10%. We
use the {τ ω } from our simulated model to estimate the externalities of composite capital flows
such as dollar debt, which had a crisis payoff b$L = 1.77 in Thailand 1998Q1 according to Table 3.
The resulting Pigovian tax is E [τR$ ] = 2.88%, which differs only by about 10% from the Pigovian
tax using the sufficient statistics approach in Table 4.

4.4

Counterfactuals

One of the benefits of simulated DSGE models is that it is easy to conduct counterfactual policy
experiments and welfare calculations within the model once it is parameterized. This section presents two such counterfactual simulations: an experiment to study how the equilibrium changes if
26

a planner imposes optimal Pigovian taxes to internalize all externalities and a second experiment
in which a planner is restricted to impose a constant tax rate on all types of capital flows. In both
experiments, we calculate the welfare gains from implementing the policy.
Effects of Implementing Optimal Pigovian Taxes
Our first counterfactual examines how the equilibrium will change if a planner implements her
optimal financial allocations by imposing optimal Pigovian taxes. We simulate an economy with
the same parameter values as above and let the social planner implement her optimal choices of


b H , b L by setting the optimal tax rates τ H , τ L every period.
Compared to the decentralized equilibrium depicted in Figure 3, the planner carries significantly more insurance into the low state of nature – she leaves savings in the high steady-state, b H ,
roughly unchanged but increases b L by 4.6% of output, providing insurance against two thirds of
the decline in output during a sudden stop shock. As a result, financial amplification effects are
significantly mitigated: the current account reversal ∆E[mb] is reduced from 8.2% to 3.6% of GDP
and the decline in domestic absorption is mitigated from 15.6% to 6.0% of GDP. The additional precautionary savings fully avoid the sharp decline in the real exchange rate. (Impulse responses to a
sudden stop shock under the social planner’s allocation are reported in Figure 4 in the appendix.)
The tax rate τ L that the planner needs to impose in steady state is only 18.1%. This is significantly less than the externality of τ L = 32.5% in the decentralized equilibrium when no policy
measures are imposed. The difference arises because the financial constraint is much less tight in
the event of a sudden stop under the planner’s allocation than in the decentralized equilibrium –
βµ/u T falls from 0.30 during a sudden stop in the decentralized equilibrium to 0.16 in the planner’s allocation. The term φp0 /(1 − φp0 ) is little changed at 1.16.23
Finally, we compare welfare in the decentralized equilibrium and the planner’s allocation in
terms of the equivalent increase in consumption. We run 100,000 simulations starting from initial
state variables that are drawn from the ergodic distribution of the state variables in the decentralized equilibrium, and we simulate 512 periods each and calculate the average welfare under
the policy functions corresponding to the decentralized equilibrium versus the social planner’s
allocations. We find average welfare to be W = −25.132 in the decentralized equilibrium versus
23 Note

that we can also estimate the counterfactual effects of imposing the optimal tax on the equilibrium in the
economy using a sufficient statistics approach. We use two observations: First, the optimal tax wedge according to
equation (12) satisfies τ = (µ + ∆µ) /u T · φp0 / (1 − φp0 ) where ∆µ = ∆u T indicates the change in µ in going from
the decentralized equilibrium to the planner’s allocation. Secondly, the effect of imposing a tax on borrowing is to
manipulate the marginal utility of borrowers by the same proportion – a first-order approximation to the Euler equation
of domestic agents yields ∆µ/u T = ∆u T /u T ≈ −τ. Substituting the second into the first equation, we find

τ=

µ
−τ
uT



µ

φp0

φp0
µ
u · 1−φp0
·
≈ T φp0 =
· φp0
0
1 − φp
uT
1 + 1−φp0

The sufficient statistics from Table 2 therefore imply that the optimal tax rate in the counterfactual planner’s equilibrium
should be τ L∗ = 16.5%. This compares to 18.1% in the calibrated model – a difference of less than 10%.

27

W = −25.007 in the planner’s allocation. This would be equivalent to a permanent increase in
consumption of 0.50% – higher than Lucas’s estimate of the gains from eliminating the business
cycle.24
Restricting Taxes
Our second counterfactual assumes a planner who does not have the ability to differentiate between different types of capital flows and can only impose a uniform tax rate τ̄t+1 on all Arrow
security issuance. As we show in detail in appendix A.4, the optimal uniform tax rate imposed by
such a restricted planner is given by
τ̄t+1 =

ω
E [τtω+1 zω
t+1 ] /E [ zt+1 ]

=

E [τtω+1 ] +

Cov τtω+1 , zω

t+1
E zω
t +1


(17)

2
ω
where zω
/ (u TT · ∂c T (bt+1 , yt+1 ) /∂bt+1 ) < 0. In our numerical simulations, this cot +1 = m t +1
variance term is positive, implying that the planner imposes a higher tax rate than the average
externality across different states of nature. Intuitively, the planner recognizes that the tax is too
high for the high state and too low for the low state of nature, but as captured by the covariance
term, she also internalizes that the welfare effects of the tax are greater in the low state, and therefore she sets a higher tax rate than the simple average across the two states of nature.
Nonetheless, the resulting equilibrium is much closer to the decentralized equilibrium than to
the optimal planning allocation in our simulations: the planner’s uniform tax rate is τ̄ = 1.54% in
steady state – this is too high for liabilities contingent on the good state (which have zero externalities) and far too low for liabilities contingent on the sudden stop state (which impose externalities
of 30.3% in the equilibrium under consideration). The tax inefficiently raises b H by 3% of GDP but
b L only by 0.3% of GDP. As a result, the policy has only small effects on the decline in consumption
and in the exchange rate during sudden stops.
We calculate the welfare effects of imposing the optimal uniform tax τ̄t+1 given by expression
(17) on all types of capital flows and find that the welfare gains compared to the decentralized
equilibrium are virtually negligible: expressed in terms of equivalent permanent changes in consumption, the gains are less than 0.01%. This suggests that much of the welfare gains from regulating capital flows in our model come from distinguishing between safe and risky flows. Our
24 Compared

to other literature on pecuniary externalities, the welfare gains that we estimate are somewhat larger
than in papers that consider bond-only trade, presumably because the planner in our framework can steer the insurance
decisions of private agents more efficiently, given the availability of state-contingent assets. For example, Bianchi (2011)
finds a welfare gain of 0.14% in a calibration based on Argentine data, with the higher magnitude driven partly by
greater impatience. Fornaro (2015) finds the welfare benefit of correcting a similar pecuniary externality to be 0.016%
in a calibration based on peripheral euro zone countries. By contrast, Ottonello (2015) finds a welfare benefit of only
0.02% in a calibration based on Argentine data when optimal exchange rate policy is available. This illustrates a broader
point emphasized by Benigno et al. (2013, 2016), that it is generally desirable to use additional instruments, in particular
exchange rate policy, to reduce balance sheet effects, and that such additional instruments mitigate financial constraints
and may thereby lower the welfare benefits of capital controls. We discuss this point in greater detail in section 5.1.2.

28

finding thus underlines that it is critical to account for the state-contingent payoff profile of capital
flows when regulating international capital flows.

5

Extensions

This section extends our baseline setup in a number of directions. We start by introducing a number of ex-post policy measures to mitigate binding financial constraints and investigate the implications for the optimal tax formula on capital flows. Then we look at the role of different maturities
of financial liabilities, we study outflow controls, we add capital investment and time-varying leverage ratios, and we study how a planner can best deal with capital flows that are driven by
over-optimism of domestic investors.

5.1

Ex-Post Policy Measures

We consider two different types of ex-post policy measures to mitigate binding constraints. First,
we analyze the implications of accumulating reserves in good times and distributing them as
lump-sum transfers (or “bailouts”) to domestic agents in bad times when the financial constraint
binds. Next we analyze a generic second-best policy measure that relaxes the financial constraint
at the cost of introducing another distortion into the economy.
5.1.1

Reserve Accumulation and Bailouts

Policymakers frequently prefer to accumulate reserves rather than to impose capital controls as
a precaution against sudden stops (see e.g. IMF, 2013). We analyze this view in our framework
by studying a planner who accumulates savings (foreign reserves) with a state-contingent payoff
Ttω+1 ≥ 0 with international lenders and distributes them back to domestic agents when they face
binding constraints. In order to give such a scheme the highest possible chance of success, we


ω
assume (i) that the planner can raise the funds E mω
t+1 Tt+1 required to purchase the reserves by
imposing a non-distortionary lump sum tax on domestic agents in period t and (ii) that the bailouts
are provided in lump-sum fashion so that they do not distort the optimality conditions of domestic
agents. Nonetheless we find the following result:
Proposition 2 (Bailout Neutrality). Unconstrained domestic agents will fully undo any anticipated statecontingent transfer Ttω+1 ≥ 0 that is financed by lump-sum taxation in period t.


ω
Proof. Subtracting a lump-sum tax E mω
t+1 Tt+1 in the budget constraint of domestic agents in
period t and adding a transfer Ttω+1 in period t + 1 while reducing private savings by ∆btω+1 = − Ttω+1
implements the same allocation as in the absence of the transfer. The optimality conditions of
private agents are still satisfied in that equilibrium; therefore undoing the transfer Ttω+1 is optimal.

29

The result represents a form of Ricardian equivalence: since domestic agents trade in a full
set of state-contingent Arrow securities, they have both the incentive and the capacity to undo
any trade that a policymaker conducts on their behalf. Rational private agents recognize that the
governmental budget constraint is ultimately part of their own budget constraint.
The usual limitations to Ricardian equivalence apply: if agents are constrained and the future
transfer income is not pledgeable, then a tax-cum-transfer scheme changes their feasible allocations; if agents do not have access to the same set of investment opportunities as government, the
result breaks down; if there is heterogeneity in the economy, then government transfers may introduce additional redistributive considerations; etc. However, even if our proposition captures
an idealized situation, there is ample evidence that private agents engage in a significant amount
of offsetting behavior in response to governmental reserve accumulation. See e.g. Benigno and
Fornaro (2014) for a detailed analysis of this phenomenon and its limitations.
5.1.2

Second-Best Policy Measures

Since lump-sum transfers are difficult to implement in practice, we next analyze a generic secondbest policy intervention that allows the planner to relax binding constraints at the cost of introducing some distortions into the economy. This can be interpreted, for example, as exchange rate
intervention that keeps up the value of the domestic currency in order to avoid adverse balance
sheet effects. Our main interest here lies in examining the robustness of our sufficient statistics
formula to ex-post policy intervention. For a more comprehensive analysis of different types of
second-best policy interventions to mitigate binding financial constraints in a setting similar to
ours, including micro-foundations, see Benigno et al. (2013, 2016) or Jeanne and Korinek (2013).
For simplicity, we employ a reduced-form specification for such policy interventions: we assume the policymaker can relax the financial constraint by ψ units at a cost given by the function
c (ψ), which satisfies c (0) = c0 (0) = 0 and is increasing c0 (ψ) > 0 and convex c00 (ψ) > 0 for
ψ > 0. This cost can be interpreted, for example, as the cost of an exchange rate that is artificially propped up, as a distortion generated by higher taxation to finance stimulus, as the cost of an
emergency credit line, or as an auditing cost.25 The resulting budget and borrowing constraints
are
ω
c T,t + pt c N,t + E [mω
t+1 bt+1 ] = y T,t + pt y N,t + bt − c ( ψt )
ω
− E [mω
t+1 bt+1 ] ≤ φ [ y T,t + pt y N,t ] + ψt

The optimal degree of intervention is determined such that the marginal resource cost equals the
marginal benefit of relaxing the constraint,
λ̃t c0 (ψt ) = µ̃t
25 Benigno

et al. (2013, 2016) describe second-best interventions to prop up the exchange rate so as counter adverse
balance sheet effects and relax binding constraints. Jeanne and Korinek (2013) describe second-best interventions to
relax binding constraints that rely on government borrowing and introduce tax distortions. Sandri and Valencia (2013)
distinguish between financial intermediaries and study optimal recapitalization policies.

30

When the financial constraint is loose, the planner does not spend any resources on ψt ; when the
constraint is binding, the planner will engage in some of the mitigating action ψt > 0 in order to
relax the constraint.
The optimal financing decisions of domestic private agents and the planner are still given by
equations (6) and (11); therefore the expression for the optimal taxation of financial claims continues to remain (12), and the quantitative analysis of externalities using the sufficient statistics
approach of section 3 continues to apply.
The equilibrium when policymakers employ mitigating measures generally differs from the
equilibrium when such measures are absent, for two reasons: (i) the policy intervention mitigates
the externalities for given net worth b; (ii) the mitigating action induces domestic agents to take
on greater risk, which increases the externalities. The sufficient statistics are agnostic about how
equilibrium is affected by introducing various mitigating policy measures; they simply pick up the
externalities in the realized equilibrium given the realized mitigating policy measures.26

5.2

Maturity Structure

This section examines how to vary the optimal regulation of capital flows by maturity. Our baseline
setup implicitly assumes that all securities have a maturity of one period, which we calibrate to
one year. We now extend our baseline model to allow for an arbitrary maturity structure. Denote
ω
by mω
t,t+s = mt,t+s ( ωt+s ) and bt,t+s = bt,t+s ( ωt+s ) the period t state price density and amount of
securities held by the domestic agent that pay off in state of nature ωt+s of time period t + s for s ≥
ω
ω
1 where the state price densities need to satisfy the no-arbitrage condition mω
t,t+s = mt,t+r mt+r,t+s
for any 1 < r < s. This leads to an extended budget constraint of domestic agents of
∞

c T,t + pt c N,t +

∑E



ω
ω
mω
t,t+s bt,t+s − bt−1,t+s



= yT,t + pt y N,t + bt−1,t

s =1

We modify the financial constraint (3) so that it limits total security issuance at all maturities
to the period t collateral. This is justified by the same incentive problem as the one that motivated
the financinal constraint in our baseline model (see appendix A.1),
∞

∑E




ω
mω
t,t+s bt,t+s + φ [ y T,t + pt y N,t ] ≥ 0

(18)

s =1

The first result in our model of general maturity structure is the following:
Lemma 3. Any maturity structure in the general maturity structure model maps into a unique structure
of one-period securities in our baseline model.
26 For example, our estimates of externalities in Thailand in Table 4 represent the externalities realized in 1998Q1 given

that Thailand had used up most of its reserves to mitigate the crisis, had received a rescue package from the IMF, and
had engaged in various other crisis management measures. See Furman and Stiglitz (1998) for a detailed description.

31

Proof. For any general maturity structure {bt,t+s (ωt+s )}, let us define the one-period security holdings at time t by
∞

bt+1 (ωt+1 ) = bt,t+1 (ωt+1 ) +

∑ E [mt+1,t+s (ωt+s ) bt,t+s (ωt+s ) |ωt+1 ]

s =2

If we substitute this definition into the above budget and borrowing constraints, we replicate the
constraints and allocations of our baseline model.
Intuitively, the result holds since the market in our baseline economy already is dynamically
complete up to the financial constraint. Any additional securities – even if they have longer maturity – are redundant.
The finding of the lemma makes it straightforward to determine the optimal regulation of

multi-period securities. Denote by Xtω+s the contingent payoff of a multi-period bundled security in state ωt+s of period t + s. For example, a consol would be represented by a payoff sequence
{1, 1, 1...} in all states of nature. Then we find:
Proposition 3 (Maturity-Based Regulation). The optimal specific tax on a multi-period capital flow with

payoff vector Xtω+s is
∞

t ( Xtω+s ) =

∑ E [ηtω+s Xtω+s ]

where

s =1

ηtω+s =

τtω+s
mω
1 + τtω+s t,t+s

Proof. The result follows from combining Lemma 3 and Corollary 1.
In short, the optimal tax on multi-period securities simply consists of the present discounted
stream of future payoffs, with the externality pricing kernel ηtω+s serving as the stochastic discount
factor.
An important implication is that capital flow regulations on short-term maturities should be
adjusted counter-cyclically, whereas regulations on long-term flows can be held constant. The
reason is as follows: in the short run, the externality kernel is determined to a significant extent
by the current level of debt and the current state of the economy – the probability of crisis is high
when the economy has lots of debt and/or is in a state of nature in which declines in output are
very likely. Over longer maturities, the externality kernel converges towards an ergodic steady
state that describes the long-run externalities in the economy. By implication, when crisis risk is
building up, the externalities on short-term flows are significantly higher than those on long-term
flows and warrant higher capital flow regulations. Conversely, when crisis risk is low in the near
term, the externalities on short-term flows are lower than on long-term flows.
Let us discuss a caveat to our model on long-term maturities. As long as domestic agents
have a sufficient amount of short-term debt come due in each period, the financial constraint (18)
captures simultaneously a constraint on debt rollover and a constraint on total debt — new security
issuance is the margin of adjustment that guarantees that the constraint is satisfied every period. A
considerable fraction of aggregate debt to emerging economies is indeed short-term, for example
32

in the form of trade credit, providing some justification for our approach. However, if borrowers
have issued mostly long-term securities, then the constraint may be violated even if new security
issuance is zero. In that case, it would be reasonable to modify the constraint such that the existing
liabilities can always be rolled over as long as new security issuance is zero (see e.g. Komatsuzaki,
2011, for a detailed analysis).

5.3

Equivalent Outflow Controls

In a rational expectations world, the effects of imposing Pigovian taxes on capital inflows – i.e. the
issuance of liabilities – or of imposing an equivalent tax on the corresponding future outflows
– i.e. the repayment of liabilities – are identical. In this section, we first show the equivalence
formally; then we discuss the practical benefits and disadvantages of inflow vs. outflow controls.
Proposition 4 (Inflow Controls and Equivalent Outflow Controls). Imposing a capital control in period t on the issuance of a security contingent on state ωt+1 as described in Proposition 1 is equivalent to
imposing an identical tax on repayments in state ωt+1 of period t + 1.
Proof. Both ways of imposing capital controls lead to identical optimality conditions for all agents.
Furthermore, the tax revenue is assumed to be rebated in lump-sum fashion in both cases, which
makes the interventions wealth-neutral. Therefore the two measures implement identical allocations.
One important practical benefit of outflow controls is that they can be imposed ex-post, i.e. once
a sudden stop arises. If policymakers do not have sufficiently fine ex-ante instruments or sufficient
knowledge of the state space to differentially target different types of capital flows ex-ante, then
ex-post intervention can make up for the lack of ex-ante instruments.
However, the ex-post timing of equivalent outflow controls also imposes an important disadvantage: it creates a time consistency problem. The equivalence stated in Proposition 4 only
works if private agents fully trust that precisely the stated tax will be imposed. However, ex-post,
a time-consistent policymaker no longer has incentives to impose the promised policy measure.
More broadly, policymakers who have access to outflow controls may also face the temptation to
raise the maximum tax possible on capital outflows in order to expropriate international investors,
in particular during financial crises. If investors rationally anticipate this, they will not provide
finance to the emerging economy. As a result, such outflow controls frequently give rise to large
controversy and, in practice, are only used under exceptional circumstances, such as during severe
crises (see e.g. IMF, 2012).
In line with Corollary 1, capital outflows during good times impose the opposite externalities
of inflows during good times. An analogue of Proposition 4 is therefore that subsidies to outflows
during good times are equivalent to subsidies on repatriations during crisis times. In other words,
it is desirable to subsidize the repatriation of funds by domestic agents when a crisis occurs. Intuitively, this is because each additional dollar that is repatriated will appreciate the real exchange
rate and thus mitigate the adverse balance sheet effects of depreciation.
33

5.4

Capital Investment

This section analyzes the implictions of introducing capital investment in our baseline framework.
We assume that domestic agents produce traded goods using a standard neoclassical production
function y T,t = f (k t ) where capital k t is subject to the accumulation constraint k t+1 = (1 − δ) k t + it
and it represents investment. This modifies the period budget constraint of domestic agents to
ω
c T,t + pt c N,t + it + E [mω
t+1 bt+1 ] = f ( k t ) + pt y N,t + bt

The optimization problem is detailed in appendix B.2. The investment decision adds an additional
optimality condition to the problem,


λt /βE λω
t +1 − (1 − δ )
0


 ω 
f ( k t +1 ) =
1 + φE µω
t+1 /E λt+1


When there is no risk of binding constraints next period (E µω
t+1 = 0), this collapses to the standard optimality condition for capital accumulation. Otherwise, it accounts for the fact that each
additional unit of output provides φ units of additional collateral.
The social planner’s problem is modified along the same lines, and she arrives at the same
optimality conditions for financing decisions as in our earlier setup:
Proposition 5. The optimal tax on capital inflows in the model with capital investment is still given by
equation (14).
Proof. The optimality condition for financing decisions is unchanged from earlier.
This implies that our optimal tax formula for regulating capital flows and therefore our sufficient statistics approach are robust to introducing capital investment.
In addition to regulating capital flows, the planner may also find it optimal to impose a subsidy
on investment, which diverts resources from current consumption but creates more collateral for
future periods. A detailed analysis of the optimal investment subsidy to internalize these effects is
provided in appendix B.2.

5.5

Stochastic Leverage Ratio

This section extends our baseline model to the case in which the leverage parameter φ depends on
the state of nature ωt . It is frequently argued that an important driver of sudden stops are changes
in the amount of funds that international investors are willing to provide for a given amount
of collateral, i.e. changes in the leverage parameter φ. Geanakoplos (2009) and Brunnermeier
and Pedersen (2009) document such pro-cyclical leverage ratios as a general feature of financial
markets. They explain the phenomenon on the basis of changes in perceptions about risk of the
marginal investor or about the likelihood that the collateral will lose value in the future.
If we introduce a state-contingent leverage ratio φ (ωt ) into our baseline model of section 2, the
optimality conditions of private agents (5) and (6) remain unchanged. However, the allocations in
34

the economy change. A priori, it is difficult to establish whether a change in φ leads to greater or
smaller externalities. On the one hand, the tightness of the constraint is a decreasing function of φ.
For given wealth bt , the financial constraint is looser when φ is high. On the other hand, when the
financial constraint binds, the degree of amplification φp0 / (1 − φp0 ) that we derived in Lemma 2
is an increasing function of φ.
The sufficient statistics of section 3 to calibrate the externalities of capital flows are robust to
time-varying leverage ratios. When we estimate the factor of amplification φp0 / (1 − φp0 ) from the
data, our estimate is conditional on a given sudden stop episode ωt and our approach is consistent
with φ (ωt ) varying across different states of nature. Furthermore, it is irrelevant whether the
amplification arises from a high coefficient φ or from a high p0 – only the product φp0 matters, and
this can be obtained directly from the data using equation (16).

5.6

Capital Flow Regulation under Over-Optimism

This section discusses how to regulate capital flows when domestic agents expose themselves to
excessive crisis risk because of over-optimism. Many policymakers argue that this is an important reason why emerging market economies are so heavily exposed to crisis risk (see e.g. IMF,
2012). Formally, we capture this situation by assuming that private domestic agents form their
expectations subject to a different probability measure than the domestic policymaker.
For simplicity of exposition, assume that the set Ωt contains a finite number of elements for
each t and denote the conditional probability of reaching state ωt+1 from state ωt as perceived by
private agents by πtP,ω
+1 . Furthermore, we denote the conditional probability perceived by the social
S,ω
S,ω
planner by πt+1 . Let us also assume that πtP,ω
+1 > 0, πt+1 > 0∀ ωt+1 , t. We denote the expectations
operator of private agents by EP [·] and that of the social planner by ES [·]. Although our analysis
is general and does not require that we take a stance on which of the probability measures is the
“true” one, our results can be interpreted such that the expectations of private agents are biased
towards excessive optimism and those of the planner correspond to objective probabilities.27
Paternalistic Benchmark As a benchmark, we first analyze a paternalistic planner who implements the financial market allocations that replicate his preferred equilibrium. (Detailed derivations are reported in appendix B.3.) A paternalistic planner’s optimal capital controls satisfy


π S,ω
βµ̃ω
t +1
+1
1+
· φp0
1 + τtω+1 = tP,ω
u T,t
π t +1
P,ω
This expression is identical to (12) if there is no belief disagreement and πtS,ω
+1 = πt+1 . However, when the planner and private agents disagree on their assessment of the probability of fu27 We

do not explicitly distinguish the expectations of domestic agents and international investors. We assume that
both private domestic agents and the domestic planner take the state price density mω
t+1 at which international investors
trade contingent assets with the emerging economy as exogenous under the expectations operator EP [·]. Any discrepancies in expectations between domestic agents and international investors can be captured by adjusting the state price
density mω
t+1 accordingly.

35

ture states, it justifies enormous degrees of policy intervention even if there are no externalities so
0
φµ̃ω
t+1 p = 0. For example, if the planner perceives a state twice as likely as private agents, she
would impose a tax τtω+1 = 100% on security issuance conditional on that state.
This illustrates how problematic it is to justify policy intervention based on paternalism: if we
assume that regulators know things better, then it is easy to justify any form of market intervention,
leading down a slippery slope towards planned economies (Hayek, 1944).
Non-Paternalistic Planning Problem Instead, we now solve an optimal planning problem under the assumption that the policymaker does not act paternalistically, based on John Stuart Mill’s
notion of liberalism:28 the policymaker allows each agent to solve their private maximization problem subject to their private expectations EP [·], but she evaluates any externalities that the agent
imposes on other agents in the economy according to the “social” expectations operator ES [·]. This
preserves the individual freedom of private decision makers to manage their own affairs as long as
they do not create externalities, but values any externalities based on the best possible quantification by policymakers, which naturally relies on the probability measure that policymakers believe
in.
We set up the non-paternalistic optimal policy problem by maximizing the weighted sum of
welfare of society. In order to account for the differences in beliefs, we ask how a policymaker
would regulate the financial market allocations of a given mass ε of private agents who solve
their private optimization problem (1), given their subjective probability measure and expectations
operator EP [·], while imposing externalities on the remaining mass 1 − ε of agents, evaluated using
the planner’s expectations operator ES [·]. Taking the limit ε → 0, the planner evaluates all of the
general equilibrium effects and externalities in the economy according to the social probability
measure but does not paternalistically impose her probability measure on regulated private agents,
implementing Mill (1859)’s notion of liberalism. (See appendix B.3 for detailed derivations.) In
short, the non-paternalistic planner corrects externalities but does not correct expectations.
The optimal tax wedge that derives from this setup is
τtω+1

=

πtS,ω
+1
πtP,ω
+1

·

βµ̃ω
t +1
· φp0
uT

We observe that this tax wedge also coincides with expression (12) if there is no belief disagreement
P,ω
πtS,ω
+1 = πt+1 . When there is belief disagreement, the planner only intervenes in the financial decisions for states of nature in which the constraint will be binding the following period. The difference
from our baseline setup is that the non-paternalistic planner scales up the tax that corrects the pecuniary externality in proportion to how much private agents undervalue the risk of future binding
P,ω
constraints compared to the planner, πtS,ω
+1 /πt+1 . This ensures that private agents internalize the
externality at the probability perceived by the planner.
28 In

his essay “On Liberalism," Mill (1859) writes that “the only purpose for which power can be rightfully exercised
over any member of a civilized community, against his will, is to prevent harm to others” and that “over himself, [...]
the individual is sovereign.”

36

6

Conclusion

Modern financial crises involve financial amplification via balance sheet effects, which lead to externalities and call for regulation since decentralized agents do not internalize their contribution
to the amplification dynamics. The key message of our paper is that it is critical for capital flow regulation to distinguish between different types of flows. Using both a sufficient statistics approach
and simulation from a calibrated version of our model, we find that the externalities of different categories of flows differ by an order of magnitude: FDI imposes the smallest externalities, followed
by portfolio equity investments, local currency debt, CPI-indexed local currency debt, GDP-linked
dollar bonds, and regular dollar bonds, which impose the greatest externalities among the typical
liabilities of emerging economies.
Methodologically, our paper introduces a sufficient statistics approach to quantify optimal policy measures in international finance. We show that a small set of statistics that can be obtained
from the data without calibrating a large-scale model is sufficient to quantify the externalities in
a robust and transparent manner. We also validate the approach using simulations in a calibrated version of the model. We hope that our work will stimulate further research using sufficient
statistics in international finance and macroeconomics.
There remain many avenues for future research. One important question concerns the international spillover effects of capital controls. In preliminary work (Korinek, 2016), we find that
such spillover effects are generally benign, as long as three conditions are met: (i) individual countries do not have market power, (ii) policymakers possess sufficient external policy instruments
and (iii) the international market is sufficiently complete. In another strand of work (Korinek and
Sandri, 2016), we examine how to optimally regulate domestic versus foreign financial transactions. We find that financial amplification effects provide justification for both capital controls on
foreign transactions and macroprudential regulation of domestic financial transactions, following
a similar rationale as Lorenzoni (2008).

37

References
Aghion, P., Bacchetta, P., and Banerjee, A. (2001). Currency crises and monetary policy in an
economy with credit constraints. European Economic Review, 45(7):1121–1150.
Aghion, P., Bacchetta, P., and Banerjee, A. (2004). A corporate balance-sheet approach to currency
crises. Journal of Economic Theory, 119(1):6–30.
Aizenman, J. (2011). Hoarding international reserves versus a Pigovian tax-cum-subsidy scheme.
Journal of Economic Dynamics and Control, 35(9):1502–1513.
Benigno, G., Chen, H., Otrok, C., Rebucci, A., and Young, E. R. (2011). Revisiting overborrowing
and its policy implications. In Céspedes, L. F., Chang, R., and Saravia, D., editors, Monetary
Policy under Financial Turbulence,, pages 145–185. Central Bank of Chile, Santiago, Chile.
Benigno, G., Chen, H., Otrok, C., Rebucci, A., and Young, E. R. (2013). Financial crises and macroprudential policies. Journal of International Economics, 89(2):453–470.
Benigno, G., Chen, H., Otrok, C., Rebucci, A., and Young, E. R. (2016). Optimal capital controls and
real exchange rate policies: A pecuniary externality perspective. Journal of Monetary Economics,
84:147–165.
Benigno, G. and Fornaro, L. (2014). Reserve accumulation, growth and financial crises. LSE, mimeo.
Bianchi, J. (2011). Overborrowing and systemic externalities in the business cycle. American Economic Review, 101(7):3400–3426.
Brunnermeier, M. and Pedersen, L. H. (2009). Market liquidity and funding liquidity. Review of
Financial Studies, 22(6):2201–2238.
Burger, J. D., Warnock, F. E., and Warnock, V. C. (2012). Emerging local currency bond markets.
Financial Analysts Journal, 68(4):73–93.
Caballero, R. J. and Krishnamurthy, A. (2001). International and domestic collateral constraints in
a model of emerging market crises. Journal of Monetary Economics, 48(3):513–548.
Caballero, R. J. and Krishnamurthy, A. (2003). Excessive dollar debt: Financial development and
underinsurance. Journal of Finance, 58(2):867–894.
Caballero, R. J. and Lorenzoni, G. (2014). Peristent appreciations and overshooting: A normative
analysis. IMF Economic Review, 62(1):1–47.
Calomiris, C. W., Larrain, M., Liberti, J., and Sturgess, J. (2017). How collateral laws shape lending
and sectoral activity. Journal of Financial Economics, 123(1):163–188.
Calvo, G. A. (1998). Capital flows and capital-market crises: The simple economics of sudden
stops. Journal of Applied Economics, 1(1):35–54.
Calvo, G. A., Izquierdo, A., and Mejía, L.-F. (2004). On the empirics of sudden stops - the relevance
of balance-sheet effects. NBER Working Paper, w10520.
Carroll, C. (2006). The method of endogenous gridpoints for solving dynamic stochastic optimization problems. Economics Letters, 91(3):312–320.
38

Céspedes, L. F., Chang, R., and Velasco, A. (2017). Financial intermediation, exchange rates, and
unconventional policy in an open economy. Journal of International Economics, 108:S76–86.
Davila, E. and Korinek, A. (2017). Pecuniary externalities in economies with financial frictions.
Review of Economic Studies, forthcoming.
Du, W. and Schreger, J. (2016). Sovereign risk, currency risk, and corporate balance sheets. Harvard
University, mimeo.
Eichengreen, B., Gupta, P., and Mody, A. (2008). Sudden stops and imf-supported programs. In Edwards, S. and Garcia, M., editors, Financial Markets Volatility and Performance in Emerging Markets.
University of Chicago Press.
Eichengreen, B. and Hausmann, R. (2005). Other People’s Money: Debt Denomination and Financial
Instability in Emerging Market Economics. University of Chicago Press.
Farhi, E. and Werning, I. (2012). Dealing with the trilemma: Optimal capital controls with fixed
exchange rates. NBER Working Paper, 18199.
Farhi, E. and Werning, I. (2014). Dilemma not trilemma? Capital controls and exchange rates with
volatile capital flows. IMF Economic Review, 62:569–605.
Forbes, K. and Warnock, F. E. (2014). Debt- and equity-led capital flow episodes. In Fuentes D.,
M., Raddatz, C. E., and Reinhart, C. M., editors, Capital Mobility and Monetary Policy, volume 18,
pages 291–322. Central Bank of Chile, Santiago.
Fornaro, L. (2015). Financial crises and exchange rate policy. Journal of International Economics,
95(2):202–215.
Frankel, J. A. (2005). Contractionary currency crashes in developing countries. IMF Staff Papers,
52(2):149–192.
Furman, J. and Stiglitz, J. E. (1998). Economic crises: Evidence and insights from east asia. Brookings
Papers on Economic Activity, 1998(2):1–114.
Gallagher, K. P. and Tian, Y. (2014). Regulating capital flows in emerging markets: the imf and the
global financial crisis. CEGI Working Paper, 2014-5.
Geanakoplos, J. D. (2009). The leverage cycle. NBER Macroeconomics Annual 2009, 24:1–65.
Geanakoplos, J. D. and Polemarchakis, H. M. (1986). Existence, regularity, and constrained suboptimality of competitive allocations when the asset market is incomplete. Cowles Foundation Paper,
652.
Hayek, F. v. (1944). The Road to Serfdom. Routledge, UK.
IMF (2012). The liberalization and management of capital flows: An institutional view. Board Paper.
Jeanne, O. and Korinek, A. (2010a). Excessive volatility in capital flows: A Pigouvian taxation
approach. American Economic Review, 100(2):403–407.
Jeanne, O. and Korinek, A. (2010b). Managing credit booms and busts: A Pigouvian taxation
approach. NBER Working Paper, 16377.
39

Jeanne, O. and Korinek, A. (2013). Macroprudential regulation versus mopping up after the crash.
NBER Working Paper, 18675.
Jeanne, O. and Zettelmeyer, J. (2005). Original sin, balance sheet crises and the roles of international
lending. In Eichengreen, B. and Hausmann, R., editors, Other People’s Money: Debt Denomination
and Financial Instability in Emerging Market Economies. University of Chicago Press, Chicago.
Kiyotaki, N. and Moore, J. (1997). Credit cycles. Journal of Political Economy, 105(2):211–248.
Korinek, A. (2007). Dollar Borrowing in Emerging Markets. Dissertation. Columbia University, New
York.
Korinek, A. (2016). Currency wars or efficient spillovers? A general theory of international policy
cooperation. NBER Working Paper, 23004.
Korinek, A. (2018). Thoughts on DSGE macroeconomics: Matching the moment, but missing the
point? In Guzman, M., editor, Towards a Just Society: Joseph Stiglitz and 21st Century Economics.
Columbia University Press.
Korinek, A. and Mendoza, E. G. (2014). From sudden stops to fisherian deflation: Quantitative
theory and policy implications. Annual Review of Economics, 6:299–332.
Korinek, A. and Sandri, D. (2016). Capital controls or macroprudential regulation?
International Economics, 99(S1):27–42.

Journal of

Krugman, P. R. (1999). Balance sheets, the transfer problem, and financial crises. In Isard, P., Razin,
A., and Rose, A. K., editors, International Finance and Financial Crises: Essays in Honor of Robert P.
Flood Jr., pages 31–44. International Monetary Fund, Washington, DC.
Levy Yeyati, E. (2006). Financial dollarization: evaluating the consequences. Economic Policy,
21(45):61–118.
Lorenzoni, G. (2008). Inefficient credit booms. Review of Economic Studies, 75(3):809 – 833.
Lorenzoni, G. (2015). International financial crises. In Helpman, E., Rogoff, K., and Gopinath, G.,
editors, Handbook of International Economics, volume 4, pages 689–740. Elsevier.
Magud, N., Reinhart, C. M., and Rogoff, K. (2011). Capital controls: Myth and reality – a portfolio
balance approach. NBER Working Paper, w16805.
Mauro, P., Ostry, J. D., Dell’Ariccia, G., di Giovanni, J., Faria, A., Kose, A., Schindler, M., and
Terrones, M. E. (2007). Reaping the benefits of financial globalization. IMF Discussion Paper.
Meese, R. A. and Rogoff, K. (1983). Empirical exchange rate models of the seventies: Do they fit
out of sample? Journal of International Economics, 14:3–24.
Mendoza, E. G. (2002). Credit, prices, and crashes: Business cycles with a sudden stop. In Edwards, S. and Frankel, J. A., editors, Preventing Currency Crises in Emerging Markets. University
of Chicago Press.
Mendoza, E. G. (2005). Real exchange rate volatility and the price of nontradables in sudden-stopprone economies. Economia, 6(1):103–148.

40

Mill, J. S. (1859). On Liberty. John W. Parker and Son, London.
Obstfeld, M. and Rogoff, K. (1996). Foundations of International Macroeconomics. MIT Press.
Ostry, J. D., Ghosh, A. R., Habermeier, K., Chamon, M., Qureshi, M. S., and Reinhardt, D. B. (2010).
Capital inflows: The role of controls. IMF Staff Position Note, 10/04.
Ottonello, P. (2015). Optimal exchange rate policy under collateral constraints and wage rigidity.
manuscript, Columbia University.
Radelet, S. and Sachs, J. D. (1998). The east asian financial crisis: Diagnosis, remedies, prospects.
The East Asian Financial Crisis; Diagnosis, Remedies, Prospects, Brookings Papers on Economic Activity, 1998(1):1–90.
Reinhart, C. M. and Reinhart, V. R. (2009). Capital flow bonanzas: An encompassing view of the
past and present. In Frankel, J. A. and Pissarides, C., editors, NBER International Seminar on
Macroeconomics 2008, chapter 1, pages 9–62. University of Chicago Press.
Reinhart, C. M., Rogoff, K., and Savastano, M. A. (2003). Debt intolerance. NBER Working Paper,
w9908.
Reinhart, C. M. and Rogoff, K. S. (2009). This Time is Different: Eight Centuries of Financial Folly.
Princeton University Press.
Sandri, D. and Valencia, F. (2013). Financial crises and recapitalizations. Journal of Money, Credit
and Banking, 45(s2):59–86.
Schmitt-Grohé, S. and Uribe, M. (2012). Prudential policy for peggers. NBER Working Paper,
w18031.
Schmitt-Grohé, S. and Uribe, M. (2016). Downward nominal wage rigidity, currency pegs, and
involuntary unemployment. Journal of Political Economy, 124:1466–1514.
Stiglitz, J. E. (1982). The inefficiency of the stock market equilibrium. Review of Economic Studies,
49(2):241–261.
Tirole, J. (2003). Inefficient foreign borrowing: A dual- and common-agency perspective. American
Economic Review, 93(5):1678–1702.
Tirole, J. (2006). The Theory of Corporate Finance. Princeton University Press.
Végh, C. (2012). Open Economy Macroeconomics in Developing Countries. MIT Press, Cambridge,
MA.
Zhu, L. (2015). Employment and financial stability: Dual goals of capital flow management. manuscript, University of Maryland.

41

A
A.1

Appendix
Microfoundations of Financial Constraint

Moral Hazard
After the domestic agent issues the bundle of payoffs {btω+1 } in period t
 ω Problem

ω
to raise E mt+1 bt+1 dollars of external finance, he has an opportunity to divert his future income
and wealth from the reach of international investors, e.g. by investing in a scam. Investors can
observe this action and take the agent to court. In that case, investors can seize up to a fraction φ of
the total period t income of the agent where φ < 1 reflects imperfections in legal enforcement. They
sell the seized non-traded goods at the prevailing market price and convert them into traded goods
so as to repatriate them, yielding φ [y T,t + pt y N,t ] units of traded goods in total. If the domestic
agent does not take the opportunity to divert his future income at the time, there is no further
diversion opportunity and the payment btω+1 in period t + 1 is enforced.
In recursive notation, the utility value V R of an agent who plays by the rules is
h
i
V R (bt ) = u (c T,t , c N,t ) + βE V R (btω+1 )
subject to the standard budget constraint (2). The utility value V D and budget constraint of an
agent who diverts his future wealth in period t are
h
i
V D (bt ) = u (c T,t , c N,t ) + βE V R (0)
ω
s.t. c T,t + pt c N,t + E [mω
t+1 bt+1 ] = (1 − φ ) [ y T,t + pt y N,t ] + bt

(A.1)

The participation constraint of international investors requires that total security issuance is at
most what the investors can seize,
ω
E [mω
t+1 bt+1 ] + φ [ y T,t + pt y N,t ] ≥ 0

This is identical to the financial constraint (3). Given this constraint, observe that it is optimal for
the domestic agent to abstain from the diversion scheme in equilibrium: by the constraint (3), the
resources seized by investors are at least as large as the resources gained from reneging on his
liabilities so that there is no wealth gain from diversion, as can be seen from the budget constraint
(A.1); furthermore, for given wealth in period t, the agent is forced to carry a wealth level of
btω+1 = 0∀ω into the following period, which is suboptimal by revealed preference.
Relationship to Literature on Emerging Market Balance Sheet Crises At a more general level,
the financial constraint (3) is inspired by the experience of emerging economies that have suffered
balance sheet crises with feedback loops involving contractionary exchange rate depreciations, as
illustrated in Figure 1 on page 2. One defining feature of these crises was that creditors were
most concerned about the liquidity of their borrowers, not their solvency. For example, during
the East Asian crises of 1997/98, creditors were concerned about the fact that emerging market
borrowers who had taken on dollar debt were insolvent at current (dislocated) market exchange
rates – not necessarily at future exchange rates when markets had stabilized again (see e.g. Furman
and Stiglitz, 1998; Radelet and Sachs, 1998). This illiquidity at current exchange rates led creditors
to cut the credit lines of their borrowers and engage in massive capital flight, and thus lay behind
the severity of the described crises. The constraint specification (3) depends on the current level of
the real exchange rate to capture this mechanism. Our financial constraint can thus be interpreted
as a liquidity constraint.
42

The theoretical literature on emerging market crises with contractionary depreciations follows
these observations and uses liquidity constraints that depend on current market exchange rates
to capture the financial imperfections that underlie the crises. For example, Krugman (1999) and
Aghion et al. (2001, 2004) employ financial constraints depending on current liquid net worth that
tighten in response to depreciations in the current exchange rate. The same is true in the constraint
specification of Mendoza (2005) who finds that a model with a constraint depending on current
market prices can quantitatively replicate the crisis dynamics observed in the real world. This
specification is also the one used in our paper.
If we simply replaced the financial constraint (3) in our model with a version in which borrowing capacity depended on the market value of next-period income, φ (y T,t+1 + pt+1 y N,t+1 ), the
feedback loop illustrated in Figure 1 would break down, and our model would no longer provide
a description of emerging market financial crises. Instead of financial amplification, the model
would deliver what we may call “financial mitigation:” whenever the modified constraint in that
version of our model were to tighten in a given period, domestic agents would be forced to issue
fewer liabilities and would thus carry more net worth into the future, leading to higher traded consumption and more appreciated real exchange rates next period, which would relax the constraint.
In short, a tightening constraint today has a positive effect on the exchange rate tomorrow.
Our specification differs from the class of models of financial crises due to Kiyotaki and Moore
(1997) that involve declining asset prices instead of falling exchange rates and that have been used
primarily to describe crises in advanced economies. In these models, financial constraints depend
on future asset prices, capturing the ability of borrowers to repay rather than liquidity concerns as in
our specification. The mechanism is as follows: a tightening financial constraint induces a persistent
transfer of capital to less productive agents and, as a result of their lower productivity, a persistent
decline in future asset prices, which in turn tightens the current financial constraint further. In
short – and in contrast to our model of financial amplification involving the real exchange rate
– a tightening constraint today has a negative effect on asset prices tomorrow. As discussed in
appendix B.2, constructing a similar mechansim with a financial constraint that depends on future
exchange rates is possible in theory but unlikely to be very relevant in practice.

A.2

Lagrangian of Optimization Problem of Domestic Agents
∞

ω
L = E ∑ βt u (c T,t , c N,t ) − λt [c T,t − y T,t + (c N,t − y N,t ) pt + E [mω
t + 1 bt + 1 ] − bt ]
t =0

ω
+µt [ E [mω
t+1 bt+1 ] + φ ( y T,t + pt y N,t )]

A.3

Implementation of Constrained Efficient Allocation

Assume the planner imposes a tax τtω+1 on the issuance (i.e. subsidy on
of
 purchases)
 state-contingent

ω
ω
securities. The total amount spent on security purchases becomes E mω
−
τ
t +1
t+1 bt+1 in the optimization problem of domestic agents. This modifies their budget constraint to
ω
ω
c T,t + pt c N,t + E [(mω
t+1 − τt+1 ) bt+1 ] = y T,t + pt y N,t + bt − Tt

43



where Tt = E τtω+1 btω+1 is a lump-sum transfer that ensures that the intervention is wealth-neutral.
The financial constraint is unaffected since the intervention does not affect marginal incentives to
default once the debt has been taken on.
The Euler equation of domestic agents then becomes
ω
ω
ω
(mω
t+1 − τt+1 ) u T,t − mt+1 µt = βu T,t+1

(A.2)

Let us compare this to the intertemporal optimality condition of the planner (11), which we repeat
here for convenience,


ω
0
ω
0
mω
t+1 u T,t − mt+1 µ̃t 1 − φp = β u T,t+1 + φ µ̃t+1 p
0
If we set τtω+1 = βµ̃ω
t+1 /u T,t · φp , we can see that two optimality conditions coincide whenever
the constraint is slack in period t since µt = µ̃t = 0 in that case. Furthermore, whenever the
constraint is binding, the two shadow prices respectively reflect the tightness of the constraint in
period t as perceived by private borrowers and the planner. Given the optimal tax, the allocations
of private agents and of the planner are identical and the shadow prices must thus satisfy µ̃t =
µt
1
1−φp0 in that case. The planner’s shadow price on binding constraints µ̃t is by a factor 1−φp0 larger
than the shadow price of private agents µt in the optimal allocation, which captures precisely the
magnitude of amplification [cf. Lemma (2)]. Intuitively, this is because the planner internalizes
that each additional dollar of relaxing the constraint will generate amplification effects.
The described optimal tax rate thus ensures that private agents in period t allocate their wealth
efficiently across the different states ωt+1 ∈ Ωt+1 of the ensuing period. The non-negative sign
τtω+1 ≥ 0 follows because each of the factors on the right hand side of equation 12 is non-negative.

Taxation of Capital Flow Bundles Next
 ω we consider how to price a security that consists of
a bundle of state-contingent payoffs
Xt+1 . International lenders are willing to trade such a

ω
security at a price of q X,t = E mω
X
t+1 t+1 . To ensure no arbitrage with the individual Arrow
securities that make up the bundle, it is necessary to impose a tax t X,t on the issuance of the security
such that
t X,t = E [τtω+1 Xtω+1 ]

 ω 
ω
This ensures that the total purchase price q X,t + t X,t = E  mω
t+1 + τt+1 Xt+1 corresponds to the
social cost of purchasing the security with payoff profile Xtω+1 . The state-contingent tax vector
τtω+1 can thus be interpreted as the externality pricing kernel of the economy.
The stated equation holds for Xtω+1 ≷ 0; for negative values of Xtω+1 , the optimal tax formula
delivers negative tax rates, which correspond to optimal subsidies on capital outflows. The intuition is that borrowing one more dollar abroad is the opposite of saving an extra dollar abroad and
therefore creates the opposite externalities.

A.4

Constrained Efficient Allocation with Restricted Instruments

This section analyzes the problem of a planner who is unable to distinguish between different types
of capital flows and is thus restricted to use a single tax instrument on raising financial liabilities
each period. We assume that the planner’s tax instrument is a tax on raising external finance, with
the revenue of the tax rebated to domestic agents so as to be wealth neutral. We solve the problem
of a time-consistent planner.29
29 Unlike

in our baseline model, the optimal policy of a time-consistent planner and under commitment differ when
instruments are restricted. Intuitively, a planner who has commitment can partially circumvent the restriction on in-

44

The state-contingent Euler equation of domestic agents that includes the common tax rate τ̄t+1
serves as an implementability constraint on the planner’s optimization problem that must be satisfied for all states of nature,
ω
ω
ω
(1 − τ̄t+1 ) mω
t+1 u T ( c T,t , y N,t ) − mt+1 µt = β ũ T ( bt+1 , yt+1 )

∀ω

(A.3)

where we define by ũ T (bt , yt ) := u T (c T,t (bt , yt ) , y N,t ) the marginal utility of traded consumption
as a function of the state variables, and for later use, we denote its derivative with respect to the
bond position by ũ Tb,t = ∂ũ T (bt , yt ) /∂bt = u TT · ∂c T (bt , yt ) /∂bt < 0. The right-hand side of
the implementability constraint (A.3) captures that the planner takes as given that consumption
choices in future periods are determined in a time-consistent manner, i.e. purely as a function
of the prevailing state variables. We write the planner’s problem with restricted instruments in
recursive form as

V ( bt , y t ) =
max
u (c T,t , y N,t ) + βE V (btω+1 , yt+1 )
c T,t ,{btω+1 },τ̄t+1


ω
c T,t ≤ y T,t + bt − E [mω
s.t. −λ̃t
t + 1 bt + 1 ]

[+µ̃t ]
[−ν̃tω+1 ]

ω
E [mω
t+1 bt+1 ] + φ ( y T,t + p ( c T,t /y N,t ) y N,t ) ≥ 0
β
(1 − τ̄t+1 ) uT (cT,t , y N,t ) − µt = ω ũT (btω+1 , yω
t +1 )
m t +1

∀ω

From the Lagrangian of the problem with associated shadow prices λ̃t , µ̃t and ν̃tω+1 , we obtain the
optimality conditions
FOC (c T,t ) :
FOC (btω+1 ) :
FOC (τ̄t+1 ) :

u T,t − λ̃t + µ̃t φp0 (·) − (1 − τ̄t+1 ) E [ν̃tω+1 ] u TT,t = 0
β ω
ω
ω
ω
βVb (btω+1 , yω
ũ Tb,t+1 = 0
t+1 ) − mt+1 λ̃t + mt+1 µ̃t + ν̃t+1 ·
mω
t +1
E [ν̃tω+1 ] u T (c T,t , y N,t ) = 0

The shadow price ν̃tω+1 captures the social cost of mis-targeting the issuance of financial liabilities
contingent on state ω. The third optimality condition states that the restricted planner
 ωchooses

the uniform tax rate τ̄t+1 such that the cost of this mis-targeting is on average zero, E ν̃t+1 = 0.
This implies that the first optimality condition reduces to the same condition as in the unrestricted
problem,
λ̃t = u T,t + µ̃t φp0 (·)
Using the envelope condition Vb (bt , yt ) = λ̃t , the second optimality condition implies
ν̃tω+1 ·

βũω
Tb,t+1
mω
t +1


ω
= mω
t+1 λ̃t − µ̃t − β λ̃t+1

(A.4)

ω
This captures that the social cost of mistargeting state ω (normalized by βũω
Tb,t+1 /mt+1 ) is given
by the gap in marginal utilities in the planner’s Euler equation. When domestic agents carry too

struments by committing to impose the restricted tax instruments in a state-contingent manner in future periods so as
to make it more or less desirable for domestic agents to carry wealth into particular states of nature. For example, if
the planner wants to induce domestic agents to borrow less against crisis states, she can commit to subsidize wealth
accumulation in crisis states in the following period. This ability to make specific state-contingent commitments runs
counter to the idea of a planner who only has coarse instruments. The more relevant planning problem under restricted
instruments is therefore arguably the time-consistent planning problem.

45

much wealth into state ω of next period, then the normalized shadow price ν̃tω+1 is negative since
λ̃ω
T,t+1 is comparatively low. Conversely, when domestic agents carry too little wealth into state ω,
the sign of ν̃tω+1 is positive.
When the financial constraint is binding in the current period, then the planner’s choice of
the restricted tax instrument τ̄t+1 is irrelevant since the planner cannot affect the state-contingent
financial decisions of domestic agents.30 On the other hand, when the financial constraint is slack,
then µ̃t = µt = 0 and the expression for the mistargeting indicator ν̃tω+1 simplifes to
ν̃tω+1 ·

βũω
Tb,t+1
mω
t +1

ω
0
= mω
t+1 u T,t − β u T,t+1 + µ̃t+1 φp (·)



Let us substitute the Euler equation of private agents with restricted instruments, βuω
T,t+1 = (1 −
ω
τ̄t+1 )mω
t+1 u T,t , on the right-hand side and use the earlier expression τt+1 =

ν̃tω+1 ·

βũω
Tb,t+1
mω
t +1

βµ̃t+1 φp0 (·)
mω
t+1 u T,t

to find

= (τtω+1 − τ̄t+1 ) mω
t+1 u T,t

Solving for ν̃tω+1 , taking expectations, and applying the third optimality condition above yields
"
E [ν̃tω+1 ] = E

#

2
τtω+1 − τ̄t+1 mω
u
T,t
t +1
=0
βũω
Tb,t+1

which can be easily solved for the optimal restricted tax rate by observing that the constants u T,t
and β drop out and by re-arranging,

Cov τtω+1 , zω
t +1
ω
ω
ω
ω


τ̄t+1 = E [τt+1 zt+1 ] /E [zt+1 ] = E [τt+1 ] +
E zω
t +1
2 ω
ω
where we employ the short-hand notation zω
/ũ Tb,t+1 < 0.
t +1 = m t +1
L
H
In our earlier results, we found that τt+1 > τt+1 ≥ 0 in the neighborhood of the ergodic steady
L
H
state. Furthermore, we find that ũ Tb,t
+1 < ũ Tb,t+1 < 0 where the first inequality holds by a significant margin since the low state is typically constrained but the high state is unconstrained. This
guarantees that ztH+1 < ztL+1 < 0 and that the covariance term in the optimal restricted tax formula
is positive. In short, the covariance term pushes the optimal restricted tax rate somewhat above
the average tax rate on the different states of nature in order to account for the mistargeting.

30 Technically speaking, there is a continuum of restricted tax rates

constraint µt that all implement the same (constrained) allocation.

46

τ̄t+1 and shadow prices of domestic agents on their

B
B.1

Extensions [Online Only]
Alternative State-Contingent Constraint Specifications

Let us consider two different specifications of the financial constraint that extend the constraint
specification of our baseline model:
B.1.1

Constraints on Issuance of Individual Arrow Securities

First, consider the case that each individual Arrow security is subject to a separate financial constraint that allows domestic agents to issue a market value of state-contingent securities up to a
fraction φω of its income, where the fraction depends on the future state ω on which the security
is contingent, as captured by the superscript ω,
ω
ω
mω
t+1 bt+1 + φ [ y T,t + pt y N,t ] ≥ 0

∀ω

(Note that it would be equivalent to impose the constraint on the quantity of securities btω+1 rather
ω
ω
than the value mω
t+1 bt+1 since the parameter φ could simply be adjusted accordingly.)
In the optimization problem of domestic agents, this introduces a collection of constraints on
security issuance with multiplier µω
t each, giving rise to the Lagrangian
∞

ω
L = E ∑ βt u (c T,t , c N,t ) − λt [c T,t − y T,t + (c N,t − y N,t ) pt + E [mω
t + 1 bt + 1 ] − bt ]
t =0


ω
ω
ω
+ E µω
t [ mt+1 bt+1 + φ ( y T,t + pt y N,t )]
and similarly for the social planner. Observe that the expectation in the second line is Rjust an alternative way of writing the probability-weighted sum across all states of nature, E [·] = ω [·] dP (ω ).
This leaves all the optimality conditions of private agents unchanged, except that it changes
their state-contingent Euler equation (6) by making the shadow price on the financial constraint
state-contingent,
ω
ω
FOC (btω+1 ) : mω
t+1 ( u T,t − µt ) = βu T,t+1
This reflects that domestic agents may be constrained in their security issuance contingent on some
states of nature but not others. When domestic agents exhaust their security issuance against one
state of nature, they may still be able to issue further securities against other states of nature. If
domestic agents are subject to state-contingent
on their state-contingent security issuance,
 taxes ω
ω
ω
ω
their Euler equations modify to mt+1 − τt+1 u T,t − mt+1 µω
t = βu T,t+1 .
In the social planner’s problem, both the optimality condition on traded consumption and the
generalized Euler equation are modified to
0
FOC (c T,t ) : λ̃t = u T,t + E [φω µ̃ω
t ] p ( c T,t /y N,t )

ω
FOC (btω+1 ) : mω
= βλ̃ω
∀ω
t+1 λ̃t − µ̃t
t +1

In the first equation, the social value of liquidity λ̃t now depends on the weighted average of
shadow prices µ̃ω
t on security issuance rather than the uncontingent shadow price µ̃t . The second
equation is modified in the same manner as in the decentralized problem.
For the planner to implement the constrained efficient allocation, she needs to set the tax rates
τtω+1 such that the optimality conditions of private agents under taxation and of the planner coincide. We substitute for the λt ’s and λ̃t ’s in the two respective Euler equations and subtract the
47

Euler equation of domestic agents under taxation from the planner’s generalized Euler equation
to obtain
ω
ω
ω
ω ω
0
ω ω
0
τtω+1 u T,t + mω
t+1 ( µt − µ̃t ) = − mt+1 E [ φ µ̃t ] p ( c T,t /y N,t ) + βE [ φ µ̃t+1 ] p ( c T,t+1 /y N,t+1 ) (A.5)

Let us first consider the case that all financial constraints are slack at time t so µt = µ̃t = 0 so
that equation (A.5) simplifies to



βE φω µ̃ω
t +1
ω
ω
τt+1 =
· p0 cω
(A.6)
T,t+1 /y N,t+1
u T,t
In that case, the planner’s optimal interventions are prudential, i.e. they focus solely on relaxing
future constraints. Comparing this to expression (12) in our baseline model, the only difference is
that the social cost of reducing the value of collateral by one dollar instate ω next period, captured
ω ω
by the shadow price φµ̃ω
t+1 , is replaced by the weighted average E φ µ̃t+1 , which captures the
total social cost of reducing the value of collateral in all of the state-contingent constraints.31 To the
extent that the social costs of being constrained are close to each other in the two variants of the
model, the resulting optimal tax rates are also close to each other. This is likely the case since we
explicitly calibrated µ̃ to capture the social cost of being constrained, i.e. the social value of being
able to issue one more dollar of liabilities, without imposing assumptions on the specific functional
form of the constraint [cf. equation (15)].
Let us next consider the case when some of the financial constraints are binding at time t.
Assume that the planner continues to set the state-contingent tax rate (A.6) in constrained states of
nature so that private agents correctly perceive the social cost of security issuance.32 Then equation
(A.5) implies that the shadow prices on the constraint of domestic agents and the planner for
constrained states of nature satisfy
ω
ω ω
0
µ̃ω
t = µt + E [ φ µ̃t ] p ( c T,t /y N,t )

This reflects that the planner internalizes that relaxing the constraint in state ω increases current
traded goods consumption, which appreciates the current real exchange rate, and relaxes constraints on current security issuance in all other states of nature, with marginal welfare benefit
ω
E [φω µ̃ω
t ]. If some of these constraints are binding (µ̃t > 0), then the planner will subsidize the
issuance of unconstrained securities to increase consumption and relax these binding constraints,
generating a motive for “ex-post” subsidies on security issuance.33 Equation (A.5) implies that the
resulting optimal tax rate on the issuance of securities in unconstrained states of nature (for which
ω
µω
t = µ̃t = 0) is
τtω+∗1 = τtω+1 − mω
t +1 ·
31 The weighted average E

E [φω µ̃ω
t ]
· p0 (cT,t /y N,t )
u T,t




 ω ω 
 ω 
 ω ω 
ω
φω µ̃ω
t+1 can also be decomposed into E φ µ̃t+1 = E [ φ ] E µ̃t+1 + Cov φ µ̃t+1 , highlighting how the measure is adversely affected by systematic correlation between the collateralizability parameter φω
and the social cost of binding constraints µ̃ω
t +1 .
32 This is only one implementation out of a continuum of implementations – since domestic agents are constrained
in their security issuance contingent on the state under consideration, a marginal change in the tax rate would simply
induce a marginal change in the shadow price on the constraint but would not affect the real allocation.
33 We use the term “ex-post” subsidies to reflect that the intervention occurs after a financial crisis state has materialized. In our baseline model, there is no motive for such intervention since all security issuance is limited by the same
constraint – this constraint is either slack or binding, and if it is binding then subsidies on security issuance have no
effects.

48

The optimal tax rate is the sum of the prudential tax τtω+1 from equation (A.6), which is nonnegative, and an additional ex-post intervention term, which is non-positive, indicating a potential
subsidy. For example, if security issuance against low states of nature is constrained, the planner
may subsidize issuance against high states of nature to increase current consumption, appreciate
the real exchange rate, and relax the binding constraints.
B.1.2

Constraints on Composite Securities

Alternatively, consider the case that domestic agents have access to a set S of composite securities
such as dollar debt, local currency debt, equity etc. As in our baseline model, let us denote the
payoff vector of security s ∈ S by Xtω+1 (s). For example, if s = D , L represent dollar debt and
local currency debt, then Xtω+1 (D) = 1 and Xtω+1 (L) = pω
t+1 ∀ ω. Furthermore, denote the position
of security s ∈ S that domestic agents issue by bt+1 (s). The budget constraint of domestic agents
then is
ω
c T,t + pt c N,t + ∑ E [mω
t+1 bt+1 ( s ) Xt+1 ( s )] = y T,t + pt y N,t + ∑ bt ( s ) Xt ( s )
s∈S

s∈S

The sum on the left-hand side represents the amount of finance raised from international investors
with pricing kernel mω
t+1 by issuing the different securities s ∈ S . The sum on the right-hand side
represents the realized payoffs of the N different securities issued in the previous period.
Assume that the market value of security s ∈ S that domestic agents are allowed to issue is
constrained by
ω
bt + 1 ( s ) E [ m ω
t+1 Xt+1 ( s )] + φ ( s ) [ y T,t + pt y N,t ] ≥ 0
where φ (s) is a security-specific collateralizability parameter. (Note that it would be equivalent to impose the constraint on the quantity of securities bt+1 (s) rather than the market value,
since
φ (s) could simply be divided by the market value of one unit of security
 the ωparameter

E mω
X
.)
s
(
)
t +1 t +1
In the Lagrangian of the optimization problem of domestic agents, this introduces a collection
of constraints on security issuance with multipliers µt (s),
(
∞

L = E ∑ βt

u (c T,t , c N,t ) −

t =0

"

− λt cT,t − yT,t + (c N,t − y N,t ) pt +

∑

#
ω
( bt + 1 ( s ) E [ m ω
t +1 X t +1

(s)] − bt (s) Xt (s))

s∈S

+

∑

)


ω
µ t ( s ) [ bt + 1 ( s ) E [ m ω
t +1 X t +1

(s)] + φ (s) (yT,t + pt y N,t )]

s∈S

and similarly for the social planner.
The state-contingent Euler equation of domestic agents changes to
 ω

ω
ω
FOC (bt+1 (s)) : E [mω
t+1 Xt+1 ( s )] ( u T,t − µt ( s )) = βE Xt+1 ( s ) u T,t+1

∀s ∈ S

If domestic agents are subject to specific taxes tt+1 (s) on the
 issuanceof security
 sω ∈ Sω, the leftω
ω
hand side of this Euler equation modifies to E mt+1 Xt+1 (s) − tt+1 (s) u T,t − E mt+1 Xt+1 (s) µt (s).
In the social planner’s problem, both the optimality condition on traded consumption and the
generalized Euler equation are modified to
FOC (c T,t ) : λ̃t = u T,t +
FOC (bt+1 (s)) :

∑ [φ (s) µ̃t (s)] p0 (cT,t /y N,t )

s∈S
ω
ω
E [mt+1 Xt+1 (s)]




λ̃t − µ̃t (s) = βE Xtω+1 (s) λ̃ω
t +1
49

∀s ∈ S

In the first equation, the social value of liquidity λ̃t now depends on the weighted sum of shadow
prices µ̃t (s) on the issuance of different securities. The second equation, the generalized Euler
equation, is modified in the same manner as the decentralized problem. Subtracting the Euler
equation of domestic agents under taxes from the social planner’s generalized Euler equation and
substituting for the λt ’s and λ̃t ’s, we obtain
"
tt+1 (s) u T,t +

ω
E [mω
t +1 X t +1

(s)] µt (s) +

∑ [φ (r) µ̃t (r)] p

#
0

(cT,t /y N,t ) − µ̃t (s)

r ∈S

"

= βE Xtω+1 (s)

∑ [φ (r) µ̃ωt+1 (r)] p0

#
ω
cω
T,t+1 /y N,t+1



(A.7)

r ∈S

Let us define the externality pricing kernel
 β ∑r∈S φ (r ) µ̃ω
t +1 ( r )
ω
τtω+1 = p0 cω
/y
T,t+1
N,t+1 ·
u T,t

(A.8)

Compared to equation (12) in our baseline model, this expression replaces the social cost of reducing the value of collateral by one dollar in state ω next period, captured by the shadow price
φµ̃ω
t+1 , by the sum of the social costs of reducing the value of collateral in each of the individual
constraints on the different financial securities ∑r∈S φ (r ) µ̃ω
t+1 (r ). To the extent that the social costs
of being constrained are close to each other in the two variants of the model, the resulting optimal
tax rates are also close to each other. Again, this is arguably the case since we explicitly calibrated
µ̃ to capture the social cost of being constrained, i.e. the social value of being able to issue one more
dollar of liabilities, without imposing assumptions on the specific functional form of the constraint
[cf. equation (15)].34
Let us first consider the case when all financial constraints are slack at time t. Given the described adjustment to the externality pricing kernel, expression (A.7) implies that the optimal tax on a
composite security s ∈ S with payoffs Xtω+1 (s) under µt (s) = µ̃t (s) = 0 is
t ( Xtω+1 (s)) = E [τtω+1 Xtω+1 (s)]

(A.9)

This is the same as the expression (14) reported in Corollary 1. In short, the prudential behavior of
the planner is unchanged.
Conversely, if the issuance constraints on some of the securities are binding at time t and the
planner imposes the tax (A.9) on those securities so that private agents correctly perceive the social
cost of security issuance, then expression (A.7) implies that the private and social shadow prices
on those binding constraints satisfy
!
µ̃t (s) = µt (s) +

∑ φ (r) µ̃t (r)

p0 (c T,t /y N,t )

r ∈S

The sum on the right-hand side captures that the planner internalizes that allocating more wealth
to the current time period increases current traded goods consumption, appreciates the current real
34 To provide an example, consider an economy in which the issuance of dollar-denominated debt is subject to significantly tighter constraints than equity – φ (D)  φ (E ). This implies that raising the value of collateral increases the
issuance of equity significantly more than the issuance of dollar debt. The externality pricing kernel (A.8) reflects this
by assigning much higher weight to the shadow price on the issuance of equity.

50

exchange rate, and relaxes the constraints on current security issuance. If some of these constraints
are binding (µ̃t (r ) > 0), then the planner will subsidize the issuance of unconstrained securities to
increase consumption and relax these binding constraints, generating a similar motive for ex-post
intervention as in section B.1.1. Expression (A.7) implies an optimal tax rate on the issuance of
unconstrained securities s ∈ S with µt (s) = µ̃t (s) = 0 of
ω
t∗t+1 ( Xtω+1 (s)) = tt+1 ( Xtω+1 (s)) − E [mω
t+1 Xt+1 ( s )] ·

∑r∈S [φ (r ) µ̃t (r )] 0
· p (cT,t /y N,t )
u T,t


The first term in this expression, tt+1 Xtω+1 (s) , reflects the prudential motive captured by
expression (A.9) and is non-negative, indicating a potential tax. The second term captures the additional ex-post intervention motive and is non-positive, indicating a potential subsidy. To provide
an example, consider an economy in which all constraints on the issuance of debt are binding but
the constraint on equity issuance is slack. The planner can relax the constraints on debt issuance by
subsidizing the issuance of equity, which will appreciate the current real exchange rate and thus
generate more collateral for all agents to issue more debt.

B.2

Capital Investment

Our baseline model extended by capital with depreciation rate δ is captured by the Lagrangian
∞


ω
L = E ∑ βt u (c T,t , c N,t ) + µt E [mω
t+1 bt+1 ] + φ [ f ( k t ) + py N,t ]
t =0

ω
−λt [cT,t − f (k t ) + (c N,t − y N,t ) pt + E [mω
t + 1 bt + 1 ] − bt + k t + 1 − ( 1 − δ ) k t ]

The additional optimality condition for capital investment k t+1 is


ω
ω
λt = βE f 0 (k t+1 ) (λω
t+1 + φµt+1 ) + (1 − δ ) λt+1
The social planner’s problem is modified in the same way as in our baseline setup, and she arrives
at an analogous condition for capital investment,



ω
ω
λ̃t = βE f 0 (k t+1 ) λ̃ω
t+1 + φ µ̃t+1 + (1 − δ ) λ̃t+1
The only difference lies in the different shadow prices of private agents versus the planner. The
planner can impose a subsidy st on new capital investment it = k t+1 − (1 − δ) k t to implement her
preferred choice of investment. The subsidy ensures that the private optimality condition equals
the social optimality condition,



ω
ω
λ̃t E f 0 (k t+1 ) · λω
t+1 + φµt+1 + (1 − δ ) λt+1


1 − st =
· 
(A.10)
ω
ω
λt E f 0 (k t+1 ) · λ̃ω
t+1 + φ µ̃t+1 + (1 − δ ) λ̃t+1
Recall that λ̃t = λt + φµ̃t p0 ≥ λt and µ̃t = µt / (1 − φp0 ) ≥ µt , i.e. the planner’s valuations of
wealth and of relaxing the constraint are identical to that of private agents if the constraint is loose
but are higher if the constraint is binding.
The first multiplicative term λ̃t /λt is greater than one if the constraint is binding in the current
period t. In that case, the planner would like to encourage consumption expenditure, which falls
on both traded and non-traded goods, and therefore appreciates the real exchange rate. She will
51

therefore tax investment, which absorbs solely traded goods and has no contemporaneous real
exchange rate effect.
The second multiplicative term in equation (A.10) is less than one if the constraint is expected
to bind in period t + 1. In that case, the planner subsidizes investment, which creates more traded
goods in period t + 1 and therefore appreciates the exchange rate and relaxes the constraint.
Capital Investment and Price of Future Tradable Goods Including capital investment in our
model makes it, in principle, possible to obtain financial amplification in a setting in which the
financial constraint depends on future rather than current prices. If (i) the financial constraint
depends on the market value of future output and thus on future exchange rates, (ii) capital investment occurs only or largely in the traded sector and (iii) policymakers do not possess instruments
to subsidize capital investment while discouraging consumption, then the following feedback loop
could arise: a binding financial constraint reduces current investment in traded goods, which lowers future traded output and thus depreciates the future exchange rate, which in turn tightens the
current constraint and leads to further reductions in current investment in traded goods, leading
financial amplification.

B.3

Over-Optimism

Paternalistic Planner If the planner behaves paternalistically, she forms her own expectations
ES [·] of the discounted future flow of utility but recognizes that private
investors price state
ω
contingent securities using their own expectations operator EP mω
b
,
which
enters in the budt +1 t +1
get and borrowing constraint of private agents. This results in an optimization problem described
by the Lagrangian
L = ES

∞

∑ βt



ω
u (c T,t , y N,t ) − λ̃t [c T,t − y T,t + EP [mω
t + 1 bt + 1 ] − bt ]

t =0


ω
+µ̃t EP [mω
t+1 bt+1 ] + φ [ y T,t + p ( c T,t /y N,t ) y N,t ]
The resulting intertemporal optimality condition is

S,ω ω
ω
πtP,ω
+1 mt+1 λ̃t − µ̃t = βπt+1 λ̃t+1
and the planner can implement the allocation by imposing a state-contingent tax/subsidy on security issuance of
!
πtS,ω
φµ̃t+1 p0
+1
ω
1 + τt+1 = P,ω 1 + ω
u T,t+1
π t +1
as can be seen by simple comparison with the optimality condition of private agents under taxation
(A.2).
Non-Paternalistic Planner A non-paternalistic planner respects the expectations of each individual agent and solves the optimization problem subject to these expectations but calculates the
general equilibrium and the resulting externalities subject to her own expectations. Analytically,
we set up our non-paternalistic planning problem using an ε/1 − ε-approach. The planner maximizes the sum of welfare of all agents and asks how to regulate the behavior of a given mass ε of
agents who employ the private expectations operator EP [·] while internalizing that their behavior
leads to general equilibrium effects and externalities that affect the welfare of the remaining mass
52

1 − ε of agents, which is evaluated using the planner’s expectations operator ES [·]. The optimal
level of regulation for the mass ε agents is imposed on all agents. In the limit as ε → 0, this implements a symmetric planning allocation in which each agent maximizes her utility following
her own subjective probability measure but the level of regulation corresponds to the externalities
evaluated under the planner’s probability measure.
We denote the allocations associated with the mass ε of domestic agents by lower-case letters
and the variables of the remaining mass 1 − ε agents by upper-case letters, which the planner takes
as given (in equilibrium, they are identical to the lower-case letters). The real exchange rate in this
setup is given by the expression
pt = p ([εc T,t + (1 − ε) CT,t ] /y N,t )
The planner maximizes the sum of welfare of all agents, captured by the Lagrangian
L = εEP

∞

∑ βt



ω
u (c T,t , y N,t ) − λ̂t [c T,t − y T,t + EP [mω
t + 1 bt + 1 ] − bt ]

t =0


ω
+µ̂t EP [mω
t+1 bt+1 ] + φ [ y T,t + p ([ εc T,t + (1 − ε ) CT,t ] /y N,t ) y N,t ]
∞

ω
+ (1 − ε) ES ∑ βt u (CT,t , y N,t ) − λ̃t [CT,t − yT,t + EP [mω
t+1 Bt+1 ] − Bt ]
t =0


ω
+µ̃t EP [mω
t+1 Bt+1 ] + φ [ y T,t + p ([ εc T,t + (1 − ε ) CT,t ] /y N,t ) y N,t ]
The optimality conditions for the variables of the mass ε agent are

πtP,ω ε u T,t − λ̂t + εµ̂t φp0 + πtS,ω (1 − ε) εµ̃t φp0 = 0

mω
= βλ̂ω
t+1 λ̂t − µ̂t
t +1
In the limit of ε → 0, we can combine these to
λ̂t = u T,t +

u T,t +

πtS,ω
µ̃ φp0
P,ω t
πt

− µ̂t =

πtS,ω
πtP,ω

µ̃t φp0



S,ω
P,ω
0
β uω
+
π
/π
·
µ̃
φp
t
+
1
T,t+1
t +1
t +1
mω
t +1

As described in Corollary 1, the latter equation, capturing the optimal intertemporal tradeoff, can
be replicated by imposing a tax on individual agents that satisfies
τtω+1

0
πtS,ω
+1 φ µ̃t+1 p
= P,ω
· ω
πt+1 u T,t+1

53

B.4

Impulse Responses
Path of tradable output/consumption
1.02
1
0.98
0.96
0.94
0.92

yT
cT

1

2

3

4

5

6

7

8

9

10

Path of real exchange rate

2
pN

1.95
1

2

3

4

5

6

7

8

9

10

ω

Path of net worth b ’
−0.55

bL’
E[m’b’]

−0.6

bH’
1

2

3

4

5

6

7

8

9

10

ω

Externalities of inflows τ ’
0.2

τL’

0.1
0

1

2

3

4

5

6

7

8

9

τH’
10

T

Figure 4: Impulse Response to Sudden Stop Shock in Planner’s Allocation

54

Path of tradable output/consumption
yT
cT

1
0.95
0.9
0.85
1

2

3

4

5

6

7

8

9

10

Path of real exchange rate
pN

2
1.9
1.8
1

2

3

4

5

6

7

8

9

10

ω

Path of net worth b ’
−0.52
−0.54
−0.56
−0.58
−0.6

E[m’b’]
H’
b
1

2

3

4

5

6

7

8

9

bL’
10

ω

Externalities of inflows τ ’
τL’
0.2
0

1

2

3

4

5

6

7

8

9

τH’
10

T

Figure 5: Impulse Response to Sudden Stop Shock in Restricted Planner’s Equilibrium where τtω =
τ̄t ∀ω

55

C

Numerical solution method [Online only]

This appendix describes how the policy functions in the recursive equilibrium of our model can be
solved numerically using the endogenous gridpoints bifurcation method as in Jeanne and Korinek
(2010b). In a given period, the state of the economy can be summarized by the pair (b, ω ), i.e. the
security holdings carried into the period and the state of nature, which determines the realization
of the output shocks. The dynamics of the model are captured by equilibrium policy functions
c T (b, ω ), p (b, ω ) and bω 0 (b, ω ) that satisfy
n
 0 
o
1
ω0
0
ω0
c T (b, ω ) = min b + y + K (b, ω ) , u−
βu
c
b
,
ω
,
y
/m
,
y
∀ω 0
T
T
N
N
T
p (b, ω ) =
and the law-of-motion

u N (c (b, ω ) , y N )
u T (c (b, ω ) , y N )


c T (b, ω ) + E mω 0 bω 0 (b, ω ) = y T + b

where K (b, ω ) = −φ [y T + p (b, ω ) y N ] reflects the maximum amount of security issuance allowed
by the financial constraint and y T = y T (ω ) as well as y N = y N (ω ) are functions of the state of
nature.
We introduce an auxiliary function b̄ (b, ω ) = E [mω 0 (ω ) bω 0 (b, ω )] that captures the total revenue from security issuance in the given period.
To implement our numerical solution method, we first define a discrete
set Ω = {ω1 , ...ω N }

of N possible states of nature in each period and define by Π = πij the matrix of transition
probabilities from state ωi to state ω j . We associate with each ωi the output shocks y T (ω ) and
y N (ω ) as well as a pricing kernel m (ω ) of international investors and collect the three in the
vectors y T , y N and m. We also define a grid b for bond holding. The lowest possible value bmin
corresponds to the borrowing limit b̄ when traded output is at its lowest possible value min {y T }
and the real exchange rate approaches its lowest possible value 0. The maximum value bmax can
be an arbitrary positive number.
In each iteration step k, we start with a policy function c T,k (b, ω ) that is weakly increasing in b
and y T (ω ). For simplicity we set the initial policy function to c T,0 (b, ω ) = y T (ω ) + (1 − β) b.
We iterate backward in time, i.e. we assume that we know the policy functions c T,k (b0 , ω 0 ) etc
next period and determine the equilibrium in the current period. For each possible realization of
next period bond holdings b0 ∈ b in the grid and for each possible state of nature ω 0 ∈ Ω, we
determine the current period consumption c T and bond holdings b under the assumption that the
equilibrium is unconstrained from the Euler equation,




1
cunc
b0 , ω 0 = u−
βu T c T bω 0 , ω 0 , y0N /mω 0 , y N
(A.11)
T
T


Given consumption c̄ T b10 = cunc
b10 , ω10 in state ω10 , we search for the bi0 for all other ωi0 ,
T
i > 1 that correspond to the same level of consumption via interpolation,


 
cunc
bi0 , ωi0 = c̄ T b10
T
and
corresponds to this level of consumption,
 calculate
 the total amount of security issuance that
i
0
i
0
0
E m b |ω j using the probability distribution of ω for given ω j ∈ Ω. From the period budget

56

 

constraint, we can associate with each of the resulting pairs of c̄ T b10 , E mi0 bi0 |ω j an initial
wealth level
 
h
i


bunc ω j = c̄ T b10 + E mi0 bi0 |ω j − y T ω j



This gives us a set of triplets ( bunc ω j ω ∈Ω , c̄ T , {bω 0 }ω 0 ∈Ω0 ) in which different values of b, ω j
j

are associated with different values of c̄ T b10 and {bω 0 } along the unconstrained branch of the
system.



For each state ω j ∈ Ω, we determine the threshold of K̂ ω j = E mi0 bi0 |ω j at which the
borrowing constraint is marginally binding in the unconstrained system, which satisfies
h
i
h
  
 i


K̂ ω j = E mi0 bi0 |ω j = −φ y ω j + p c̄ T b10 , y N y N
In a given state ω j , this is the lowest possible level of wealth carried into the next period in the
unconstrained system, and it is also the lowest possible level of wealth in the constrained system of
equations (since constrained consumption is always lower than unconstrained consumption and
therefore the exchange
 i0 i0 rate is more depreciated). Any higher level of security issuance, i.e. any
more negative E m b , cannot be supported in state ω j of the economy since it would violate the
collateral constraint. We denote the initial
 wealth level that leads to this level of security issuance
by b̂ ω j . For any b, ω j s.t. b ≥ b̂ ω j , the unconstrained system is valid. On the other hand, if

b < b̂ ω j , the system is constrained.
Next we solve for the constrained branch of the system: for each ω j ∈ Ω, we consider the grid

 


of values of E mi0 bi0 |ω j ∈ K̂ ω j , φy T ω j that we obtained in the previous step and solve for


the levels of c̄con
ω j , E mi0 bi0 |ω j that satisfy the financial constraint with equality for these levels
T
of security issuance from the equation
h
i



E mi0 bi0 |ω j = −φ y ω j + p (c̄con
T , yN ) yN
We use the period
budget constraint to obtain the initial wealth levels corresponding to the levels
i 0 bi 0 | ω
c̄con
,
E
m
as
j
T
i
h

i0 i0
bcon = c̄con
T + E m b |ω j − yT ω j


ω0
con , ω
For each ω j , this gives us a set of triplets bcon , c̄con
j
T , { b }ω 0 ∈Ω0 in which different values of b
ω0
are associated with different values of c̄con
T and { b } along the constrained branch of the sycon leads to zero consumption and total security issuance
stem.
lowest possible
 value of b

 i0 iThe
0
E m b |ω j = φy T ω j . We denote this level by bmin ω j . In summary, for a given ω j , any



b ∈ (bmin ω j , b̂ ω j ) leads to a constrained outcome and any b ≥ b̂ ω j leads to an unconstrai
ned outcome. At b̂ ω j , the constrained and unconstrained policy functions coincide.
Next we construct the step k + 1 policy function c T,k+1 (b, ω ) by combining the constrained and
unconstrained regimes.

ω0
For a given ω j and b ∈ [bmin (ω j ), b̂(ω j )], we interpolate on the triplets bcon , c̄con
,
b
{
}
0
0
ω ∈Ω .
T

For the same ω j and b ∈ [b̂(ω j ), bmax ], we interpolate on the triplets ({bunc ω j }ω j ∈Ω , c̄ T , {bω 0 }ω 0 ∈Ω0 ).
Concatenating the policy functions of these two regions, we get the step k + 1 policy functions
c T,k+1 (b, ω j ) and bω 0 b, ω j . The resulting consumption function c T,k+1 (b, ω ) is monotonically increasing in b and y T (ω ). We keep iterating this process until the distance between two successive
functions c T,k (b, ω ) and c T,k+1 (b, ω ) is sufficiently small.

57

