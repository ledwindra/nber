NBER WORKING PAPER SERIES

A CONTINUOUS-TIME AGENCY MODEL OF
OPTIMAL CONTRACTING AND CAPITAL STRUCTURE
Peter M. DeMarzo
Yuliy Sannikov
Working Paper 10615
http://www.nber.org/papers/w10615
NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
June 2004

We would like to thank Mike Fishman for many helpful comments. We are also grateful to Han Lee, Gustavo
Manso, Nelli Oster, Ricardo Reis, Alexei Tchistyi, Jun Yan, Baozhong Yang as well as seminar participants
at the Universitat Automata de Barcelona, University of Chicago, Northwestern University and Washington
University. The views expressed herein are those of the author(s) and not necessarily those of the National
Bureau of Economic Research.
©2004 by Peter M. DeMarzo and Yuliy Sannikov. All rights reserved. Short sections of text, not to exceed
two paragraphs, may be quoted without explicit permission provided that full credit, including © notice, is
given to the source.

A Continuous-Time Agency Model of Optimal Contracting and Capital Structure
Peter M. DeMarzo and Yuliy Sannikov
NBER Working Paper No. 10615
June 2004
JEL No. D82, G32, E24, J41, G21
ABSTRACT
We consider a principal-agent model in which the agent needs to raise capital from the principal to
finance a project. Our model is based on DeMarzo and Fishman (2003), except that the agent's cash
flows are given by a Brownian motion with drift in continuous time. The difficulty in writing an
appropriate financial contract in this setting is that the agent can conceal and divert cash flows for
his own consumption rather than pay back the principal. Alternatively, the agent may reduce the
mean of cash flows by not putting in effort. To give the agent incentives to provide effort and repay
the principal, a long-term contract specifies the agent's wage and can force termination of the
project. Using techniques from stochastic calculus similar to Sannikov (2003), we characterize the
optimal contract by a differential equation. We show that this contract is equivalent to the limiting
case of a discrete time model with binomial cash flows. The optimal contract can be interpreted as
a combination of equity, a credit line, and either long-term debt or a compensating balance
requirement (i.e., a cash position). The project is terminated if the agent exhausts the credit line and
defaults. Once the credit line is paid off, excess cash flows are used to pay dividends. The agent is
compensated with equity alone. Unlike the discrete time setting, our differential equation for the
continuous-time model allows us to compute contracts easily, as well as compute comparative
statics. The model provides a simple dynamic theory of security design and optimal capital structure.
Peter M. DeMarzo
Graduate School of Business
Stanford University
Stanford, CA 94305
and NBER
pdemarzo@stanford.edu

Yuliy Sannikov
Graduate School of Business
Stanford University
Stanford, CA 94305

1.

Introduction

In this paper, we consider a dynamic contracting environment in which a risk-neutral
agent or entrepreneur with limited resources manages an investment activity. While the
investment is profitable, it is also risky, and in the short-run can generate large losses.
The agent will need outside financial support to cover these losses and continue the
project. The difficulty is that while the distribution of the cash flows is publicly known,
the agent may distort these cash flows by taking a hidden action that leads to a private
benefit. Specifically, the agent may (i) conceal and divert cash flows for his own
consumption, and/or (ii) stop providing costly effort, which reduces the mean of the cash
flows. Therefore, from the perspective of the principal or investors funding the project,
there is the concern that a low cash flow realization may be a result of the agent’s actions,
rather than the project fundamentals. To provide the agent with appropriate incentives,
investors control the agent’s wage, and may withdraw their financial support for the
project and force its early termination. We seek to characterize an optimal contract in
this framework and relate it to the firm’s choice of capital structure.
A discrete-time model of this sort is considered by DeMarzo and Fishman (2003),
hereafter denoted DF. Here we extend their analysis to a continuous-time setting in
which the cumulative cash flows generated by the investment follow a Brownian motion
with a positive drift. With Brownian motion, the losses on the project over any interval
of time can be arbitrarily large. An optimal contract must specify the level of losses that
investors will tolerate before terminating their support. A key advantage of the
stationary, continuous-time model considered here is that the optimal contracts and
payoffs can be characterized in terms of an ordinary differential equation, making the
solution and comparative statics simpler to quantify. It also makes the model easier to
calibrate and embed within other standard finance models.
Another important contribution of the paper is methodological. We solve the model in
two ways. First, we represent the project cash flows as a discrete-time binomial tree.
The agency problem is that the agent may report low cash flows when they are really
high, and/or stop providing costly effort, which affects the probability of the high cash
flow. Given the discrete-time setting, we can apply the results of DF to describe the
solution. We show that the limit of this solution as the time increments vanish leads to an
ordinary differential equation that characterizes equilibrium payoffs. 1 Second, we
formulate the model directly in continuous time. Using techniques similar to those
introduced by Sannikov (2003), we again characterize the solution in terms of an ordinary
differential equation, and show that it coincides with the limit of the discrete case. These
techniques are quite powerful and may prove useful in other dynamic contracting models.
In the discrete-time setting, DF demonstrate that the optimal contract can be implemented
using a combination of standard securities: equity, long-term debt, and a credit line.
Dividends are paid when cash flows exceed long-term debt payments and the credit line
1

While using a binary-tree to approximate Brownian motion is natural when modeling payoffs, in the
context of an agency problem there is no guarantee that the optimal contract in the binary case will
approximate the optimal contract in continuous time. See, for example, Hellwig and Schmidt (2002) for a
discussion of the difficulties of this approach in the Holmstrom-Milgrom (1987) continuous-time principalagent model.
1

is paid off. If long-term debt payments are not made or the credit line is overdrawn, the
project is terminated with a probability that depends on the size of the cash shortfall.
In the setting of this paper we obtain a similar implementation with some distinctions.
First, termination is no longer stochastic, but occurs the moment the credit line is
overdrawn or there is a default on the long-term debt. Another distinction is that because
the project can generate large short-term losses, projects that are very risky will not use
long-term debt but instead require a compensating balance with the credit line. (A
compensating balance is a cash deposit that the firm must hold with the lender to
maintain the credit line.) The compensating balance serves two roles. First, it allows for
a larger credit line, which is valuable given the risk of the project. Second, it provides an
inflow of interest payments to the project that can be used to somewhat offset operating
losses. The model therefore provides an explanation for why firms might hold substantial
cash balances at low interest rates while simultaneously borrowing at higher rates.
After characterizing the implementation of the optimal contract, we compute a number of
comparative statics as well as determine the dynamics of security prices. In both cases,
our differential equation characterization proves very useful for the analysis.
For the bulk of our analysis, we focus on the case in which the agent can conceal and
divert cash flows. We show in Section 5 that the characterization of the optimal contract
is unchanged if the agent makes a hidden binary effort choice. We also consider the
possibility of contract renegotiation in Section 6, and characterize the optimal
renegotiation-proof contract.

1.1.

A Simple Example

We illustrate briefly the nature of our results with a simple example. Suppose the
cumulative cash flows of the project follow a Brownian motion with a mean of 10 and
volatility of 20 per period. Figure 1 illustrates a possible sample path.
90
80

Cumulative Cash Flows

70
60
50
40
30
20
10
0
0

0.5

1

1.5
Time

2

Figure 1: Sample Path of Cumulative Project Cash Flows

2

2.5

3

Suppose the market interest rate is 10%. Then the first best value of the project is
10/10% = 100. If the assets are worth 65 if liquidated, the project should be run forever.
Now introduce the agency problem. Suppose the agent who works for the firm can divert
cash flows at a cost of 20% of the amount diverted. Or suppose that the agent can shirk
and earn a private benefit of 8 per period, but that shirking reduces the mean of the cash
flows from 10 to 0 per period. Assume that the agent’s subjective discount rate is 15%.
Then, by the methods of our paper, the following combination of securities solves the
agency problem optimally:2
Long-term Debt: The firm issues debt with face value of 10 and coupon rate of
10%.
Credit line: The firm opens a credit line with a credit limit of 60 and an interest
rate of 15%.
Equity: The firm issues 20% of outside equity. The remaining 80% is held by the
agent.
For the sample path shown in Figure 1, the draw on the credit line and the cumulative
dividends evolve as in Figure 2. Dividends are paid only if the credit line balance is zero.
Otherwise operating profits are used to pay down the credit line. In this example, the
firm exhausts its credit line and defaults after 2.7 periods. In default, the creditors
recover the liquidation value of 65 on total debt (long-term plus credit line) of 70.
Figure 2: Dividends and Credit line balance under the optimal contract for the sample path of Figure 1

90
80
70

Default

Credit Limit

60
50
40

Credit Line
Balance

Cumulative Dividends

30
20
10
0
0

0.5

1

1.5
Time

2

2.5

3

Intuitively, because the interest on the credit line equals the agent’s subjective discount
rate, the agent will not draw from the credit line more than necessary to cover short-term
operating losses. If the credit line is fully repaid, operating profits are used to pay
dividends. The agent will not divert cash flows because he receives 80% of dividends. If
2

We emphasize that the use of debt and equity is not assumed, but shown to be optimal.
3

the credit line is exhausted, the firm defaults and the project terminates. Assuming the
long-term debt has seniority, in this example the long-term debt is riskless and has a
market value of 10 because the liquidation value of 65 is greater than the face value of
the debt. We can compute that the providers of the credit line expect profit of 3 and 20%
of equity is worth 15. With these securities the agent raises 28 in external capital without
drawing on the credit line.
Our analysis will demonstrate the optimality and incentive compatibility of the above set
of securities for this example and show how the choice between credit line and long-term
debt is determined. We will see, for example, that whether the firm issues risky debt,
riskless debt, or holds a compensating cash balance will depend on the risk of the project
and its liquidation value.

1.2.

Related Literature.

Our paper is part of a growing literature on dynamic optimal contracting models using
recursive techniques that began with Green (1987), Spear and Srivastava (1987), Phelan
and Townsend (1991), and Atkeson (1991) among others. (See, for example, the text by
Ljungqvist and Sargent (2000) for a description of many of these models.) As previously
mentioned, this paper builds directly on the model of DeMarzo and Fishman (2003).
Other recent work developing optimal dynamic agency models of the firm includes
Albuquerque and Hopenhayn (2001), Clementi and Hopenhayn (2000), DeMarzo and
Fishman (2003b), and Quadrini (2001). With the exception of DeMarzo and Fishman
(2003), these papers do not share our focus on an optimal capital structure. In addition,
none of these models are formulated in continuous time.
While discrete time models are adequate conceptually, in many cases a continuous-time
setting may prove to be much simpler and more convenient analytically. An important
example of this is the principal-agent model of Holmstrom and Milgrom (1987), hereafter
HM, in which the optimal continuous-time contract is shown to be linear. Schattler and
Sung (1993) develop a more general mathematical framework for analyzing agency
problems of this sort in continuous time, and Sung (1995) allows the agent to control
volatility as well. Hellwig and Schmidt (2002) look at the conditions for a discrete-time
principal-agent model to converge to the HM solution. See also Bolton and Harris (2001),
Ou-yang (2003), Detemple, Govindaraj and Loewenstein (2001), Cadenillas, Cvitannic
and Zapatero (2003) for further generalization and analysis of the HM setting.
Several features distinguish our model from the HM problem: the investor's ability to
terminate the project, the agent's consumption while the project is running, and the nature
of the agency problem. In HM, the agent runs the project until date T, and then receives
compensation. In our model, the agent receives compensation many times while the
project is running, until the contract calls for the agent’s termination. Also, HM analyze a
setting in which the agent takes hidden actions. In our main setting the agent observes
private payoff-relevant information; we also consider the possibility of a binary hidden
action choice. Unlike HM, the termination decision is a key feature of the optimal

4

contract in our setting. Here, as in DF, we demonstrate how this decision can be
implemented through bankruptcy.3
Sannikov (2003) and Williams (2004) analyze principal-agent models, in which the
principal and the agent interact dynamically. Their interaction is characterized by
evolving state variables. In their models, the agent continuously chooses actions (e.g.
hidden effort) that are not directly observable to the principal, and the principal takes
actions (e.g. payments to the agent) that affect the agent's payoff. Besides having a
dynamic nature in the spirit of Sannikov (2003) and Williams (2004), our paper develops
a new method to deal with the problem of private observations in continuous time. Also,
unlike in Sannikov (2003) and Williams (2004), hidden savings do not pose any
additional difficulties in our model. We derive an optimal contract in a setting without
hidden savings, and verify that it remains incentive compatible even when the agent can
save secretly.
In contemporaneous work, Biais et al. (2004) consider a dynamic principal-agent
problem in which the agent’s effort choice is binary (work or shirk). While they do not
formulate the problem in continuous time, they do exam the continuous limit of the
discrete-time model and focus on the implications for the firm’s balance sheet. As we
show in Section 5, their setting is a special case of our model and our characterization of
the optimal contract applies.
This paper is organized as follows. Section 2 presents a discrete-time model with binary
cash flows, summarizes the optimal contract that was found by DF, and derives the form
of the contract in the limit as cash flows arrive more frequently. Section 3 presents a
continuous-time model, in which cash flows arrive via a Brownian motion with a positive
drift. The optimal contract in the continuous-time setting is then derived, and shown to
coincide with the contract in the limit of the discrete-time settings. Section 4 discusses
the implementation of the optimal contract in terms of familiar securities: credit line, debt
and equity. The pricing of these securities and comparative statics results are also
considered. Sections 5 shows the optimality of our contract with hidden binary effort and
Section 6 considers several extensions, including renegotiation-proof contracts. Section 7
concludes the paper.

2.

The Discrete Time Model

There is an agent and investors. Investors are risk neutral, have unlimited capital, and
value a cash flow stream {dCt} as E ∑t e−rt dCt, where r is the riskless interest rate. The
agent is also risk neutral, has limited capital, and values a cash flow stream {dCt} as
E ∑t e−γ t dCt, where γ > r is the agent’s subjective discount rate.4
The agent has a risky project that requires capital K. The agent has initial wealth Y0 ≥ 0.
If K > Y0, the agent must borrow to finance the project. Alternatively, even if Y0 ≥ K,
3

Spear and Wang (2002) also analyze the decision of when to fire an agent in a discrete-time model. They
do not consider the implementation of the decision through standard securities.
4
The case γ < r is not appropriate given an infinite horizon, as the agent could earn unbounded utility by
saving at the riskless rate. If there exists a dispersion of subjective discount rates in the population, then in
equilibrium investors will be the most patient types. See also the discussion at the end of Section 2.1.
5

given γ > r the agent would like to borrow for consumption purposes. If the project is
funded, it produces cash flows at interval dt. The cash flow at date t is given by the
random variable dYt. We assume that the cash flows {dYt} are i.i.d. with distribution
 y ≡ µ dt + σ
 1
dYt = 
 y0 ≡ µ dt − σ

1− q
q

dt

with probability q

q
1− q

dt

with probability 1 − q

That is, each cash flow has a Bernoulli distribution with mean µ dt and variance σ2 dt.
Note that y0 may be negative. In this case the firm must have cash, or established credit,
of at least −y0 at the start of each period for the project to continue.
At the end of each period, the project may be terminated. If it is terminated, the agent
receives a reservation payoff R ≥ 0, and the assets of the firm can be liquidated for L ≤ K.
We also assume that the investment is efficient, so that rK + γR < µ, and therefore that
termination is inefficient.
We assume that cash flows up to y0 are observable and collectible by investors, but
investors do not know whether y0 or y1 has occurred. Specifically, the agent privately
observes the realization of dYt. Investors must rely on the agent to report this realization.
Of course, the agent may lie about the cash flow in order to cheat investors. If the cash
flow in period t is y1, the agent may conceal the excess y1 − y0. The diversion of cash
flows may be costly: the agent obtains only a fraction λ ∈ (0,1] of concealed cash flows.
When λ = 1, diversion is costless. As λ → 0, diversion becomes impossible and the
agency problem disappears. The diverted cash may be consumed immediately or saved
at interest rate ρ ≤ r. The agent’s savings are unobservable to the principal, and can be
used for future consumption or to exaggerate future cash flows.5
In contrast to the operating cash flows, liquidation of the assets is observable and
contractible. This modeling reflects the idea that the agent can divert the profits but not
the assets. The agent’s reservation payoff R is a private benefit that is not contractible; at
any time the agent may quit and terminate the project in order to receive R.
Suppose investors fund the agent. Investors do not observe the actual cash flows or their
diversion, and do not observe the agent's consumption or any savings. Investors only
observe the agent's payments and reports. A contract therefore specifies payments made
from investors to the agent as a function only of messages sent and past payments made
by the agent to investors. The contract can also specify circumstances under which
control of the project passes from the agent to investors, who then terminate the project.
It is this threat of termination of the project that induces the agent to pay investors some
share of the cash flows. Finally, we assume the contract signed at date 0 remains in force
for the life of the project. That is, the agent and investors can commit not to renegotiate.
We discuss the consequences of renegotiation in Section 6.

5

We can also allow the agent to costlessly conceal and save cash flows within the firm and use them to
exaggerate future cash flows. That is, the proportional cost of diversion, (1−λ), need only be borne if the
agent diverts the funds for personal consumption. This possibility does not alter the form of an optimal
contract, and is formally considered in Section 3.1 (see Proposition 5).
6

2.1.

The Optimal Contract

DeMarzo and Fishman (2003), or DF, describe a recursive method for determining the
optimal contract in a general discrete-time setting that includes the model described
above.6 Because the future cash flows of the project are history independent, the optimal
contract at any date t depends only on the promised payoff to the agent, Wt. That is, Wt is
a sufficient statistic for the history of the interaction, and so is the only state variable
necessary to describe an optimal contract.
There are three regions that govern the behavior of the optimal contract, determined by a
liquidation boundary WL ≥ R and a dividend boundary W1 ≥ WL. For Wt ∈ [R, WL), the
project is (stochastically) terminated. For Wt > W1, the agent receives compensation
Wt − W1 in the form of cash dividends. For W ∈ [WL, W1], all cash flows are paid to
investors, and the agent is rewarded through the promise of future payoffs only. Since the
agent is only compensated through the future payoff, the expected future payoff must be
higher than the agent’s current payoff to account for the agent's discount rate, γ. In
addition, in order to maintain incentive compatibility, the agent’s payoff must increase by
λ for each dollar paid to investors. Thus, the agent's promised payoff evolves according
to

Wt + dt = e γdtWt + λ( dYt − µ dt )

(1)

The investor's future payoff can then be given in terms of the agent's through the
continuation function,
b(W) = maximal investor payoff given agent earns payoff W ∈ [R, ∞).
DF demonstrate that this continuation function is concave and, in the region W ∈ [WL,
W1], satisfies
b(Wt ) = e − rdt (µ dt + E[b(Wt + dt )])

(2)

The intuition for equation (2) is straightforward: the investors' current payoff is the
present value (at discount rate r) of this period's expected cash flow plus their expected
future payoff. The future payoff is also described by the continuation function, evaluated
at the agent’s future payoff.
DF show that the dividend boundary W1 is determined by the lowest payoff for the agent
such that b′(W1) = −1. That is, for W < W1, b′(W) > −1, so that it is cheaper to
compensate the agent using future promises than with cash. On the other hand, to
provide the agent with payoff W > W1, it is optimal to give the agent an immediate cash
transfer from the investors of W − W1. That is, in the dividend region, W ≥ W1, the
continuation function is linear with b′(W) = −1. Since immediate compensation is better
than deferred compensation, this implies that in this region,
b(Wt ) ≥ e − rdt (µ dt + E[b(Wt + dt )])

6

(3)

In particular, DF do not restrict the distribution of the cash flows, or require stationarity, etc.
7

Finally, in the liquidation region W ≤ WL, the project is terminated with probability
(W L − W ) (W L − R ) , or continued with the agent receiving payoff WL. Thus, b(R) = L
and the continuation function is linear with slope b '(W ) = l ≡

b (W L ) − L
W L −R

until WL. Since

stochastic termination is better than continuing, equation (3) holds for this region as well.
DF show that when γ = r, the dividend boundary is such that no dividends are paid until
the firm becomes self-financing (i.e., it can meet all future commitments solely from
operating cash flows). Since in our setting operating losses over any interval are
unbounded, if γ = r it would be optimal to delay dividends and payments to the agent
indefinitely. It is for this reason that we must restrict attention to the case γ > r.

2.2.

The Continuous Limit

Using the characterization of the optimal contract in discrete time, we now decrease the
length of the period to determine the characterization for the continuous-time limit. As
dt → 0, the binomial-tree process for the cash flows converges to Brownian motion with
mean µ and volatility σ. In this case, equation (2) becomes a second-order differential
equation for the optimal continuation function (see (4)). The liquidation and dividend
boundaries determine the boundary conditions for this differential equation. Liquidation
occurs if and only if the agent's payoff equals the outside option R, so that the liquidation
boundary becomes b(R) = L. The dividend boundary is determined implicitly (see(5)).
PROPOSITION 1. Let b be the limit of the optimal continuation function as dt → 0. Then
b is concave and twice continuously differentiable. The liquidation boundary WL → R
and b(R) = L. In the region W ∈ [R, W1],
rb(W ) = µ + γWb '(W ) + 12 λ 2σ2b ''(W )

(4)

and dW = γW dt + λ ( dYt − µ dt ) . Finally, W1 satisfies
b′(W1) = −1 and rb(W 1 ) + γW 1 = µ .

(5)

For W ≥ W1, the agent receives an immediate cash payment of W − W1 and
b(W) = b(W1) − (W − W1).
SKETCH OF PROOF: First, dW follows immediately from (1). For b, the limit of concave
functions is concave. Since the agent’s future continuation payoff is noisy (λ2σ2 > 0), b′
must be continuous since otherwise there would be no way to achieve the payoff at a
“kink.” First we show that (4) holds in the region W ∈ [WL, W1]. Using Taylor
expansions and ignoring terms that are o(dt), we can rewrite (2) as follows:

(

)

b(W ) = (1 − r dt ) µ dt + E  b(W ) + b '(W )dW + 12 b ''(W )dW 2  ,
Since E[dW] = γW dt and E[dW2] = λ2 σ2 dt + o(dt),

(

b(W ) = (1 − r dt ) µ dt + b(W ) + γWb '(W ) dt + 12 λ 2σ2b ''(W ) dt

8

)

which reduces to (4) on elimination of dt2 terms and dividing by dt. Note that (4) also
implies that b′′ is continuous on (WL, W1).
Next we verify (5). For W > W1, we can use (3) and Taylor expansions to derive

(

b(W ) ≥ (1 − r dt ) µ dt + b(W ) + γWb '(W ) dt + 12 λ 2σ2b ''(W ) dt
= (1 − r dt ) ( µ dt + b(W ) + γWb '(W ) dt )

)

where we use the fact that b is linear in this region. Collecting terms and dividing by dt
yields

rb(W ) − γWb '(W ) ≥ µ .

(6)

On the other hand, for W ≤ W1, from (4),
rb(W ) − γWb '(W ) = µ + 12 λ 2 σ2b ''(W ) ≤ µ

(7)

Since b′(W1) = −1 by definition, together these imply b′′(W1) = 0, or equivalently (5).
Finally, we verify the liquidation boundary WL = R. If R ≤ W < WL, (6) also holds. But
since b′(W) = l ≥ −1, this implies that rb(W) + γW ≥ µ. But this contradicts the fact that
liquidation is inefficient and therefore that rb(R) + γR = rL + γR < µ.
The intuition for (4) is as follows: To receive b, investors must earn total return rb. They
earn this return by receiving the expected cash flow µ, less the cost of paying the agent
his required return, γWb', less the incentive cost associated with the agent’s risk,
1 2 2
The boundary conditions (5) are “smooth pasting” and “super contact”
2 λ σ b '' .
conditions for the optimality of W1; at the dividend boundary both first and second
derivatives are matched. Alternatively, we can interpret the condition rb(W1) + γ W1 = µ
as the point at which satisfying the agent’s and investor’s rents just exhausts the expected
cash flows. Finally, note that unlike the discrete-time model of DF, in continuous-time
termination is no longer stochastic. Stochastic termination is required in discrete-time in
order to maintain incentives when the agent's promised payoff is too close to R, since if
the project is continued the agent can at a minimum steal next period’s cash flow and
then receive R. This is not an issue when the decision to terminate can be made
continuously. An example of the optimal continuation function is shown in Figure 3.
Proposition 1 provides a characterization of the optimal contract and payoff dynamics for
the limit of the discrete-time model. In this limit, cumulative cash flows follow a
Brownian motion with drift µ and volatility σ. Before discussing further the properties of
this solution, we first formulate the problem directly in continuous-time, and show that
the characterization of the optimal contract is preserved.

9

µ/r
First Best (b = µ/r − W)

r b = µ + γW b′ + ½ λ2 σ2 b′′

Investor
Payoff
b(W)

r b = µ − γW

L

slope b′ = −1

0

W1
R

Agent Payoff W

µ/r

Figure 3: The Optimal Continuation Function b

3.

The Continuous-Time Model

In this section we develop a continuous-time formulation of the contracting problem.
There are two important reasons for this. First, the discrete-time method of the previous
section relies on the considerable machinery developed in DeMarzo and Fishman (2003).
Here we propose a methodology that can be used directly to analyze the continuous-time
model, which will prove useful in extensions of this analysis. Second, while the previous
section approximates the optimal contract for each model in the sequence of discrete time
models, there is the possibility that the continuous-time setting may introduce superior
contracting possibilities not available in discrete time. Here we develop a continuoustime framework and show that the convenient characterization of an optimal contract
described in Section 2.2 holds precisely in continuous time.
In the continuous-time model, the agent manages a project that generates a stochastic
stream of cash flows, given by
dYt = µ dt + σ dZt,
where Z is a standard Brownian motion on a probability space {Ω,  , } with an
augmented filtration  t , 0 ≤ t ≤ ∞ generated by the Brownian motion. The cash flows Y
from the project are observable only by the agent and not the principal. The agent makes
a report {Yˆt ; t ≥ 0} of the realized cash flows to the principal. The principal does not know
whether the agent is lying or telling the truth. The principal extracts the reported cash
10

flows dŶt from the agent and gives him back transfers of dIt that are based on the agent's
reports. Formally, the agent’s income process It is non-decreasing and Yˆ -measurable . If
the agent underreports realized cash flows, he steals the difference. Stealing may be
costly: the agent is able to enjoy only a fraction λ ∈ (0,1] of what he steals. Also, the
agent can overreport and put his own money back into the project. As a result, the agent
receives a flow of income of7
[dYt − dYˆt ]λ + dI t , where [dYt − dYˆt ]λ ≡ λ ( dYt − dYˆt ) + − (dYt − dYˆt ) −

(8)

To make sure that the agent does not receive income of minus infinity, we assume that
process Yˆt − Yt has to have bounded variation.
The agent is risk-neutral and discounts his consumption at rate γ. This continues until a
termination time τ that is contractually specified by the principal. During this time, the
agent chooses a nondecreasing consumption process C = {Ct; 0 ≤ t ≤ τ}. He also
maintains a private savings account, from which he consumes and into which he deposits
his income. The principal cannot observe the balance of the agent’s savings account. The
agent’s balance St grows at interest rate ρ < γ:
dSt = ρSt dt + [dYt − dYˆt ]λ + dI t − dCt

(9)

The agent must maintain a nonnegative balance on his account.
Once the contract is terminated, the agent receives payoff R from an outside option
available for him. Assume that R ≥ 0. Therefore, the agent’s total expected payoff from
the contract at date 0 is given by8
τ
W0 = E  ∫ e −γs dCs + e −γτ R  .
 0


(10)

The principal discounts cash flows at rate r, such that γ > r ≥ ρ. Once the contract is
terminated, he receives expected liquidation payoff L ≥ 0. The principal’s total expected
profit at date 0 is
τ
b0 = E  ∫ e − rs ( dYˆs − dI s ) + e − rτ L  .
 0


The project requires an investment of K ≥ L in order to be started. The agent has initial
wealth Y0. The principal specifies a contract before date 0. A contract (τ, I) specifies a
termination time τ and payments {It; 0 ≤ t ≤ τ} that are based on reports Yˆ . Formally, I
is a Yˆ -measurable continuous process, and τ is a Yˆ -measurable stopping time.

7

Note that (8) implies that the agent pays a proportional cost (1−λ) to divert funds, but does not recover the
cost if the funds are put back into the firm. We could also allow the agent to conceal and save funds within
the firm, avoiding the cost (1−λ) if the funds are ultimately used to boost future reported cash flows (i.e.,
the cost is only paid if the funds are diverted to the agent’s personal account). As we show in Section 3.1,
this does not change the results in any way.
8
We can ignore consumption beyond date τ because γ ≥ r implies it is optimal for the agent to consume all
savings at termination (i.e., Sτ = 0).
11

In response to a contract (τ, I), the agent chooses a strategy. A feasible strategy is a pair
of processes (C, Yˆ ) adapted to Y, such that
(i)

process Yt − Yˆt has bounded variation,

(ii)

process Ct is nondecreasing, and

(iii)

the savings process, defined by (9), stays nonnegative.

The agent chooses a feasible strategy to maximize his expected payoff. Therefore, the
agent’s strategy (C, Yˆ ) is incentive compatible if it maximizes his total expected payoff
W0 given a contract (τ, I).
We have not explicitly modeled the agent’s option to quit and receive the outside option
R at any time. We could incorporate this by including an individual rationality constraint
requiring that the agent’s future payoff from continuing at date t, Wt, is no worse than his
outside option R for all t. However, in our setting this is not necessary as the individual
rationality constraint will never bind. The agent can always under-report and steal at rate
of γ R/λ, consuming γ R until termination, and this strategy gives the agent a payoff of R
under any contract. Thus any incentive compatible strategy yields the agent at least R.
Thus, the optimal contracting problem is to find a contract (τ, I) and an incentivecompatible response strategy (C, Yˆ ) that maximize the principal’s profit subject to
delivering to the agent an initial required payoff W0. By varying W0 we can use this
solution to consider different divisions of bargaining power between the agent and the
investors.

3.1.

Solving the Continuous-Time Model

We solve the problem of finding an optimal contract in several steps. First, we show that
it is sufficient to look for an optimal contract within a smaller class of contracts, namely
contracts in which the agent chooses to report cash flows truthfully and maintain zero
savings. After that, we consider a relaxed problem by ignoring the possibility that the
agent can save secretly. We show how to conveniently represent the truth-telling
conditions in continuous time and prove that the contract characterized in Section 2 is
optimal when the agent cannot save. Finally, we show that the contract is fully incentive
compatible even when the agent can save secretly.
We begin with a revelation principle type of result:
PROPOSITION 2. There exists an optimal contract in which the agent chooses to tell the
truth, and maintains zero savings.
PROOF: See Appendix.

The intuition for this result is straightforward – it is inefficient for the agent to conceal
and divert cash flows (λ ≤ 1) or to save them (ρ ≤ r). We can improve the contract by
having the investors save and make direct payments to the agent. Thus, we can look for
an optimal contract in which truth telling and zero savings is incentive compatible.

12

Note that if the agent could not save, then he would not be able to over-report cash flows
and would consume all income as it is received. Thus,
dCt = dI t + λ (dYt − dYˆt ) .

(11)

We can relax the problem by restricting the agent’s savings so that (11) holds. After we
find an optimal contract for the relaxed problem, we show that it remains incentivecompatible even if the agent can save secretly.
One difficulty with working in a dynamic setting is the complexity of the contract space.
The contract can depend on the entire path of reported cash flows Yˆ , making it difficult
to evaluate the agent’s incentives in a tractable way. Our first task is to find a convenient
representation for the agent’s incentives. To do so, define Vt as the total expected payoff
the agent receives, from transfers and termination utility, if he tells the truth:9
τ
Vt ≡ E  ∫ e −γs dI s + e −γτ R  t 
 0


The following result provides a useful representation for Vt.
LEMMA A. There is a Y-measurable process {βt; 0 ≤ t ≤ τ} such that
t

Vt = V0 + ∫ e −γsβ s
0

dYs − µ ds
 σ

(12)

dZ s

PROOF: The process Vt is a martingale. By the Martingale Representation Theorem,
there is a process β such that dVt = e−γt βt dZt and thus (12) holds.

When the agent reports truthfully, then the agent’s payoff at termination is given by
τ

τ

0

0

Vτ = ∫ e − γt dI t + e − γτ R = V0 + ∫ e − γtβt

dYt − µ dt
σ

Because I and τ depend exclusively on the agent’s report, when the agent reports Yˆ then
he gets utility


τ −γt
τ −γt


dYˆt − µ dt
W0 = E V0 + ∫ e βt
+ ∫ e λ (dYt − dYˆt ) 
0
0
σ



payoff from stealing
V
=
payoff
from
contract
τ




τ −γt
τ −γt 


dYt − µ dt
βt 
= E V0 + ∫ e βt
+ ∫ e  λ −  ( dYt − dYˆt ) 
0
0
σ
 σ 


incentives



(13)

This representation allows us to formulate our incentive compatibility condition:
9

In the analysis that follows we assume that the contract does not use additional randomization (beyond
that in the agent’s report). A remark after the proof of Proposition 4 shows that randomization would not
improve the principal’s profit, so that this assumption is not restrictive.
13

PROPOSITION 3. If the agent cannot save, truth-telling is incentive compatible if and
only if βt ≥ λσ.
PROOF: If βt ≥ λσ for all t then (13) is maximized when the agent chooses dYˆt = dYt ,
since the agent cannot over-report cash flows. If βt < λσ on a set of positive measure,
then the agent is better off underreporting on this set than always telling the truth.

In order to construct an optimal contract and verify that no other contract does better, it is
convenient to work with the agent’s continuation value
τ
Wt = E  ∫ e −γ ( s −t ) dI s + e −γ ( τ−t ) R  t  .
 t

t

Because Vt = ∫ e −γs dI s + e −γtWt , using (12) we have that Wt evolves according to
0

dWt = γWt dt − dI t + βt dZ t

(14)

The Optimal Contract
We now show that the principal’s profit in continuous time is the same as in the limit of
the discrete model described in Proposition 1 and illustrated in Figure 3. Specifically, the
principal’s profit b(W) is concave, twice continuously differentiable, and there is a
“dividend point” W1 such that
rb(W ) ≥ µ + γWb '(W ) + 12 λ 2 σ2b ''(W )

(15)

with equality if and only if W ∈ [R, W1]. At the boundaries of this interval, b(R) = L and
rb(W1) = µ − γW1, and in the dividend region, W ≥ W1, b′(W) = −1. Intuitively, this
reflects the fact that the principal compensates the agent solely through promises of
future payments for W < W1, and pays the agent immediately for W > W1.
This leads to the following characterization of the optimal contract:
PROPOSITION 4. A contract that maximizes the principal’s profit and delivers to the
agent value W0 ∈ [R, W1] takes the following form: Wt evolves as
dWt = γWt dt − dI t + λ( dYˆt − µ dt )

When Wt ∈ [R, W1), dIt = 0. When Wt = W1, payments dIt cause Wt to reflect at W1. If W0
> W1, an immediate payment W0 − W1 is made. The contract is terminated at time τ when
Wt hits R. The principal’s expected payoff at any point is given by b(Wt).
PROOF: Define
t

Gt ≡ ∫ e − rs ( dYs − dI s ) + e − rt b(Wt ) .
0

Under an arbitrary incentive-compatible contract, Wt evolves according to (14). Then
from Ito’s lemma,

14

(

)

e rt dGt = µ + γWt b '(Wt ) + 12 βt2b ''(Wt ) − rb(Wt ) dt −(1 + b '(Wt ))dI t + ( σ + βt b '(Wt ))dZ t


≤0

≤0

From (15) and the fact that b′(Wt) ≥ −1, Gt is a supermartingale. It is a martingale if and
only if βt = λσ, Wt ≤ W1 for t > 0, and It is increasing only when Wt ≥ W1.
We can now evaluate the principal’s payoff for an arbitrary incentive compatible
contract. Note that b(Wτ) = L. For all t < ∞,
τ
E  ∫ e − rs ( dYs − dI s ) + e − rτ L  = E Gt ∧τ + 1t ≤τ

 0


(∫ e

τ − rs

t

)

( dYs − dI s ) + e − rτ L − e − rt b(Wt ) 


 

τ



= E [Gt ∧τ ] + e − rt E 1t ≤τ  ∫ e − r ( s −t ) ( dYs − dI s ) + e − r ( τ−t ) L − b(Wt )  
t



 
≤G0 =b (W0 )
≤µ r −Wt = first best


Now, since b′(W) ≥ −1, µ/r − W − b(W) ≤ µ/r − R − L. Therefore, letting t → ∞,
τ
E  ∫ e − rs ( dYs − dI s ) + e − rτ L  ≤ b(W0 )
 0


Finally, for a contract that satisfies the conditions of the proposition, Gt is a martingale
until time τ because b(Wt) stays bounded. Therefore, the payoff b(W0) is achieved with
equality.
Remark. It is easy to modify this proof to show that the principal cannot improve his
profit by adding additional randomization. Such randomization would add an extra term
to the expression for dGt, but the process Gt would still be a supermartingale since b(W)
is a concave function.

Hidden Savings
Thus far, we have restricted the agent from saving. We now show that the contract of
Proposition 4 remains incentive compatible even when we relax this restriction. The
intuition for the result is that because the marginal benefit to the agent of reporting or
consuming cash is constant over time, and since private savings grow at rate ρ < γ, there
is no incentive to delay reporting or consumption. In fact, in the proof we show that this
result holds even if the agent can save within the firm without paying the diversion cost.
PROPOSITION 5. Suppose Wt solves
dWt = γWt dt − dI t + λ dYˆt − µ dt

(

)

(16)

until stopping time τ = min{t | Wt = R}. Then the agent earns payoff of at most W0 from
any feasible strategy in response to a contract (τ, I). Furthermore, if Wt is bounded
above, the payoff W0 is attained if the agent reports truthfully and maintains zero
savings.
PROOF: See Appendix.

This result confirms that the even with savings, the contract characterized in Proposition
1 and Proposition 4 remains optimal even if the agent has access to hidden savings.
15

Thus, our continuous-time solution corresponds to the limit of the discrete time model as
the period between cash flows shortens.

4.

Optimal Capital Structure

DeMarzo and Fishman (2003) demonstrate that the optimal discrete-time contract can be
implemented using standard securities: equity, long-term debt, and a credit line.
Specifically, the firm has long-term debt with a predetermined coupon payment due each
period, a credit line with a fixed credit limit and interest rate γ, and outside equity for a
fraction (1 − λ) of the firm. The agent is compensated solely through holding the
remaining fraction λ of the firm’s equity. The agent uses the firm’s cash flows to pay the
debt coupons and credit line first. Once the credit line is fully repaid, cash flows are paid
out as dividends to equity holders. If the credit limit is exceeded, stochastic termination
results.
We extend this implementation to the continuous-time setting. First we describe the
securities:
Long-term Debt. In our infinite-horizon, stationary setting, long-term debt is
represented by a consol bond with required coupon payments x dt. We normalize the
coupon rate on the debt to be r, so that the face value of debt is D = x/r. If the coupon
payment is not made, the firm defaults, the contract is terminated, and the face value of
the debt D is due.
Credit Line. The credit line has a fixed credit limit CL and charges interest rate γ. The
firm may draw on this credit line at any time. Once the credit line is exhausted, the firm
defaults, the contract is terminated, and the face value of the credit line CL is due.
Equity. At the agent’s discretion, the firm may pay dividends to the equity holders.
Excess cash flows not used to pay dividends or the credit line can accumulate in the firm
earning interest rate r.

The agent holds the fraction λ of the equity and receives dividends on this equity stake
prior to default. In the event of default, the liquidation value L is used to pay back the
debt and the credit line first. If any cash remains, the outside equity holders receive a
liquidating dividend of max(0, L – D – CL).10 Note that the agent does not receive any
liquidating dividend. That is, the agent is compensated with an equity stake, together
with a zero interest loan from the firm with a face value, due upon termination, that
equals or exceeds the agent’s share of any liquidating dividend.11
To complete this implementation, the remaining parameters are the amount D of longterm debt and the size CL of the credit line. Note that with this implementation, the agent
has discretion regarding when to use the credit line and when to pay dividends (in
10

The firm could have cash in addition to L at the time of default. But it is optimal for equity holders to
use this cash to pay down the credit line and avoid default and/or pay a dividend. Thus we can ignore this
possibility.
11
Specifically, when λ < 1 the loan has face value of at least λ max(0, L − D − CL)/(1−λ). Lemma E in the
appendix shows that L − D − CL < 0 in the optimal contract when λ = 1, so the loan is not needed unless the
agent’s equity stake is sufficiently small.
16

addition to stealing cash flows directly from the firm). We begin with the following
result, which describes a family of incentive compatible contracts:
PROPOSITION 6. Suppose the firm’s capital structure satisfies

rD + γC L = µ − γR λ

(17)

Then it is incentive compatible for the agent to refrain from stealing, and to use the
project cash flows to pay the debt coupons and credit line before issuing dividends. Once
the credit line is fully repaid, all excess cash flows are issued as dividends. The agent’s
continuation payoff is determined by the current draw Mt on the credit line:

(

Wt = R + λ C L − M t

)

(18)

PROOF: See Appendix.

The fact that the agent does not steal is not surprising. Given a fraction λ of the equity,
the agent is indifferent between stealing and paying dividends. The problem is that the
agent may pay dividends prematurely (exploiting creditors) or delay them (to build an
additional cash reserve). The proposition states that for the agent to pay dividends
appropriately, incentive compatibility requires an appropriate balance between the level
of long-term debt and the credit line. The intuition for condition (17) is that at the credit
limit, the agent’s “share” of expected cash flows after paying interest on debt, λ(µ − rD −
γCL), is just equal to the flow he would earn on his outside option, γR. Therefore, this is
the maximum possible liability such that the agent has an interest in continuing rather
than quitting.
Note that by (18), the credit line balance Mt serves as a state variable that tracks the
agent’s continuation payoff Wt at each point in time. While (17) determines an incentive
compatible capital structure, it need not be optimal. An optimal capital structure will
choose a credit line with a limit high enough to provide flexibility, but not so high as to
delay dividend payments too long. That is, the range of Mt should correspond to the
range of Wt in the optimal contract. This requires that W1 correspond to Mt = 0 in
equation (18), leading to the following result:
PROPOSITION 7. The optimal contract of Section 3 is implemented by choosing the
capital structure:

C L = λ −1 (W 1 − R ) and D = 1r (µ − λ −1γW 1 )

(19)

PROOF: See Appendix.

The intuition for this result is as follows. The credit line balance evolves as follows:
dM t = γM t dt + x dt + dDivt − dYˆt ,

where dDiv are excess cash flows paid out as dividends when the credit line balance is
zero. Equation (18) that relates the agent’s value and the balance on the credit line, and
equation (19) relates the lengths of the credit line and the interval [R, W1], on which Wt
evolves for the duration of the contract. These two equations imply that
dWt = γWt dt – λ dDivt + λ (dŶt − µ dt),
17

where λ dDivt = dIt is the income process that makes Wt reflect at W1. Thus, the
evolution of the credit line induces the optimal dynamics for the agent’s continuation
payoff.
The optimal capital structure has a particularly simple interpretation when the there is no
diversion cost (λ = 1). Note that with λ = 1, the book value of the debt is D + Mt (face
value of long-term debt plus the draw on the credit line), and the total market value of the
long-term debt and the credit line is b(Wt), the principal’s expected payoff. In that case,
given the boundary condition (5) that rb(W1) = µ − γ W1, we have the following:
COROLLARY. If λ = 1, the optimal capital structure has CL = W1 − R and D = b(W1).
Thus, at the dividend point the market and book value of the firm’s aggregate debt
coincides.

Of course, our implementation is not unique in the following sense: any combination of
securities that in aggregate provide for the same payments is also optimal. (For example,
the long-term debt could be “stripped” into zero-coupon bonds, or the face value and
coupon rate could altered in a way that leaves the coupon payment x unchanged.) We
believe this implementation is quite natural however, and corresponds well to observed
securities.12
Finally, note that this implementation corresponds to the continuous-time limit of the
implementation in DeMarzo and Fishman (2003). In the stationary version of their
model,
C L = λ −1 (W 1 − W L ) and x = rD = µ + λ −1 (1 − e γdt )W 1
which corresponds to (19) as dt → 0 and WL → R.

4.1.

Security Market Values

We now consider the market values of the credit line, long-term debt and equity that
implement the optimal contract. For this we need to make an assumption regarding the
prioritization of the debt in default. We assume that the long-term debt is senior to the
credit line; similar calculations could be performed for different assumptions regarding
seniority.13 With this assumption, the long-term debtholders get LD = min(L, D) upon
termination. The market value of long-term debt is therefore
τ
VD ( M ) = E  ∫ e − rt x dt + e − rτ LD M 
 0


Note that we compute the expected discounted payoff for the debt conditional on the
current draw M on the credit line, which measures the firm’s “distance to default” in our
implementation.

12

An alternative implementation is given in Biais et al. (2004). They suppose the firm retains cash, and
that the coupon payment on the debt varies contractually with the level of the cash reserves.
13
Recall that only the aggregate payments to investors matter for incentives; the division of the payments
between the securities is only relevant for pricing.
18

Until termination, the equity holders get dividends dDivt, of which the agent owns
fraction λ. At termination, the outside equity holders receive the remaining part of
liquidation value, max(0, L − D − CL), after debt and credit line have been paid off. Thus,
when λ < 1, on a per share basis outside equity holders receive14
LE =

1
max(0, L − D − C L ) .
1− λ

The value of equity (per share) to outside equity holders is then
τ
VE ( M ) = E  ∫ e − rt dDivt + e − rτ LE M 
 0


Finally, the market value of the credit line is
τ
VC ( M ) = E  ∫ e − rt ( dYt − x dt − dDivt ) + e − rτ LC M 
 0


where LC = min(CL, L − LD). Note that for the optimal capital structure, the aggregate
value of the outside securities equals the principal’s continuation payoff. That is, from
(18),
b(R + λ(CL − M)) = VD(M) + VC(M) + (1−λ) VE(M).

We show in the appendix how to represent these market values in terms of an ordinary
differential equation, so that they may be computed easily. See Figure 4 for an example.
In this example, L < D so that the long-term debt is risky. Note that the market value of
debt is decreasing towards L as the balance on the credit line increases towards the credit
limit. Similarly the value of equity declines to 0 at the point of default. The figure also
shows that the initial value of the credit line is positive – the lender earns a profit by
charging interest rate γ > r. However, as the distance to default diminishes, additional
draws on the credit line result in losses for the lender (for each dollar drawn, the value of
the credit line goes up by less than one dollar, and eventually declines).

14

Lemma E in the Appendix shows that L < D + CL when λ = 1 and there are no outside equity holders, so
in that case we can set LE = 0 to compute the “shadow price” of outside equity.
19

80
70
VE

60
50
40
30

VC

20

D
VD

10
0

0

10

20

30

L

40

50

CL

Draw on Credit Line M
Figure 4: Market Values of Securities for µ = 10, σ = 10, λ = 50%, r = 10%, γ = 15%, L = 10, R = 0

Figure 4 also illustrates several other interesting properties of the security values. Note,
for example, that the leverage ratio of the firm is not constant over time. When cash
flows are high, the firm will payoff the credit line and its leverage ratio will decline. On
the other hand, during times of low profitability, the firm increases its leverage. This
pattern is broadly consistent with the empirical behavior of leverage.
One surprising observation from Figure 4: the value of equity is concave in the credit line
balance, which implies that the value of equity would decline if the cash flow volatility
were to increase. In fact, we can show:
PROPOSITION 8. When debt is risky (L < D), for the optimal capital structure the value of
equity decreases if cash flow volatility increases. Thus, equity holders would prefer to
reduce volatility.
PROOF: See appendix.

This is counter to the usual presumption that risky debt implies that equity holders benefit
from an increase in volatility due to their option to default. That is, in our setting, there is
no “asset substitution problem” related to leverage. Note also that the agent’s payoff is
linear in the credit line balance, so that the agent is indifferent regarding changes to
volatility.

20

4.2.

Initiating the Contract

The defining features of an optimal contract are the credit limit and the coupon rate on
long-term debt. These features of an optimal contract are uniquely defined by the model’s
parameters: the liquidation value L, the agent’s outside option R, mean and volatility of
cash flows µ and σ, and the agent’s discount rate γ.
Note that the optimal capital structure does not depend on the agent’s and the principal’s
respective bargaining powers. Bargaining power will affect the agent’s payoff, which we
will see manifests itself as the firm paying an initial dividend or starting with a draw on
the credit line. To focus our discussion we will assume that the agent has no capital and
investors are perfectly competitive, so that the agent’s payoff W0 is highest payoff such
that investors break-even if they provide the required capital K; that is, it is the largest
solution to b(W0) = K.
100

r b = µ − γW

90

Investor
b(W) 80
70
60

b′ = −1

50

Cash
40

K

30

L

Risky Debt
20

Invest

b(W)

10

Credit Line
0

W1
-10
0

R

10

20

W0
30

40

Cash

50

60

70

80

90

100

Agent W

Figure 5: Initiating the Contract (L = 25, R = 0, µ =10, σ = 5, r = 10%, γ = 15%, λ = 1)

Figure 5 shows an example with λ = 1, illustrating the size of the credit line (CL = W1
− R) and the debt (D = b(W1)) for a small volatility of cash flows (σ = 5). In the figure, D
> L, so the debt is risky. The firm requires K = 30 in external capital, which implies the
agent’s initial payoff is W0 > W1. This payoff is achieved by giving the agent W0 − W1 in
cash, and starting the firm with zero balance on the credit line (providing the agent with
continuation payoff W1). The start-up capital and the agent’s initial consumption
K + W0 − W1 = b(W1)

21

are raised by issuing the debt and initiating the credit line. Given the high interest rate γ
on the credit line, the lender earns an expected profit from the credit line, and so will pay
this to the firm upfront. This payment offsets the discount on the debt due to credit risk.
Recall that the optimal credit line results from the following trade-off: a large credit line
delays the agent’s consumption, but also gives more flexibility to delay termination.
Payments on debt are chosen to give the agent incentives to report truthfully: if payments
on debt were too burdensome, the agent would draw down the credit line immediately
and quit the firm; if they were too small, the agent would delay termination by saving
excess cash flows when the credit line is paid off.
Let us illustrate how these intuitive considerations affect the optimal contract for different
values of σ. In Figure 6, we change the parameters of the example in Figure 5 by
increasing σ. When volatility rises to 12.5 (left panel), the principal’s profit drops. In this
case, b(W1) ∈ (0,K). Riskier cash flows require more financial flexibility, so the credit
line becomes longer. As the principal can extract less cash through coupon payments, the
debt shrinks, and is now riskless (D < L). The agent’s payoff W0 is lower than before. In
this case, the project cannot raise initial capital through debt only; the agent will also
have to draw on the credit line to raise K. Because b′ > −1 on (W0, W1), the agent must
draw more than K − D to fund the difference. This can be interpreted as an initial fee
charged by the lender to open the credit line with this initial balance; this fee
compensates the lender for the negative NPV of the credit line due to the firm’s greater
credit risk.
100

100

r b = µ − γW

90

Investor
b(W) 80

Investor
b(W) 80

70

70

60

60

50

50

40

40

K

30

L

L
Debt

10

20
10

Credit Line
0

10

20

30

40

0

W1

W0
50

K

30

20

-10
0

r b = µ − γW

90

60

Initial Draw on Credit Line

70

80

90

100

-10
0

Credit Line

W0

W1
Compensating
Balance

10

20

30

40

50

60

Agent W

Initial Draw on Credit Line

Figure 6: The Effect of Higher Volatility (σ = 12.5, σ = 19.07)

22

70

80

90

Agent W

100

If σ increases further to 19.07 as shown in the right panel of Figure 6, the principal’s
profit falls further. This very risky project requires a very long credit line. Note that D =
b(W1) < 0. We interpret D < 0 as a compensating balance requirement – that is, the firm
must hold cash in the bank equal to −D as a condition of the credit line. Both the
required capital K and the compensating balance −D are funded through a large initial
draw on the credit line. Thus the agent usually runs the project for a long time before he
can consume.
The compensating balance provides additional operating income of rD to the firm. This
income increases the attractiveness of the project to the agent, preventing the agent from
drawing the entire credit line and running away. By funding the compensating balance
upfront, investors are committed to providing the firm with income rD even when the
credit line is paid off. This commitment is necessary since investors’ continuation payoff
at W1 is negative, which would violate their limited liability. The compensating balance
therefore serves to tie the agent and the investors to the firm in an optimal way.
Note that for σ > 19.07, the maximal profit for the principal falls below K. Thus, while
such a project is positive NPV, it cannot be financed due to the incentive constraints.
Remark. While we have focused on the case in which investors are competitive, other
possibilities are straightforward to consider. For example, if the principal were a
monopolist hiring the agent to run the firm, the contract would be initiated at the value
W∗ that maximizes the principal’s payoff b(W∗). This would not change the optimal debt
and credit limit, but in this case the firm would always start with a draw on the credit line.
Interestingly, as can be seen in Figure 6, while higher volatility decreases b(W∗), the
effect on the agent’s payoff W∗ is not monotonic. Thus the agent might prefer to manage
a higher risk project.

4.3.

Comparative Statics

Figure 7 shows more general comparative statics for our model. As we saw above, the
credit limit increases and the debt decreases with volatility (σ). Note in particular that the
credit line goes to 0 as σ → 0. In this case the project becomes riskless and no flexibility
is need; indeed, the debt is equal to the first best value of the project.
How about the other parameters of the model? Let us focus on the case where λ = 1 and
the project is profitable even if the agent does not have any initial cash, which implies
that b′(R) > 0. If the liquidation value L increases, the credit line shortens because
termination becomes less costly. This reduces the agent’s temptation to draw the entire
credit line and default, so the principal can extract greater coupon payments on debt. If
the agent’s outside option R increases, the agent becomes more tempted to draw down the
credit line. The length of the credit line decreases to reduce this temptation, and payments
on debt decrease to make it more attractive for the agent to run the project, as opposed to
taking the outside option. If the mean of cash flows µ increases, the credit line increases
to delay termination and debt increases because the principal can extract more cash flows
from the agent. If the agent’s discount rate γ increases, then the credit line decreases
because it becomes costlier to delay the agent’s consumption. The effect on debt is
ambiguous. On one hand, a shorter credit line reduces the agent’s temptation to draw the

23

entire credit line and default. On the other hand, because the agent becomes more
impatient, this temptation is stronger. As a result the optimal level of debt increases and
then decreases with γ. The figure also shows the extreme sensitivity of the optimal
capital structure near γ = r.
CL
100

D

150

100

100
50

50

50

0
0
0

50
L

100

60
40

-50
5

10

µ

15

20

0
0.1

100

100

50

50

0

0

0.12 0.14 0.16 0.18
γ

0.2

0.5
λ

1

20
0
-20
0

20

R

40

60

-50
0

5

10
σ

15

20

-50
0

Figure 7: Comparative Statics (base case: L = 0, R = 0, µ = 10, σ = 10, r = 10%, γ = 15%, λ = 1)

Finally, what is the effect of λ, which measures the degree of the agency problem in our
model? When λ = 1, the agent can steal cash flows costlessly, and the agency problem is
most severe. As λ gets close to zero, the agent receives little benefit from stealing cash
flows, and the agency problem diminishes.
In our implementation, the degree of agency manifests itself directly through the size of
the agent’s equity stake. It also has an indirect effect on the amount of debt and the credit
line. For example, if R > 0, (17) implies that the maximum total interest payments
declines as λ declines. The following result shows that the effect on the optimal debt
structure of changing λ is equivalent to the effect of an appropriate change of the
termination payoffs.15
PROPOSITION 9. The optimal debt and credit line with agency parameter and
termination payoffs (λ, R, L) are the same as with parameters (1, Rλ, Lλ) where
R λ = λ1 R and Lλ = λ1 L + (1 − λ1 ) µr .

PROOF: See Appendix.

15

DeMarzo and Fishman (2003) demonstrate this result as well in discrete time.
24

Thus, we can focus our discussion on the case λ = 1, and rely on Proposition 9 to
translate the results to other settings. For example, the effect of raising λ when R = 0 (see
Figure 7) follows from Proposition 9: increasing λ raises Lλ, and thus lowers the credit
line and raises debt (if R > 0, the effect on debt is ambiguous).
Using the characterization of an optimal contract by a differential equation, we can derive
these and many other comparative statics results analytically. In the appendix, we
describe a new methodology for explicitly calculating comparatives statics. First, we
derive the effect of parameters on the principal’s profit. We differentiate equation (4) that
describes the principal’s profit with respect to parameters and apply a generalization of
the Feynman-Kac formula to write the solution as an expectation. In particular, we can
represent the sensitivity of the principal’s profit to the underlying parameters in terms of
the following three functions:
Gτ (W ) = E  e − rτ W0 = W  ,



 τ − rt

G1 (W ) = E  ∫ e Wt b '(Wt )dt W0 = W  ,
 0


 τ − rt

and G2 (W ) = E  ∫ e b ''(Wt )dt W0 = W 
 0


Once we know the effect of parameters on the principal’s profit, we deduce their effect
on debt and credit line from condition rb(W1) = µ − γW1, and on the agent’s starting value
from b(W0) = K. Using these techniques, we have the following results:16
dD /

dC L /

−

dL

rGτ (W 1 )
<0
γ−r

dR

 rb '( R )Gτ (W 1 )

−1 < 0

γ
−
r



dγ

−

dµ
dσ

2

dW0 /

γGτ (W 1 )
>0
γ−r
−

γb '( R )Gτ (W 1 )
<0
γ−r

W 1 + rG1 (W 1 )
<0
γ−r

W 1 + γG1 (W 1 )
?0
γ−r

Gτ (W 1 )
>0
γ −r

 1 γGτ (W 1 )

> 0
 −
 r r (γ − r)

1
γG2 (W )
<0
γ−r

−

rG2 (W 1 )
>0
γ−r

−

Gτ (W0 )
>0
b '(W0 )

b '( R )Gτ (W0 )
<0
b '(W0 )
 G1 (W0 )

< 0
−
 b '(W0 )


−

db(W * ) /

Gτ (W * ) > 0
− b' ( R )Gτ (W * ) < 0

(G (W
1

*

)>0

)

1 − Gτ (W0 )
>0
rb '(W0 )

1 − Gτ (W * )
>0
r

G2 (W0 )
<0
b '(W0 )

G2 (W * ) < 0

−

Figure 8: Comparative Statics for the Optimal Contract

When we sign these comparative statics, we focus on the case when the project is
profitable even when the agent does not have any initial wealth, which implies that
Recall that b(W∗) is the maximum payoff the principal can achieve, and so represents the maximum
amount of external capital the firm can raise.
16

25

b′(R)>0. Many signs are immediate from the facts that Gτ∈(0,1), G1 > −W1/r and G2 < 0.
The less obvious cases are in parentheses, and are proved in the appendix.

5.

Hidden Effort

Throughout our analysis we have concentrated on the setting in which the cash flows are
privately observed, and the agent may divert them for his own consumption. In this
section we discuss the relationship between this model and a standard principal-agent
model in which the agent makes a hidden binary effort choice. This model is also studied
by Biais et al. (2004) in contemporaneous work. Our main result is that, subject to
natural parameter restrictions, the solutions are identical for both models. Thus, all of our
results apply to both settings.
In the standard principal-agent model with hidden effort, the principal observes the cash
flows. Based on the cash flows, the principal decides how to compensate the agent, and
whether to continue the project. Thus, there are only two key changes to our model.
First, since cash flows are observed, there is no issue of the agent saving and using the
savings to over-report future cash flows. Second, we assume that at each point in time,
the agent can choose to shirk or work. Depending on this decision, the resulting cash
flow process is
 0 if the agent works
dYˆt = dYt + a dt , where a = 
 − A if the agent shirks

We assume that working is costly for the agent, or equivalently that shirking results in a
private benefit.17 Specifically, we suppose the agent receives an additional flow of utility
equal to λA dt if he shirks. The agent cannot misreport the cash flows, since r < γ the
agent will consume all payments immediately. Thus, if the agent shirks,
dCt = dI t + λ Adt .

Again, λ parameterizes the cost of effort and therefore the degree of the moral hazard
problem. We assume λ ≤ 1 so that working is efficient.
Our first result establishes the equivalence between this setting and our prior model:
PROPOSITION 10. The optimal Principal-Agent contract implementing high effort is the
optimal contract of Section 3.
PROOF: The incentive compatibility condition in PROPOSITION 3 is unchanged: to
implement high effort at all times, we must have βt ≥ λ σ. But then Proposition 4 shows
that our contract is the optimal contract subject to this constraint.

It is not surprising that our original contract is incentive compatible in this setting, since
shirking is equivalent stealing cash flows at a fixed rate. What is perhaps more surprising
is that the additional flexibility the agent has in the cash flow diversion model does not
require a “stricter” contract.

17

The difference between the two interpretations amounts to shifting the agent’s utility by a constant.
26

Of course, PROPOSITION 10 does assume that implementing high effort at all times is
optimal. Under what circumstances is this the case? If a contract were to call for the
agent to shirk at some point, this would result in diminished cash flows, but would have
the benefit that we would no longer need to provide the agent with incentives.18 Thus, in
these states the agent’s continuation payoff would no longer need to be sensitive to the
realized cash flows, so that
 γW dt − dI t + λ( dYˆt − µ dt )
dWt =  t
 γWt dt − ( dI t + λA dt )

if a = 0
if a = − A

Because the principal’s continuation function is concave, this reduction in the volatility
of Wt could be beneficial. For that not to be the case, and for high effort to remain
optimal, it must be that for all W,
rb(W ) ≥ (µ − A) + ( γW − λA)b '(W )

(20)

Intuitively, this equation states that the principal’s flow payoff from having the agent
shirk would be less than under our existing contract.19 Define
ws = λA/γ and bs = (µ − A)/r = (µ − γws/λ)/r,
the agent and principal’s payoff if the agent shirks forever and receives no other payment.
Then we have the following necessary and sufficient condition, as well as a simple
sufficient condition, for high effort to remain optimal at all times:
PROPOSITION 11. Implementing high effort at all times is optimal in the Principal-Agent
setting if and only if b s ≤ f w s where f ( z ) ≡ min w b( w) + γr ( z − w)b '( w) . A simpler

( )

sufficient condition is

γ
 γ
b s ≤ b w s +  1 −  b(W * )
r
 r

( )

(21)

Given λ, both of these conditions imply a lower bound on A, or equivalently, ws.
PROOF: See Appendix.

We can interpret Proposition 11 as follows. The point ( w s , b s ) represents the agent’s and
principal’s payoff if the agent shirks forever. Thus, shirking is never optimal if and only
if this point lies below the function f. The function f is concave and below b, with
equality only at the maximum. This is illustrated in Figure 9. The factor γ/r increases the
steepness of f relative to b; when γ = r, f and b coincide. As can be seen from the figure,
Proposition 11 puts a lower bound on ws, or equivalently on A, the magnitude of the cash
flow impact of shirking. For example, in Figure 9, if ws ≥ ws, then high effort is always
optimal. This is the case for (ws1, bs1).

18

Specifically, in Proposition 3 we can set βt = 0 in states where the contract called for the agent to shirk.
Formally, condition (20) is required in the proof of Proposition 4 for Gt to remain a supermartingale for
either effort choice.
19

27

µ/r
bs = (µ − γws/λ)/r

rb = µ − γW
(ws2, bs2)

b(W)

(ws1, bs1)
f(W)

L
0
R=0

ws
Agent’s Payoff W

W1

Figure 9: Example showing Optimality of High Effort

On the other hand, if A is too small so that ws < ws, then the optimal principal-agent
contract will involve shirking after some histories. However, in some cases the optimal
contracting techniques of this paper may still apply. For example, see (ws2, bs2) in Figure
9. In this case, high effort is optimal until the point (ws2, bs2) is reached, in which case it
is optimal to shirk forever. Thus, the optimal contract is again as in our model, but with
shirking forever replacing termination so that (R, L) = (ws2, bs2).20
Remark. We can also consider a hybrid model, in which the agent can both divert cash
flows and choose whether to work or shirk. In this case, let λd parameterize the benefit
the agent receives from diverting cash flows, and let λa represent the benefit from
shirking. Then we can show that the optimal contract implementing high effort is the
optimal contract of Section 3 with λ = max(λd, λa).

20

This will be the case whenever shirking yields the highest possible payoff for the investors; i.e., when A
is sufficiently small. For intermediate values of A, an optimal contract calls for shirking only temporarily.
In that case, a more complicated contract than the one described in this paper will be necessary to achieve
optimality.
28

6.

Further Extensions of the Model

In this section we consider various extensions of the basic model. First, we allow the
termination payoffs (R, L) to be determined endogenously by either the principal’s option
to hire a new agent or the agent’s option to start a new project. Second, we consider the
construction of an optimal renegotiation-proof contract. Third, we consider the case in
which the agent and principal disagree about key parameters of the model, such as the
project’s profitability, or the agent’s impatience.

6.1.

Endogenous Termination

Thus far, we have treated the termination payoffs (R, L) as exogenous. Suppose,
however, that they are endogenously determined as in the following to examples:
Unique Assets, Replaceable Agent: Suppose the assets of the firm are unique, but the
agent can be fired and replaced at cost ca to the principal/investors. The agent’s
termination payoff if fired is R, but the investor’s payoff on firing the agent is
L = b(W * ) − ca

(22)

Unique Agent, Replaceable Assets: Suppose the agent can quit the firm a start a new
firm by raising external capital K = L from new investors. If the agent quits, the old
investors liquidate and receive L, while the agent receives
R = e −γ∆tW0

(23)

where ∆t is the time required to start a new firm and W0 satisfies b(W0) = L. 21
The optimal contract in either case takes exactly the same form as described in
Proposition 4. The only change is that now the boundary condition (22) or (23) replaces
b(R) = L. The solution is illustrated in Figure 10. Because db(W∗)/dL = Gτ (W∗) < 1,
when assets are unique the liquidation value L is decreasing in ca with dL/dca =
Gτ(W∗) − 1. From the results of Section 4.3, the credit line increases and the debt
decreases in ca. This is intuitive, because the project requires more financial flexibility
when it is more difficult to replace the agent. Similarly, when the agent is unique, as ∆t
falls and it becomes easier for the agent to start a new firm, R rises. This leads to a
decrease in both the credit line and in debt. Note that as ∆t → ∞ and starting a new firm
becomes impossible, R → 0, and as ∆t → 0 and restarting is costless, R → R∗, the point at
which b′(R∗) = 0.

21

This setting is similar to Hart and Moore’s (1994) notion of “inalienable human capital” and its
relationship to optimal debt structure.
29

r b = µ − γW

r b = µ − γW

Investor
b(w)

ca

K=L
10
0
0

0
0

Agent W

e−γ∆tW0

R∗

W0

Figure 10: Determining L or R endogenously

6.2.

Renegotiation-Proofness

Note that the optimal contracts in the basic model are generally not renegotiation-proof.
When b′(R) > 0, then both the principal and the agent would like to renegotiate at
termination time. Instead of termination, which gives the agent and the principal payoffs
of R and L, they could renegotiate by restarting the contract from with the agent’s value
W > R, which gives the principal profit b(W) > L.
To be renegotiation-proof, the principal’s profit function b(W) cannot have positive slope
anywhere. To find this function we must solve the optimality equation from boundary
conditions b′(W1) = −1 and rb(W1) = µ − γW1 for an appropriate choice of W1, such that
the maximum of the resulting function is b(R∗) = L. This is equivalent to the case in
Section 6.1 of a unique agent that can restart the firm immediately (∆t = 0). Let us set
b(W) = L on the interval [R, R*].
A renegotiation-proof contract, under which the principal breaks even, exists only if the
agent has initial wealth Y0 ≥ K − L. In that case, the agent’s continuation value W0 is such
that b(W0) = K − Y0. Until termination the agent’s continuation value W0 evolves in the
interval [R∗, W1] as
dWt = γWt dt + λ ( dYˆt − µ dt ) − dI t + dPt ,

where processes I and P reflect Wt at endpoints W1 and R∗ respectively. The project is
terminated stochastically whenever Wt is reflected at R∗. The probability that the project
continues at time t is
 −P 
Pr( τ ≥ t ) = exp  * t  .
R −R

30

Agent W

Then Wt is the agent’s true expected future payoff. Indeed, whenever Wt hits R∗ and dPt is
added to the agent’s continuation value, the project is terminated with probability
dPt / (R∗−R) to account for this increment to the agent’s value.
The implementation of a renegotiation-proof contract involves a credit line and debt as in
the optimal contract of Proposition 7 with R∗ in place of R. Since R∗ > R, both the credit
line and debt decrease. This is intuitive, because renegotiation-proofness reduces the
profitability of the project.22

6.3.

Private Benefits and Differing Opinions

Suppose the agent receives private benefits of control from running the project.
Specifically, suppose that prior to termination the agent earns additional utility at rate γω.
In this case, the agent’s continuation value should evolve according to
dWt = γ (Wt − ω) dt − dI t + λ ( dYˆt − µ dt )

How does this alter the form of the optimal contract? Interestingly, as the following
result shows, this is equivalent to simply adjusting the agent’s payoff under the contract
by ω.
PROPOSITION 12. Suppose the agent earns private benefits at rate γω while running the
project. Then the optimal contract is the same as the optimal contract without private
benefits and termination payoff for the agent of R − ω. That is, while the project is
running, the principal accounts for the agent’s payoff through state variable Ŵt that
evolves as

dŴt = γŴt dt – dIt + λ(dŶt − µ dt)
1

in the interval [R, W ]. Under this contract, given a value of the state variable Ŵt, the
agent’s total payoff including private benefits is Wt = Ŵt + ω.
PROOF: See Appendix.

Thus, using our comparative statics results for R from Section 4.3, increasing the agent’s
private benefits increases the credit limit and amount of debt in the optimal capital
structure. Intuitively, the potential threat of losing the private benefits in termination
enhances the agent’s incentives and hence increases the debt capacity of the firm.
Moreover, Ŵ0 rises, so that the agent’s total payoff rises by more than a dollar for each
dollar of private benefits, all else equal.
A similar result follows if the agent and the investor have different beliefs about the mean
of the cash flows, µ. For example, suppose the agent believes the mean is µ + δ. Holding
these beliefs fixed, the agent’s continuation payoff should evolve according to
dWt = γWt dt − dI t + λ(dYˆt − (µ + δ) dt )
= γ (W − λδ / γ ) dt − dI + λ (dYˆ − µ dt )
t

t

t

22

Gromb (1999) also considers renegotiation-proofness in a related discrete-time model. While not
providing a complete characterization, he does show that in an infinite-horizon stationary setting the
maximum external capital the firm can raise is the liquidation value L.
31

Thus, a discrepancy δ between the agent’s and investor’s beliefs is therefore equivalent to
a private benefit of magnitude ω = λδ/γ.

6.4.

Misestimating γ

What happens if an agent whose subjective discount factor is γ ' ≠ γ receives contract
( I , τ ) , which is optimal for the agent with discount factor γ ? How will the agent
behave? It depends on whether γ′ is greater or less than γ. We focus on the case when λ =
1.
If γ′ < γ, then when Wt < W 1 then the agent will deposit all cash flows from the project
onto the credit line, and have balance zero in his savings account. The agent does not
steal because a dollar on the credit line earns a higher rate of interest than the agent’s
subjective discount rate. Also the agent pays the credit line before saving because the
credit line has a higher interest rate, and the agent is free to draw from the credit line at
any time.
What happens when the balance on the credit line is paid off, i.e. Wt = W 1 ? It can be
shown that the agent will choose to save at interest rate ρ as long as S t < S 1 for some
critical value S1. When S t = S 1 , the agent consumes all excess cash flows. Intuitively,
for S t < S 1 , a dollar saved gives the agent more than a dollar of utility because it makes it
less necessary to draw on the high-interest credit line to cover potential future losses.
When S t = S 1 , the agent is on the margin indifferent between saving and consuming
because the savings account earns an interest rate lower than the agent’s subjective
discount factor. We show in the following proposition that the principal earns the same
profit as if the agent had discount factor γ, i.e. bγ(W0). When γ is close to γ′, then bγ(W0)
is close to bγ′(W0), so the mistake of overestimating the agent’s discount factor is not too
costly for the principal.
The following result summarizes this, and shows that the agent’s behavior is drastically
different if γ′ > γ :
PROPOSITION 13. Suppose that the principal offers a contract designed for the agent
with discount rate γ to an agent whose true discount rate is γ′ < γ. Then this agent would
derive utility greater than W0, and the principal would receive profit of exactly bγ(W0).

If the agent’s true discount factor γ′ is greater than γ for which the contract is designed,
then the agent will draw the entire credit line and default immediately. The agent earns
utility W0, whereas the principal earns L − (W0 − R).
PROOF: See Appendix.

We conclude that underestimating the agent’s subjective discount factor is a very costly
mistake for the principal. This drastic difference raises the issue of robustness: what
contract is optimal if the principal is uncertain about the agent’s rate of time preference?

32

7.

Conclusion

We analyzed a situation in which an agent or entrepreneur needs to raise external capital
to (i) start-up a profitable project, (ii) cover future operating losses that may occur, and
(iii) consume. In our setting, the agent can divert cash flows from the project for personal
consumption without the investor’s knowledge. To enforce payments, the investors can
threaten to withhold future funding and terminate the project. We analyze an optimal
contract between the investors and the agent in this setting.
An optimal contract takes a similar form both in a discrete-time setting of DeMarzo and
Fishman (2003) and in our continuous-time setting. The contract involves a credit line,
debt and equity. Debt, outside equity, and possibly the credit line provide the funds for
start-up capital and initial consumption for the agent. For the duration of the project, the
credit line provides the flexibility to cover possible operating losses. The agent has
incentives to pay interest and not consume from the credit line because in case of default
he has to surrender the project to investors. The agent holds an equity stake and has
discretion over the payment of dividends. The agent’s equity stake is sufficiently large
that he does not divert excess cash flows for personal consumption, but pays them out as
dividends appropriately.
The continuous-time setting of our paper has several advantages. First, the features of an
optimal contract are cleaner. Unlike in discrete time, an optimal contract in continuous
time does not require stochastic termination. Second, some of the analysis is simplified.
Because time is continuous, we do not have to consider problems associated with
different points within each time period separately. Most importantly, a continuous time
model provides a convenient characterization of the optimal contract, which involves an
ordinary differential equation. With this characterization we can say a great deal about
how the optimal capital structure is determined by the specific features of the project.
Also, we are able to compute the values of securities that are involved in the
implementation of an optimal contract. Finally, we can easily analyze extensions. For
example, we show how our contract also solves a standard principal-agent setting with
costly effort. Other extensions are considered; in many cases the solution only involves
finding the appropriate boundary conditions for the differential equation that defines an
optimal contract.
Our results open several thought-provoking questions for future research. Here are only a
few examples. First, we discover that in our setting there is no asset substitution problem.
That is, increased variance of cash flows does not benefit equity holders because it makes
agent’s incentive problem more difficult. Second, we find that it may be very important
for the principal to assess the characteristics of the project correctly. If an investor makes
a mistake, the agent may draw the entire credit line for personal consumption and default
immediately. This raises the question of robust contract design. Finally, the simplicity of
our characterization opens the possibility of embedding our model within other standard
finance models. For example, we can consider extending our framework to allow for
dynamic investment decisions or project choice, and determine how the dynamics of
these other decisions relate to cash flows and optimal capital structure.

33

8.

Appendix

PROOF

OF PROPOSITION 2:

Follows from Lemmas B and C below.

LEMMA B. Consider any incentive-compatible contract. Then there is another incentivecompatible contract, which gives the same profit to the agent and the same or greater
payoff to the principal, under which the agent chooses to reveal cash flows truthfully.
PROOF: Our argument has a flavor of the revelation principle. However, the revelation
principle does not apply directly, because the agent's payoff depends not only on the
principal's action but also directly on his report (see (8)).

Consider an incentive-compatible contract with transfer process is I(Ŷ(⋅)) and termination
time τ(Ŷ(⋅)). We would like to define a new contract such that
i)

the agent gets the same payoff as under the old contract

ii)

the agent chooses to reveal cash flows truthfully

iii)

the principal gets the same or greater profit as under the old contract

Given the agent's report Y', define the transfer process I' under the new contract to be
such that
dI't(Y') = [ dY't – dŶt(Y') ]λ + dIt(Ŷ(Y')),
where Ŷ(Y') is the report generated by the agent under the old contract, when he observes
Y'. Also, define the termination time under the new contract as τ(Ŷ(Y′)). It is easy to see
that in the new contract, transfer process I' and termination time τ(Ŷ(Y′)) are measurable
with respect to the agent’s report Y′.
First, if the agent tells the truth, then he receives the same stream of income as if he
reported Ŷ under the old contract. Second, if the agent lies and says Y', he receives less
income than he would by telling Ŷ(Y') under the old contract, because
[dYt - dY't ]λ + dI't(Y') = [dYt - dY't ]λ +[ dY't – dŶt(Y') ]λ + dIt(Ŷ(Y'))

≤ [dYt – dŶt(Y') ]λ + dIt(Ŷ(Y'))
Because the agent found it optimal to report Ŷ under the old contract, he prefers to tell the
truth under the new contract. Third, because
dYt - dI't(Y) = dYt - [dYt – dŶt(Y) ]λ - dIt(Ŷ(Y)) ≥ dŶt – dIt(Ŷ),
the principal's profit under the new contract is the same as or greater than under the old
contract. Therefore, the new contract that we constructed satisfies conditions (i), (ii) and
(iii), as required.
LEMMA C. Consider any incentive-compatible contract (τ, I), under which the agent
reports truthfully and consumes C. Then there new contract (τ, I′) with an alternative
payment process I′, under which the agent chooses to maintain zero savings (since the
principal does savings for the agent). This new contract gives the agent the same payoff
as before; the principal receives the same or higher profit.

34

PROOF: Let
t

S t (Y ) = ∫ e ρ (t − s ) (dI s (Y ) − dC s (Y ))ds ≥ 0
0

be the savings process under the old contract (τ, I). For any report Ŷ define
I′t(Ŷ) = Ct(Ŷ)
If the agent tells the truth and consumes Ct under the new contract (τ, I′), then he
maintains zero savings. The agent's total expected payoff under the new contract is
τ

W0 ' = E  ∫ e −γt dCt + e −γτ R 
0

which is the same as under the old contract.
The principal's profit under the new contract is greater or equal than his profit under the
old contract. Indeed, when the principal does savings for the agent and the principal's
interest rate r is greater than the agent's interest rate ρ, then the principal's expected profit
improves by
τ

E  ∫ e −rt (r − ρ ) S t dt 
0

Lastly, we need to show that the new contract is incentive-compatible. Incentive
compatibility follows if we show that the new contract does not allow any new feasible
strategies for the agent: let us show that if any alternative strategy (Ĉ, Ŷ) is feasible in
response to (τ, I′), then it is also feasible in response to (τ, I). A strategy is feasible if it
generates a nonnegative savings process. We have
t

t

ρ (t −s )
λ
ρ (t −s )
λ
∫0 e ([dYs − Yˆs ] + dI s (Yˆ ) − dCˆ s (Y ))ds = ∫0 e ([dYs − Yˆs ] + dI s '(Yˆ ) − dCˆ s (Y ))ds −


savings for ( Cˆ ,Yˆ ) in response to (τ , I )
t

∫e

0


ρ (t −s )

≥0, savings for ( Cˆ ,Yˆ ) in response to (τ , I ')

t

( dI s '(Yˆ ) − dCs (Yˆ ))ds + ∫ e ρ ( t − s ) ( dI s (Yˆ ) − dCs (Yˆ ))ds ≥ 0
0

= St (Yˆ ) ≥0

= 0 by definition of I '

This completes the proof that the new contract is incentive-compatible.
PROOF OF PROPOSITION 5: Recall that the rate of return on savings is ρ ≤ r. We
consider the case ρ = r in which savings is most attractive without loss of generality. We
also generalize the setting to allow the agent to save within the firm and on his own
account (this will be useful in our implementation of the optimal contract). Savings
within the firm are represented by St f and evolve according to
dSt f = rSt f dt + ( dYt − dYˆt ) − dQt

35

Here, dQt represents the agent’s diversion of the cash flows to his own account, which
evolves according to
dSt = rSt dt + [dQt ]λ + dI t − dCt

Note that the agent bears the cost of diversion when moving funds outside the firm. Both
accounts must maintain non-negative balances. We show that for an arbitrary feasible
strategy (C , Yˆ ) of the agent,

(

t
Vˆt = ∫ e −γs dCs + e −γt St + λSt f + Wt
0

)

is a supermartingale. Now,
e γt dVˆt = dCt + dSt − γSt dt + λ( dSt f − γSt f dt ) + dWt − γWt dt

Using (16) and the definitions of dSt and dSt f ,
e γt dVˆt = [dQt ]λ − λdQt − ( γ − r )( St + λSt f ) dt + λ ( dYt − µ dt )
= −(1 − λ )dQt − − ( γ − r )( St + λSt f ) dt + λσ dZ t
Because λ ≤ 1, dQt− is non-decreasing, γ > r, and the savings balances are non-negative,
Vˆ is a supermartingale until time τ because Wt is bounded below. If Wt is bounded
above and there is no savings, St = St f = 0 , and the agent reports truthfully so that
dYˆ = dY and dQt = 0, then Vˆ is a martingale. Thus,
t

t

(

)

τ
W0 = Vˆ0 ≥ E Vˆτ  = E  ∫ e −γs dCs + e −γτ Sτ + λSτf + R 
 0


with equality if the agent maintains zero savings and reports truthfully.
PROOFS OF PROPOSITION 6 AND PROPOSITION 7: Let us prove Proposition 6 first. Let
Divt be an increasing process representing the cumulative dividends paid by the firm.
Then the credit line balance evolves according to
dM t = γM t dt + x dt + dDivt − dYˆt .

where we can assume dDivt and dYˆt are such that Mt ≥ 0.

Then from (17),

λx = λµ − γ ( R + λC L ) and
dWt = −λ dM t = −λγM t dt − λx dt − λ dDivt + λdYˆt
= γ (Wt − ( R + λC L ))dt − (λµ − γ ( R + λC L ))dt − λ dDivt + λdYˆt
= γW dt − λ dDiv + λ ( dYˆ − µ dt )
t

t

t

Letting dIt = λ dDivt, the result of Proposition 6 follows from Proposition 5.
To prove Proposition 7, note that dIt = 0 unless Mt = 0 (that is, Wt = W1 under assumptions
of Proposition 7). Since dividends cause Mt to reflect at 0, dIt causes dWt to reflect at W1.
Therefore, we have implemented the optimal contract described in Proposition 4.

36

Market Values of Securities:
The following lemma is useful for computation of market values of securities and for
comparative statics:
LEMMA D. Suppose Wt evolves as

dWt=γWt dt – dIt + λ (dŶt -µ dt)
in the interval [R, W1] until time τ when Wt hits R, where It is a nondecreasing process
that reflects Wt at W1. Let k be a real number, and g:[R, W1] →ℜ a bounded function.
Then the same function G:[R, W1] →ℜ both solves equation
rG(W) = g(W) + γW G′(W) +1/2 λ2σ2G′′(W)

(24)

with boundary conditions G(R) = L and G′(W1)= - k and satisfies
τ
τ

G (W0 ) = E  ∫ e −rt g (Wt )dt − k ∫ e −rt dI t + e −rτ L 
0
0


(25)

PROOF: Suppose that G solves (24), and let us show that it satisfies (25). Define
τ

τ

0

0

H t = ∫ e −rt g (Wt )dt − k ∫ e −rt dI t + e −rτ G (Wt )

Then using Ito’s lemma,
1


e rt dH t =  g (Wt ) + γWt G ' (Wt ) + λ2σ 2 G ' ' (Wt ) − rG (Wt ) dt − (k + G ' (Wt ))dI t + G ' (Wt )λσdZ t
2


1
From equation (24), condition G′(W )= -k, and the fact that I increases only when
Wt = W 1 , H is a martingale. Because G is bounded, H is a martingale until time τ, so
τ
 τ − rt

G(W0) = H0 =E[Hτ ] = E  ∫ e g (Wt )dt − k ∫ e − rt dI t + e − rτ L 
0
0


This completes the proof.
The values of credit line, debt and equity can be expressed in terms the following
functions, which can be computed by Lemma D:

[

Gτ (W ) = E e

− rτ

| W0 = W

]

and

 τ −rt

GI (W ) = E  ∫ e dI t | W0 = W 
0


By Lemma D, both of these functions solve differential equation
rG(W) =γW G′(W) +1/2 λ2σ2G′′(W)

37

(26)

with boundary conditions Gτ(R) = 1, Gτ′(W1)=0 and GI(R) = 0, GI′(W1)=1. Functions Gτ
and GI can be easily computed. To evaluate market values of securities, we also use the
fact that

τ
 1 − Gτ (W )
E  ∫ e −rt dt | W0 = W  =
r
0

Then, expressed as functions of the agent’s continuation value Wt, market values the
credit line, debt and equity are

τ

dI 

Vc (W ) = E  ∫ e − rt  dYt − xdt − t  + e − rτ LC | W0 = W 
λ 

 0

=

γW 1 1 − Gτ (W ) GI (W )
−
+ LC Gτ (W )
r
λ
λ

 τ −rt

1 − Gτ (W )
VD (W ) = E  ∫ e xdt + e − rτ LD | W0 = W  = x
+ LD Gτ (W )
r
0

τ
 G (W )
dI
VE (W ) = E  ∫ e − rt t + e −rτ LE | W0 = W  = I
+ LE Gτ (W )
λ
λ
0


PROOF OF PROPOSITION 8: When L < D, then LE = 0. Then, to demonstrate that equity
holders prefer less volatility, we need to prove that GI is concave. From the stochastic
representation, we see that GI is an increasing function. From (26),

1/2 λ2σ2GI′′(R) =-γRGI′(R) < 0.
Suppose that GI were not concave everywhere on [R,W1], and let V = inf{GI′′(W) > 0}.
Then V>R and GI′′ (V) = 0 by continuity of GI′′. But then from (26)
1/2 λ2σ2G′′′(V)=(r-γ) G′(V) -γV G′′(V)= (r-γ) G′(V) < 0,
so GI′′ (V+ε) < 0 for all sufficiently small ε > 0, contradiction.
The following lemma tells us that when there are no outside equity holders, then no funds
remain after debt and credit line holders are paid from the liquidation value.
LEMMA E. If λ = 1, then in the optimal contract, L < D + CL.
PROOF: When λ = 1, D + CL = b(W1) + W1 − R. Since b′(W) > −1 for W ∈ (R,W1), b(W1)
+ W1 > b(R) + R = L + R. Thus, D + CL > L.
PROOF OF PROPOSITION 9: Let b be the optimal continuation function for parameters (1,
Rλ, Lλ) and define

bλ (W ) = λb(W λ ) + (1 − λ )(µ r )
We claim that bλ is the optimal continuation function with parameters (λ, R, L). To see
this, we can easily check that bλ(R) = L. Since

38

bλ '(W ) = b '(W λ ) and bλ ''(W ) = λ1 b ''(W λ ) ,
then bλ '(W 1 ) = −1 ⇒ b '(W 1 λ ) = −1 and b ''(W 1 λ ) = 0 ⇒ bλ ''(W 1 ) = 0 .
satisfies both boundary conditions at W1. In addition, for W ∈ [R, W1],

Thus, bλ

rbλ (W ) = λrb(W λ ) + (1 − λ )µ
= λ µ + γ (W λ )b '(W λ ) + 12 σ2b ''(W λ )  + (1 − λ )µ
= µ + γWbλ '(W ) + 12 λ 2σ2bλ ''(W )

so that bλ satisfies (4) and hence is the optimal continuation function. Thus, W1 is the
dividend boundary for parameters (λ, R, L) if and only if W1/λ is the dividend boundary
for (1, Rλ, Lλ). From (19), this implies that the optimal capital structure is unchanged.

Comparative Statics Results:
LEMMA F. Suppose θ is one of parameters L, µ, γ or σ2 and denote by bθ (W ) the optimal
continuation function for that parameter value. Then
 τ − rt  ∂µ ∂γ


∂bθ (W )
∂L
1 ∂σ 2
= E  ∫ e 
+
Wt b'θ (Wt ) +
b' 'θ (Wt ) dt + e − rτ
| W0 = W 
∂θ
∂θ
2 ∂θ
 ∂θ ∂θ

0


PROOF: Consider a value of W1 and a corresponding incentive-compatible contract of
Proposition 5: one in which process I reflects Wt at W1. Then the principal’s profit under
this contract is
τ
 τ − rt

bθ ,W 1 (W ) = E  ∫ e µdt − ∫ e −rt dI t + e −rτ L | W0 = W 
0
0


By Lemma D, bθ ,W 1 (W ) solves equation
rbθ,W 1 (W ) = µ + γWb 'θ,W 1 (W ) + 12 σ2b ''θ,W 1 (W )

(27)

with boundary conditions bθ ,W 1 ( R) = L and b'θ ,W 1 (W 1 ) = −1. Denote by W1(θ) the choice
of W1 that maximizes the principal’s profit bθ ,W 1 (W0 ) for a given value of parameter θ.
Then bθ (W ) = bθ ,W 1 (θ ) (W ) . By the Envelope Theorem,

∂bθ (W ) ∂bθ,W 1 (W )
=
∂θ
∂θ

(28)
1

1

W =W ( θ )

39

Differentiating (27) with respect to θ at W1 = W1(θ) and using (28) we find that
∂bθ (W )
satisfies equation
∂θ
r

∂bθ (W ) ∂µ ∂γ
∂ ∂bθ (W ) 1 ∂σ 2
1
∂ 2 ∂bθ (W )
=
+
+
Wb'θ (W ) + γW
b' 'θ (W ) + σ 2
∂θ
∂θ ∂θ
∂W ∂θ
2 ∂θ
2
∂W 2 ∂θ

1
∂bθ ( R) ∂L
∂ ∂bθ (W )
=
and
= 0. The conclusion of the
∂θ
∂θ
∂W
∂θ
lemma follows from Lemma D.

with boundary conditions

COROLLARY. From Lemma F and we obtain that
∂b(W )
= Gτ (W ),
∂L

∂b(W )
= G1 (W ),
∂γ

∂b(W ) 1 − Gτ (W )
=
, and
∂µ
r

∂b(W )
= G2 (W ) ,
∂σ 2

(29)

where

[

]

Gτ (W ) = E e − rτ | W0 = W ,

τ

G1 (W ) = E  ∫ e − rtWt b '(Wt )dt | W0 = W  ,
0


 τ − rt

and G2 (W ) = E  ∫ e b ''(Wt )dt | W0 = W  .
0


(30)

Additionally, because the principal’s profit remains the same if the agent’s outside option
increases by dR and liquidation value decreases by b '( R)dR , the effect of a change in R
on the principal’s profit is captured by
∂b(W )
= −b '( R)Gτ (W ).
∂R
To find how parameters affect the optimal choice of W1, note that
1


r ∂  µ − γW 1
µ − γW ( θ)
∂W 1 (θ)
bθ (W ( θ)) =
⇒
=
− bθ (W 1 ) 

r
r
∂θ
γ − r ∂θ 
 W 1 =W 1 ( θ)
1

(31)

We can then compute the derivatives of W1 with respect to parameters using the Corollary
of Lemma F. Similarly, the derivative of W0 with respect to the parameters can be found
by differentiating bθ (W0 (θ )) = K with respect to θ and using the Corollary. We obtain
comparative statics results summarized in Figure 8 in the paper. In Figure 8, we still need
to sign the non-obvious entries in parentheses. The following Lemma allows us to
compare the principal’s profit for different γ’s and to sign two entries that involve G1(W).

40

LEMMA G. Suppose that the principal offers a contract designed for the agent with
discount rate γ to an agent whose true discount rate is γ′ < γ. Then this agent would
derive utility greater than W0, and the principal would receive profit of exactly b(W0).
PROOF: Let us investigate how an agent with discount rate γ’ responds to a contract
created for an agent with discount rate γ. First, let us interpret the contract. The agent’s
value Wt can be interpreted as the agent’s balance on a high-interest savings account. It
evolves as

dWt = γWt dt + (dŶt - µ dt)
where dŶt - µ dt is the flow of deposits. The high-interest account has a cap of W1. The
agent’s consumption is
dCt=dYt -µ dt – (dŶt - µ dt) – dQt,
where µ dt is a tax and dQt is the flow of deposits onto the low-interest savings account.
The balance on that account is
dSt=ρSt dt + dQt
When the agent manages these two accounts, it is optimal to never have positive balance
on the low-interest savings account, unless the high-interest savings account is full (i.e.
Wt=W1). Also, it is optimal to deposit all cash flows onto the high-interest savings
account and not consume when Wt<W1, because those cash flows can earn a higher
interest rate than the agent’s own discount rate. The agent consumes only when Wt=W1
and the balance on his own savings account is positive. This sort of strategy gives the
agent of value higher than Wt, which he could get by simply drawing the credit line to the
end and defaulting immediately.
Let us show that the principal still gets profit b(Wt) when the agent follows any such
strategy. When Wt<W1, the agent deposits all cash flows onto the credit line, just like an
agent with discount factor γ would do. The only difficulty can come from the fact that
when Wt=W1, the agent may manage his own savings account with cash flows from the
project, and keep the balance on the credit line at 0 by paying the principal a flow µ - γW1
of coupon payments on long-term debt. This modification in the agent’s strategy does not
alter the principal’s profit because µ - γW1 = rb(W1), which is exactly what the principal
needs to get to realize a profit of b(W1).
Note that the contract in Lemma G is not optimal for agent γ’. An optimal contract would
give the principal higher profit for the same value of the agent. Therefore, to every point
(W, bγ(W)) with W≥W*(γ), there is a point (W’, bγ’(W’)) > (W, bγ(W)). We conclude that
bγ(W) must be increasing as γ falls for all W≥W*(γ), so G1(W) <0.
COROLLARY. −

G1 (W0 )
< 0 and G1 (W * ) > 0 .
b '(W0 )

For the remaining two entries of Figure 8, we need to relate b’(W) and Gτ(W).
LEMMA H. The following inequality holds for all W<W1:

41

b' (W ) <

(γ − r )Gτ (W ) γ
− .
r
rGτ (W 1 )

(32)

PROOF: Differentiating equation (33) with respect to W we find that b’(W) satisfies

( r − γ )b '(W ) = γWb ''(W ) +

σ2
b '''(W )
2

(34)

with boundary conditions b’(W1)=-1 and b’’(W1)=0. Denote the right hand side of (32)
by g(W)-γ/r. From (30), we know that g(W) satisfies

rg (W ) = γ Wg '(W ) +

γ

σ2
2

g ''(W ) ⇒

γ

(35)

σ2

( r − γ )( g (W ) − ) + ( r − γ ) + γ g (W ) = γ Wg '(W ) +
g ''(W )
r
r
2
with boundary conditions g(W1)=(γ-r)/r and g’(W1)=0. Denote f(W) = g(W)-γ/r – b’(W).
To prove the lemma, we need to show that f(W)>0 for all W<W1. Since f(W1)=0, this
property follows if we show that f’(W)<0 for all W<W1. Subtracting (34) from (35), we
find that

σ2
γ
f ''(W ) = ( r − γ ) f (W ) + ( r − γ ) + γg (W ) − γWf '(W )
2
r

(36)

with boundary conditions f(W1)=0 and f’(W1)=0. From (36) we find that

σ2

f ' ' (W 1 ) = (r − γ )

γ

+γ

γ −r

=0
2
r
r
σ2
f '''(W 1 ) = ( r − 2 γ ) f '(W 1 ) + γg '(W 1 ) + γW 1 f ''(W 1 ) = 0 , and
2

σ2
2

f

( 4)

(W 1 ) = (r − 3γ ) f ' ' (W 1 ) + γg ' ' (W 1 ) + γW 1 f ' ' ' (W 1 ) > 0

Therefore, f’(W)<0 for W<W1 in a small neighborhood of W1. If f’(W)<0 fails for some
W<W1, there has to be a largest point V at which it fails. Then f’(V)=0 and f(W) is
positive and decreasing on [V,W1). But then from (36)

σ2
2

f ' ' (V ) = (r − γ ) f (V ) + (r − γ )

γ
r

+ γg (V ) > 0, since g (V ) >

γ −r
r

.

We conclude that f’(V+ε)>0, which contradicts our definition of V as the largest point at
which f’(V)≥0. We conclude that f’(W)<0 and f(W)>0 for W<W1, so (32) holds.
Now we can sign the remaining two fields in Figure 8.
COROLLARY. Applying (32) at W=R, we have

42

rb' ( R)Gτ (W 1 )
γGτ (W 1 )
−1 < −
< 0 and
γ −r
γ −r

γGτ (W 1 ) rb' ( R)Gτ (W 1 )
1−
>
> 0.
γ −r
γ −r

Hidden Effort and Extensions:
PROOF OF PROPOSITION 11: Let ws = λA/γ and bs = (µ−A)/r. We can rewrite (20) as
b s ≤ b(W ) + γr w s − W b '(W ) , and this must hold for all W, leading to the condition

(

)

(

)

b s ≤ f ( w s ) = minW b(W ) + γr w s − W b '(W ) .

(37)

To prove that condition (21) of Proposition 11 guarantees (37), it is sufficient to show
that for all w,

(

)

b ( w s ) − γ−r r b(W * ) − b ( w s ) ≤ b (W ) + γr ( w s − W )b '(W )

(38)

Note that since b is concave and γ > r,

(

)

(

)

b( w s ) ≤ b(W ) + w s − W b '(W ) ≤ b(W ) + γr w s − W b '(W )
if (ws − W)b′(W) > 0, which implies (38) for W not between ws and W*. For W between
ws and W∗, note that
b( w s ) − γ−r r (b(W * ) − b( w s )) ≤ b( w s ) − γ−r r (b(W ) − b( w s ))
≤ b( w s ) − γ−r r (W − w s )b '(W )
≤ b(W ) + ( w s − W )b '(W ) −

γ− r
r

(W − w s )b '(W )

= b(W ) + γr ( w s − W )b '(W )
so that (38) again holds, verifying the sufficiency of condition (21).
Note that f ′(ws) = γ/r b′(W) ≥ − γ/r, whereas ∂bs/∂ws = −(γ/r)/λ. Thus, both (37) and (21)
imply a lower bound on ws (or equivalently A).
Finally, we note the following properties of f described in the paper: Setting W = ws in
(37) implies f(w) ≤ b(w). Also, since f is the lower envelope of linear functions it is
concave. Finally, (21) implies that f(W∗) = b(W∗).
PROOF OF PROPOSITION 12: Let b be the optimal continuation function given boundary
condition b(R−ω) = L. Then define b∗(W) = b(W − ω). Then b∗(R) = L and

rb* (W ) = rb(W − ω) = µ + γ (W − ω)b '(W − ω) + 12 λ 2 σ2b ''(W − ω)
= µ + +γ (W − ω)b* '(W ) + 12 λ 2 σ2b* ''(W )
Finally, b′(W1) = −1 implies b∗′(W1 + ω) = −1 and b∗′′(W1 + ω) = 0. Thus, by the same
arguments as in the proof of Proposition 4, b∗ is the optimal continuation function for the
setting with private benefits.

43

PROOF OF PROPOSITION 13: The first result holds by Lemma G. Next, suppose the
agent’s true discount factor γ′ is greater than γ. The process
t

Vˆt = ∫ e −γ ' s dC s +e −γ 't ( S t + Wt )
0

is a strict supermartingale. Indeed,
e γt dVˆt = −(1 − λ)(dYt − dYˆt ) − − ( γ '− γ )Wt dt − ( γ '− ρ) St dt + λσdZ t ,

so Vˆ has a negative drift. Since Wt and St are bounded from below, Vˆ is strict
supermartingale until time τ. If the agent draws the entire credit line and defaults at time
0, then he gets a payoff of W0. If he follows any other strategy, then τ > 0 and the agent’s
payoff is
 τ −γ ' s

E  ∫ e dC s +e −γ 'τ ( Sτ + Wτ ) = E Vˆτ < Vˆ0 = W0
0


[ ]

Therefore, the agent will draw the entire credit line immediately if γ′>γ.

9.

References

Albuquerque, R. and Hopenhayn, H. A. (2001) “Optimal Lending Contracts and Firm
Dynamics,” working paper, University of Rochester.
Atkeson, A. (1991) “International Lending with Moral Hazard and Risk of Repudiation,”
Econometrica, Vol. 59, No. 4, pp. 1069-1089.
Biais, B., T. Mariotti, G. Plantin and J.C. Rochet (2004) “Optimal Design and Dynamic
Pricing of Securities,” working paper.
Bolton, P. and C. Harris (2001) “The Continuous-Time Principal-Agent Problem:
Frequent-Monitoring Contracts,” working paper, Princeton University.
Cadenillas, A., J. Cvitanic, and F. Zapatero (2003) “Dynamic Principal-Agent Problems
with Perfect Information,” working paper, USC.
Clementi, G. L. and Hopenhayn, H. A. (2000) “Optimal Lending Contracts and Firms’
Survival with Moral Hazard,” working paper, University of Rochester.
DeMarzo, P. and Fishman, M. (2003) “Optimal Long-Term Financial Contracting with
Privately Observed Cash Flows,” working paper, Stanford University.
DeMarzo, P. and Fishman, M. (2003b) “Agency and Optimal Investment Dynamics,”
working paper, Stanford University.
Detemple, J., S. Govindaraj, and M. Loewenstein (2001) “Optimal Contracts and
Intertemporal Incentives with Hidden Actions.” working paper, Boston
University.

44

Green, E. (1987) “Lending and the Smoothing of Uninsurable Income,” in E. Prescott
and N. Wallace, Eds., Contractual Arrangements for Intertemporal Trade,
Minneapolis: University of Minnesota Press.
Gromb, D. (1999) “Renegotiation in Debt Contracts,” working paper, MIT.
Hart, O. and Moore, J. (1994) “A Theory of Debt Based on the Inalienability of Human
Capital” Quarterly Journal of Economics, 109, 841-79.
Hellwig, M. and K.M. Schmidt, (2002) “Discrete-Time Approximations of the
Holmstrom-Milgrom Brownian-Motion Model of Intertemporal Incentive
Provision,” forthcoming in Econometrica
Holmstrom, B. and Milgrom, P. (1987) “Aggregation and Linearity in the Provision of
Intertemporal Incentives.” Econometrica Vol 55, pp. 303-328.
Karatzas, I. and Shreve, S. (1991): Brownian Motion and Stochastic Calculus. SpringerVerlag, New York.
Ljungqvist, L. and Sargent, T. J. (2000): Recursive Macroeconomic Theory, MIT Press.
Ou-Yang, H. (2003) “Optimal Contracts in a Continuous-Time Delegated Portfolio
Management Problem,” Review of Financial Studies, Vol. 16, pp 173-208.
Phelan, C. and Townsend, R. (1991) “ComputingMulti-Period, Information-Constrained
Optima.” Review of Economic Studies, Vol. 58, pp. 853-881.
Quadrini, V. (2001) “Investment and Default in Optimal Financial Contracts with
Repeated Moral Hazard,” working paper, New York University.
Sannikov, Y. (2003) “A Continuous-Time Version of the Principal-Agent Problem,”
working paper, Stanford University.
Schattler, H. and J. Sung (1993) “The First-Order Approach to the Continuous-Time
Principal-Agent Problem with Exponential Utility.” Journal of Economic Theory
Vol. 61, pp. 331-371
Spear, S. and Srivastava, S. (1987) “On Repeated Moral Hazard with Discounting,”
Review of Economic Studies, Vol. 54, 599-617
Spear, S. and Wang C. (2003) “When to Fire a CEO: Optimal Termination in Dynamic
Contracts,” working paper, Carnegie-Mellon University.
Sung, J. (1995) “Linearity with Project Selection and Controllable Diffusion Rate in
Continuous-Time Principal-Agent Problems,” RAND J. of Economics Vol. 26, pp.
720-743
Sung, J. (1997) “Corporate Insurance and Managerial Incentives,” Journal of Economic
Theory Vol. 74, pp. 297-332
Williams, N. (2004) “On Dynamic Principal-Agent Problems in Continuous Time,”
working paper, Princeton University.

45

