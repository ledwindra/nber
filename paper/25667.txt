NBER WORKING PAPER SERIES

A THEORY OF HOUSING DEMAND SHOCKS
Zheng Liu
Pengfei Wang
Tao Zha
Working Paper 25667
http://www.nber.org/papers/w25667

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
March 2019

The research is supported in part by the National Science Foundation Grant SES 1558486
through the NBER and by the National Natural Science Foundation of China Project Numbers
71633003, 71742004, and 71473168. For helpful comments, we are grateful to Regis Barnichon,
Adam Guren, Oscar Jorda, Greg Kaplan, Monika Piazzesi, Amir Sufi, and Gianluca Violante.
We also thank seminar and conference participants at the Federal Reserve Bank of San Francisco,
Academia Sinica (Taipei), the 2018 AFR Summer Institute of Economics and Finance at
Zhejiang University, University of California Santa Cruz, University of Chicago, and the 2018
HKUST Workshop on Macroeconomics. Eric Tallman provided excellent research assistance.
The views expressed herein are those of the authors and do not necessarily reflect the views of the
Federal Reserve Banks of Atlanta and San Francisco, the Federal Reserve System or National
Bureau of Economic Research, or the National Bureau of Economic Research.
NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.
Â© 2019 by Zheng Liu, Pengfei Wang, and Tao Zha. All rights reserved. Short sections of text, not
to exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including Â© notice, is given to the source.

A Theory of Housing Demand Shocks
Zheng Liu, Pengfei Wang, and Tao Zha
NBER Working Paper No. 25667
March 2019
JEL No. E21,E44,G21
ABSTRACT
Aggregate housing demand shocks are an important source of house price fluctuations in the
standard macroeconomic models, and through the collateral channel, they drive macroeconomic
fluctuations. These reduced-form shocks, however, fail to generate a highly volatile price-to-rent
ratio that comoves with the house price observed in the data (the â€œprice-rent puzzleâ€). We build a
tractable heterogeneous-agent model that provides a microeconomic foundation for housing
demand shocks. The model predicts that a credit supply shock can generate large comovements
between the house price and the price-to-rent ratio. We provide empirical evidence from crosscountry and cross-MSA data to support this theoretical prediction.

Zheng Liu
Federal Reserve Bank of San Francisco
101 Market Street, MS 1130
San Francisco, CA 94105
zheng.liu@sf.frb.org
Pengfei Wang
Department of Economics
Business School
Hong Kong University of Science and Technology
Hong Kong
pfwang@ust.hk

Tao Zha
Emory University
1602 Fishburne Drive
Atlanta, GA 30322-2240
and Federal Reserve Bank of Atlanta
and also NBER
tzha@emory.edu

A THEORY OF HOUSING DEMAND SHOCKS

1

I. Introduction
The 2008 financial crisis was triggered by a collapse of the U.S. housing market.
The empirical macroeconomic literature suggests that housing demand shocks be the
primary driving force for the house price fluctuation (Davis and Heathcote, 2007).
Working through the collateral channel, these shocks also drive a large fraction of
business-cycle fluctuations (Iacoviello and Neri, 2010; Liu et al., 2013). In these standard macroeconomic models, aggregate housing demand shocks are proxied by shifts
in the representative agentâ€™s preference for housing services. Such taste shifts are
of reduced form without an explicit microeconomic justification. A housing demand
shock drives the house price fluctuation through the fluctuation of the implicit rent,
implying a counterfactually large volatility of rent.
In the data, however, the house price fluctuates much more than the rent, and
the price-to-rent ratio is highly volatile and strongly comoves with the house price.
These patterns are observed not only in the United States (Figure 1) but also in other
OECD countries as well as in various U.S. Metropolitan Statistical Areas (MSAs)
(Figure 2). Why does the price-to-rent ratio fluctuate so much, which we call the
â€œprice-rent puzzle?â€ This paper develops a tractable heterogeneous-agent model that
provides a microeconomic foundation for aggregate housing demand shocks. Built on
this foundation, we offer a theoretical explanation of the observed large fluctuation in
the price-to-rent ratio.
Our baseline model features a large number of household members, each facing an
idiosyncratic shock to their utility of housing services. In the decentralized housing
market, agents finance house purchases with both internal funds and external debts.
External financing is subject to a collateral constraint. For a given loan-to-value ratio,
there exists a cutoff point in the support of the idiosyncratic shock distribution such
that agents with the marginal utility of housing services above the cutoff point face
binding collateral constraints, whereas those below the cutoff point are unconstrained.
The cutoff point is endogenous. It depends on the distribution of idiosyncratic shocks
and it varies with changes in the credit supply condition.
The house price in the model is determined by the the marginal rate of substitution
(MRS) between housing services and non-housing consumption for the marginal agent,
who has an idiosyncratic shock at the cutoff level. Since credit-constrained agents
have a higher marginal utility than unconstrained agents, the marginal agent has the
lowest MRS among all constrained agents or the highest MRS among all unconstrained
agents. A credit supply expansion changes not only the identity of the marginal agent

A THEORY OF HOUSING DEMAND SHOCKS

2

(the extensive margin) but also the quantity of house purchases by the new marginal
agent (the intensive margin). In particular, an increase in credit supply makes some
agents with high MRS who were initially credit-constrained become unconstrained.
As a result, the new marginal agent has a higher MRS, and this extensive margin
of adjustments tends to raise the house price. On the other hand, an increase in
credit supply also reallocates more housing to the new marginal agent, reducing the
agentâ€™s MRS because of the diminishing marginal utility. The relative strength of the
two opposing effects depends on the risk aversion with respect to housing services.
If the housing risk version is sufficiently large, the diminishing marginal utility effect
dominates; thus, an increase in credit supply reduces the marginal agentâ€™s MRS and
the house price falls. If the housing risk aversion is low, the opposite is true and an
increase in credit supply raises the house price.
With a relatively low risk aversion with respect to housing services, an expansion in
credit supply raises the house price but it does not have a direct impact on the rent.
Heterogeneity in the marginal utility of housing services, together with credit constraints, is the key to understanding the difference between the dynamic responses of
the house price and the rent. Aggregation results in a mapping between the reducedform housing demand shock in the representative-agent model and the sum of the
implicit rent and the liquidity premium in the heterogeneous-agent model. This mapping provides a microeconomic foundation for aggregate housing demand shocks. As a
result, the equilibrium house price depends on the present values of two components:
(1) the rent that equals to the average MRS across all agents and (2) the liquidity
premium that arises from binding collateral constraints for a subset of agents with
a high marginal utility of housing services. The liquidity premium drives a wedge
between the house price and the rent, creating room for the price-to-rent ratio to
fluctuate in response to a credit supply shock.
Two important works, Favilukis et al. (2016) and Kaplan et al. (2017), study the
driving forces of the house price as well as the price-to-rent ratio in two different
models: one with overlapping generations and the other with incomplete markets.
Favilukis et al. (2016) emphasize the importance of aggregate business-cycle risks
and the wealth distribution driven by bequest heterogeneity in preferences in understanding the house price boom. Kaplan et al. (2017) argue that shifts in belief about
future housing demand drives movements of the house price and the price-to-rent ratio
around the Great Recession. Our heterogeneous-agent model places a different emphasis: we study how a credit supply shock affects the composition of credit-constrained

A THEORY OF HOUSING DEMAND SHOCKS

3

and unconstrained agents and how changes in the composition affect the liquidity
premium. The compositional effect is consistent with Landvoigt et al. (2015) who
find that increased credit availability for poor households with low-end homes was
a major driver of the house price boom in the early 2000s because households with
smaller houses have a higher marginal utility of housing services.1
We provide empirical evidence, across countries and across U.S. MSAs, to corroborate our theoretical finding that a credit supply shock drives a large fluctuation in
the house price but not the rent as well as a strong comovement between the house
price and the price-to-rent ratio.2 For the cross-country data from 1965 to 2013, we
use an unbalanced panel of 25 advanced economies. Following the approach of Mian
et al. (2017), we construct credit supply shocks based on accelerations in household
credit growth in periods when mortgage spreads were low, where the mortgage spread
is the difference between the mortgage interest rate and 10-year sovereign bond yield.
We find that an increase in credit supply is followed by a significant and persistent
increase in the house price and the price-to-rent ratio, but it has no significant impact
on the rent. For the MSA data from 1978 to 2017, we use an unbalanced panel of
21 MSAs within the U.S. and find that a credit supply shock generates the dynamic
responses of the house price, the rent, and the price-rent ratio very similar to those
obtained from the international data. These empirical findings lend credence to our
modelâ€™s mechanism.
The rest of the paper is organized as follows. We present a stylized representativeagent model in Section II to highlight the price-rent puzzle. We then present in
Section III a baseline heterogenous-agent model with idiosyncratic shocks to individual
preferences for housing services. In Section IV, we characterize the equilibrium of
the heterogeneous-agent economy and show how changes in credit supply can drive
aggregate housing demand and the price-to-rent ratio. To gain the key insight of the
equilibrium, we provide an illustrative example, in Section V, that enables us to derive
the closed-form solution to the equilibrium. Section VI provides empirical evidence in
support of the modelâ€™s main prediction with panel regressions based on two distinct
datasets. Section VII concludes.
1

Agents with higher marginal utility in our model can be broadly interpreted as corresponding

to households with smaller houses (low-end homes). This interpretation is formalized in an alternative setup in which household heterogeneity stems from idiosyncratic income shocks, as shown in
Appendix A.
2
For more empirical studies that stress the importance of credit supply shocks in housing boombust cycles, see the survey of Mian and Sufi (2018) and the references therein.

A THEORY OF HOUSING DEMAND SHOCKS

4

II. A simple representative-agent model
In this section, we provide a stylized representative-agent model to illustrate how
housing demand shocks used in the macroeconomics literature drive the house price.
To sharpen the exposition of our analysis, we focus on an endowment economy such
that the house price does not interact with consumption and production.3
Following the literature, we assume that the economy has one unit of housing supply
(e.g., the limit of land usable for housing). The representative household is endowed
with yt units of consumption goods and has the expected utility function


âˆ
X
h1âˆ’Î¸
t
t
E0
Î² log ct + Ï•t
,
1âˆ’Î¸
t=0

(1)

where ct denotes consumption, ht housing, and Ï•t a housing demand shockâ€”its micro
foundation is a focus of this paper. The parameter Î² âˆˆ (0, 1) is the subjective discount
factor and Î¸ > 0 is a parameter that measures the curvature of the utility function
with respect to housing services. Our analytical results depend on the value of Î¸.
The household chooses consumption (ct ), an additional house purchase (ht âˆ’ htâˆ’1 ),
and holdings of the risk-free bond (bt ) to maximize the utility function (1) subject to
the flow-of-funds constraint
ct + qt (ht âˆ’ htâˆ’1 ) â‰¤ yt +

bt
âˆ’ btâˆ’1 ,
Rt

(2)

where qt is the house price and Rt is the risk free interest rate, both prices taken as
given by the household. The initial bond holdings bâˆ’1 and the initial housings of hâˆ’1
are also taken as given.
The optimizing decisions lead to the Euler equation for house purchases
qt
qt+1
= Î²Et
+ Ï•t hâˆ’Î¸
t ,
ct
ct+1

(3)

and for bond holdings
1 = Î²Rt Et

ct
ct+1

.

(4)

A competitive equilibrium consists of sequences of allocations {ct , bt , ht } and prices
{qt , Rt } such that (i) taking the prices as given, the allocations solve the householdâ€™s
utility maximization problem and (ii) the markets for goods, bond, and housing all
clear: ct = yt , bt = 0, and ht = 1.
3

The key insight about the role of housing demand shocks in driving the house price fluctuation

carries over to a general environment with consumption and production (Iacoviello and Neri, 2010;
Liu et al., 2013).

A THEORY OF HOUSING DEMAND SHOCKS

5

Using the market clearing conditions for goods and housing, we can solve for the
equilibrium house price:
"
qt = yt Et

âˆ
X

#
j

Î² Ï•t+j .

(5)

j=0

The implicit rent is pinned down by the householdâ€™s MRS between housing services
and non-housing consumption, which is given by
rht = Ï•t yt .

(6)

Thus, the price-to-rent ratio is given by
âˆ

qt
1 X j
= Et
Î² Ï•t+j .
rht
Ï•t j=0

(7)

Eq. (5) reveals that the volatility of house prices stems primarily from the housing
demand shock (Ï•t ). Eq. (6) shows that this shock also drives rent fluctuations. Thus,
the representative-agent model has difficulty in generating a large volatility of the
price-to-rent ratio.
To illustrate this point in a concrete example, consider the stationary process for
the housing demand shock
Ï•Ì‚t = ÏÏ•Ì‚tâˆ’1 + et ,

(8)

where Ï•Ì‚t â‰¡ log Ï•Ï•t denotes the log-deviation of the housing demand shock from its
steady state value and et is a white noise innovation to the shock. Log-linearizing
equation (5) around the steady state and imposing the shock process in equation (8),
we obtain
"
qÌ‚t = yÌ‚t + (1 âˆ’ Î²)Et

âˆ
X

#
Î² j Ï•Ì‚t+j = yÌ‚t +

j=0

1âˆ’Î²
Ï•Ì‚ ,
1 âˆ’ Î²Ï t

(9)

where yÌ‚t is a log-linearized process of yt . The log-linearized solution for the rent is
given by
rÌ‚ht = yÌ‚t + Ï•Ì‚t .

(10)

The log-linearized price-to-rent ratio becomes
qÌ‚t âˆ’ rÌ‚ht = âˆ’

Î²(1 âˆ’ Ï)
Ï•Ì‚ .
1 âˆ’ Î²Ï t

(11)

There are two important facts contradicted by the implications of this representativeagent model. First, the model implies that the price-to-rent ratio falls when the house
price rises, as shown by equation (11). In the data, however, the price-rent ratio are
highly positively correlated with house prices (see Figures 1-2).

A THEORY OF HOUSING DEMAND SHOCKS

6

Second, the model cannot generate a large volatility of the price-to-rent ratio as in
the data. To illustrate this point, we keep the endowment constant so that yÌ‚t = 0.
The model thus implies that
STD(qÌ‚t )
1âˆ’Î²
=
< 1,
STD(rÌ‚ht )
1 âˆ’ Î²Ï

(12)

so that the house price is less volatile than the rent, opposite of the fact discussed
above. We call these two counterfactual model implications the â€œprice-rentâ€ puzzle.
III. A heterogenous-agent model of housing demand
In this section, we argue that the price-rent puzzle is a direct result of treating the
housing demand shock as a reduced-form shock. To this end, we develop a simple
heterogeneous-agent model with an idiosyncratic shock to the householdâ€™ taste for
housing services to (a) provide a microeconomic foundation for the housing demand
shock and (b) illustrate that this micro foundation helps resolve the price-rent puzzle.
Such idiosyncratic shocks are meant to capture potential heterogeneity in householdsâ€™
desires to purchase homes for reasons such as job relocations, schooling choices, and
health care needs. To obtain the key insight, we simplify the model by postulating the
existence of some implicit financial arrangement to insure non-housing consumption
against realizations of idiosyncratic taste shocks. We also abstract from labor supply
and capital investment decisions in this basic model.4
III.1. The model. Consider a large household family with a continuum of members.
Each member has an idiosyncratic taste for housing services. The idiosyncratic shock
Îµt follows an i.i.d. process (across members and across time) drawn from the distribution F (Â·). Because of the complete insurance against non-housing consumption
risks, all members enjoy the same consumption ct . Housing services, however, must
be indexed by Îµ. The expected utility function of the family is given by
"
#
Z âˆ
âˆ
1âˆ’Î¸
X
[h
(Îµ
)]
t t
E0
Î² t log ct + Ï•
Îµt dF (Îµt ) ,
1
âˆ’
Î¸
0
t=0

(13)

where ht (Îµt ) denotes the housing stock owned by the member with shock Îµt and the
parameter Ï• measures the utility weight for housing. Note that Ï• is constant so that
there is no reduced-form aggregate housing demand shock in this heterogeneous-agent
model. The parameter Î¸ â‰¥ 0 is the relative risk aversion parameter with respect to
housing services.
4See

Appendix B for various generalizations of this stylized model.

A THEORY OF HOUSING DEMAND SHOCKS

7

The resources available to the family at the beginning of period t includes an exogenous labor income yt and the resale value of the existing housing stock, which is
carried over from t âˆ’ 1 to t by all members after paying off the matured debts for the
family. The family uses these resources to fund consumption ct shared by all members
and disperse the remaining funds at equally among members for purchasing houses in
the decentralized housing market. Since housing services are perfectly tradable across
all family members, there is an equilibrium house price qt .
The budget constraint faced by the family is
Z
Z
ct + at = yt + qt htâˆ’1 (Îµtâˆ’1 )dF (Îµtâˆ’1 ) âˆ’ btâˆ’1 (Îµtâˆ’1 )dF (Îµtâˆ’1 ).

(14)

In the decentralized housing market, a family member with idiosyncratic shock Îµt
finances her new house purchase qt ht (Îµt ) through both internal funds at and external
borrowings bt (Îµt ) at the interest rate Rt :
qt ht (Îµt ) â‰¤ at +

bt (Îµt )
.
Rt

(15)

As in Kiyotaki and Moore (1997), imperfect contract enforcement implies that the
external debt cannot exceed a fraction of the collateral value:
bt (Îµt )
â‰¤ Îºt qt ht (Îµt ),
Rt

(16)

where Îºt âˆˆ [0, 1] represents an exogenous shock to the credit availability. We impose
a constraint on short-selling the housing stock so that
ht (Îµt ) â‰¥ 0.

(17)

Combining the flow-of-funds constraint (15) and the collateral constraint (16) gives
at
qt ht (Îµt ) â‰¤
.
1 âˆ’ Îºt
As Îºt â†’ 1, there will be no limit on house spendings. In what follows, we assume
Îºt < 1 to exclude this extreme case.
The family chooses ct and at and each member with Îµt chooses ht (Îµt ) and bt (Îµt ) to
maximize the utility function (13), subject to the family budget constraint (14) as well
as the individual memberâ€™s flow-of-funds constraint (15), borrowing constraint (16),
and short-sell constraint (17). The initial values of bâˆ’1 and hâˆ’1 and the prices qt and
Rt are taken as given.
Denote by Î»t , Î· t (Îµt ), Ï€ t (Îµt ) and Âµt (Îµt ) the Lagrangian multiplers associated with
constraints (14), (15), (16), and (17) respectively. In the discussions below, we consider a general case with Î¸ > 0 so that the short-sell constraint (17) is not binding,

A THEORY OF HOUSING DEMAND SHOCKS

8

implying that Âµt (Îµt ) = 0. We leave the special case Î¸ = 0 to Section V when we study
a numerical example.
The first-order condition with respect to at is
Z
Î»t = Î· t (Îµt )dF (Îµt ),

(18)

An extra unit of funds allocated to family members for purchasing new houses reduces
family consumption by one unit with the utility cost Î»t . The utility gain from this
allocation is the average shadow value of newly purchased houses across all members.
The first order condition with respect to ht (Îµt ) is
Î· t (Îµt )qt = Ï•Îµt [ht (Îµt )]âˆ’Î¸ + Î²Et Î»t+1 qt+1 + Îºt qt Ï€ t (Îµt ).

(19)

For member Îµ, the utility cost of purchasing a unit of housing is qt Î·(Îµt ). The extra unit of housing yields the utility gain Ï•Îµt [ht (Îµt )]âˆ’Î¸ from housing services. The
unit of housing can be sold at the price qt+1 next period, yielding the present value
Î²Et Î»t+1 qt+1 . Having an extra unit of housing also increases the collateral value and
helps relax the collateral constraint, with the shadow utility value of Îºt qt Ï€ t (Îµt ). The
optimal choice of ht (Îµt ) implies that the marginal cost must equal the sum of these
marginal benefits.
The first-order condition with respect to bt (Îµt ) is
Î· t (Îµt ) = Î²Rt Et Î»t+1 + Ï€ t (Îµt ).

(20)

Borrowing an extra unit of funds yields the utility value Î· t (Îµt ). The family repays
the debt next period at the interest rate Rt , with the present value of the utility cost
of Î²Rt Et Î»t+1 . The increase in borrowings tightens the collateral constraint with the
utility cost Ï€ t (Îµt ). For an optimal choice of bt (Îµt ), the utility gain must equal to the
sum of these two utility costs.
III.2. Equilibrium. A competitive equilibrium is a collection of prices {qt , Rt } and
allocations {ct , at , ht (Îµt ), bt (Îµt )} such that
(1) taking the prices as given, the allocations solve the householdâ€™s utility maximizing problem;
(2) the markets for goods, housing, and credit all clear so that
ct = y t

(21)

ht (Îµ)dF (Îµ) = 1

(22)

bt (Îµ)dF (Îµ) = 0.

(23)

Z
Z

A THEORY OF HOUSING DEMAND SHOCKS

9

IV. Characterizing the equilibrium
We now characterize the equilibrium of the heterogeneous-agent model.
IV.1. The cutoff point among heterogeneous agents. Family members with
sufficiently high marginal utility (i.e., high Îµt ) faces binding borrowing constraints.
Thus, we conjecture that there exists a cutoff point Îµâˆ—t in the support of the distribution
F (Îµ) such that the borrowing constraints are binding if and only if Îµt > Îµâˆ—t . Lemma 1
below gives the solution for the equilibrium housing demand ht (Îµt ) as well as the cutoff
point Îµâˆ—t .
Lemma 1. There exists a cutoff point Îµâˆ—t in the support of the distribution F (Îµ), such
that
(
ht (Îµt ) = min

Îµt
Îµâˆ—t

 Î¸1

)
,1

1
.
1 âˆ’ Îºt

The cutoff point Îµâˆ—t is determined by
(  1 )
Z
Îµ Î¸
min 1, âˆ—
f (Îµ)dÎµ = 1 âˆ’ Îºt .
Îµt

(24)

(25)

Proof. If Îµt â‰¥ Îµâˆ—t , then the borrowing constraint (16) is binding. The flow-of-funds
constraint (15) implies that
qt ht (Îµt ) = at +

bt (Îµt )
= at + Îºt qt ht (Îµt ).
Rt

(26)

Integrating over Îµ and imposing the market clearing conditions lead to at = qt . Substituting out at in Eq. (26), we obtain
ht (Îµt ) =

at
1
=
.
qt (1 âˆ’ Îºt )
1 âˆ’ Îºt

If Îµt < Îµâˆ—t , then Ï€ t (Îµt ) = 0. From Eq. (19) and (20), we have

âˆ’Î¸
1
âˆ’Î¸
âˆ—
âˆ— âˆ’Î¸
âˆ—
.
Ï•Îµt [ht (Îµt )] = Ï•Îµt [ht (Îµt )] = Ï•Îµt
1 âˆ’ Îºt

(27)

(28)

Eq. (24) follows immediately from Eq. (27) and (28).
Integrating Eq. (24) over Îµt and imposing the housing market clearing condition (22),
we obtain Eq (25).
The proposition below establishes that, under some mild restriction on the distribution of Îµ, the cutoff Îµâˆ—t increases with Îºt . Thus, a credit-supply expansion leads to
fewer credit-constrained agents.

A THEORY OF HOUSING DEMAND SHOCKS

10

Proposition 1. Assume that the support of the distribution of Îµt is [0, ÎµÌ„] and that Îºt
R ÎµÌ„  1
is bounded above by ÎºÌ„ â‰¡ 1 âˆ’ 0 ÎµÎµÌ„ Î¸ f (Îµ)dÎµ such that Îµâˆ— (Îºt ) âˆˆ (0, ÎµÌ„) for Îºt âˆˆ (0, ÎºÌ„).
Then we have

âˆ‚Îµâˆ— (Îºt )
âˆ‚Îºt

> 0.

Proof. For any ÎµÌƒ âˆˆ (0, ÎµÌ„),
Z
lim

ÎµÌ„

  1 
Îµ Î¸
min 1,
f (Îµ)dÎµ = 1 âˆ’ ÎºÌ„ < 1 âˆ’ Îº,
ÎµÌƒâ†’Îµmax 0
ÎµÌƒ
  1 
Z ÎµÌ„
Îµ Î¸
min 1,
lim
f (Îµ)dÎµ = 1 > 1 âˆ’ Îº.
ÎµÌƒâ†’0 0
ÎµÌƒ

By the Intermediate Value Theorem, equation (25) has an interior solution Îµâˆ— (Îºt ) âˆˆ
(0, ÎµÌ„). Since the left-hand side of the equation strictly decreases with Îµâˆ—t and the
right-hand side strictly decreases with Îºt , it follows that

âˆ‚Îµâˆ— (Îºt )
âˆ‚Îºt

> 0.

IV.2. Aggregate housing demand and the house price. Integrating equation (19)
across Îµt , we obtain the expression for the house price
Z ÎµÌ„
Z ÎµÌ„
âˆ’Î¸
qt Î»t = Et Î²Î»t+1 qt+1 + Ï•
[ht (Îµt )] Îµ dF (Îµ) + Îºt qt
Ï€ t (Îµ)dF (Îµ), for Î¸ > 0

(29)

Îµâˆ—t

0

where the first integral on the right-hand side of the equation is the average marginal
utility (the rent) and the second integral is the liquidity premium, which is positive
if and only if Îµt > Îµâˆ—t . This result is formally stated in the following proposition.
Proposition 2. The equilibrium house price satisfies the Euler equation
qt Î»t = Et Î²Î»t+1 qt+1 + Î¾(Îºt ),

(30)

where
Î¸

Ï•(1 âˆ’ Îºt )Î¸
+ Îºt
}
1 âˆ’ Îºt
|

E max {Îµ, Îµâˆ—t }

Î¾(Îºt ) â‰¡ Ï•(1 âˆ’ Îºt )
|
{z

Average marginal utility

Z

ÎµÌ„

(Îµ âˆ’ Îµâˆ—t ) dF (Îµ),
{z
}

(31)

Îµâˆ—t

Liquidity premium Î t

Proof. See Appendix C.
The following proposition, built on Proposition 2, provides a microeconomic foundation for the reduced-form housing demand shock.
Proposition 3. If Î¾(Îºt ) = Ï•t , then the equilibrium house price in the heterogeneousagent model coincides with that in the representative agent model.
Proof. The housing Euler equation (30) in the heterogeneous-agent economy is
qt
qt+1
= Î²Et
+ Î¾(Îºt ).
(32)
ct
ct+1

A THEORY OF HOUSING DEMAND SHOCKS

11

The housing Euler equation in the representative-agent model, represented by (3), is
rewritten for referencing convenience:
qt
qt+1
= Î²Et
+ Ï•t hâˆ’Î¸
t
ct
ct+1
In equilibrium, the housing market clears so that ht = 1. Thus, if Î¾(Îºt ) = Ï•t , the
housing Euler equations in the two different economies are identical. Since goods
market clearing implies that ct = yt in both models, the equilibrium house price is
also identical.
Clearly from Proposition 3, aggregate housing demand is a function of credit supply Îºt .5 Equation (31) shows that aggregate housing demand and the house price
depend on two forces: (i) the average MRS between housing services and non-housing
consumption across all agents (the implicit rent) and (ii) the liquidity premium deriving from binding collateral constraints for a subset of agents with high MRSs. It is
the liquidity premium that drives a wedge between price and rent, creating room for
potentially large fluctuations in the price-to-rent ratio with changes in the leverage
condition.
IV.3. The relation between credit supply and the house price and rent: the
role of the marginal agent. The house price in our model always satisfies the Euler
equation for the marginal agent, who faces the idiosyncratic shock Îµâˆ—t and is not credit
constrained:

Î»t+1
Ï•
Î· âˆ—t
qt+1 + Îµâˆ—t (1 âˆ’ Îºt )Î¸ ,
qt = Et Î²
Î»t
Î»t
Î»
}
| t {z

(33)

M RStâˆ—

where Î· âˆ—t = Rt Et Î² Î»Î»t+1
is an increasing function of the interest rate Rt and M RStâˆ—
t
denotes the marginal agentâ€™s MRS between housing services and non-housing consumption. For any given interest rate, the house price increases with M RStâˆ— .
To see how credit supply affects the house price through M RS âˆ— , consider the cumulative density function for the idiosyncratic shock
 Îµ Î·
F (Îµ) =
,
ÎµÌ„
where Î· > 0 is the shape parameter and we normalize the scale parameter ÎµÌ„ =

(34)
1+Î·
Î·

so

that the mean of the idiosyncratic shock is one.
5In

general, any shock that shifts the cutoff point Îµâˆ—t would shift the aggregate housing demand,

thereby driving the house price fluctuation. We focus on credit supply shocks because this mechanism
is supported by empirical evidence discussed in Section VI.

A THEORY OF HOUSING DEMAND SHOCKS

12

Proposition 4. Assume that the idiosyncratic shock follows the distribution (34). The
marginal agentâ€™s MRS increases with Îºt if and only if Î¸ <

1âˆ’Îºt
.
Î·Îºt

Proof. Under the distribution function (34), the cutoff point is given by
1

Îµâˆ—t = [(1 + Î¸Î·)Îºt ] Î· ÎµÌ„.
Using the expression for M RStâˆ— in Eq (33), we obtain the elasticity of M RStâˆ— with
respect to Îºt as
eM RS âˆ— ,Îº â‰¡

âˆ‚M RStâˆ— Îºt
1
Îºt
= âˆ’Î¸
.
âˆ—
âˆ‚Îºt M RSt
Î·
1 âˆ’ Îºt

(35)

Hence,
eM RS âˆ— ,Îº > 0 if and only if Î¸ <

1 âˆ’ Îºt
.
Î·Îºt

(36)

Proposition 4 shows that the relation between the marginal agentâ€™s MRS and credit
supply is non-monotonic, depending on Î¸, the value of the agentâ€™s risk aversion with
respect to housing services.
An increase in credit supply has two opposing effects on the marginal agentâ€™s MRS.
First, according to Proposition 1, an increase in Îºt raises the cutoff point Îµâˆ—t , and the
new marginal agent has a higher MRS than in the original equilibrium (the extensive
margin). All else equal, this extensive-margin effect raises the house price. However,
a relaxation of the credit constraint also enables the new marginal agent to enjoy
more housing services, lowering her MRS through the diminishing marginal utility
(the intensive margin). The intensive-margin effect reduces the house price.
The net effect depends on how risk-averse the agent is. If the marginal agent has
a sufficiently low risk aversion with respect to housing services (a low value of Î¸), the
extensive-margin effect dominates through a shift of the cutoff point and an increase
in Îºt raises the housing demand and the house price. If the marginal agent has a high
risk aversion, the intensive-margin effect dominates through the diminishing marginal
utility and an increase in Îºt reduces the housing demand and the house price.
No matter what value Î¸ is, however, the relation between the rental rate and credit
availability (Îºt ) remains ambiguous.6 Thus, we define the implicit rent as the average
6We

abstract from an explicit rental market to simplify the analysis. We discuss an extension

of the model with an explicit rental market in Appendix D, where we show that that the market
rental rate equals the average MRS between housing services and non-housing consumption across
all agents.

A THEORY OF HOUSING DEMAND SHOCKS

13

MRS across all agents:
Ï•
rht =
Î»t

Z

ÎµÌ„

Îµt [ht (Îµt )]âˆ’Î¸ dF (Îµt ).

(37)

0

Since high-MRS agents face binding borrowing constraints, a change in credit availability (Îºt ) affects the marginal utilities of those agents and thus the rent.
Proposition 5. For Î¸ > 0, the rent is given by
rht =

Ï•
(1 âˆ’ Îºt )Î¸ E max {Îµ, Îµâˆ—t } .
Î»t

(38)

The effect of a change in Îºt on rht is ambiguous.
Proof. In (38), (1âˆ’Îºt )Î¸ decreases with Îºt while E max {Îµ, Îµâˆ—t } increases with Îºt , because
Îµâˆ—t itself increases with Îºt according to Proposition 1. Thus, the effect on rht is
ambiguous.
V. A closed-form example
In this section, we obtain closed-form solutions for the house price, the rent, and the
price-to-rent ratio by considering a special case with Î¸ = 0 and using the distribution
function specified in equation (34). We use this example to illustrate the mechanism
through which credit market conditions can affect the house price and the price-to-rent
ratio.
With Î¸ = 0, the no-short-sale restriction (17) is binding for the agents with low
realizations of Îµ. The housing Euler equation (29) becomes
Z ÎµÌ„
Z ÎµÌ„
Z ÎµÌ„
qt Î»t = Et Î²Î»t+1 qt+1 + Ï•
ÎµdF (Îµ) + Îºt qt
Ï€ t (Îµ)dF (Îµ) +
Âµt (Îµ)dF (Îµ),
Îµâˆ—t

0

(39)

0

where the Lagrangian multiplier Âµt (Îµ) for the no-short-sale restriction is positive if
and only if ht (Îµ) = 0. Specifically, it is given by Âµt (Îµ) = Ï• max{Îµâˆ—t âˆ’ Îµ, 0}.
Equation (39) can be written in the compact form
qt Î»t = Et Î²Î»t+1 qt+1 + Î¾(Îºt ),

(40)

where
Î¾(Îºt ) â‰¡

Ï•E(Îµ)
| {z }

Average marginal utility

1
+ Îºt
1 âˆ’ Îºt
|

Z

ÎµÌ„

Îµâˆ—t

Ï•(Îµt âˆ’
{z

Îµâˆ—t )dF (Îµt )

Liquidity premium Î t

= Ï• + Ï•Îºt (1 âˆ’ Îºt ) + Ï•Îº2t = Ï•(1 + Îºt ).

+Ï•
} |

Z
0

Îµâˆ—t

(Îµâˆ—t âˆ’ Îµt )dF (Îµt ).
{z
}

Option value Ot

A THEORY OF HOUSING DEMAND SHOCKS

14

Thus, housing demand Î¾(Îºt ) increases with Îºt , implying that the house price increases
with Îºt as well. However, the average marginal utility of housing (Ï•) is independent
of Îºt , as is the rent.
This example illustrates that our model is capable of generating a much larger fluctuation in the house price than in the rent. Consequently, the price-to-rent ratio is
as volatile as the house price and the two variables comove. This result from the
heterogeneous-agent model stands in sharp contrast to that from the representativeagent model discussed in Section II, which fails to generate the observed large fluctuation in the price-to-rent ratio and the observed comovement between the house price
and the price-to-rent ratio.

VI. Empirical evidence
In previous sections, we develop a theoretical model to show that a credit supply
shock can have a large impact on the house price, but not on rent. Therefore, the
model predicts that a boom in credit supply should raise both the house price and the
price-to-rent ratio. In this section, we present relevant empirical evidence to support
the modelâ€™s prediction.
To obtain dynamic responses of the house price, the rent, and the price-to-rent ratio
to a credit supply shock, we follow the approach of Mian et al. (2017) and identify a
credit supply shock as an acceleration in credit growth during periods when mortgage
spreads are low. We use two distinct datasets: (i) international data and (2) U.S.
regional data. For international data from 1965 to 2013, we use an unbalanced panel
of 25 advanced economies. We follow Mian et al. (2017) and measure credit growth
by year-over-year changes in the ratio of household debt to GDP in each country. The
mortgage spread for each country is the spread between the mortgage interest rate
and the 10-year sovereign bond yield.
For U.S. regional data from 1978 to 2017, we use an unbalanced panel of 21 MSAs
in the United States. Credit growth is measured by year-over-year changes in the
ratio of mortgage loans to the house price in each MSA, and the mortgage spread is
the effective mortgage interest rate minus the 10-year U.S. Treasury yield.7

7Data

details and summary statistics are presented in Tables S1 and S2 of Appendix E.

A THEORY OF HOUSING DEMAND SHOCKS

15

Using each panel dataset, we estimate the dynamic responses of housing-market
variables (price, rent, price-rent ratio) to a credit supply shock using the localprojection approach of Jorda (2005). Specifically, we estimate the instrumentalvariable local-projection (IV-LP) model
log Yi,t+h âˆ’ log Yit = Î±h0 +

8
X

HH
+ Î³ hi + uhi,t+h ,
Î² hj âˆ†Di,tâˆ’j

(41)

j=0

where Yi,t denotes a housing-market variable of interest in country or region i and year
t, âˆ†DitHH denotes a credit growth rate in country or region i from tâˆ’1 to t, Î³ hi captures
the country/region fixed effect, and uhi,t+h is a regression residual. The parameters
Î±h0 and Î² hj are common for all countries or regions. Following Mian et al. (2017),
we instrument credit growth by a dummy variable that equals one if the mortgage
spread is below the median and zero otherwise. The F-statistics from the first-stage
regressions suggest that we do not have a weak-instrument problem; the instrumental
variable (the mortgage spread dummy) is highly and positively correlated with the
variable of credit growth for both international and regional samples (Table 1).
Figure 3 displays the estimated dynamic responses of house price and rent to an
expansionary credit supply shock and Figure 4 displays the responses of the priceto-rent ratio . The left column of both figures uses the cross-country data and the
right column uses the U.S. MSA data. In both cases, an expansionary credit supply
shock leads to a large, persistent, and statistically significant increases in the house
price. One percentage-point increase in credit supply growth leads to an increase of
approximately 7.5 percentage points in the house price at its peak. This finding is
consistent with what is found in the literature (Mian et al., 2017; JordÃ  et al., 2016).
By contrast, the rent responses to the credit supply shock is small and statistically
insignificant (middle panels of Figure 3). The estimated rent responses from the
MSA data become marginally significant after 3 years following the impact of the
shock, but the magnitude of the rent response is small compared with the house
price response. As a result, the credit supply shock leads to a large and persistent
increase in the price-to-rent ratio (Figure 4). These empirical findings lend support
to our theoretical prediction that a credit supply shock can drive large comovements
between house price and price-to-rent ratio.
VII. Conclusion
The standard macroeconomic models that rely on reduced-form housing demand
shocks have difficulties in generating the observed large fluctuation of both the house

A THEORY OF HOUSING DEMAND SHOCKS

16

price and the price-to-rent ratio. We develop a heterogeneous-agent model with
credit constraints and build a microeconomic foundation of aggregate housing demand shocks. Since agents with idiosyncratic shocks have different marginal utilities
of housing services, a subset of high-marginal utility agents face binding credit constraints, giving rise to an endogenous liquidity premium. The liquidity premium drives
a wedge between the house price and the rent, allowing a credit supply expansion to
generate a simultaneous increase in both the house price and the price-to-rent ratio.
Our modelâ€™s main prediction that a credit supply shock has a large impact on
the house price but not on the rent is supported by cross-country and cross-MSA
evidence. Understanding the microeconomic forces that underpin aggregate housing
demand shocks and the price-to-rent fluctuation is a critical first step for contemplating appropriate policy interventions in the housing market. We hope that our work
contributes to this important research area.

A THEORY OF HOUSING DEMAND SHOCKS

17

Table 1. First-stage regression for the IV-LP estimation
International sample MSA sample
ItM S
HH
âˆ†Dtâˆ’1

HH
âˆ†Dtâˆ’2

HH
âˆ†Dtâˆ’3

HH
âˆ†Dtâˆ’4

HH
âˆ†Dtâˆ’5

HH
âˆ†Dtâˆ’6

HH
âˆ†Dtâˆ’7

HH
âˆ†Dtâˆ’8

Observations
F-Stat

(1)

(2)

0.75***

0.48**

(0.23)

(0.21)

0.38***

-0.13***

(0.06)

(0.04)

0.04

-0.04

(0.05)

(0.05)

0.09**

-0.17***

(0.04)

(0.05)

0.09

-0.25***

(0.08)

(0.03)

-0.11

-0.07

(0.11)

(0.05)

0.03

-0.09**

(0.08)

(0.03)

-0.15**

0.006

(0.05)

(0.03)

-0.15***

-0.13***

(0.05)

(0.03)

451

558

32.48

34.50

Note: The table displays the first-stage regression results for the local-projection regression
specified in (41). With international data (Column (1)), the table reports the regression of a
year-over-year change in the ratio of household debt to GDP in country i and year t on its own lags
MS
and the instrumental variable, which is the mortgage spread dummy Iit
that equals one if the

mortgage spread is below its median and zero otherwise. With U.S. regional data (Column (2)),
the table reports the regression of a year-over-year change in the ratio of mortgage loans to the
house price in region (MSA) i and year t on its own lags and the mortgage spread dummy.

A THEORY OF HOUSING DEMAND SHOCKS

18

10
Real house price
Price-to-rent ratio

Year-over-year change (%)

5

0

-5

-10

-15
1970

1975

1980

1985

1990

1995

2000

2005

2010

2015

2020

Figure 1. The real house price and the price-to-rent ratio in the United
States. Data source: Haver Analytics and OECD.

A THEORY OF HOUSING DEMAND SHOCKS

Quarterly year-over-year change (%)

80

60

60

40

40

Price-to-rent ratio

Price-to-rent ratio

80

20
0
-20
y=-0.25+0.91x
R2 = 0.75

-40

Quarterly year-over-year change (%)

20
0
-20
y=0.45+1.01x
R2 = 0.90

-40

-60

19

-60
-50

0

Real house price

50

-50

0

50

Real house price

Figure 2. The real house price and the price-to-rent ratio in OECD
countries (left panel) and in U.S. MSA regions (right panel). Data
source: see Appendix E.

A THEORY OF HOUSING DEMAND SHOCKS

International

Real house price (%)

15

10

5

5

0

0

-5

-5

-10

-10
0

Real rent (%)

MSA

15

10

20

2

4

6

8

10

0

15

15

10

10

5

5

0

0

-5

-5

-10

2

4

6

-10
0

2

4

6

8

10

0

2

4

6

Years

Figure 3. The dynamic responses of the house price and rent to an
expansionary credit supply shock. The left column (â€œInternationalâ€) displays the responses estimated with the data from 25 OECD economies.
The right column (â€œMSAâ€) displays the responses estimated with the
data from 21 U.S. MSAs. The solid line in each panel reports the point
estimate of the dynamic responses of each variable to an increase in
credit supply with the local-projection approach of Jorda (2005); the
two dashed lines display one-standard-deviation confidence bands of the
estimated responses.

8

A THEORY OF HOUSING DEMAND SHOCKS

Price-to-rent ratio (%)

International

21

MSA

16

16

14

14

12

12

10

10

8

8

6

6

4

4

2

2

0

0

-2

-2

-4

-4
0

2

4

6

8

10

0

2

4

Years

Figure 4. The dynamic responses of the price-to-rent ratio to an expansionary credit supply shock. The left column (â€œInternationalâ€) displays the responses estimated with the data from 25 OECD economies.
The right column (â€œMSAâ€) displays the responses estimated with the
data from 21 U.S. MSAs. The solid line in each panel reports the point
estimate of the dynamic responses of each variable to an increase in
credit supply with the local-projection approach of Jorda (2005); the
two dashed lines display one-standard-deviation confidence bands of the
estimated responses.

6

A THEORY OF HOUSING DEMAND SHOCKS

22

References
Davis, M. A. and J. Heathcote (2007): â€œThe Price and Quantity of Residential
Land in the United States,â€ Journal of Monetary Economics, 54, 2595â€“2620.
Dong, F. and Y. Wen (2019): â€œLong and Plosser meet Bewley and Lucas,â€ Journal
of Monetary Economics, forthcoming.
Favilukis, J., S. C. Ludvigson, and S. van Nieuwerburgh (2016): â€œThe
Macroeconomic Effects of Housing Wealth, Housing Finance, and Limited RiskSharing in General Equilibrium,â€ Journal of Political Economy, 125, 140â€“223.
Iacoviello, M. and S. Neri (2010): â€œHousing Market Spillovers: Evidence from
an Estimated DSGE Model,â€ American Economic Journal: Macroeconomics, 2.
Jorda, O. (2005): â€œEstimation and Inference of Impulse Responses by Local Projections,â€ American Economic Review, 95, 161â€“182.
JordÃ , O., M. Schularick, and A. M. Taylor (2016): â€œThe Great Mortgaging:
Housing Finance, Crises and Business Cycles,â€ Economic Policy, 107â€“152.
Kaplan, G., K. Mitman, and G. Violante (2017): â€œThe Housing Boom and
Bust: Model Meets Evidence,â€ Unpublished Manuscript.
Kiyotaki, N. and J. Moore (1997): â€œCredit Cycles,â€ Journal of Political Economy,
105, 211â€“248.
Lagos, R. and R. Wright (2005): â€œA Unified Framework for Monetary Theory
and Policy Analysis,â€ Journal of Political Economy, 113, 463â€“484.
Landvoigt, T., M. Piazzesi, and M. Schneider (2015): â€œThe Housing Market(s)
of San Dieg,â€ American Economic Review, 105, 1371â€“1407.
Liu, Z., P. Wang, and T. Zha (2013): â€œLand-Price Dynamics and Macroeconomic
Fluctuations,â€ Econometrica, 81.
Mian, A. and A. Sufi (2018): â€œFinance and Business Cycles: The Credit-Driven
Household Demand Channel,â€ Journal of Economic Perspectives, 32, 31â€“58.
Mian, A., A. Sufi, and E. Verner (2017): â€œHousehold Debt and Business Cycles
Worldwide,â€ Quarterly Journal of Economics, 132, 1755â€”1817.
Wen, Y. (2009): â€œAn Analytical Approach to Buffer-Stock Saving under Borrowing
Constraints,â€ Federal Reserve Bank of St. Louis Working Paper 2009-026B.
â€”â€”â€” (2015): â€œMoney, Liquidity, and Welfare,â€ European Economic Review, 76, 1â€“
24.

A THEORY OF HOUSING DEMAND SHOCKS

23

The appendices contain a proof to Proposition 2 in the main text (Appendix C),
some details of the data used in our empirical analysis (Appendix E), and several variations of the baseline heterogeneous-agent model (Appendix A, B, and D). All labels
for equations, figures, tables, definitions, and propositions begin with S, standing for
supplement to the main text.

Appendix A. Heterogeneity in income
In our benchmark model, we assume that the source of heterogeneity lies in the
agentâ€™s tastes for housing. Idiosyncratic taste shocks give rise to differences in the
marginal utility of housing across agents. Our framework with heterogenous marginal
utilities, combined with credit constraints, provides a microeconomic foundation for
housing demand shocks. More importantly, it gives rise to an empirically plausible
mechanism that can potentially generate the observed large fluctuations in the priceto-rent ratio and its strong comovement with the house price.
The main insights, however, do not hinge upon the particular way of modeling
heterogeneity. We now consider a different type of heterogeneity. Instead of assuming
idiosyncratic preference shocks, we consider idiosyncratic income shocks. We show
that all the main results obtained above carry over to this alternative setup.
Consider a household family with a continuum of members. All members enjoy
the same consumption ct . Each member gets a transfer payment at from the family
for purchasing houses in the decentralized housing market. Before their house purchase decisions, they each receives an idiosyncratic shock Ï‰ t so that their effective net
worth is Ï‰ t at . Since households with different realizations of Ï‰ t make different house
purchasing decisions, the housing services in the utility function for each member are
indexed by Ï‰ t . The household utility function is given by

E0

âˆ
X

"
Î² t log ct + Ï•

Z

âˆ

0

t=0

#
[ht (Ï‰ t )]1âˆ’Î¸
dF (Ï‰ t ) ,
1âˆ’Î¸

(S1)

where ht (Ï‰ t ) denotes housing held by the household member with the shock Ï‰ t , drawn
from the distribution F (Ï‰). All the other variables and parameters have the same
interpretations as in the benchmark model.
The family faces the flow budget constraint
Z
ct + at = y t + q t

Z
htâˆ’1 (Ï‰ tâˆ’1 )dF (Ï‰ tâˆ’1 ) âˆ’

btâˆ’1 (Ï‰ tâˆ’1 )dF (Ï‰ tâˆ’1 ),

(S2)

A THEORY OF HOUSING DEMAND SHOCKS

24

where yt denotes endowment (or labor income), qt denotes the house price, and
btâˆ’1 (Ï‰ tâˆ’1 ) denotes the last-period borrowing of the member with idiosyncratic income
shock Ï‰ tâˆ’1 .
In the decentralized housing markets, the household member with shock Ï‰ t finances
house purchases with both internal funds Ï‰ t at and external debt b(Ï‰ t ), subject to the
flow-of-funds constraint
qt ht (Ï‰ t ) â‰¤ Ï‰ t at +

bt (Ï‰ t )
,
Rt

(S3)

and the borrowing constraint
bt (Ï‰ t )
â‰¤ Îºt qt ht (Ï‰ t ),
Rt

(S4)

where Rt denotes the risk-free interest rate and Îºt denotes the loan-to-value ratio,
which is common for all borrowers.
Denote by Î»t , Î· t (Ï‰ t ), and Ï€ t (Ï‰ t ) the Lagrangian multiplers associated with the
constraints (S2), (S3), and (S4), respectively. The first order condition with respect
to ct is given by
1
= Î»t .
ct
The first order condition with respect to at implies
Z
Î»t = Î· t (Ï‰ t )dF (Ï‰ t ).

(S5)

(S6)

The first order condition with respect to ht (Ï‰ t ) is given by
Î· t (Ï‰ t )qt = Ï• [ht (Ï‰)]âˆ’Î¸ + Î²Et Î»t+1 qt+1 + Îºt qt Ï€ t (Ï‰ t ).

(S7)

The first order condition with respect to bt (Ï‰ t ) is
1
1
Î· t (Ï‰ t ) = Î²Et Î»t+1 + Ï€ t (Ï‰ t ).
Rt
Rt

(S8)

These optimizing conditions have similar interpretations as in the benchmark model.
Aggregating the binding flow-of-funds constraints across all members, we obtain
Z âˆ
Z
Z
bt (Ï‰ t )
qt ht (Ï‰ t )dF (Ï‰ t ) = at Ï‰ t dF (Ï‰ t ) +
dF (Ï‰ t ).
Rt
0
R
R
Imposing the market clearing conditions that ht (Ï‰)dF (Ï‰) = 1 and that bt (Ï‰)dF (Ï‰) =
R
0, along with the normalization assumption that Ï‰ t dF (Ï‰ t ) = 1, we have
q t = at .

(S9)

A household member with a sufficiently high Ï‰ t does not face a binding borrowing constraint, so that Ï€ t (Ï‰ t ) = 0. From Eq. (S7) and (S8), we obtain that those

A THEORY OF HOUSING DEMAND SHOCKS

25

unconstrained agents have the identical marginal utility of housing and thus identical holdings of housing units. A low-income member will face binding borrowing
constraints, leading to an endogenenous cut-off point Ï‰ âˆ—t in the support of the distribution of the idiosyncratic income shocks, such that the liquidity constraint (S4)
binds if and only if Ï‰ t < Ï‰ âˆ—t . The following proposition summarizes the allocation of
housing across constrained vs. unconstrained members and also the determination of
the cutoff point.
Proposition S1. There exist an unique cut-off Ï‰ âˆ—t such that the borrowing constraint
(S4) binds if and only if Ï‰ t < Ï‰ âˆ—t . The housing demand for each member is given by
( âˆ—
)
Ï‰t
âˆ—
if
Ï‰
â‰¥
Ï‰
t
t
1âˆ’Îºt
ht (Ï‰ t ) =
,
(S10)
Ï‰t
âˆ—
if Ï‰ t < Ï‰ t
1âˆ’Îºt
The cutoff point Ï‰ âˆ—t is determined from the housing market clearing condition, and it
is given by
Z

Ï‰ âˆ—t

Ï‰f (Ï‰)dÏ‰ + (1 âˆ’ F (Ï‰ âˆ—t ))Ï‰ âˆ—t = 1 âˆ’ Îºt .

(S11)

Ï‰ min

which define an implicit function of Ï‰ âˆ—t = Ï‰ âˆ— (Îºt ).
Proof. The proof is analogous to that in the baseline model with idiosyncratic taste
shocks.
It is also straightforward to show that the Lagrangian multipliers Î· t (Ï‰ t ) and Ï€ t (Ï‰ t )
are given by
(
Î· t (Ï‰ t ) =

1
(1
qt

Rt Î²Et Î»t+1 +

âˆ’ Îºt )Î¸âˆ’1

(
Ï€ t (Ï‰ t ) =

âˆ—
i if Ï‰ t â‰¥ Ï‰ t
(Ï‰ t )âˆ’Î¸ âˆ’ (Ï‰ âˆ—t )âˆ’Î¸ if Ï‰ jt < Ï‰ âˆ—t

Rt Î²Et Î»t+1h

1
(1
qt

âˆ’ Îºt )Î¸âˆ’1

âˆ—
i if Ï‰ t â‰¥ Ï‰ t
(Ï‰ t )âˆ’Î¸ âˆ’ (Ï‰ âˆ—t )âˆ’Î¸ if Ï‰ t < Ï‰ âˆ—t

h0

)
.

(S12)

)
.

It then follows from the Euler equation (S6) and Eq. (S12) that
Z Ï‰âˆ—t

 âˆ’Î¸
Ï•
Î¸âˆ’1
Î»t = Rt Î²Et Î»t+1 + (1 âˆ’ Îºt )
Ï‰ âˆ’ Ï‰ âˆ—âˆ’Î¸
f (Ï‰)dÏ‰.
t
qt
Ï‰ min

(S13)

(S14)

Aggregating the housing Euler equations across individuals and using the housing
allocations in Eq (S10), we obtain the aggregate housing Euler equation
Î»t qt = Et Î²Î»t+1 qt+1 + Î¶(Îºt ),

(S15)

A THEORY OF HOUSING DEMAND SHOCKS

26

where
Ï‰ âˆ—t
Î¶(Îºt ) â‰¡ Ï•
1 âˆ’ Îºt


âˆ’Î¸
+ Ï•(1 âˆ’ Îºt )

Î¸âˆ’1

Z

Ï‰ âˆ—t


f (Ï‰)dÏ‰.
Ï‰ âˆ’Î¸ âˆ’ Ï‰ âˆ—âˆ’Î¸
t

(S16)

Ï‰ min

In the expression for Î¶(Îºt ), the first term is the average marginal utility across all
home buyers and the second term is the liquidity premium, which is positive if and
only if Ï‰ < Ï‰ âˆ—t .
The aggregated housing Euler equation (S15) provides a mapping between our
model here with heterogeneous incomes and the representative-agent economy. In
particular, if Î¶(Îºt ) = Ï•t , then the equilibrium house price in this heterogeneousagent model coincides with that in the representative agent model. Thus, this model
with heterogeneous income also provides a microeconomic foundation for aggregate
housing demand shocks. The presence of the liquidity premium here breaks the tight
link between the house price and the rent, creating room for large fluctuations in the
price-to-rent ratio following credit supply shocks.
Similar to the benchmark heterogeneous-agent economy, changes in credit supply
conditions represented by changed in Îºt can drive changes in aggregate housing demand and thus the house price as well. To see this, note that the house price needs
to satisfy the marginal agentâ€™s housing Euler equation
qt

Î»t+1
Î· âˆ—t
= Et Î²
qt+1 + M RStâˆ— ,
Î»t
Î»t

(S17)

where Î· âˆ—t = Rt Et Î² Î»Î»t+1
increases with the risk-free interest rate Rt and the term M RStâˆ—
t
denotes the marginal agentâ€™s marginal rate of substitution between housing and nonhousing consumption. For any given interest rate, the house price increases with the
marginal agentâ€™s MRS, which is given by
Ï•
M RStâˆ— = (Ï‰ âˆ—t )âˆ’Î¸ (1 âˆ’ Îºt )Î¸ .
Î»t

(S18)

The housing market clearing condition in Eq. (S11) implies that Ï‰ âˆ— decreases with Îº.
In particular,

âˆ‚Ï‰ âˆ—t
1
=âˆ’
< 0.
âˆ‚Îºt
1 âˆ’ F (Ï‰ âˆ—t )
We can then derive the elasticity of M RStâˆ— with respect to Îºt given by


âˆ‚M RStâˆ— Îºt
1
1
eM RS âˆ— ,Îº â‰¡
= Î¸Îºt âˆ—
âˆ’
>0
âˆ‚Îºt M RStâˆ—
Ï‰ t [1 âˆ’ F (Ï‰ âˆ—t )] 1 âˆ’ Îºt

(S19)

(S20)

where the last inequality follows from the housing market clearing condition in equation (S11). Thus, an increase in credit supply raises the MRS of the marginal agent.
It follows that, for any given interest rate, the house price increase with credit supply.

A THEORY OF HOUSING DEMAND SHOCKS

27

Appendix B. A heterogeneous-agent model with endogenous labor
supply and capital accumulation
This section shows that the benchmark heterogeneous-agent model that we presented in Section III can be generalized to incorporate endogenous labor supply and
capital accumulation. We follow Lagos and Wright (2005) and Wen (2009) by assuming quasi-linear preferences to keep the model tractable (see also Wen (2015) and
Dong and Wen (2019)).
The economy is populated by a continuum of households with unit measure indexed
by j. The household has quasi-linear preferences, with the period utility function
ujt = log cjt + Ï•Îµjt

(hjt )1âˆ’Î¸
âˆ’ Ïˆnjt ,
1âˆ’Î¸

where cjt , hjt , and njt denote the householdâ€™s consumption, housing, and labor supply,
respectively; the term Îµjt is an idiosyncratic shock to housing preferences, as in our
baseline model; and the parameters Ï• and Ïˆ measure the relative utility weights on
housing and leisure, respectively. The linearity of the utility function in labor hours
is the key to simplifying aggregation, as we show below.
Households supply labor and capital to firms. They also trade houses and a riskfree bond. Each period is divided into two sub-periods. In the first sub-period,
households decide their labor supply, consumption, and investment in capital; and
firms make production decision. In the second sub-period, idiosyncratic shocks are
j
realized and households trade houses and bonds. Let bjtâˆ’1 , ktâˆ’1
, hjtâˆ’1 denote household

jâ€™s pre-determined stocks of bonds, capital, and housing, respectively. The household
faces the flow-of-funds constraint
qt (hjt âˆ’ hjtâˆ’1 ) â‰¤

bjt
+ mjt ,
Rt

(S21)

where


j
j
mjt â‰¡ wt njt + rt ktâˆ’1
âˆ’ bjtâˆ’1 âˆ’ cjt âˆ’ ktj âˆ’ (1 âˆ’ Î´)ktâˆ’1
.

(S22)

Here wt and rt are real wage and rental rate of capital, respectively. In the first subperiod, the household j receives labor income and capital rents, which are used to
finance consumption spending and capital investment after paying off the debt bjtâˆ’1 .
At the end of the first sub-period, the household has a remaining balance of mjt . In
the second sub-period, the household uses the internal funds mjt and external debt bjt
to finance new house purchases at the price qt .

A THEORY OF HOUSING DEMAND SHOCKS

28

Borrowing is subject to the collateral constraint
bjt
â‰¤ Îºt qt hjt .
Rt

(S23)

The householdâ€™s optimizing decision problem can be separated into a decision for
consumption, labor supply, and capital investment in the first sub-period and subsequently, a decision for housing and borrowing in the second sub-period.
Denote by ajt â‰¡ mjt + qt hjtâˆ’1 the total wealth of the household. The first sub-period
decision problem can be described by the value function
Z
j
j
j
j
j
Vt (ktâˆ’1 , btâˆ’1 , htâˆ’1 ) = jmax
log ct âˆ’ Ïˆnt + Jt (ktj , ajt , Îµjt )dF (Îµjt ),
j j

(S24)

ct ,kt ,nt

subject to the budget constraint
j
j
ajt = wt njt + rt ktâˆ’1
+ qt hjtâˆ’1 âˆ’ bjtâˆ’1 âˆ’ cjt âˆ’ [ktj âˆ’ (1 âˆ’ Î´)ktâˆ’1
].

(S25)

j
Here Vt (ktâˆ’1
, bjtâˆ’1 , hjtâˆ’1 ) is his value function in the beginning of first sub-period and

Jt (ktj , ajt , Îµjt ) is the value function in the second sub-period, which is defined as
(hjt )1âˆ’Î¸
+ Î²Et Vt+1 (ktj , bjt , hjt )},
1âˆ’Î¸

Jt (ktj , ajt , Îµjt ) = max
{Ï•Îµjt
j j
ht ,bt

(S26)

subject to the budget constraint in the second sub-period
qt hjt

bjt
+ ajt ,
â‰¤
Rt

(S27)

and the collateral constraint (S23).
To solve the householdâ€™s problem, we adopt a conjecture and verification strategy.
In particular, based on the quasi-linear preferences, we conjecture that the value
function takes the form
j
j
âˆ’ Vbt bjtâˆ’1 + Vht hjtâˆ’1 + V0t ,
, bjtâˆ’1 , hjtâˆ’1 ) = Vkt ktâˆ’1
Vt (ktâˆ’1

(S28)

where the coefficients Vkt , Vbt ,Vht and V0tZ depends on the aggregate state variables. We
also conjecture that the value function

Jt (ktj , ajt , Îµjt )dF (Îµjt ) is a quasi-linear function

of the state variables, and it is given by
Z
Jt (ktj , ajt , Îµjt )dF (Îµjt ) = Jkt ktj + gt (ajt ),

(S29)

where Jkt depends on the aggregate state variables and gt (ajt ) is a nonlinear function.
With these conjecture, we can rewrite the household problem as
j
Vkt ktâˆ’1
âˆ’ Vbt bjtâˆ’1 + Vht hjtâˆ’1 + V0t = jmax
log cjt âˆ’ Ïˆnjt + Î²Et Vkt+1 ktj + gt (ajt ) + Î²Et V0t+1 ,
j j
ct ,kt ,nt

A THEORY OF HOUSING DEMAND SHOCKS

and gt (ajt ) =

Z

29

Gt (ajt , Îµjt )dF (Îµjt ), with Gt (ajt , Îµjt ) given as

Gt (ajt , Îµjt ) = max
{Ï•Îµjt
j j
ht ,bt

(hjt )1âˆ’Î¸
+ Î²Et Vht+1 hjt âˆ’ Î²Et Vbt+1 bjt }.
1âˆ’Î¸

Thus, hjt , and bjt depend only on Îµjt and ajt .
Denote by Î»jt , Î· jt , and Ï€ jt as the Lagrangian multipliers associated with constraints
(S25), (S27), and (S23) respectively. The first order conditions for consumption, labor,
capital are
1
j
j = Î»t ,
ct

(S30)

wt Î»jt = Ïˆ,

(S31)

Î»jt = Î²Et Vkt+1 ,

(S32)

and

respectively. Equations (S30) and (S31) imply that consumption is equal across all
households. The first-order condition with respect to ajt yields
gt0 (ajt ) = Î»jt =

Ïˆ
â‰¡ Î»t ,
wt

(S33)

which implies that ajt is identical across households. Thus, independent of the realized
idiosyncratic shocks, all households enter the second sub-period with identical holdings
of total wealth, because they can adjust labor supply to completely insure against the
idiosyncratic risks. This is only true if the marginal utility of increasing labor is
constant.
Applying the envelop theory, we have
Vkt = Î»t (1 + rt âˆ’ Î´) =

Ïˆ
(1 + rt âˆ’ Î´),
wt

Ïˆ
,
wt
Ïˆ
= Î»t qt = qt .
wt

(S34)

Vbt = Î»t =

(S35)

Vht

(S36)

So indeed Vkt , Vbt and Vht depends only on aggregate variables, verifying our initial
conjecture. In addition, V0t can be written as
V0t = max
{log cjt âˆ’ Ïˆ
j
ct

cjt
+ Î²Et V0t+1 } = log wt âˆ’ log Ïˆ âˆ’ 1 + Î²Et V0t+1
wt

Thus, V0t also depends on aggregate variables only.

A THEORY OF HOUSING DEMAND SHOCKS

30

The optimizing investment decision (S32) then implies that
Î»t = Î²Et Î»t+1 (1 + rt âˆ’ Î´)

(S37)

We summarize these results in the following Lemma.
Lemma S1. All households will have the same level of consumption and same level of
wealth in the second sub-period. In particular, ajt = at for all j.
The first order condition with respect to hjt , and bjt yields
Î· jt qt =

Ï•Îµjt
+ Î²Et Î»t+1 qt+1 + Îºt qt Ï€ jt ,
{z
}
(hjt )Î¸ |

(S38)

Î· jt = Rt Î²Et Î»t+1 + Ï€ jt .
| {z }

(S39)

Î²Et Vht+1

and

Î²Et Vbt+1

To see that the function gt (ajt ) indeed has some curvature, we need to compute hjt , Î· jt
and Ï€ jt as functions ajt and Îµjt . The above two equations yields
"
#
j
Ï•Îµt
1
+ Î²Et Î»t+1 qt+1 âˆ’ Îºt qt Î²Rt Et Î»t+1 ,
Î· jt =
(1 âˆ’ Îºt )qt (hjt )Î¸

(S40)

and
#
"
j
1
Ï•Îµ
t
Ï€ jt =
j Î¸ + Î²Et Î»t+1 qt+1 âˆ’ Îºt qt Î²Rt Et Î»t+1 âˆ’ Rt Î²Et Î»t+1 .
(1 âˆ’ Îºt )qt (ht )

(S41)

Let us denote hjt = ht (ajt , Îµjt ), Î· jt = Î· t (ajt , Îµjt ), and Ï€ jt = Ï€ t (ajt , Îµjt ). Define ÎµÌ„jt â‰¡ ÎµÌ„(ajt )
such as
ï£±
ï£´
ï£²

ï£¼
ï£´
ï£½

Ï•ÎµÌ„jt
1
h j iÎ¸ + Î²Et Î»t+1 qt+1 âˆ’ Îºt qt Î²Rt Et Î»t+1 = Rt Î²Et Î»t+1
ï£´
(1 âˆ’ Îºt )qt ï£´
at
ï£³
ï£¾
qt (1âˆ’Îºt )

Notice that ÎµÌ„jt increases with ajt , or we have ÎµÌ„0 (ajt ) > 0. Notice Ï€ jt is increases in Îµjt
ajt
, so Ï€ jt > 0 if Îµjt â‰¥ ÎµÌ„(ajt ). Likewise, Ï€ jt = 0 if Îµjt < ÎµÌ„(ajt ).
qt (1âˆ’Îºt )
ajt
for Îµjt < ÎµÌ„(ajt ), Ï€ jt > 0, then hjt = qt (1âˆ’Îº
. But since Ï€ jt is increasing in Îµjt , so
t)
Ï€ jt < 0 if Îµjt < ÎµÌ„(ajt ). We hence reach an contradiction. Notice that equation

and hjt â‰¤

Î· t (ajt , Îµjt ) âˆ’ Î· t (ajt , ÎµÌ„jt ) =

Ï•
max{0, Îµjt âˆ’ ÎµÌ„jt },
(1 âˆ’ Îºt )qt

Suppose
we must
(S40)

A THEORY OF HOUSING DEMAND SHOCKS

31

and equation (S39) implies that Î· t (ajt , ÎµÌ„jt ) = Rt Î²Et Î»t+1 . So we have
Z
Z
âˆ‚Gt (ajt , Îµjt )
j
0 j
gt (at ) =
dF (Îµt ) = Î· t (ajt , Îµjt )dF (Îµjt )
j
âˆ‚at
Z Îµmax
Ï•
[Îµjt âˆ’ ÎµÌ„jt ]dF (Îµjt ),
= Rt Î²Et Î»t+1 +
(1 âˆ’ Îºt )qt ÎµÌ„jt
Notice that ÎµÌ„jt is an strictly increasing function of ajt , so the last term is a decreasing
00

function of ajt . Namely gt (ajt ) < 0, or gt (ajt ) is a concave function. Then equaiton
(S33) can indeed implies that ajt = at . Then we have ÎµÌ„jt = ÎµÌ„t (at ) â‰¡ Îµâˆ—t . Drop the
superscript j, we hence obtain the same equations as equations (19) and (20). Finally
R
R
by noticing that in equilibrium bjt dj = 0, and hjt dj = 1, then we obtain at = qt by
equation (S27) as in Section III. In particular, we have
qt Î»t = Et Î²Î»t+1 qt+1 + Î¾(Îºt ),

(S42)

where the term Î¾ t â‰¡ Î¾(Îºt ) is given by
Î¸

Î¾(Îºt ) â‰¡ Ï•(1 âˆ’ Îºt )

E max {Îµ, Îµâˆ—t }

1
+ Îºt
1 âˆ’ Îºt

Z

Îµmax

Îµâˆ—t

(1 âˆ’ Îºt )Î¸ Ï•(Îµt âˆ’ Îµâˆ—t )dF (Îµt ),

(S43)

which is the same housing demand shifter as in the baseline model. To close the model,
we assume a competitive firm that produces final output according to Yt = AXtÎ± Nt1âˆ’Î± ,
where Xt is its capital input and Nt is the labor input. The problem for the firm is
max AXtÎ± Nt1âˆ’Î± âˆ’ rt Xt âˆ’ wt Nt
so we have rt = Î± XYtt , and wt = (1 âˆ’ Î±) NYtt . In equilibrium Xt =
R
R
Nt = njt dj. Define Ct = cjt dj, we must have

R

j
ktâˆ’1
dj â‰¡ Ktâˆ’1 , and

1
= Î»t ,
Ct

(S44)

1
Yt
(1 âˆ’ Î±)
=Ïˆ
Ct
Nt

(S45)



1
1
Yt+1
= Î²Et
Î±
+1âˆ’Î´
Ct
Ct+1
Kt

(S46)

And equation (S31) can be written as

Equation (S37) then becomes

Finally, aggregating Eq (S25) across all households yields
Ct + Kt âˆ’ (1 âˆ’ Î´)Kt = AKtÎ± Nt1âˆ’Î± ,
(S47)
R j
R j
where we have used the conditions wt nt dj + rt ktâˆ’1 dj = wt Nt + rt Ktâˆ’1 = Yt ,
R
R
R
qt hjtâˆ’1 dj = at = ajt dj, and bjtâˆ’1 dj = 0.

A THEORY OF HOUSING DEMAND SHOCKS

32

With the Lagrangian multiplier Î»t substituted out using Eq. (S44), the equilibrium
paths of the endogenous variables {qt , Ct , Nt , Kt }âˆ
t=0 are completely characterized by
Equations (S42), (S45)-(S47).
To see the mapping between the heterogeneous-agent model and the representativeagent model, consider the representative householdâ€™s utility-maximizing problem
max

{Ct ,Ht ,Kt+1 ,Nt }

E0

âˆ
X

Î² t [log Ct + Î¾ t

t=0

Ht1âˆ’Î¸
âˆ’ ÏˆNt ],
1âˆ’Î¸

subject to
Ct + qt (Ht âˆ’ Htâˆ’1 ) + Kt âˆ’ (1 âˆ’ Î´)Ktâˆ’1 â‰¤ AKtÎ± Nt1âˆ’Î± .
It is easy to see that the equilibrium paths for {qt , Ct , Nt , Kt+1 }âˆ
t=0 in this representativeagent economy are governed by the same equations (S42), and (S45)-(S47). If the
reduced-form housing demand shock Î¾ t in this representative-agent model equals to
the housing demand shifter Î¾(Îºt ) in the heterogeneous-agent model (see Eq. (S43)),
then we obtain an observational equivalence between the two models.
Appendix C. Proof to Proposition 2
Proof. Eq. (24) implies that
(
Ï•Îµ(ht (Îµ))âˆ’Î¸ =

Ï•Îµ(1 âˆ’ Îºt )Î¸ ,

if Îµ â‰¥ Îµâˆ—t ,

Ï•Îµâˆ—t (1 âˆ’ Îºt )Î¸ , if Îµ < Îµâˆ—t .

(S48)

Integrating over Îµ yields the average marginal utility in (31).
To obtain the liquidity premium, we combine (19) and (20) to obtain
"
#
1
Ï•Îµ [ht (Îµ)]âˆ’Î¸ + Î²Et Î»t+1 qt+1
âˆ’ Î²Rt Et Î»t+1 .
Ï€ t (Îµ) =
1 âˆ’ Îºt
qt

(S49)

It follows that
Ï€ t (Îµ) âˆ’

Ï€ t (Îµâˆ—t )

1 Ï•Îµ [ht (Îµ)]âˆ’Î¸ âˆ’ Ï•Îµâˆ—t [ht (Îµâˆ—t )]âˆ’Î¸
=
.
1 âˆ’ Îºt
qt

(S50)

Since Ï€ t (Îµâˆ—t ) = 0, we obtain
Ï€ t (Îµ) =

Ï•
max{0, (Îµ âˆ’ Îµâˆ—t )(1 âˆ’ Îºt )Î¸ },
(1 âˆ’ Îºt )qt

(S51)

where we have substituted out ht (Îµ) using (24). Multiplying (S51) by Îºt qt and integrating over Îµ âˆˆ [Îµâˆ—t , ÎµÌ„], we obtain the expression for the liquidity premium in (31).

A THEORY OF HOUSING DEMAND SHOCKS

33

Appendix D. Rental markets
We now introduce an explicit rental market for housing into our model. We show
that, in this environment with a frictionless rental market, the market rental rate for
housing corresponds to the average MRS across all agents, as does the implicit rent in
the benchmark model (see Eq. (37)). The incorporation of a frictionless rental market
represents a minimal departure from our benchmark model.
Consider a model economy in which the household enjoys utility from consumption
of non-housing goods ct and housing services. Housing services are derived from either
rental units or owner-occupied units. The household family can perfectly insure risks
in goods consumption and rental services, so that those markets are frictionless. However, owner-occupied housing markets have frictions; and in particular, members with
different taste shocks trade owner-occupied housing units in a decentralized market
subject to collateral constraints. We implement this model structure by adopting a
particular timing of decisions. In the beginning of each period t, the household family
chooses goods consumption ct and rental services `t , as well as some internal funds
at to be allocated to individual members in the decentralized owner-occupied housing
market. After these decisions, an idiosyncratic taste shock Îµ drawn from the distribution F (Îµ) is realized, and household members go out to the decentralized housing
market to purchase additional housing units. Such purchases can be financed by either
internal funds or external debt (or both). The borrowing capacity of an individual
member with taste shock Îµ is limited by a fraction Îºt of the value of the housing unit
h(Îµ).
The household has the expected utility function
"
#
Z âˆ
âˆ
1âˆ’Î¸
X
Îµ
[`
+
h
(Îµ
)]
t t
t t
E0
Î² t log ct + Ï•
dF (Îµt ) ,
1
âˆ’
Î¸
0
t=0

(S52)

where `t denotes the rental housing services, and the other notations are identical to
those in the benchmark model. The decisions for both goods consumption and rental
services consumption are made in the beginning of the period, before the realization
of the idiosyncratic shock Îµt . Once the idiosyncratic shock is realized, the household
is split into a continuum of members, each indexed with the realized taste shock Îµt ,
and they all go out to a decentralized housing market to purchase owner-occupied
units h(Îµt ). We assume that the household is endowed with a fixed amount of rental
housing units `. The household faces the budget constraint
Z
Z
ct + at + rht `t = yt + qt htâˆ’1 (Îµtâˆ’1 )dF (Îµtâˆ’1 ) âˆ’ btâˆ’1 (Îµtâˆ’1 )dF (Îµtâˆ’1 ) + rht `. (S53)

A THEORY OF HOUSING DEMAND SHOCKS

34

In the decentralized housing markets, a member with idiosyncratic shock Îµt finances
his spending on new housing qt ht (Îµt ) using both internal funds at received from the
household family and external borrowing bt (Îµt ) at the interest rate Rt . The flow-offunds constraint for the member indexed by Îµt is given by
qt ht (Îµt ) â‰¤ at +

bt (Îµt )
.
Rt

(S54)

The borrowing capacity of the member with Îµt is subject to the collateral constraint
bt (Îµt )
â‰¤ Îºt qt ht (Îµt ),
Rt

(S55)

where the loan-to-value ratio Îºt âˆˆ [0, 1] represent exogenous shocks to credit conditions. We further impose the short-sale restriction on owner-occupied units, such
that
ht (Îµt ) â‰¥ 0, âˆ€Îµt âˆ¼ F (Îµ).

(S56)

Denote by Î»t , Î· t (Îµt ), Ï€ t (Îµt ) and Âµt (Îµt ) the Lagrangian multipliers associated with
Equations (S53)-(S56), respectively. Then the first order condition with respect to ct
is given by
1
= Î»t .
ct
The first order condition with respect to at implies
Z
Î»t = Î· t (Îµt )dF (Îµt ).

(S57)

(S58)

A marginal unit of goods transferred to individual members for housing purchases
reduces family consumption by one unit and hence the utility cost is Î»t . The utility
gain from this transfer is the shadow value of newly purchased housing (i.e., Î· t (Îµt ))
averaged across all members.
The first order condition with respect to `t implies
Z
1
rht = Ï• Îµt [`t + ht (Îµt )]âˆ’Î¸ dF (Îµt )
Î»t

(S59)

Thus, the market rental price equals the average MRS between housing and nonhousing consumption across all members of the household.
The first order condition with respect to ht (Îµt ) yields
Î· t (Îµt )qt = Ï•Îµt [`t + ht (Îµt )]âˆ’Î¸ + Î²Et Î»t+1 qt+1 + Îºt qt Ï€ t (Îµt ) + Âµt (Îµt ).

(S60)

The first-order condition with respect to bt (Îµt ) is given by
Î· t (Îµt ) = Î²Rt Et Î»t+1 + Ï€ t (Îµt ).

(S61)

A THEORY OF HOUSING DEMAND SHOCKS

35

The solution to this problems can be characterized by two cutoffs. Intuitively, a
member with a sufficiently high marginal utility of housing (i.e., high Îµt ) wants to purchase as much owner-occupied housing units as allowed by the borrowing constraint,
whereas a member with a sufficiently low marginal utility would not want to buy new
owner-occupied units at all. The solution to the owner-occupied housing is formally
described by the following proposition.
Proposition 1. There exists a cutoff point Îµâˆ—t in the support of the distribution F (Îµ),
such that
ï£±
ï£²

1

  1  1âˆ’Îºt
ht (Îµt ) =
Îµt Î¸
ï£³ max
`t +
Îµâˆ—
t

if Îµt â‰¥ Îµâˆ—t ,


1
âˆ’ `t , 0
otherwise,
1âˆ’Îºt

(S62)

In equilibrium `t = `. Define Îµâˆ—`t as
`t
1
`t + 1âˆ’Îº
t

Îµâˆ—`t =

!Î¸
Îµâˆ—t

(S63)

The cutoff point Îµâˆ—t is determined by
#

Z Îµâˆ—t "  Î¸1 
Z Îµmax
1
1
Îµt
f
(Îµ)dÎµ
+
`
+
âˆ’
`
f (Îµ)dÎµ = 1
t
t
Îµâˆ—t
1 âˆ’ Îºt
1 âˆ’ Îºt
Îµâˆ—`t
Îµâˆ—t

(S64)

Proof. For a household member with Îµt â‰¥ Îµâˆ—t , the borrowing constraint is binding and
hence the flow of funds constraint yields
ht (Îµt ) =

1
at
=
,
qt (1 âˆ’ Îºt )
1 âˆ’ Îºt

(S65)

which is independent of Îµt .
If Îµt < Îµâˆ—t , then Ï€ t (Îµt ) = 0. We have
Î· t (Îµt ) = Î²Rt Et Î»t+1 = Î· t (Îµâˆ—t ) â‰¡ Î· âˆ—t .
Furthermore, with Ï€ t (Îµt ) = 0, Eq. (19) implies that
Î· âˆ—t qt = Ï•Îµt [`t + ht (Îµt )]âˆ’Î¸ + Î²Et Î»t+1 qt+1 + Âµt (Îµt ),
if Âµt (Îµt ) = 0, then we must have
âˆ’Î¸

Ï•Îµt [`t + ht (Îµt )]

=

Ï•Îµâˆ—t

Simple algebra yields that ht (Îµt ) =

[`t +

ht (Îµâˆ—t )]âˆ’Î¸

  Î¸1
Îµt
Îµâˆ—t

(`t +

=

Ï•Îµâˆ—t

1
)
1âˆ’Îºt


`t +

1
1 âˆ’ Îºt

âˆ’Î¸
.

âˆ’ `t . By the definition of Îµâˆ—`t we

have ht (Îµt ) â‰¥ 0 if Îµt â‰¥ Îµâˆ—`t . Finally, if Îµt < Îµâˆ—`t , ht (Îµt ) = 0. The housing market clearing

A THEORY OF HOUSING DEMAND SHOCKS

condition then implies
#

Z Îµâˆ—t "  Î¸1 
Z ÎµÌ„
Îµt
1
1
`t +
âˆ’ `t f (Îµ)dÎµ +
f (Îµ)dÎµ = 1.
âˆ—
Îµt
1 âˆ’ Îºt
Îµâˆ—`t
Îµâˆ—t 1 âˆ’ Îºt

36

(S66)

We now consider how aggregate housing demand and thus the house price are
determined in equilibrium. For simplicity, we focus on the special case with Î¸ = 0.
The following proposition summarizes the main result.
Proposition 2. In the special case with Î¸ = 0, the aggregate housing Euler equation
is given by
qt Î»t = Î²Et Î»t+1 qt+1 + Î¾ t ,
where the term Î¾ t is given by
"
#
Z ÎµÌ„
Z Îµâˆ—t
Îºt
Î¾t = Ï• 1 +
(Îµt âˆ’ Îµâˆ—t )f (Îµ)dÎµ +
(Îµâˆ—t âˆ’ Îµt )f (Îµ)dÎµ ,
1 âˆ’ Îºt Îµâˆ—t
0

(S67)

(S68)

which is increasing in credit availability Îºt . The market rent is given by
rht =

Ï•
,
Î»t

(S69)

which is independent of Îºt .
Proof. The proof is analogous to that in the baseline heterogeneous-agent model with
no explicit rental market.
It follows that the equilibrium house price in this heterogeneous-agent model with
a rental market is identical to that in the benchmark model, and both coincides
with the house price in the representative-agent economy if Î¾ t = Ï•t . Furthermore,
since the house price increases with credit availability Îºt , whereas the market rent is
independent of Îºt , the price-to-rent ratio increases with Îºt .
Thus, in this model with an explicit rental market, we obtain qualitatively similar
results as those in the benchmark model.
Appendix E. Data and regressions
In the empirical analysis in Section VI, we use both cross-country data and U.S.
regional data.

A THEORY OF HOUSING DEMAND SHOCKS

37

E.1. International data. The cross-country data are an unbalanced panel of 25
advanced economies, covering the years from 1965 to 2013. The time series in each
country includes the household debt-to-GDP ratio, the mortgage spread, the house
price, and the rent. The household debt-to-GDP ratio and the mortgage spread are
the same as those used by Mian et al. (2017). The house price and the rent series
are taken from the OECD Main Economic Indicators through Haver Analytics. We
deflate the nominal rent series using the consumer price index in each country (or the
Harmonized Index of Consumer Prices for the European countries in our sample).
Table S1 presents the list of the countries and some summary statistics of the data.
E.2. U.S. regional data. The U.S. regional data are an unbalanced panel, consisting
of 21 MSAs, covering the years from 1978 to 2017. The time series in each MSA
includes the housing loan-to-price ratio and the effective mortgage interest rate, both
taken from the Federal Housing Finance Board (FHFB). The effective mortgage rate
is defined as the contract mortgage rate plus fees and charges amortized over a 10-year
period, the estimated average life of conventional mortgages. The mortgage spread
used in our regression is the spread between the effective mortgage rates and the 10year Treasury yields. The data include the house price index in each MSA from the
Federal Housing Finance Agency (FHFA), the rent index, which is measured by the
â€œrent of primary residenceâ€ in the expenditure categories of the consumer price index
(CPI-All Urban Consumers) for each MSA. We convert the nominal house price and
the nominal rent into real units by using the MSA-level CPI.
Table S2 presents the list of the MSAs and some summary statistics of the data.

A THEORY OF HOUSING DEMAND SHOCKS

38

Table S1. Summary of countries in the sample and key statistics
Country
Australia
Austria
Belgium
Canada
Czech Republic
Denmark
Finland
France
Germany
Greece
Hungary
Ireland
Italy
Japan
Korea, Rep.
Mexico
Netherlands
Norway
Poland
Portugal
Spain
Sweden
Switzerland
U.K.
U.S.

Start Year
1979
1997
1982
1971
2003
1996
1981
1979
1972
2000
2000
2004
1996
1981
2001
2005
1992
1988
2003
1991
1982
1987
2001
1974
1965

Mean âˆ†D HH
2.22
0.69
0.86
1.44
2.06
3.65
1.22
1.10
0.50
4.00
2.14
5.01
1.59
0.57
2.86
0.51
3.76
0.56
2.18
3.50
1.80
1.19
1.25
1.55
0.69

SD âˆ†D HH
2.58
1.30
1.13
2.40
1.21
4.06
2.47
1.22
1.82
2.18
3.21
8.46
1.16
1.94
3.28
0.65
2.73
3.44
2.46
2.49
2.69
2.83
3.22
2.52
2.21

Mean I M S
1.14
0.98
0.94
2.10
1.40
0.31
-0.33
0.36
0.98
1.23
3.76
0.54
1.52
0.64
-0.04
7.26
1.24
1.14
0.96
1.56
1.01
0.32
0.98
0.70
1.74

SD I M S
1.65
0.54
0.71
0.72
0.61
0.52
1.28
0.85
0.69
0.36
2.56
0.73
1.06
0.80
0.19
0.78
0.72
1.16
0.87
2.09
1.37
0.58
0.58
0.67
0.54

Mean âˆ†ln(P )
3.19
1.62
2.40
2.51
-2.88
2.87
2.19
2.04
-0.30
0.06
-7.07
-4.10
0.57
-0.19
2.06
0.01
3.16
2.88
-5.20
-1.22
3.01
3.35
2.91
2.24
1.22

SD âˆ†ln(P )
6.60
2.82
4.15
6.28
2.71
7.90
9.40
5.44
2.39
8.67
5.03
11.50
5.20
4.02
4.87
2.07
6.17
7.93
1.86
4.03
9.87
7.20
2.88
9.31
4.19

Mean âˆ†ln(R)
0.56
1.09
0.46
-1.23
2.98
0.58
0.09
0.82
0.39
-0.40
1.46
3.08
0.62
0.46
-0.38
-1.44
1.17
0.87
0.77
1.05
0.63
1.93
0.87
1.61
0.66

Notes: This table lists the 25 countries and the years covered used in the international data
sample. The variable âˆ†DHH denotes the year-over-year changes in the household debt-to-GDP
ratio, I M S denotes the mortgage spread dummy, which equals one if the mortgage spread is below
the median and zero otherwise (the mortgage spread is the difference between the mortgage
interest rate and the 10-year sovereign bond yields), âˆ†ln(P ) denotes the year-over-year log-changes
in the real house price, and âˆ†ln(R) denotes the year-over-year log-changes in the real rent.

SD âˆ†ln(R)
2.03
2.05
1.38
2.17
4.85
0.77
3.57
1.37
1.67
2.79
3.32
18.87
1.67
1.20
1.69
0.83
1.65
1.38
1.52
3.08
2.13
3.90
0.88
3.13
1.48

A THEORY OF HOUSING DEMAND SHOCKS

39

Table S2. Summary of countries in the sample and key statistics
MSA
ATL
BON
BTM
CHG
DAA
DFW
DNV
HON
HTN
LNA
MIM
MSP
NYT
PHI
PHO
SDI
SFC
STL
STW
TMA
WSH

Start Year
1979
1979
1979
1979
1979
1979
1979
1979
1979
1979
1979
1979
1979
1979
2002
1979
1979
1979
1979
1997
1979

Mean âˆ†D HH
0.13
0.20
0.10
0.49
0.25
-0.04
0.02
0.01
-0.09
0.00
0.12
0.36
0.38
0.26
-0.04
-0.26
0.01
0.18
0.00
-0.06
0.10

SD âˆ†D HH
2.65
4.39
2.39
3.68
3.12
3.48
2.86
3.99
2.55
2.87
2.95
3.06
2.54
2.36
2.40
3.54
3.76
3.69
2.81
2.49
2.39

Mean I M S
1.69
1.81
1.69
1.71
1.73
1.72
1.60
1.35
1.74
1.53
1.76
1.60
1.72
1.79
2.01
1.40
1.44
1.72
1.60
2.06
1.69

SD I M S
0.99
1.03
0.95
0.98
0.95
0.99
1.04
1.04
1.03
1.06
1.04
1.00
1.11
1.02
0.68
1.13
1.07
0.99
1.01
0.64
0.95

Mean âˆ†ln(P )
0.46
2.40
1.04
0.59
-0.01
-0.01
1.33
2.44
0.22
1.84
1.21
0.53
1.88
1.59
1.69
1.19
2.81
0.23
1.95
2.01
1.43

SD âˆ†ln(P )
4.27
7.43
5.78
5.49
7.81
4.12
4.54
20.53
4.43
9.50
9.52
5.08
7.27
5.45
14.77
8.80
8.18
3.84
6.48
10.50
6.86

Mean âˆ†ln(R)
0.35
0.75
1.36
0.81
0.09
0.21
0.51
0.52
0.36
0.97
0.46
0.25
0.88
0.53
0.60
0.65
1.23
0.09
0.60
0.72
1.30

SD âˆ†ln(R)
2.43
2.44
1.86
1.73
2.10
2.68
2.37
1.76
3.17
2.19
2.18
2.16
1.44
2.04
2.86
3.01
2.83
1.76
2.34
1.87
1.39

Notes: This table lists the 21 MSAs and the years covered in the U.S. regional data sample. The
variable âˆ†DHH denotes the year-over-year changes in the housing loan-to-price ratio, I M S denotes
the mortgage spread dummy, which is one if the mortgage spread is below median (the mortgage
spread is the difference between the effective mortgage interest rate and the 10-year Treasury
yields), âˆ†ln(P ) denotes the year-over-year log-changes in the real house price, and âˆ†ln(R) denotes
the year-over-year log-changes in the real rent.
Federal Reserve Bank of San Francisco, Hong Kong University of Science and
Technology, Federal Reserve Bank of Atlanta, Emory University, and NBER

