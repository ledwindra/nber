NBER WORKING PAPER SERIES

INTERNET ADVERTISING AND THE
GENERALIZED SECOND PRICE AUCTION:
SELLING BILLIONS OF DOLLARS WORTH OF KEYWORDS
Benjamin Edelman
Michael Ostrovsky
Michael Schwarz
Working Paper 11765
http://www.nber.org/papers/w11765
NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
November 2005

We are grateful to David Pennock and Yahoo! for data and advice. We also thank Drew Fudenberg, Louis
Kaplow, David McAdams, Paul Milgrom, Muriel Niederle, Ariel Pakes, and Al Roth for helpful discussions.
The views expressed herein are those of the author(s) and do not necessarily reflect the views of the National
Bureau of Economic Research.
©2005 by Benjamin Edelman, Michael Ostovsky, and Michael Schwarz. All rights reserved. Short sections
of text, not to exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including © notice, is given to the source.

Internet Advertising and the Generalized Second Price Auction: Selling Billions of Dollars
Worth of Keywords
Benjamin Edelman, Michael Ostovsky, and Michael Schwarz
NBER Working Paper No. 11765
November 2005
JEL No. L0
ABSTRACT
We investigate the "generalized second price" auction (GSP), a new mechanism which is used by
search engines to sell online advertising that most Internet users encounter daily. GSP is tailored to
its unique environment, and neither the mechanism nor the environment have previously been
studied in the mechanism design literature. Although GSP looks similar to the Vickrey-ClarkeGroves (VCG) mechanism, its properties are very different. In particular, unlike the VCG
mechanism, GSP generally does not have an equilibrium in dominant strategies, and truth-telling is
not an equilibrium of GSP. To analyze the properties of GSP in a dynamic environment, we describe
the generalized English auction that corresponds to the GSP and show that it has a unique
equilibrium. This is an ex post equilibrium that results in the same payoffs to all players as the
dominant strategy equilibrium of VCG.
Benjamin Edelman
Department of Economics
Harvard University
Cambridge, MA 02138
bedelman@fas.harvard.edu
Michael Ostrovsky
Graduate School of Business
Stanford University
Stanford, CA 94305
ostrovsky@gsb.stanford.edu
Michael Schwarz
University of California, Berkeley
140 Warren Hall MC 7360
Berkeley, CA 947210-7360
and NBER
mschwarz@berkeley.edu

1

Introduction

This paper investigates a new auction mechanism, which we call the “generalized second price”
auction, or GSP. GSP is tailored to the unique environment of the market for online ads, and
neither the environment nor the mechanism have previously been studied in the mechanism design
literature. While studying the properties of a novel mechanism is often fascinating in itself, our
interest is also motivated by the spectacular commercial success of GSP. It is the dominant transaction mechanism in a large and rapidly growing industry. For example, Google’s total revenue
in 2004 was equal to $3.189 billion. Over 98% of the revenue came from GSP auctions. Yahoo!’s
total revenue in 2004 was equal to $3.574 billion. It is believed that over 50% of Yahoo!’s revenue
is derived from sales via GSP auctions. To appreciate the size of the market dominated by GSP
auctions, note that the combined market capitalization of Google and Yahoo! is over $125 billion.
In comparison, the combined market capitalization of all US airlines is about $20 billion.
Let us briefly describe how these auctions work. When an Internet user enters a search (“query”)
into a search engine, he gets back a page with results, containing both the links most relevant to
the query and the sponsored links, i.e., paid advertisements. The ads are clearly distinguishable
from the actual search results, and different searches yield different sponsored links: advertisers
target their ads based on search keywords. For instance, if a travel agent buys the word “Hawaii,”
then each time a user performs a search on this word, a link to the travel agent will appear on the
search results page. When a user clicks on the sponsored link, he is sent to the advertiser’s web
page. The advertiser then pays the search engine for sending the user to its web page, hence the
name—“pay-per-click” pricing.
The number of ads that the search engine can show to a user is limited, and different positions
on the search results page have different desirabilities for advertisers: an ad shown at the top of a
page is more likely to be clicked than an ad shown at the bottom. Hence, search engines need a
system for allocating the positions to advertisers, and auctions are a natural choice. Currently, the
mechanisms most widely used by search engines are based on GSP.
In the simplest GSP auction, for a specific keyword, advertisers submit bids stating their maximum willingness to pay for a click. When a user enters a keyword, he receives search results along
with sponsored links, the latter shown in decreasing order of bids. In particular, the ad with the
highest bid is displayed at the top, the ad with the next highest bid is displayed in the second
position, and so on. If a user subsequently clicks on an ad in position k, that advertiser is charged
by the search engine an amount equal to the next highest bid, i.e., the bid of an advertiser in
position k + 1. If a search engine offered only one advertisement per result page, this mechanism
would be equivalent to the standard second price, or Vickrey-Clarke-Groves (VCG), auction. With
multiple positions available, the GSP generalizes the second price auction. (Hence the name.) Here,
a winner pays the next highest bidder’s bid. But as we will demonstrate, the multi-unit GSP auction is no longer equivalent to the VCG auction, for multi-unit GSP lacks some of VCG’s desirable
properties. In particular, unlike the VCG mechanism, GSP generally does not have an equilibrium
in dominant strategies, and truth-telling is not an equilibrium of GSP.
2

In Section 2, we describe the evolution of the market for Internet advertisements and the
unique features of the environment in this market. In Section 3, we introduce a model of sponsored
search auctions, and we begin our analysis of the model in Section 4. Since advertisers can change
their bids frequently, sponsored search auctions can be modeled as a continuous or an infinitely
repeated game. Our analysis begins with a static stage game. We introduce restrictions on bidders’
behavior suggested by the market’s dynamic structure. We call the static equilibria satisfying these
restrictions “locally envy-free.”
We then proceed to show that the set of locally envy-free equilibria contains an equilibrium in
which the payoffs of the players are the same as in the dominant-strategy equilibrium of the VCG
auction, even though both the bids of the players and the payment rules in the mechanisms are
very different. Moreover, this equilibrium is the worst locally envy-free equilibrium for the search
engine and the best locally envy-free equilibrium for the bidders. Consequently, in any locally
envy-free equilibrium of GSP, the total expected revenue to the seller is at least as high as in the
dominant-strategy equilibrium of the VCG auction.
In Section 5, we present our main result. The generalized English auction can be viewed as a
dynamic game corresponding to the GSP auction. Although the generalized English auction is not
dominant-strategy solvable, it has a unique perfect Bayesian equilibrium in continuous strategies.
In this equilibrium, all players receive the same payoffs as in the dominant strategy equilibrium of
VCG. A remarkable feature of the equilibrium of the generalized English auction is that it is an ex
post equilibrium, i.e., the outcome depends only on the values of the participants and not on their
beliefs about each others’ values. Section 6 concludes.

2

The Structure and Evolution of Sponsored Search Auctions

2.1

Unique Features of the Market for Internet Advertising

A combination of several features makes the market for Internet advertising unique. First, bidding
takes place continuously. For example, the advertiser with the second highest bid on a given
keyword at some instant will be listed as the second sponsored link at that instant. But any other
advertiser can revise his bid at any time, and the order of sponsored links and prices will change
accordingly. These changes can be very rapid because advertisers can employ automated robots,
including commercially available software, in responding to others’ bids.
Second, the search engines effectively sell flows of perishable advertising services rather than
storable objects: if there are no ads for a particular search term during some period of time, the
“capacity” is wasted, much like in electricity markets. Of course, this environment is very different
from a market for electricity: e.g., the marginal utility of advertisers from an additional click can be
considered constant and hence can be reasonably well approximated by a single number, while the
marginal benefit from electricity is rapidly diminishing, requiring bidders to submit entire demand
curves; the market for electricity is two-sided, whereas sponsored search auctions are one-sided;
etc.
3

Finally, unlike other centralized markets, where it is usually clear how to measure what is being
sold, there is no obvious definition of a “unit” of Internet advertisement. From the advertiser’s
perspective, the relevant unit is the cost of attracting a customer who makes a purchase. This
corresponds most directly to a pricing model in which an advertiser pays only when a customer
actually completes a transaction. From the search engine’s perspective, the relevant unit is what it
collects in revenues every time a user performs a search for a particular keyword. This corresponds
to a pricing model in which an advertiser is charged every time its link is shown to a potential
consumers. “Pay-per-click” is a middle ground between the two models: the advertiser pays every
time a user clicks on the link. All three payment models are widely used on the Internet.1 The
specific sector of Internet advertising that we study, sponsored search auctions, has converged to
pay-per-click pricing after several years of evolution.
Since GSP evolved in the market for online advertising, its rules reflect the environment’s
unique characteristics. GSP insists that for each keyword, bidders submit a single bid—even though
several different items are for sale: position 1 is very different from position 5. The unusual onebid requirement makes sense in this setting: the value of being in each position is proportional to
the number of clicks associated with that position. Consequently, even though the environment is
multi-object, buyer valuations can be adequately represented by one-dimensional types. However,
one bid per keyword is probably not sufficiently expressive to fully convey the preferences of the
bidders: e.g., it does not allow for the possibility that the users who click on position 5 are somehow
different from those who click on position 2; it does not allow for the possibility that advertisers care
about the allocation of other positions, and so on. Nonetheless, these limitations are apparently not
large enough to justify added complexity in the bidding language, and we will likewise ignore these
possibilities in our model. One important possibility that we abstract away from is that ads from
different advertisers have different probabilities of being clicked when placed in the same position.
(These probabilities are known in the industry as “click-through rates”, or CTRs.) Different search
engines treat this possibility differently: Yahoo! ignores the CTRs, ranks the bidders purely in the
order of decreasing bids, and charges the next-highest bidder’s bid. In contrast, Google multiplies
each advertiser’s bid by its estimated CTR to compute its expected revenue, ranks the ads by
these expected revenues, and then charges each bidder the smallest amount sufficient to exceed the
expected revenue of the next bidder’s bid times his estimated CTR.2 In our analysis, we assume
that all bidders have identical CTRs, in which case Google’s and Yahoo!’s mechanisms are identical.
The analysis would remain largely the same if all advertisers’ CTRs in any given position x differed
by a constant factor.3
1
A prominent example of “pay-per-transaction,” and even “pay-per-dollar of revenue” (“revenue sharing”) is
Amazon.com’s Associates program, http://www.amazon.com/gp/browse.html?&node=3435371 (accessed August 10,
2005). Under this program, a website that sends customers to Amazon.com receives a percentage of customers’
purchases. “Pay-per-impression” advertising, in the form of banner ads, remains popular on major Internet portals,
such as yahoo.com, msn.com, and aol.com.
2
See https://adwords.google.com/select/faq/start.html (accessed August 15, 2005)
3
The analysis would have to change considerably if there are specific advertiser-position effects. The magnitude
of these specific advertiser-position effects is ultimately an empirical questions, and we do not have the kind of data
that would allow us to answer it, but judging from the fact that the two major search engines effectively ignore it in

4

2.2

Evolution of Market Institutions

The history of this sponsored search auctions is of interest as a case study of whether, how, and
how quickly markets come to address their structural shortcomings. Many important mechanisms
have recently been designed essentially from scratch, entirely replacing completely different historical allocation mechanisms: radio spectrum auctions, electricity auctions, and others. In contrast,
reminiscent of the gradual evolution of medical residency match rules, sponsored search ad auctions
have evolved in steps over time. In both medical residency and search advertising, flawed mechanisms were gradually replaced by increasingly superior designs. Notably, the Internet advertising
market evolved much faster than the medical matching market. This may be due to the competitive
pressures on mechanism designers present in the former but not in the latter, much lower costs of
entry and experimentation, advances in the understanding of market mechanisms, and improved
technology.
We proceed with a brief chronological review of the development of sponsored search mechanisms.
2.2.1

Early Internet Advertising

Beginning in 1994, Internet advertisements were largely sold on a per-impression basis. Advertisers
paid flat fees to show their ads a fixed number of times (typically, one thousand showings, or “impressions”). Contracts were negotiated on a case-by-case basis, minimum contracts for advertising
purchases were large (typically, a few thousand dollars per month), and entry was slow.4
2.2.2

Generalized First-Price Auctions

In 1997, Overture (then GoTo; now part of Yahoo!) introduced a completely new model of selling
Internet advertising. In the original Overture auction design, each advertiser submitted a bid
reporting the advertiser’s willingness to pay on a per-click basis, for a particular keyword. The
advertisers could now target their ads: instead of paying for a banner ad that would be shown
to everyone visiting a website, advertisers could specify which keywords were relevant to their
products, and how much each of those keywords (or, more precisely, a user clicking on their ad after
looking for that keyword) was worth to them. Also, advertising was no longer sold per thousand
impressions; rather, it was sold one click at a time. Every time a consumer clicked on a sponsored
link, an advertiser’s account was automatically billed the amount of the advertiser’s most recent
bid. The links to advertisers were arranged in descending order of bids, making highest bids the
most prominent. The ease of use, the very low entry costs, and the transparency of the mechanism
quickly led to the success of Overture’s paid search platform as the advertising provider for major
search engines including Yahoo! and MSN. However, the underlying auction mechanism itself was
their mechanisms (Yahoo! ignores CTRs altogether; Google computes an advertiser’s estimated CTR conditional on
the advertiser attaining the first position), we believe it to be small.
4
See http://www.worldata.com/wdnet8/articles/the history of Internet Advertising.htm and
http://www.zakon.org/robert/internet/timeline (both accessed August 10, 2005).

5

far from perfect. In particular, Overture and advertisers quickly learned that the mechanism was
unstable due to the dynamic nature of the environment.
Example. Suppose there are two slots on a page and three bidders. An ad in the first slot
receives 200 clicks per hour, while the second slot gets 100. Bidders 1, 2, and 3 have values per
click of $10, $4, and $2, respectively. Suppose bidder 2 bids $2.01, to guarantee that he gets a slot.
Then bidder 1 will not want to bid more than $2.02—he does not need to pay more than that to
get the top spot. But then bidder 2 will want to revise his bid to $2.03 to get the top spot, bidder
1 will in turn raise his bid to $2.04, and so on. Clearly, there is no pure strategy equilibrium in the
one-shot version of the game, and so if bidders best respond to each other, they will want to revise
their bids as often as possible. Figure 1 shows an example of this behavior on Overture.
2.2.3

Generalized Second-Price Auctions

Under the generalized first-price auction, the bidder who could react to its competitors’ moves
fastest had a substantial advantage. The mechanism therefore encouraged inefficient investments
in gaming the system. It also created volatile prices that in turn caused allocative inefficiencies.
Google addressed these problems when it introduced its own pay-per-click system, AdWords Select,
in February 2002. Google also recognized that a bidder in position i will never want to pay more
than one bid increment above the bid of the advertiser in position (i + 1), and Google adopted
this principle in its newly-designed generalized second price auction mechanism. In the simplest
GSP auction, an advertiser in position i pays a price per click equal to the bid of an advertiser in
position (i + 1) plus a minimum increment (typically $0.01). This second-price structure makes the
market more user friendly and less susceptible to gaming.
Recognizing these advantages, Yahoo!/Overture also switched to GSP. Let us describe the
version of GSP that it implemented.5 Every advertiser submits a bid. Advertisers are arranged
on the page in descending order of their bids. The advertiser in the first position pays a price per
click that equals the bid of the second advertiser plus an increment; the second advertiser pays the
price offered by the third advertiser plus an increment; and so forth.6
Example (continued). Let us now consider the payments in the environment of the previous
example under GSP mechanism. If all advertisers bid truthfully, then bids are $10, $4, $2. Payments
in GSP will be $4 and $2.7 Truth-telling is indeed an equilibrium in this example, because no bidder
can benefit by changing his bid. Note that total payments of bidders one and two are $800 and
$200, respectively.
5

We focus on Overture’s implementation, because Google’s system is somewhat more complex. However, it is
straightforward to generalize our analysis to Google’s mechanism.
6
For this version of GSP to be efficient, it is necessary that the number of clicks received by an advertisement in
a given position depends on the ad’s position and not on the advertiser’s identity. Recognizing that this assumption
may not hold if some ads attract more clicks than others, Google adjusts effective bids based on ads’ click-through
rates. But under the assumption that all ads have the same click-through rates conditional on position, Google’s
and Yahoo!’s versions of GSP are identical. With modification for Google’s adjustment procedure, our results for the
Yahoo! version of GSP also hold for Google adjusted GSP.
7
For convenience, we neglect the $0.01 minimum increments.

6

2.3

Generalized Second-Price and VCG Auctions

GSP looks similar to the Vickrey-Clarke-Groves mechanism, because both mechanisms set each
agent’s payments only based on the allocation and bids of other players, not based on that agent’s
own bid. In fact, Google’s advertising materials explicitly refer to Vickrey and state that Google’s
“unique auction model uses Nobel Prize-winning economic theory to eliminate ... that feeling that
you’ve paid too much”.8 But GSP is not VCG. In particular, unlike the VCG auction, GSP does
not have an equilibrium in dominant strategies, and truth-telling is generally not an equilibrium
strategy in GSP. (See the example in Remark 3.) With only one slot, VCG and GSP would be
identical. With several slots, the mechanisms are different: while GSP essentially charges bidder i
the bid of bidder i + 1, VCG charges bidder i the externality that he imposes on others, i.e., the
decrease in the value of clicks received by other bidders because of i’s presence.
Example (continued). Let us compute VCG payments for the example considered above.
The second bidder’s payment is $200, as before. However, the payment of the first advertiser is now
$600: $200 for the externality that he imposes on bidder 3 (by forcing him out of position 2) and
$400 for the externality that he imposes on bidder 2 (by moving him from position 1 to position
2 and thus causing him to lose (200 − 100) = 100 clicks per hour). Note that in this example,
revenues under VCG are lower than under GSP. As we will show later, if advertisers were to bid
their true values under both mechanisms, revenues would always be higher under GSP.

2.4

Assessing the Market’s Development

The chronology above suggests three major stages in the development of the sponsored search
advertising market. First, ads were sold manually, slowly, in large batches, and on a cost-perimpression basis. Second, Overture implemented keyword-targeted per-click sales and began to
streamline advertisement sales with some self-serve bidding interfaces, but with a highly unstable
first-price mechanism. Next, Google implemented the generalized second price auction (GSP),
which was subsequently adopted by Overture (Yahoo!).
Interestingly, Google and Yahoo! still use GSP, rather than VCG, which would reduce incentives
for strategizing and make life easier for advertisers. We see several possible reasons for this. First,
VCG is hard to explain to typical advertising buyers. Second, switching to VCG may entail
substantial transition costs: VCG revenues are lower than GSP revenues for the same bids, and
bidders might be slow to stop shading their bids. Third, the revenue consequences of switching
to VCG are uncertain: even the strategic equivalence of second-price and English auctions under
private values fails to hold in experiments (Kagel, Harstad, and Levin, 1987). And of course, simply
implementing and testing a new system may be costly – imposing switching costs on advertisers as
well as on search engines. Consequently, new entrants such as Ask Jeeves and Microsoft Network9
have a comparative advantage over the established players in implementing VCG.
8

See https://www.google.com/adsense/afs.pdf (accessed August 10, 2005).
See http://www.irconnect.com/askjinc/pages/news releases.html?d=83045 and
http://advertising.msn.com/searchadv/ (both accessed August 10, 2005).
9

7

3

The Rules of GSP

Let us now formally describe the rules of a sponsored search auction. For a given keyword, there
are N objects (positions on the screen, where ads related to that keyword can be displayed) and K
bidders (advertisers).10 The (expected) number of clicks per period received by the bidder whose
ad was placed in position i is αi . The value per click to bidder k is sk . Bidders are risk-neutral,
and bidder k’s payoff from being in position i is equal to αi sk minus his payments to the search
engine. Note that these assumptions imply that the number of times a particular position is clicked
does not depend on the ads in this and other positions, and also that an advertiser’s value per click
does not depend on the position in which its ad is displayed. Without loss of generality, positions
are labeled in a descending order: for any j and k such that j < k, we have αj > αk .
We model the generalized second price auction (GSP) as follows. Suppose at some time t a
search engine user enters a given keyword, and, for each k, advertiser k’s last bid submitted for
this keyword prior to t was bk ; if advertiser k did not submit a bid, we set bk = 0. Let b(j) and g(j)
denote the bid and identity of the j-th highest bidder, respectively. If several advertisers submit
the same bid, they are ordered randomly.11 The mechanism then allocates the top position to
the bidder with the highest bid, g(1), the second position to g(2), and so on, down to position
min{N, K}. Note that each bidder gets at most one object. If a user clicks on a bidder’s link, the
bidder’s payment per click is equal to the next bidder’s bid. So bidder g(i)’s total payment p(i) is
equal to αi b(i+1) for i ∈ {1, . . . , min{N, K}}, and his payoff is equal to αi (s(i) − b(i+1) ). If there are
at least as many positions as advertisers (N ≥ K), then the last bidder’s payment p(K) is equal to
zero.12
It is also useful to describe explicitly the rules that the VCG mechanism would impose in this
setting. The rules for allocating positions are the same as under GSP—the higher the bid, the
better the position—but the payments are different. Each player’s payment is equal to the negative
externality that he imposes on others, assuming that bids are equal to values. Thus, the payment
of the last bidder who gets allocated a spot is the same as under GSP: zero if N ≥ K; αN b(N +1)
otherwise. For all other i < min{N, K}, payment pV induced by VCG will be different from
payment p induced by GSP. Namely, pV,(i) = (αi − αi+1 )b(i+1) + pV,(i+1) .
In the following two sections, we will consider two alternative ways of completing the model: as a
static game of complete information resembling a sealed-bid second-price auction and as a dynamic
game of incomplete information resembling an English auction. Before moving on to these models,
let us make a few observations about GSP and VCG.
Remark 1 If all advertisers were to bid the same amounts under the two mechanisms, then each
advertiser’s payment would be at least as large under GSP as under VCG.
10
In actual sponsored search auctions at Google and Yahoo!, advertisers can also choose to place “broad match”
bids that match searches that include a keyword along with additional search terms.
11
The actual practice at Overture is to show equal bids according to the order in which the bidders placed their
bids.
12
Although we normalize the reserve price to zero, search engines charge the last bidder a non-zero reserve price.

8

This is easy to show by induction on advertisers’ payments, starting with the last advertiser
who gets assigned a position. For i = min{K, N }, p(i) = pV,(i) = αi b(i+1) . For any i < min{K, N },
pV,(i) − pV,(i+1) = (αi − αi+1 )b(i+1) ≤ αi b(i+1) − αi+1 b(i+2) = p(i) − p(i+1) .
Remark 2 Truth-telling is a dominant strategy under VCG.
This is a well-known property of the VCG mechanism.
Remark 3 Truth-telling is not a dominant strategy under GSP.
For instance, consider a slight modification of the example from Section 2. There are still
three bidders, with values per click of $10, $4, and $2, and two positions. However, the clickthrough rates of these positions are now almost the same: the first position receives 200 clicks per
hour, and the second one gets 199. If all players bid truthfully, then bidder 1’s payoff is equal to
($10 − $4) ∗ 200 = $1200. If, instead, he shades his bid and bids only $3 per click, he will get the
second position, and his payoff will be equal to ($10 − $2) ∗ 199 = $1592 > $1200.

4

Static GSP and Locally Envy-Free Equilibria13

Advertisers bidding on Yahoo! and Google can change their bids very frequently. We therefore
think of these sponsored search auctions as continuous time or infinitely repeated games in which
bidders originally have private information about their types, gradually learn the values of others,
and can adjust their bids repeatedly. In principle, the sets of equilibria in such repeated games can
be very large, with players potentially punishing each other for deviations. However, the strategies
required to support such equilibria are usually quite complex, requiring precise knowledge of the
environment and careful implementation. It may not be reasonable to expect the advertisers to
be able to execute such strategies: they often manage thousands of keywords, and implementing
sophisticated dynamic strategies for many keywords is likely to be prohibitively expensive and
complex. In theory, advertisers could implement such strategies via automated robots, but at
present they cannot do so: bidding software must first be authorized by the search engines,14 and
search engines are unlikely to permit sophisticated strategies that would allow bidders to collude
and reduce revenues. Indeed, leading software for bidding at sponsored search auctions does not
allow advertisers to condition their bids on the prior behavior of specific competitors.15
We therefore focus on simple strategies that bidders can reasonably execute, and we study the
rest points of the bidding process: if the vector of bids stabilizes, at what bids can it stabilize?
We impose several assumptions and restrictions. First, we assume that all values are common
knowledge: over time, bidders are likely to learn all relevant information about each other’s values.
13
After this research was completed, we found out that several of the results of this section were independently
discovered by Hal Varian in unpublished work.
14
See, e.g., http://www.content.overture.com/d/HKm/legal/zhhkrtc.jhtml (accessed August 18, 2005).
15
See, e.g., Atlas Onepoint Rules-Based Bidding, http://www.atlasonepoint.com/products/bidmanager/rulesbased
(accessed August 18, 2005), which lacks any bidding rule of this type.

9

Second, since bids can be changed at any time, stable bids must be static best responses to each
other—otherwise a bidder whose bid is not a best response would have an incentive to change
it. Thus, we assume that the bids form an equilibrium in the static one-shot game of complete
information. Third, what are the simple strategies that a bidder can use to increase his payoff,
beyond simple best responses to the other players’ bids?
One clear strategy is to try to force out the player who occupies the position immediately above.
Suppose bidder k bids bk and is assigned to position i + 1 and bidder k 0 bids bk0 > bk and is assigned
to position i. Note that if k raises his bid slightly, his own payoff does not change, but the payoff
of the player above him decreases. Of course, player k 0 can retaliate, and the most he can do is to
slightly underbid bidder k, effectively swapping places with him. If bidder k is better off after such
retaliation, he will indeed want to force player k 0 out, and the vector of bids will change. Thus,
if the vector converges to a rest point, an advertiser in position k should not want to “exchange”
positions with the advertiser in position k − 1. We call such vectors of bids “locally envy-free.”
Definition 4 An equilibrium of the static game induced by GSP is locally envy-free if a player
cannot improve his payoff by exchanging bids with the player ranked one position above him. More
formally, in a locally envy-free equilibrium, for any i ≤ min{N, K}, we have αi sg(i) − p(i) ≥
αi−1 sg(i) − p(i−1) .
Of course, it is possible that in the dynamic game bids change over time, depending on the
player’s strategies and information structure. However, as long as the restrictions are satisfied, if
the dynamic game ever converges to a static vector of bids, that static equilibrium should correspond
to a “locally envy-free” equilibrium of the static game Γ induced by the GSP. Consequently, we
view a locally envy-free equilibrium Γ as a prediction regarding a rest point at which the vector of
bids stabilizes. In this section, we study the set of locally envy-free equilibria.
We first show that the set of locally envy-free equilibria maps naturally to a set of stable
assignments in a corresponding two-sided matching market. The idea that auctions and two-sided
matching models are closely related is not new: it goes back to Crawford and Knoer (1981), Kelso
and Crawford (1982), Leonard (1983), and Demange, Gale, and Sotomayor (1986), and has been
studied in detail in a recent paper by Hatfield and Milgrom (2005). Note, however, that in our case
the non-standard auction is very different from those in the above papers.
Our environment maps naturally into the most basic assignment model, studied first by Shapley
and Shubik (1972). We view each position as an agent who is looking for a match with an advertiser.
The value of an advertiser-position pair (i, k) is equal to αk si . We call this assignment game A.
The advertiser makes its payment pik for the position, and the advertiser is left with αk si − pik .
The following pair of lemmas shows that there is a natural mapping from the set of locally envy-free
equilibria of GSP to the set of stable assignments. All proofs are in the Appendix.
Lemma 5 The outcome of any locally envy-free equilibrium of auction Γ is a stable assignment.
Lemma 6 If the number of bidders is greater than the number of available positions, then any
stable assignment is an outcome of a locally envy-free equilibrium of auction Γ.
10

We will now construct a particular locally envy-free equilibrium of game Γ. This equilibrium
has two important properties. First, in this equilibrium bidders’ payments coincide with their
payments in the dominant- strategy equilibrium of VCG. Second, this equilibrium is the worst
locally envy-free equilibrium for the search engine, and it is the best locally envy-free equilibrium
for the bidders. Consequently, the revenues of a search engine are (weakly) higher in any locally
envy-free equilibrium of GSP than in the dominant-strategy equilibrium of VCG.
Consider the following strategy profile B ∗ . For each advertiser i ∈ {2, . . . , min{N, K}}, bid b∗i
is equal to
VCG. Bid

pV,(i−1)
V,(j)
αi−1 , where p
b∗1 is equal to s1 .16

is the payment of bidder j in the dominant-strategy equilibrium of

Theorem 7 Strategy profile B ∗ is a locally envy-free equilibrium of game Γ. In this equilibrium,
each bidder’s position and payment is equal to those in the dominant-strategy equilibrium of the
game induced by VCG. In any other locally envy-free equilibrium of game Γ, the total revenue of
the seller is at least as high as in B ∗ .
To prove Theorem 7, we first note that payments under strategy profile B ∗ coincide with VCG
payments and check that B ∗ is indeed a locally-envy free equilibrium. This follows from the fact
that, by construction, each bidder is indifferent between remaining in his positions and swapping
with the bidder one position above him. Next, from Lemma 5 we know that every locally envy-free
equilibrium corresponds to a stable assignment. Combining this with the fact17 that in any stable
assignment the payments of bidders must be at least as high as VCG payments completes the proof.

5

Main Result: GSP and the Generalized English Auction

In this section we introduce the generalized English auction that corresponds to the generalized
second price auction. The generalized English auction is a useful metaphor for predicting the
behavior of advertisers in GSP auctions in a dynamic environment. In the model analyzed in the
previous section, we assume that bidders have converged to a long-run steady state, have learned
each other’s values, and no longer have incentives to change their bids. But how do they converge
to such a situation?
In this section we show that, in fact, there are simple strategies that can quickly lead to such
an outcome: each advertiser starts bidding at zero and keeps increasing his bid as long as he finds
it profitable to do so. This simple myopic procedure leads to an equilibrium outcome in which
bidders have no incentives to change their bids. Remarkably, the outcome is the same as the worst
(for the search engine) locally-envy free equilibrium of the static GSP: all players get VCG payoffs.
We model this procedure through an analogue of the standard English auction. The generalized
English Auction entails a clock showing the current price (that continuously increases over time).
A player’s bid is the price on the clock at the time when he drops out. The auction is over when
This bid does not affect any bidder’s payment and can be set equal to any value greater than b∗2 .
Leonard (1983) states this fact for general assignment problems. For completeness, we include a short independent
proof that relies on the specifics of our particular model.
16

17

11

the next-to-last advertiser drops out. The ad of the last remaining advertiser is placed in the best
advertisement position, and this advertiser’s payment per click is equal to the price at which the
next-to-last advertiser dropped out. The ad of the next-to-last advertiser is placed second, and
its payment per click is equal to the third-highest advertiser’s bid, and so on. In other words,
the vector of bids obtained in the generalized English auction is used to allocate the objects and
compute the prices according to the rules of GSP, just as the rules of the second price auction can
be used to compute the payments in the English auction.18 The following theorem shows that this
game has a unique perfect Bayesian equilibrium with strategies continuous in bidders’ valuations.19
For concreteness, assume that there are N ≥ 2 slots and K = N +1 advertisers. (Cases in which
K 6= N + 1 require only minor modifications in the proof.) Click-through rates αn are commonly
known, with αN +1 ≡ 0. Bidders’ per-click valuations si are drawn from a continuous distribution
F (·) on [0; +∞) with a continuous density function f (·) that is positive everywhere on (0, +∞).
Each advertiser knows his valuation and the distribution of other advertisers’ valuations.
The strategy of an advertiser assigns the choice of dropping out or not for any history of the
game, given that the advertiser has not previously dropped out. In other words, the strategy can be
represented as a function pi (k, h, si ), where si is the value per click of bidder i, pi is the price at which
he drops out, k is the number of bidders remaining (including bidder i), and h = (bk+1 , . . . , bK ) is
the history of prices at which bidders K, K − 1, . . . , k + 1 have dropped out. (As a result, the
price that bidder i would have to pay per click if he dropped out next is equal to bk+1 , unless the
history is empty, in which case we say that bk+1 ≡ 0.)
Theorem 8 In the unique perfect Bayesian equilibrium of the generalized English auction with
k
strategies continuous in si , an advertiser with value si drops out at price pi (k, h, si ) = si − ααk−1
(si −

bk+1 ). In this equilibrium, each advertiser’s resulting position and payoff are the same as in the
dominant-strategy equilibrium of the game induced by VCG. This equilibrium is ex post: the strategy
of each bidder is a best response to other bidders’ strategies regardless of their realized values.
The intuition of the proof is as follows. First, with k players remaining and the next highest
bid equal to bk+1 , it is a dominated strategy for a player with value s to drop out before price p
reaches the level at which he is indifferent between getting position k and paying bk+1 per click and
getting position k − 1 and paying p per click. Next, if for some set of types it is not optimal to drop
out at this “borderline” price level, we can consider the lowest such type, and then once the clock
reaches this price level, a player of this type will know that he has the lowest per-click value of the
18

If several players drop out simultaneously, one of them is chosen randomly. Whenever a player drops out, the
clock is stopped, and other players are also allowed to drop out; again, if several ones want to drop out, one is chosen
randomly. If several players end up dropping at the same price, the first one to drop out is placed in the lowest
position of the still available ones, the next one—to the position right above that, and so on.
19
Without this restriction, multiple equilibria exist, even in the simplest English auction with two bidders and
one object. For example, suppose there is one object for sale and two bidders with independent private values for
this object distributed exponentially on [0, ∞). Consider the following pair of strategies. If a bidder’s value is in
the interval [0, 1] or in the interval [2, ∞), he drops out when the clock reaches his value. If bidder 1’s value is in
the interval (1, 2), he drops out at 1, and if bidder 2’s value is in the interval (1, 2), he drops out at 2. This pair of
strategies, together with appropriate beliefs, forms a perfect Bayesian equilibrium.

12

remaining players. But then he will also know that the other remaining players will only drop out
at price levels at which he will find it unprofitable to compete with them for the higher positions.
The result of Theorem 8 resembles the classic result on the equivalence of the English auction
and the second price sealed-bid auction under private values (Vickrey, 1961). Note, however, that
the intuition is very different: Vickrey’s result follows simply from the existence of equilibria in
dominant strategies, whereas in our case such strategies do not exist, and bids do depend on other
player’s bids. Also, our result is very different from the revenue equivalence theorem: payoffs in the
generalized English auction coincide with VCG payments for all realizations of values, not only in
expectation; bidders can be asymmetric; distributions of valuations need not be commonly known.
The equilibrium described in Theorem 8 is an ex post equilibrium. As long as all bidders other
than bidder i follow the equilibrium strategy described in Theorem 8, it is a best response for bidder
i to follow his equilibrium strategy, for any realization of other bidders’ values. Thus, the outcome
implemented by this mechanism depends only on the realization of bidders’ values and does not
depend on bidders’ beliefs about each others’ types.
Obviously, any dominant strategy solvable game has an ex post equilibrium. However, the
generalized English auction is not dominant strategy solvable. This combination of properties is
quite striking: the equilibrium is unique and efficient, the strategy of each bidder does not depend
on the distribution of other bidders’ values, yet bidders do not have dominant strategies.20,21 The
generalized English auction is a particularly interesting example, because it can be viewed as a
model of a mechanism that has “emerged in the wild.”

6

Conclusion

We investigate a new mechanism that we call the generalized second price auction. GSP is tailored
to the unique features of the market for Internet advertisements. As far as we know, this mechanism
was first used in 2002. As of September 2005, the annual revenues from GSP auctions were in the
billions of dollars.
GSP looks similar to the VCG mechanism, because just like in the standard second price auction,
the payment of a bidder does not directly depend on his bid. Although GSP looks similar to VCG,
its properties are very different, and equilibrium behavior is far from straightforward. In particular,
unlike the VCG mechanism, GSP generally does not have an equilibrium in dominant strategies,
and truth-telling is not an equilibrium of GSP. We show that the generalized English auction that
corresponds to the generalized second-price auction has a unique equilibrium.
20
Bergemann and Morris (2004) show that an outcome implementable by robust mechanisms must be implementable
in dominant strategies. Indeed, the outcome implemented by the generalized English auction can be implemented in
dominant strategies by VCG mechanism; however, VCG is not the mechanism that is used in practice.
21
Jehiel and Moldovanu (2001) and Jehiel et al. (2005) show that generically, any efficient choice function is not
Bayes-Nash implementable and any non-trivial choice function is not ex post implementable, if values are interdependent and signals are multi-dimensional. Of course, in our model values are private, and, crucially, signals are
single-dimensional, even though multiple different objects are for sale. This makes efficient ex post implementation
feasible. For other examples of mechanisms that allocate multiple different objects to bidders with single-dimensional
types see Moldovanu and Sela (2001), Kittsteiner and Moldovanu (2005), and references in those papers.

13

This equilibrium has some notable properties. The bid functions have explicit analytic formulas,
which, combined with equilibrium uniqueness, makes our results a useful starting point for empirical
analysis. Moreover, these functions do not depend on bidders’ beliefs about each others’ types: the
outcome of the auction only depends on the realizations of bidders’ values. Hence, the generalized
English auction is a robust mechanism, even though bidders do not have dominant strategies. This
is one of the very few mechanisms encountered in practice that are not dominant strategy solvable
yet robust. It is particularly interesting that a mechanism with such notable features in theory
and such enormous popularity in practice developed as a result of evolution of inefficient market
institutions, which were gradually replaced by increasingly superior designs.

References
[1] Bergemann, D., and S. Morris (2004), “Robust Mechanism Design,” Econometrica, forthcoming.
[2] Crawford, V., and E. Knoer (1981), “Job Matching with Heterogeneous Firms and Workers,” Econometrica, 49, 437–450.
[3] Demange, G., D. Gale, and M. Sotomayor (1986), “Multi-Item Auctions,” Journal of Political Economy,
94, 863–872.
[4] Hatfield, J., and P. Milgrom (2005), “Auctions, Matching and the Law of Aggregate Demand,” American
Economic Review, forthcoming.
[5] Kagel, J., R. Harstad, and D. Levin (1987), “Information Impact and Allocation Rules in Auctions
with Affiliated Private Values: A Laboratory Study,” Econometrica, 55, 1275–1304.
[6] Kittsteiner, T., and B. Moldovanu (2005), “Priority Auctions and Queue Disciplines that Depend on
Processing Time,” Management Science, 51, 236–248.
[7] Kelso, A., and V. Crawford (1982), “Job Matching, Coalition Formation, and Gross Substitutes,”
Econometrica, 50, 1483–1504.
[8] Jehiel, P., and B. Moldovanu (2001), “Efficient Design with Interdependent Valuations,” Econometrica,
69, 1237–1259.
[9] Jehiel, P., B. Moldovanu, M. Meyer-ter-Vehn, and W. Zame (2005), “The Limits of Ex-Post Implementation,” working paper.
[10] Leonard, H., (1983), “Elicitation of Honest Preferences for the Assignment of Individuals to Positions,”
Journal of Political Economy, 91, 461–478.
[11] Moldovanu, B., and A. Sela (2001), “The Optimal Allocation of Prizes in Contests,” American Economic
Review, 91, 542–558.
[12] Shapley, L., and M. Shubik (1972), “The Assignment Game I: The Core,” International Journal of
Game Theory, 1, 111–130.
[13] Vickrey, W., (1961), “Counterspeculation, Auctions, and Competitive Sealed Tenders,” Journal of
Finance, 16, 8–27.

14

Appendix
Proof of Lemma 5
By definition, in any locally envy-free equilibrium outcome, no player can profitably re-match with
the position assigned to the player right above him. Also, no player (a) can profitably re-match
with a position assigned to a player below him (b)—if such a profitable re-matching existed, player
a would find it profitable to slightly undercut player b in game Γ and get b’s position and payment.
But this would contradict the assumption that we are in equilibrium.22
Hence, we only need to show that no player can profitably re-match with the position assigned
to a player more than one spot above him. First, note that in any locally envy-free equilibrium,
the resulting matching must be assortative, i.e., for any i, the player assigned to position i has a
higher per-click valuation than the player assigned to position i + 1, and therefore, player 1 must
be assigned to the top position, player 2—to the second-highest position, and so on.
Indeed, let si and si+1 denote the values of players assigned to positions i and i+1. Equilibrium
restrictions imply that αi si − pi ≥ αi+1 si − pi+1 (nobody wants to move one position down),
and local envy-freeness implies that αi+1 si+1 − pi+1 ≥ αi si+1 − pi (nobody wants to move one
position up). Manipulating the above inequalities yields αi si − αi si+1 + αi+1 si+1 ≥ αi+1 si , thus
(αi − αi+1 )si ≥ (αi − αi+1 )si+1 . Since αi > αi+1 , we have si ≥ si+1 , and hence the locally envy-free
equilibrium outcome must be an assortative match.
Now, let us show that no player can profitably re-match with the position assigned to a player
more than one spot above him. Suppose bidder k is considering re-matching with position m < k−1.
Since the equilibrium is locally envy-free, we have
αk sk − pk ≥ αk−1 sk − pk−1
αk−1 sk−1 − pk−1 ≥ αk−2 sk−1 − pk−2
..
.
αm+1 sm+1 − pm+1 ≥ αm sm+1 − pm .
Since αj > αj+1 for any j, and sj > sk for any j < k, the above inequalities remain valid after
replacing sj with sk . Doing that, then adding all inequalities up, and canceling out the redundant
elements, we get αk sk − pk ≥ αm sk − pm . But that implies that advertiser k cannot re-match
profitably with position m, and we are done.

Proof of Lemma 6
Take a stable assignment. By a result of Shapley and Shubik (1972), this assignment must be
efficient, and hence assortative, and so we can talk about advertiser i being matched with position
22

This argument relies on the fact that in equilibrium, no two (or more) players bid the same amount, which is
straightforward to prove: since all players’ per-click values are different, and all ties are broken randomly with equal
probabilities, at least one of such players would find it profitable to bid slightly higher or slightly lower.

15

i, with associated payment pi .
Let us construct a locally envy-free equilibrium with the corresponding outcome. Let b1 = s1
and bi =

pi−1
αi−1

for i > 1. Let us show that this set of strategies is a locally envy-free equilibrium.

First, note that for any i, bi > bi+1 (because otherwise we would have, for some i,
si −

pi−1
αi−1

≥ si −

pi
αi

pi−1
αi−1

≤

pi
αi

⇒

⇒ αi−1 (si − pi−1 ) > αi (si − pi ), which would imply that player i could re-

match profitably). Therefore, position allocations and payments resulting from this strategy profile
will coincide with those in the original stable assignment. To see that this strategy profile is an
equilibrium, note that deviating and moving to a different position in this strategy profile is at
most as profitable for any player as re-matching with the corresponding position in the assignment
game. To see that this equilibrium is locally envy-free, note that the payoff from swapping with
the bidder above is exactly equal to the payoff from re-matching with that player’s position in the
assignment game.

Proof of Theorem 7
First, we need to check that the order of the bids is preserved, i.e., b∗i > b∗i+1 for any i < min{N, K}.
For i ≥ 2, this is equivalent to

pV,(i−1)
pV,(i)
>
αi−1
αi
m
(αi−1 − αi )si + pV,(i)
pV,(i)
>
αi−1
αi
m
αi (αi−1 − αi )si > (αi−1 − αi )pV,(i)
m
αi si > pV,(i) .

For i = 1, b∗i > b∗i+1 is equivalent to
s1 >

pV,(1)
α1

m
α1 s1 > pV,(1) .

To see that for any i, αi si > pV,(i) , note first that in the game induced by VCG, each player can
guarantee himself the payoff of at least zero (by bidding zero), and hence in any equilibrium his
16

payoff from clicks is at least as high as his payment. To prove that the inequality is strict, note
that if player i’s value per click were slightly lower, e.g., si − ∆ instead of si , ∆ < si − si+1 , then
his payment in the truth-telling equilibrium would still be the same (because it does not depend on
his own bid, given the allocation of positions), and so pV,(i) ≤ αi (si − ∆) < αi si . Thus, for any i,
b∗i > b∗i+1 , and therefore each bidder’s position is the same as in the truthful equilibrium of VCG.
Therefore, by construction, payments are also the same.
Next, to see that no bidder i can benefit by bidding less than b∗i , suppose that he bids an amount
b0 < b∗i that puts him in position i0 > i. Then, by construction, his payment will be equal to the
amount that he would need to pay to be in position i0 under VCG, provided that other players bid
truthfully. But truthful bidding is an equilibrium under VCG, and so such deviation cannot be
profitable there—hence, it cannot be profitable in strategy profile B ∗ of game Γ either.
To see that no bidder i can benefit by bidding more than b∗i , suppose that he bids an amount
b0 > b∗i that puts him in position i0 < i. Then the net payoff from this deviation is equal to
Pi−1 V,(j)
Pi−1
−
(αi0 −αi )si −(αi0 b∗i0 −αi bi+1 ) < (αi0 −αi )si −(αi0 b∗i0 +1 −αi bi+1 ) = j=i
0 (αj −αj+1 )si −
j=i0 (p
Pi−1
Pi−1
V,(j+1)
p
) = j=i0 (αj − αj+1 )si − j=i0 (αj − αj+1 )sj+1 . But since si ≤ sj+1 for any j < i, the last
expression is less than or equal to zero, and hence the deviation is not profitable.
To check that this equilibrium is locally envy-free, note that if bidder i swapped his bids with
bidder i−1, his payoff would change by (αi−1 −αi )si −(αi−1 b∗i −αi bi+1 ) = (αi−1 −αi )si −(pV,(i−1) −
pV,(i) ) = (αi−1 − αi )si − (pV,(i−1) − pV,(i) ) = (αi−1 − αi )si − (αi−1 − αi )si = 0. In other words, each
bidder is indifferent between his actual payoff and his payoff after swapping bids with the bidder
above, and hence the equilibrium is locally envy-free.
Let us now show that B ∗ is the best locally-envy free equilibrium for the bidders and the worst
locally envy-free equilibrium for the search engine. A standard result of matching theory states
that there exists an assignment that is the best stable assignment for all advertisers, and the worst
stable assignment for all positions. A stable assignment is characterized by a vector of payments
p = (p1 , . . . , pK ). Let pV = (pV1 , . . . , pVK ) be the set of dominant-strategy VCG payments, i.e., the
set of payments in equilibrium B ∗ of game Γ.
In any stable assignment, pK must be at least as high as αK sK−1 , since otherwise advertiser
K − 1 would find it profitable to match with position K. On the other hand, pVK = αK sK−1 , and
hence in the buyer-optimal stable assignment, pK = pVK .
Next, in any stable assignment, it must be the case that pK−1 − pK ≥ (αK−1 − αK )sK —
otherwise, advertiser K would find it profitable to re-match with position K − 1. Hence, pK−1 ≥
(αK−1 −αK )sK +pK ≥ (αK−1 −αK )sK +pVK = pVK−1 , and so in the buyer-optimal stable assignment,
pK−1 = pVK−1 .
Proceeding by induction, we get pk = pVk for any k ≤ K in the buyer-optimal (and therefore
seller-pessimal) stable assignment, and so in any locally envy-free equilibrium of game Γ, the total
P
V
revenue of the seller is at least as high as K
k=1 pk .

17

Proof of Theorem 8
First, note that in equilibrium, for any player i, any history h, and any number of remaining players
k, the drop-out price pi (k, h, si ) tends to infinity as si tends to infinity. (Otherwise there would
exist a player for whom it was optimal to deviate from his strategy and stay longer, for a sufficiently
high value s.) Next, take any equilibrium of the generalized English auction. Note that if in this
equilibrium pi (k, h, si ) > pi (k, h, s0i ) for some k, h, i, and types si < s0i , then it has to be the
case that both types si and s0i are indifferent between dropping out at pi (k, h, si ) and pi (k, h, s0i ).
(Otherwise one of them would be able to increase his payoff by mimicking the other.) Consequently,
we can “swap” such players’ strategies, and therefore there exists an “observationally equivalent”
equilibrium in which strategies are nondecreasing in types; also, they are still continuous in own
values. Consider this equilibrium profile of strategies pi (k, h, si ).
Let q(k, bk+1 , s) be such a price that a player with value s is indifferent between getting position
k at price bk+1 and position k − 1 at price q(k, bk+1 , s). That is,
αk−1 (s − q(k, bk+1 , s)) = αk (s − bk+1 )
m
q(k, bk+1 , s) = s −

αk
(s − bk+1 ).
αk−1

Slightly abusing notation, let q(k, h, s) = q(k, bk+1 , s), where bk+1 is the last bid at which a player
dropped out in history h. (This player received position k + 1. If history h is empty, we set
bk+1 = 0.) We will now show that for any i, k, h, and si , pi (k, h, si ) = q(k, h, si ).
Suppose that is not the case, and take the largest k for which there exist such history h (with
the last player dropping out at bk+1 ), player i, and type si (surviving with positive probability on
the equilibrium path) that pi (k, h, si ) 6= q(k, h, si ). Since by assumption, all strategies up to this
stage were pi (·, ·, ·) = q(·, ·, ·), we know that there exists a value smin ≥ bk+1 , such that all players
with values less than smin have dropped out, and all players with values greater than smin are still
in the auction.
Step 1. Suppose for some type s ≥ smin , pmax (k, h, s) ≡ maxi pi (k, h, s) > q(k, h, s). Let s0
be the smallest type, and let i be the corresponding player, such that pi (k, h, s0 ) = pmax (k, h, s).
Without loss of generality, we can assume that there is a positive mass of types of other players
dropping out at or before pi (k, h, s0 ).23
Step 1(a). Suppose first that there is a positive mass of types of other players dropping out
at pi (k, h, s0 ) = pmax (k, h, s). That implies that with positive probability, player i of type s0 will
remain in the subgame following the drop-out of some other player at pi (k, h, s0 ) (since ties are
broken randomly). Let us show that in this subgame, player i of type s0 will be the first player to
23

Otherwise, we have ∀j 6= i, pj (k, h, s0 ) ≤ pi (k, h, s) ≤ pmax (k, h, s) = pi (k, h, s0 ) ⇒ ∀j 6= i, pj (k, h, s0 ) =
pi (k, h, s0 ) and ∀s0 > s0 , pj (k, h, s0 ) > pi (k, h, s0 ). But we also have pi (k, h, s0 ) = pmax (k, h, s) > q(k, h, s) ≥
q(k, h, s0 ), and so for some s0 > s0 we have pmax (k, h, s0 ) > q(k, h, s0 ) and pmax (k, h, s0 ) > pmax (k, h, s). We
can then consider s00 in place of s0 , where s00 is the smallest type, and i0 is the corresponding player, such that
pi0 (k, h, s00 ) = pmax (k, h, s0 ). There is a positive mass of types of other players dropping out before pi0 (k, h, s00 ).

18

drop out with probability 1. Suppose that is not the case, and let l < k − 1 be the smallest number
such that he gets position l with positive probability.
Consider any continuation of history h, hl+2 , such that the last player to drop out in that history
gets position l+2 and drops out at price bl+2 , player i of type s0 is one of the remaining l+1 players,
there is a positive probability that player i gets position l in the continuation subgame following
history hl+2 , and there is zero probability that player i gets position m for any m < l. Note
that s0 ≥ bl+2 —otherwise it would have been optimal for player i to drop out earlier. Consider
pi (l + 1, hl+2 , s0 ). There must be a positive mass of types of other players who drop out no
later than pi (l + 1, hl+2 , s0 ). Take the highest such type, s0 , and the corresponding player j.
It has to be the case that s0 > s0 ≥ bl+2 . It also has to be the case that q(l + 1, hl+2 , s0 ) is
less than or equal to pi (l + 1, hl+2 , s0 ). (Otherwise player j with value s0 would be playing a
strategy weakly dominated by dropping out at q(l + 1, hl+2 , s0 ), with a positive probability of
earning strictly less than he would have earned if he waited until that price level.) Therefore,
pi (l + 1, hl+2 , s0 ) ≥ q(l + 1, hl+2 , s0 ) > q(l + 1, hl+2 , s0 ) ≥ bl+2 . Let us show that it would be
strictly better for player i with type s0 to drop out at q(l + 1, hl+2 , s0 ) instead of waiting until
pi (l + 1, hl+2 , s0 ). Indeed, if nobody else drops out in between, or someone drops out before
q(l + 1, hl+2 , s0 ), these strategies would result in identical payoffs. Otherwise payoffs are different,
and this happens with positive probability. Under the former strategy, player i earns
αl+1 (s0 − bl+2 ).
Under the latter strategy, he earns
αl (s0 − bl+1 ),
where bl+1 is the price at which somebody else dropped out. (The probability of getting a spot
m < l is zero by construction.) With probability 1, bl+1 ≥ q(l + 1, hl+2 , s0 ), and with positive
probability bl+1 > q(l + 1, hl+2 , s0 ), so the expected payoff from waiting until pi (l + 1, hl+2 , s0 ) is
strictly less than the expected payoff from dropping out at q(l + 1, hl+2 , s0 ): E[αl (s0 − bl+1 )] <
αl (s0 − q(l + 1, hl+2 , s0 )) = αl (s0 − (s0 −

αl+1
αl (s0

− bl+2 ))) = αl+1 (s0 − bl+2 ).

Therefore, in the subgame following the drop-out of some other player at pi (k, h, s0 ), player i
of type s0 gets position k − 1 with probability 1, and therefore his payoff is αk−1 (s0 − pi (k, h, s0 )).
Now suppose player i dropped out at a price pi (k, h, s0 ) −  instead of waiting until pi (k, h, s0 ).
If somebody else drops out before pi (k, h, s0 ) −  or after pi (k, h, s0 ), or drops out at pi (k, h, s0 )
but player i is chosen to drop out first, then these two strategies result in identical payoffs. The
probability that somebody drops out in the interval (pi (k, h, s0 ) − , pi (k, h, s0 )) goes to zero as 
goes to zero, and the possible difference in the payoffs is finite, so the difference in payoffs due
to this contingency goes to zero as  goes to zero. Finally, there is a positive probability that
somebody else drops out at pi (k, h, s0 ) and is chosen to drop out first. If player i drops out before
that, at pi (k, h, s0 ) − , his payoff is αk (s0 − bk+1 ). If he waits until pi (k, h, s0 ), we know that in the
subsequent subgame his payoff is αk−1 (s0 − pi (k, h, s0 )) < αk−1 (s0 − q(k, h, s0 )) = αk (s0 − bk+1 ).

19

Therefore, for a sufficiently small , it is strictly better for player i with value s0 to drop out at
pi (k, h, s0 ) −  instead of waiting until pi (k, h, s0 ), which contradicts the assumption that {pj (·, ·, ·)}
is an equilibrium.
Step 1(b). Now suppose there is mass zero of types of other players dropping out at pi (k, h, s0 ) =
pmax (k, h, s), but there is a positive mass dropping out before pi (k, h, s0 ). Consider a sequence of
small positive numbers (n ) converging to 0 as n → ∞ and sequences (πn1 ), (πn2 ), . . . , (πnk−1 ), where
πnl is the probability that player i with value s0 will end up in position l if another player drops
out at price (pi (k, h, s0 ) − n ). Let B = α1 s0 , i.e., the maximum payoff that a player with value s0
can possibly get in the auction. Now, if (πnk−1 ) converges to 1 and (πnl ) converges to zero for all
l < k − 1, then, by an argument similar to the one at the end of Step 1(a), it is better for player
i of type s0 to drop out at some time pi (k, h, s0 ) − .24 If (πnk−1 ) does not converge to 1, take the
highest l for which (πnl ) does not converge to zero, and take a subsequence of n along which (πnl )
converges to some positive number ρ. Let s1 be the value such that for a random draw of types of
remaining players other than i, conditional on each draw being greater than s0 , the probability that
Q
1−F (s )
at least one type is less than s1 is equal to ρ2 (i.e., j6=i 1−Fjj (s01 ) = 1 − ρ2 ). Clearly, s1 > s0 . Take a
small n , and consider a subgame following some continuation of history h, hl+2 , where the (l + 2)nd
player drops out at bl+2 , l + 1 players, including player i, remain, and player i gets position l with
probability close to ρ (and any position higher than l with probability close to zero). Consider
pi (l + 1, hl+2 , s0 ). There must exist a player, j, such that pj (l + 1, hl+2 , s1 ) ≤ pi (l + 1, hl+2 , s0 ).
(Otherwise, the probability of player i surviving until position l is less than or close to ρ2 , and thus
cannot be close to ρ.) But then, by an argument similar to the one in Step 1(a), in this subgame
it is strictly better for player i to drop out slightly earlier than pi (l + 1, hl+2 , s0 ): Conditional on
somebody else dropping out in between, the benefit is close to zero (the probability of getting a
position better than l times the highest possible benefit B), while the cost is close to a positive
number (the payoff from being in position l + 1 at price bl+2 vs. the payoff from being in position
l at price at least s1 −

αl+1
αl (s1

− bl+2 )—contradiction.

Step 2. In Step 1, we have shown that pmax (k, h, s) ≡ maxi pi (k, h, s) cannot be greater than
q(k, h, s), and therefore for any player i and type s ≥ smin , pi (k, h, s) ≤ q(k, h, s). Take some value
s > smin and player i. Suppose pi (k, h, s) < q(k, h, s). Take some other player j. From Step 1,
we have pj (k, h, smin ) ≤ q(k, h, smin ) < q(k, h, s), and therefore if player i waited until q(k, h, s)
instead of dropping out at pi (k, h, s), the probability that someone dropped out in between would
be positive, and hence the payoff would be strictly greater (by the definition of function q(), player
i with value s strictly prefers being in position k − 1 or higher at any price less than q(k, h, s) to
being in position k at price bk+1 ), which is impossible in equilibrium. Hence, pi (k, h, s) = q(k, h, s)
for all s > smin . By continuity, we also have pi (k, h, smin ) = q(k, h, smin ).

24

If some other player drops out between pi (k, h, s0 ) −  and pi (k, h, s0 ), the benefit of staying longer tends to zero
(it is at most B(1 − π k−1 )), while the cost converges to a positive number (the difference between getting position k
at price bk+1 and position k − 1 at price pi (k, h, s0 )).

20

21

A

2:00 AM

4:00 AM

6:00 AM

C

10:00 AM 12:00 PM

2:00 PM

7/19

7/20

(b) 1 week

7/21

7/22

7/23

7/24

Figure 1(a) presents the top bids, in dollars, for a specific keyword, every 15 minutes from 12:15 AM to 2:15 PM on July 18, 2002. There are two
advertisers competing for the top spot. As indicated at point A, bidding starts with both of them below their maximum bids. The first advertiser (or,
most likely, his robot) recognizes an opportunity to obtain the first listing position by raising the second bidder’s bid by $0.01, and does so. But then
the second advertiser sees that it has been outbid, and raises its bid in turn. This process continues until the bids reach one advertiser’s maximum
bid (say, the first advertiser’s maximum), as shown at B. The first advertiser’s autobidder can no longer increase its bid to obtain the first place, so it
instead looks to avoid overspending, which it does by lowering its bid to $0.01 more than the third-place bidder, yielding the bid at C. But then the
second advertiser sees that it can still obtain the first place by bidding $0.01 more than the first advertiser’s newly-lowered bid. Bidding therefore
begins to increase, yielding more and more “teeth” in the sawtooth pattern. Figure 1(b) shows the continuation of this pattern for the same keyword,
for one week. We do not know what this keyword is, since in the data that we have received from Overture the keywords are replaced with identifying
numbers. However, the sawtooth pattern appears to be common for most keywords.

Figure 1: “Sawtooth” pattern

$0
7/18

$0
12:00 AM

(a) 14 hours

$2

$2

8:00 AM

$4

$4

$6

$8

$8

$6

$10

B

$12

$10

$12

