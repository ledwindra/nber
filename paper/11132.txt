NBER WORKING PAPER SERIES

THE MARKET PRICE OF AGGREGATE RISK AND THE WEALTH DISTRIBUTION
Hanno Lustig
Yi-Li Chien
Working Paper 11132
http://www.nber.org/papers/w11132

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
February 2005

Lustig would like to thank his advisors, Robert Hall, Thomas Sargent and Dirk Krueger, for their help
and encouragement. Lars Hansen and Stijn Van Nieuwerburgh provided detailed comments. The views
expressed herein are those of the author and do not necessarily reflect the views of the National Bureau
of Economic Research.
Â© 2005 by Hanno Lustig and Yi-Li Chien. All rights reserved. Short sections of text, not to exceed
two paragraphs, may be quoted without explicit permission provided that full credit, including Â© notice,
is given to the source.

The Market Price of Aggregate Risk and the Wealth Distribution
Hanno Lustig and Yi-Li Chien
NBER Working Paper No. 11132
February 2005
JEL No. G0
ABSTRACT
We introduce limited liability in a model with a continuum of ex ante identical agents who face aggregate
and idiosyncratic income risk. These agents can trade a complete menu of contingent claims, but they
cannot commit and shares in a Lucas tree serve as collateral to back up their state-contingent promises.
The limited liability option gives rise to a second risk factor, in addition to aggregate consumption
growth risk. This liquidity risk is created by binding solvency constraints, and it is measured by the
growth rate of one moment of the wealth distribution. The economy is said to experience a negative
liquidity shock when this growth rate is high and a large fraction of agents faces severely binding solvency
constraints. The adjustment to the Breeden-Lucas stochastic discount factor induces substantial time
variation in equity risk premia that is consistent with the data at business cycle frequencies.

Hanno Lustig
UCLA Anderson School of Management
110 Westwood Plaza, Suite C413
Los Angeles, CA 90095-1481
and NBER
hlustig@anderson.ucla.edu
Yi-Li Chien
403 West State Street
Krannert School of Management
Purdue University
West Lafayette
IN 47907
yilichien@gmail.com

1

Introduction

We develop a model of an exchange economy with a continuum of agents who have power utility
with risk aversion coefficient Î³. These agents face aggregate and idiosyncratic income risk. They
have access to a complete menu of contingent claims, but the enforcement of these contracts is
imperfect. Because households can declare themselves bankrupt and escape their debts, they face
endogenous solvency constraints that restrain their resort to the limited liability option. In a
calibrated version of our model, the risk associated with these solvency constraints delivers an
equity premium of 8 percent per annum, a risk-free rate of 2 percent per annum and substantial
variation in equity risk premia, as well as an upward sloping yield curve, consistent with the data.
This variation in risk premia is driven exclusively by shocks to the wealth distribution induced by
these solvency constraints.
An economy that is physically identical but with perfect enforcement of contracts forms a
natural benchmark with which to compare our model. Because assets only reflect aggregate consumption growth risk in this benchmark representative agent model (Lucas (1978) and Breeden
(1979)), two quantitative asset pricing puzzles arise. These puzzles follow from the fact that aggregate consumption growth in the US is i.i.d. and not volatile. First, risk premia are small for
plausible levels of risk aversion (Hansen and Singleton (1982) and Mehra and Prescott (1985)),
and second, risk premia do not vary in this economy while they do in the data (see e.g. Campbell
and Cochrane (1999)). Our model produces an additional risk factor that addresses these puzzles.
Since aggregate endowment growth is i.i.d., there are no built-in dynamics in risk premia.
Beyond the constant risk in the aggregate endowment process, the limited liability technology contributes a second source of time-varying risk, the risk associated with binding solvency constraints.
We call this liquidity risk. In the model without solvency constraints households consume a constant share of the aggregate endowment, governed by fixed Pareto-Negishi weights. In the case
of limited commitment these weights increase each time the solvency constraint binds. The average of these increases across households contributes a multiplicative adjustment to the standard
âˆ’1
Lucas-Breeden SDF Î²Î»âˆ’Î³
t+1 (stochastic discount factor): the growth rate of the Î³ -th moment of
the distribution of stochastic Pareto-Negishi weights, denoted gt+1 , raised to the power Î³:
Î³
mt+1 = Î²Î»âˆ’Î³
t+1 gt+1

This last component reflects the aggregate shadow cost of the solvency constraints. If this growth
rate is high, a large fraction of agents is constrained and the economy is said to be hit by a negative
liquidity shock.
Liquidity is important for asset pricing. Illiquid assets and assets with high transaction costs
trade at a discount (e.g. Amihud and Mendelson (1986) and Brennan and Subrahmanyam (1996)).
2

In addition, measures of aggregate liquidity also predict future returns and liquidity shocks are
positively correlated with return shocks (Jones (2002)). Furthermore, securities with returns that
are positively correlated with aggregate market liquidity have high expected returns (see Pastor
and Stambaugh (2003), Goyenko (2005) and Acharya and Pedersen (2005)). Our paper delivers a
theoretical underpinning for the effect of variation in aggregate liquidity in a standard endowment
economy with infinitely lived agents and with solvency constraints as the only trading friction.
These liquidity shocks induced by the solvency constraints increase the volatility of the SDF
only if negative liquidity shocks occur when aggregate consumption growth is low (recessions).
Liquidity shocks in recessions emerge in equilibrium in our model because idiosyncratic income risk
is concentrated in long recessions. This CCV (countercylical cross-sectional variance) mechanism
creates a motive for increased trading ahead of these long recessions: Households would like to
borrow more against their income in the â€œhigh idiosyncratic statesâ€ to smooth consumption but
they cannot, because they would walk away from the contract when that state of the world is
realized. This CCV channel has support in labor and entrepreneurial income data. Storesletten,
Telmer, and Yaron (2004) argue that the conditional standard deviation of labor income shocks
more than triples in US recessions.
The liquidity shock dynamics of our model endogenously generate more time-variation in the
conditional volatility of the SDF than competing equilibrium models. The liquidity shocks are
largest when a recession hits after a long string of aggregate consumption growth realizations
without an increase in the variance of income risk. In these long spells, there is a buildup of
households in the left tail of the wealth distribution: more agents do not encounter states with
binding constraints and they deplete their financial assets because interest rates are lower than
in the representative agent economy. When idiosyncratic risk increases in a long recession, those
low-wealth agents with high income draws encounter severely binding solvency constraints and the
left tail of the wealth distribution is erased. After this episode, the conditional market price of
risk decreases sharply. This time variation in risk premia implies stock return predictability that
is consistent with the data at short investment horizons of up to two years. The market price of
risk peaks in short recessions and in the trough of long recessions.

1.1

Related Literature

Our paper follows He and Pearson (1991) and Luttmer (1992) in exploring solvency constraints
as a device for understanding asset pricing anomalies. Zhang (1997) first endogenized borrowing
constraints in a class of incomplete markets models, extending the work of Aiyagari and Gertler
(1991), Telmer (1993), Lucas (1994) and Heaton and Lucas (1996). We follow a different route
that does not involve exogenous restrictions on this menu of traded assets, but instead it focuses
on the restrictions imposed by the lack of commitment.
3

Alvarez and Jermann (2000) decentralize constrained efficient allocations using solvency constraints that are not too tight and make contact with the literature on risk sharing with limited
commitment. Our model fits in this tradition, but it brings out the importance of collateralizable
wealth. Part of the endowment of our economy is yielded by a tradable Lucas tree; the rest of the
endowment is labor income. Instead of sending agents into autarky upon default, as Alvarez and
Jermann do, we allow agents to file for bankruptcy. When agents declare bankruptcy, they lose
their holdings of the Lucas tree, but all of their current and prospective labor income is protected
from creditors. Shares in the Lucas tree serve as collateral. Since the punishment in our model is
weaker than in Alvarez and Jermann (2000), less risk sharing can be sustained. This improves the
asset pricing predictions of the model for reasonable parameter values. The continuum of agents in
our model contributes important differences vis- aÌ€-vis the two-agent model of Alvarez and Jermann
(2001). In their model, as well as in a two-agent version of our model, the conditional market price
of risk and interest rates are i.i.d. over time when aggregate consumption growth is i.i.d. over
time. This version of the model does not contribute any dynamics endogenously. As a result, the
standard deviation of stock returns is obviously much too small in this two-agent model, since
there is no persistence in equity risk premia and interest rates.
Geanakoplos and Zame (1998)(henceforth GZ) consider an environment in which households
can default on their promises at any time, and financial securities are only traded if the promises
associated with these securities are backed by collateral. What distinguishes our setup from GZ is
the fact that only outright default on all promises is allowed, not default on individual obligations.
Kubler and Schmedders (2003) develop a computational algorithm for an infinite horizon version
of the GZ economy.
Finally, there is a large theoretical literature on liquidity, but very few models can explain
why and how aggregate liquidity risk is priced. In an influential paper, Acharya and Pedersen
(2005) consider an OLG model in which agents have to sell their holdings of the security after
one period. In doing so, they incur a random liquidity cost. Holmstrom and Tirole (1998) take a
different approach; they derive a liquidity-based asset pricing model in which variation in corporate
demand for cash is the driving force. Our paper shows that we can study aggregate liquidity and
asset pricing in a canonical endowment economy, the work horse of dynamic asset pricing theory,
with infinitely lived agents that face solvency constraints, but no other impediments to trade.
This paper is organized as follows. Section 2 of the paper describes the environment. Section
3 characterizes the equilibrium allocations and prices, using stochastic Pareto-Negishi weights.
Finally, section 4 discusses the results; we show that a reasonably calibrated version of the model
can match the equity premium and the risk-free rate, and that the time variation in risk premia
imputed by the liquidity shocks is consistent with the data. All the proofs are in the appendix.
The code for solving a calibrated version of our model is available on-line.
4

2
2.1

Environment and Equilibrium
Uncertainty

The events s = (y, z) take on values on a discrete grid S = Y Ã— Z where Y = {y1 , y2 , . . . , yn } and
Z = {z1 , z2 , . . . , zm } . y is household specific and z is an aggregate event. Let st = (y t, z t ) denote
an event history up until period t. This event history includes an individual event history y t and
an aggregate event history z t . We will use sÏ„ â‰¥ st to denote all the continuation histories of st . s
follows a Markov process such that:
Ï€(z â€² |z) =

X

Ï€(y â€², z â€² |y, z) for all z âˆˆ Z, y âˆˆ Y.

y â€² âˆˆY

We assume a law of large numbers holds such that the transition probabilities can be interpreted
as fractions of agents making the transition from one state to another. In addition, we assume
there is a unique invariant distribution Ï€z (y) in each state z : by the law of large numbers Ï€z (y)
is also the fraction of agents drawing y when the aggregate event is z. (S âˆž , F , P ) is a probability
space where S âˆž is the set of all possible histories and P is the corresponding probability measure
induced by Ï€. The transition probabilities for idiosyncratic and aggregate shocks are assumed to
be independent.
Condition 2.1. The transition probabilities can be stated as:
Ï€(y â€², z â€² |y, z) = Ï•(y â€²|y)Ï†(z â€² |z)
This does not rule out aggregate state dependence in the conditional variance of labor income
shocks, because the labor income share can depend on the realization of the aggregate shock. We
also assume the transition matrix for idiosyncratic events y, Ï†(y â€²|y), satisfies monotonicity and
there are no absorbing states, Ï†(y â€²|y) >> 0.

2.2

Preferences and Endowments

There is a continuum of consumers of measure 1. There is a single consumption good and it is
non-storable. The consumers rank consumption streams {ct } according to the following utility
function:
U(c)(s0 ) =

âˆž X
X
t=0

Î² t Ï€(st |s0 )

st â‰¥s0

ct (st )
1âˆ’Î³

1âˆ’Î³

,

(2.1)

where Î³ is the coefficient of relative risk aversion.
The economyâ€™s aggregate endowment process {et } depends only on the aggregate event history:
et (z t ) is the realization at aggregate node z t . Each agent draws a labor income share Î·b(yt , zt )
5

as a fraction of the aggregate endowment in each period. Her labor income share only depends
on the current individual and aggregate event. {Î·t } denotes the individual labor income process
Î·t (st ) = Î·b(yt , zt )et (z t ),with st = (stâˆ’1 , y, z). We assume Î·b(yi+1 , zt ) > Î·b(yi , zt ) and Î·b(yt , zt ) >> 0 in
all states of the world.

There is a Lucas (1978) tree that yields a non-negative dividend process {xt } . The dividends
are not storable but the tree itself is perfectly durable. The Lucas tree yields a constant share Î±

of the total endowment, the remaining fraction is the labor income share. By definition, the labor
share of the aggregate endowment equals the aggregated labor income shares:
X

Ï€z (y â€²)b
Î· (y â€², z â€² ) = (1 âˆ’ Î±),

(2.2)

y â€² âˆˆY

for all z â€² . An increase in Î± translates into proportionally lower Î·b(y, z) for all (y, z).

Agents are endowed with initial non-labor wealth (net of endowment) Î¸0 . This represents the
value of this agentâ€™s share of the Lucas tree producing the dividend flow in units of time 0 consumption. Î˜0 denotes the initial distribution of wealth and endowments (Î¸0 , y0 ).

2.3

Market Arrangements

Claims to oneâ€™s entire labor income process {Î·t } cannot be traded directly while shares in the Lucas
tree can be traded. Households can write borrowing and lending contracts based on individual labor
income realizations. We use Ï†t (st ) to denote an agentâ€™s holdings of shares in the Lucas tree. In
each period households go to securities markets to trade Ï†t (st ) shares in the tree at a price pet (z t )
and a complete set of one-period ahead contingent claims at (st , sâ€² ) at prices qt (st , sâ€² ). at (st , sâ€² ) is
a security that pays off one unit of the consumption good if the household draws private shock y â€²
and the aggregate shock z â€² in the next period with sâ€² = (y â€², z â€² ). qt (st , sâ€² ) is todayâ€™s price of that
security. In this environment the payoffs are conditional on an individual event history and the
aggregate event history rather than just the aggregate state of the economy.
An agent starting period t with initial wealth Î¸t (st ) buys consumption commodities in the spot
market and trades securities subject to the usual budget constraint:
ct (st ) + pet (z t )Ï†t (st ) +

X

at+1 (st , sâ€² )qt (st , sâ€² ) â‰¤ Î¸t .

(2.3)

sâ€²

If the next periodâ€™s state is st+1 = (st , sâ€² ), her wealth is given by her labor income, the value of
her stock holdings -including the dividends issued at the start of the period- less whatever she
6

promised to pay in that state:


Î¸t+1 (st+1 ) = Î·b(yt+1 , zt+1 )et+1 (z t+1 ) + pet+1 (z t+1 ) + Î±et+1 (z t+1 ) Ï†t (st ) + at+1 (st+1 ) .
|
{z
} |
{z
} | {z }
labor income
value of tree holdings
contingent payoff

2.4

Enforcement Technology

In this literature, it has been common to assume that households can be excluded from financial
markets forever when they default, following Kehoe and Levine (1993) and Kocherlakota (1996).
We allow agents to file for bankruptcy. When a household files for bankruptcy, it loses all of its
asset but its labor income cannot be seized by creditors and it cannot be denied access to financial
markets.
Limited liability imposes solvency constraints on households, one for each state:
 e

pt+1 (z t+1 ) + Î±et+1 (z t+1 ) Ï†t (st ) â‰¥ âˆ’at+1 (st , sâ€² ) for all sâ€² âˆˆ S,
where st+1 = (st , sâ€² ).

(2.4)

These solvency constraints follow endogenously from the enforcement technology if we rule out
solvency constraints that are too tight (see Alvarez and Jermann (2000)); these constraints only
bind when the participation constraint binds. If the agent chooses to default, her assets and that
periodâ€™s dividends are seized and transferred to the lender. Her new wealth level is that periodâ€™s
labor income:
Î¸t+1 (st+1 ) = Î·b(yt+1 , zt+1 )et+1 (z t+1 ).

If the next periodâ€™s state is st+1 = (st , sâ€² ) and the agent decides not to default, her wealth is given
by her labor income, the value of her tree holdings less whatever she promised to pay in that state:


Î¸t+1 (st+1 ) = Î·b(yt+1 , zt+1 )et+1 (z t+1 ) + pet+1 (z t+1 ) + Î±et+1 (z t+1 ) Ï†t (st ) + at+1 (st+1 ).

This default technology effectively provides the agent with a call option on non-labor wealth at
a zero strike price. Lenders keep track of the borrowerâ€™s asset holdings and they do not buy
contingent claims when the agent selling these claims has no incentive to deliver the goods. The
constraints in (2.4) just state that an agent cannot promise to deliver more than the value of his
Lucas tree holdings in any state sâ€² . These constraints typically bind in the high labor income state
tomorrow (in t + 1):



pet+1 (z t+1 ) + Î±et+1 (z t+1 ) Ï†t (st ) = âˆ’at+1 (st , hi),
7

but this does not mean these households are borrowing-constrained in good times, because this
is a constraint on contracts traded today at t. Instead, this means the household cannot transfer enough units of consumption from the high states to the low states tomorrow, because of
insufficient collateral. To smooth consumption over time, the household only wants to borrow
P
at+1 (st , sâ€² )qt (stâˆ’1 , lo, z, sâ€² ) < 0 in the low idiosyncratic state today at t, and the total amount
sâ€²

she can borrow is constrained by the binding solvency constraints at t + 1. Hence, the household
will tend to be borrowing-constrained in low idiosyncratic states, and more so after a history of
low idiosyncratic shocks.

Limited liability and Permanent Exclusion Three key differences between limited liability
and permanent exclusion deserve mention. First, the limited liability constraints in (2.4) only
require information about the householdâ€™s assets and liabilities. To determine the appropriate
solvency constraints in the case of permanent exclusion, the lender needs to know the borrowerâ€™s
endowment process and her preferences (Alvarez and Jermann (2000)). This type of information
is not readily available and costly to acquire. Moreover, the borrower has an incentive to hide his
private information. Second, in the case of limited liability it is immaterial whether or not the
household actually defaults when the constraint binds. The lender is paid back anyhow and the
borrower is indifferent as well. Households could randomize between defaulting and not defaulting
when the constraint binds. Finally, these solvency constraints are much tighter than the ones that
decentralize the constrained efficient allocations when agents can be excluded from trading (see
Section 3.1) and they support less risk sharing as a result.

2.5

Sequential Equilibrium

The definition of equilibrium is standard. Each household is assigned a label that consists of its
initial financial wealth Î¸0 and its initial state s0 . A household of type (Î¸0 , s0 ) chooses consumption
{ct (Î¸0 , st )}, trades claims {at (sâ€² ; Î¸0 , st )} and shares {Ï†t (Î¸0 , st )} to maximize her expected utility:
max

{c},{Ï†}{a}sâ€²

âˆž X
X
t=0 st â‰¥s

ct (st )
Î² Ï€(s |s0 )
1âˆ’Î³
0
t

1âˆ’Î³

t

subject to the usual budget constraint:
ct (Î¸0 , st ) + pet (z t )Ï†t (Î¸0 , st ) +

X
sâ€²

8

at (sâ€² ; Î¸0 , st )qt (st , sâ€² ) â‰¤ Î¸t ,

(2.5)

and a collection of solvency constraints, one for each state:
 e

pt+1 (z t+1 ) + Î±et+1 (z t+1 ) Ï†t (Î¸0 , st ) â‰¥ âˆ’at (sâ€² ; Î¸0 , st ) for all sâ€² âˆˆ S,
where st+1 = (st , sâ€² ).

(2.6)

The appropriate transversality conditions read as
lim

tâ†’âˆž

X
st



Î² t Ï€(st |s0 )uâ€² (cÌ‚t (st ))[at (sâ€² ; Î¸0 , st ) + pet+1 (z t+1 ) + Î±et+1 (z t+1 ) Ï†t (Î¸0 , st )] = 0

The definition of a competitive equilibrium is straightforward.
Definition 2.2. A competitive equilibrium with solvency constraints for initial distribution Î˜0 over
(Î¸0 , y0 ) consists of trading strategies {at (sâ€² ; Î¸0 , st )} , {ct (Î¸0 , st )} and {Ï†t (Î¸0 , st )} and prices {qt (st , sâ€² }
and {pet (z t )} such that (1) these solve the household problem (2) the markets clear
Z X

X

Ï•(y t |y0 )

yt

!

at (y â€² , z â€² ; Î¸0 , y t , z t ) dÎ˜0 = 0 for all z t

yâ€²

Z X

Ï•(y t |y0 )Ï†t (Î¸0 , st )dÎ˜0 = 1 for all z t

yt

To prevent arbitrage opportunities in our economy for unconstrained agents in some state
tomorrow, the SDF is set equal to the highest IMRS across all agents:
mt+1

uâ€²(ct+1 (Î¸0 , y t+1 , z t+1 ))
= maxt
.
(Î¸0 ,s )
uâ€² (ct (Î¸0 , y t , z t ))

This follows immediately from the householdâ€™s first order condition and the observation that same
households with positive measure are unconstrained in each node z t+1 .
In the presence of these state-contingent solvency constraints, the individual IMRS is a valid
SDF for payoffs only in those states in which he is unconstrained (Alvarez and Jermann (2000)).
Assets can no longer be priced off individual consumption processes and the Lucas-Breeden discounter does not reappear in the continuous-time limit.1
1

By contrast, in models with exogenous borrowing constraints, (e.g. He and Modest (1995)) the individual IMRS
is a valid SDF for excess returns in all states. So is the cross-sectional average of these individual intertemporal
marginal rates of substitution. In the continuous time limit the difference between the average marginal utility and
the marginal utility of average consumption is absorbed into the drift (Grossman and Shiller (1982)) and the assets
can be priced using the Breeden-Lucas SDF.

9

3

Characterizing Equilibrium Prices and Allocations

To solve directly for prices and allocations in the sequential trading economy is prohibitively hard,
especially because we do not know the mapping from the history of aggregate shocks or the wealth
distribution to the contingent claim prices. To avoid this problem, we restate the household problem
in an equivalent time zero trading environment, in which agents trade only once subject to a single
budget constraint. We start in subsection 3.1 by deriving the solvency constraints in the time zero
trading setup that ensure the allocations are immune to bankruptcy, and we use this formulation
of the constraints to characterize regions of the parameter space in which perfect risk sharing can
be sustained. We also show that the solvency constraints in this environment are tighter than
the ones proposed by Alvarez and Jermann (2000).2 If equilibrium interest rates are high enough,
there is a one-to-one mapping from these equilibria to sequential trading equilibria. We can solve
for equilibrium allocations and prices much the same way as in a standard Arrow-Debreu economy,
but, because of the solvency constraints, each householdâ€™s Pareto-Negishi weight is stochastic. This
weight summarizes a householdâ€™s history of shocks â€“the history of binding solvency constraints. In
subsection 3.2, we show that a householdâ€™s consumption share depends on his weight relative to the
growth rate of the 1 \ Î³-th moment of the weight distribution. The stochastic discount factor is the
standard one multiplied by the growth rate of the 1 \ Î³-th moment of the weight distribution. This
subsection also explores the connection between risk premia and the distribution of the weights. In
subsection 3.3, we lay out the computational algorithm. This algorithm uses the mapping from the
history of shocks to state prices. Finally, subsection 3.4 contrast these results with those obtained
in a two-agent version of our economy.

3.1

Solvency Constraints

The solvency constraints in the sequential formulation can be restated as restrictions on the price
of two claims to infinite cash flow streams. Î z t [{d}] denotes the price at node z t in units of z t
âˆž

consumption of a claim on {dt (st )}t=0 . The solvency constraints are equivalent to the following
restriction on the price of two claims, one on consumption and one on labor income:
Î st [{c}] â‰¥ Î st [{Î·}] , for each st .

(3.1)

First, we show that imposing these solvency constraints is equivalent to imposing participation
constraints that prevent default in an environment where agents can default without being excluded
from trading. In other words, these solvency constraints are not too tight.
2

Section B in the appendix defines an equilibrium in this environment.

10

Limited liability technology Let Îºt (st ) be the continuation utility associated with limited
liability, conditional on a pricing functional Î  :
Îºt (st ) = max
U(c)(st ) s.t. Î st [{câ€² }] â‰¤ Î st [{Î·}] ,
â€²
{c }

and such that the participation constraints are satisfied in all following histories sÏ„ â‰¥ st . Let
U({c})(st ) denote the continuation utility from an allocation at st . An allocation is immune to
bankruptcy if the household cannot increase its continuation utility by resorting to bankruptcy at
any node.
Definition 3.1. For given Î , an allocation is said to be immune to bankruptcy if


U( c Î¸0 , y t, z t )(st ) â‰¥ Îºt (st ) f or all st .

(3.2)

These participation constraints can be recast as solvency constraints. We choose solvency
constraints that only bind when the participation constraints bind, and hence they are not too
tight, in the sense of Alvarez and Jermann (2000)3 . These put a lower bound on the value of the
householdâ€™s consumption claim.
Proposition 3.2. For given Î , an allocation is said to be immune to bankruptcy iff:
Î st

 

c Î¸0 , y t , z t
â‰¥ Î st [{Î·}] , for all st âˆˆ S t , t â‰¥ 0.

(3.3)

These solvency constraints keep net wealth non-negative in all states of the world. If these
constraints are satisfied in all states, households do not wish to exercise their option to default4 .
We can use these solvency constraints to characterize the regions of the parameter space where
(no) risk sharing can be sustained.
No Collateral The amount of collateralizable wealth plays a key role. When there is no collateralizable wealth, the solvency constraints bind for all agents in all states of the world and households
are in autarky. If the constraint did not bind for one set of households with positive measure, it
would be have to be violated for another one with positive measure5 .
Proposition 3.3. If there is no outside wealth (Î± = 0), then there can be no risk sharing in
equilibrium.
3

Zhang (1997) first endogenized solvency constraints in a class of incomplete markets models.
Detemple and Serrat (2003) consider an environment in which only a fraction of agents face these constraints.
They find small effects on risk premia.
5
Krueger and Uhlig (2005) derive a similar result in an environment with one-sided commitment, on the part of
financial intermediaries.
4

11

Perfect Risk Sharing When there is enough collateral, agents may be able to share risks
perfectly. Let Î âˆ— denote the pricing functional defined by the perfect insurance, Lucas-Breeden
SDF.
Proposition 3.4. If the value of the aggregate endowment exceeds the value of the private endowment at all nodes, perfect risk sharing is feasible:
Î âˆ—st [{e}] â‰¥ Î âˆ—st [{Î·}] for all st .
If there is sufficient collateralizable wealth, then the solvency constraint is satisfied for each
(y, z) at perfect-insurance (Breeden-Lucas) prices, and perfect risk sharing is attainable. Each
household can sell a security that replicates its labor income and buy an equivalent claim to the
aggregate dividends stream that fully hedges the household.
Permanent Exclusion How do these solvency constraints relate to those used by Alvarez
and Jermann (2000) to decentralize the constrained efficient allocations in the Kehoe-LevineKocherlakota setup with permanent exclusion? The solvency constraints are tighter in the case
of limited liability than under permanent exclusion, simply because one could always default and
replicate autarky in the economy with limited liability by eating oneâ€™s endowment forever after.
The reverse is clearly not true. Let U({Î·})(st ) denote the continuation utility from autarky. Let
Bsaut
t , the lower bound on the value of the consumption claim in the case of permanent exclusion,
be defined as U({Î·})(st ) = sup{câ€² } U(câ€² )(st ) s.t. Î st [{câ€² }] â‰¤ Bsaut
t [{Î·}] and s.t. the participation
constraint is satisfied at all future nodes.
Proposition 3.5. In the economy with permanent exclusion, the participation constraints can be
written as solvency constraints as follows:
Î st [{c}] â‰¥ Î st [{Î·}] â‰¥ Bsaut
t [{Î·}] ,
Because this inequality holds for any pricing functional, if perfect risk sharing is feasible in the
economy with limited liability, it is feasible in the economy with permanent exclusion. Loosely
speaking, the Pareto frontier shifts down as one moves from permanent exclusion to limited liability.
The next subsection makes use of Pareto-Negishi weights as a device for characterizing equilibrium allocations and prices. These weights encode the wealth distribution dynamics that are
central to our results. We do not solve a plannerâ€™s resource allocation problem, but we characterize
equilibrium allocations and prices from the householdâ€™s first order conditions. The use of stochastic Pareto-Negishi weights (Marcet and Marimon (1999)) allows us to state an exact aggregation
result: equilibrium state prices depend only on the Î³ âˆ’1 -th moment of the distribution of weights
12

and we extend this result to the case of recursive utility. This reduces the problem of forecasting
the multiplier distribution -the state of the economy- to one of forecasting a single moment.

3.2

Stochastic Pareto-Negishi Weights

The householdâ€™s wealth at time 0, Î¸0 , determines its initial Pareto-Negishi weight Âµ0 . This weight
Âµ0 governs the share of aggregate consumption allocated to this household in all future states of
the world st . Î¦0 is the joint measure over initial states and multipliers (Âµ0 , s0 ). When there are no
solvency constraints, this share is fixed:
1/Î³

Âµ
ct Âµ0 , st = 0 1/Î³ et (z t ) where st = (y t , z t ),
EÂµ0
1/Î³

where the constant EÂµ0

=

R

(3.4)

1/Î³

Âµ0 dÎ¦0 guarantees market clearing after each aggregate history.

Solvency Constraints and Stochastic Pareto-Negishi Weights In the presence of solvency
constraints, the Pareto-Negishi weights are no longer fixed. We use Î¶t (Âµ0 , st ) to denote the weight
of a household with initial weight Âµ0 in state st . {Î¶t (Âµ0 , st )} is a non-decreasing stochastic process.
These weights are constant, unless the household switches to a state with a binding solvency
constraint. In these instances the weight increases such that the solvency constraint in (3.1) is
satisfied with equality. Typically, these are states with high labor income realizations. However,
this does not mean the households are borrowing-constrained in good times.
These weights record the sum of all solvency constraint multipliers in history st . Consumption
is characterized by the same linear risk sharing rule:
1/Î³

ct (Âµ0 , st ) =

Î¶t (Âµ0 , st )
h
i et (z t ),
1/Î³
E Î¶t (Âµ0 , st )

(3.5)

but each householdâ€™s consumption share is stochastic. Let ht (z t ) denote this cross-sectional multiplier moment:
h
i
1/Î³
t
t
ht (z ) = E Î¶t (Âµ0 , s ) .

The average weight process {ht (z t )} is a non-decreasing (over time) stochastic process that is
adapted to the aggregate history z t . We will refer to this simply as the average weight process.

This process experiences a high growth rate gt+1 = ht+1 /ht when a large fraction of agents find
themselves switching to states with binding constraints -we call this a liquidity shock.

13

Proposition 3.6. The equilibrium SDF is given by:
mt+1 = Î²



et+1
et

âˆ’Î³ 

ht+1
ht

Î³

.

(3.6)

In each aggregate state zt+1 payoffs are priced off the IMRS of unconstrained agents, whose
Pareto-Negishi weight did not change between t and t + 1. The risk sharing rule for consumption
directly implies that his or her IMRS equals the SDF expression in equation (3.6).
The structure of the SDF is very revealing. The first part is the Breeden-Lucas SDF that
emerges in a representative agent economy. The second part is the multiplicative adjustment of
the SDF that summarizes the shocks to the wealth distribution induced by the solvency constraints;
it is the liquidity shock, raised to the power Î³.

Static Household Problem To derive this consumption sharing rule, we solve the dual of the
householdâ€™s static optimization problem (see section B in the appendix for a complete description
of the householdâ€™s static problem). We relabel households with initial promised utilities w0 instead
of initial wealth Î¸0 . The dual program consists of minimizing the resources spent by a consumer
who starts out with â€œpromisedâ€ utility w0 :
Dual Problem
XX
C âˆ— (w0 , s0 ) = inf c0 (w0 , s0 ) +
pt (st |s0 )ct (w0 , st ),
{c}

XX

(DP)

t=1 st â‰¥s0

Î² t Ï€(st |s0 )u(ct (w0 , st )) = w0 ,

(3.7)

tâ‰¥0 st â‰¥s0

Î st


 
c w0 , y t , z t
â‰¥ Î st [{Î·}] , for all st âˆˆ S t , t â‰¥ 0.

(3.8)

The convexity of the constraint set implies that the minimizer of DP and the maximizer of P P
(the primal problem) coincide for initial wealth Î¸0 = C âˆ— (w0 , s0 ) âˆ’ Î s0 [{Î·}](see Luenberger (1969),
p. 201).
To solve for the equilibrium allocations, we make the dual problem recursive. To do so, we
borrow and extend some tools recently developed to solve recursive contracting problems by Marcet
and Marimon (1999). Let mt (st |s0 ) = pt (st |s0 )/Ï€t (st |s0 ), i.e. the state price deflator for payoffs
conditional on event history st . Ï„t (st ) is the multiplier on the solvency constraint at node st . We can
transform the original dual program into a recursive saddle point problem for household (w0 , s0 )
by introducing a cumulative multiplier:
Ï‡t (w0 , st ) = Ï‡tâˆ’1 (w0 , stâˆ’1 ) âˆ’ Ï„t (w0 , st ), Ï‡0 = 1.
14

(3.9)

Let Âµ0 denotes the Lagrangian multiplier on the initial promised utility constraint in (3.7). We
will use these to index the households with, instead of promised utilities. It is the initial value
of the householdâ€™s Pareto-Negishi weights. After history st , the Pareto-Negishi weight is given by
Î¶t (Âµ0 , st ) = Âµ0 /Ï‡t (Âµ0 , st ). If a constraint binds (Ï„t (st ) > 0), the weight Î¶ goes up, if not, it stays
the same. These weight adjustments prevent the value of the consumption claim from dropping
below the value of the labor income claim at any node. Formally, we can transform the original
dual program into a recursive saddle point problem for household (w0 , s0 ) by introducing these
cumulative multipliers:
D(c, Ï‡; w0, s0 ) =

XX
tâ‰¥0

st

(

Î² t Ï€(st |s0 )mt (st |s0 )

"

Ï‡t (w0 , st )ct (w0 , st )
+Ï„t (st )Î st [{Î·}]

#)

,

(3.10)

where Ï‡t (w0 , st ) = Ï‡tâˆ’1 (w0 , stâˆ’1 ) âˆ’ Ï„t (st ), Ï‡0 = 1. Then the recursive dual saddle point problem
facing the household of type (w0 , s0 ) is given by:
inf sup D(c, Ï‡; w0 , s0 ),
{c} {Ï‡}

such that

XX

(RSDP)

Î² t Ï€(st |s0 )u(ct (w0 , st )) = w0 .

tâ‰¥0 st

Let Âµ0 denotes the Lagrangian multiplier on the promise keeping constraint. The next step is to
use those Pareto-Negishi weights and exploit the homogeneity of the utility function to construct a
linear consumption sharing rule, as in the benchmark model. This allows us to recover allocations
and prices from the equilibrium sequence of multipliers {Î¶t (Âµ0 , st )} . We will proceed in two steps.
First, consider 2 households having experienced the same history st . We know from the first
order conditions of the recursive dual saddle point problem for two different households (Âµâ€²0 , y0 )
and (Âµâ€²â€²0 , y0) that the ratio of marginal utilities has to equal the inverse of the weight ratio:


ct (Âµâ€²0 , st ))
ct (Âµâ€²â€²0 , st ))

âˆ’Î³

Î¶t (Âµâ€²â€²0 , st )
=
.
Î¶t (Âµâ€²0 , st )

(3.11)

If the constraints never bind, Î¶t = Âµ0 at all nodes and the condition in (3.11) reduces to condition
that characterizes perfect risk sharing. Second, the resource constraint implies that for all aggregate
states of the world z t consumption adds up to the total endowment:
XZ

ct (Âµ0 , y t, z t )Ï•(y t |y0)dÎ¦0 = et (z t ),

(3.12)

yt

(3.11) and (3.12) completely characterize the equilibrium consumption allocation for a given se15

quence of multipliers. The consumption sharing rule in (3.5) satisfies the condition on the ratio of
marginal utilities (3.11) and it clears the market in each aggregate history z t . This can be verified
by taking cross-sectional averages of the individual consumption rule.
Cutoff Rule We derive a characterization of the optimal weight policy and then we show that
these weights fully characterize an equilibrium. The optimal policy rule has a simple recursive
structure. Let C (Âµ0 , st ; Î¶) denote the continuation cost of a consumption claim derived from a
weight policy {Î¶t (Âµ0 , st )} :

C Âµ0 , st ; Î¶ = Î st [{cÏ„ (Î¶Ï„ (Âµ0 , sÏ„ ))}] ,

where consumption at each node is given by the risk sharing rule in (3.5). We will let lt (y, z t )
denote the weight such that a household starting with that weight has a continuation cost that
exactly equals the price of a claim to labor income:

C Âµ0 , st ; Î¶ = Î st [{Î·}] with Î¶t (Âµ0 , st ) = lt (y, z t ).

A householdâ€™s weight Î¶tâˆ’1 (Âµ0 , stâˆ’1 )going into period t at node st is compared to its cutoff weight
and adjusted only if it is lower than the cutoff.
Lemma 3.7. The optimal weight updating policy consists of a cutoff rule {lt (y, z t )} where Î¶0 (Âµ0 , s0 ) =
Âµ0 and for all t â‰¥ 1
if Î¶tâˆ’1 (Âµ0 , stâˆ’1 ) > lt (y, z t )
Î¶t (Âµ0 , st ) = Î¶tâˆ’1 (Âµ0 , stâˆ’1 ) ,
else Î¶t (Âµ0 , st ) = lt (y, z t ).
An equilibrium is fully characterized by these Pareto-Negishi weight processes (see theorem B.3
in the appendix).
Properties of the Cutoff Rule These cutoff rules have two key properties that will prove
useful for understanding the consumption and wealth dynamics inside the model, and for solving
the model. First, the cutoff rules for the consumption shares are weakly lower than the endowment
share. The intuition is simple: the agent consumes less today in exchange for the promise of higher
consumption tomorrow.
Lemma 3.8. The consumption shares at the cutoff do not exceed the labor endowment shares:
1/Î³

lt (z t , y)
â‰¤ Î·b(y, z) for all (z t , y)
ht (z t )
16

(3.13)

Of course, as the collateralizable share of income decreases, the cutoff consumption shares
approach the labor endowment shares; when Î± = 0, equation (3.13) holds with equality at all
nodes. Second, if the transition matrix satisfies monotonicity, the cutoffs can be ranked and the
consumption share in the lowest income state equals the labor endowment share.
Lemma 3.9. If the transition matrix satisfies monotonicity, then the cutoff rules can be ranked:
lt (z t , yn ) â‰¥ lt (z t , ynâˆ’1 ) â‰¥ lt (z t , ynâˆ’2) â‰¥ . . . â‰¥ lt (z t , y1 )
and

1/Î³

lt

(z t ,y1 )
ht (z t )

= Î·b(y1 , z) for all z t .

Bounds The theory puts upper and lower bounds on the size of these liquidity shocks that
depend only on the primitives of this economy. In the perfect insurance equilibrium, the average
weights do not grow. In the autarchic equilibrium, the weights grow at a rate that equals the ratio
of the largest and the smallest endowment shares.
Lemma 3.10. The equilibrium average weight growth is bounded between the perfect insurance and
autarchy values:

Î·b(yn , zt )
1 â‰¤ gt (z t+1 ) â‰¤
for all z t , z
Î·b(y1 , zt+1 )
When all households are constrained, the SDF equals the autarchic IMRS of the household
switching from the highest to the lowest income state. When none of the households are constrained, their Pareto-Negishi weights are constant. In equilibrium, these liquidity shocks will vary
between these bounds depending on the history of aggregate shocks.
What are the implications for household consumption? Suppose perfect risk sharing cannot be
sustained, and h >> 1. Naturally, a wealthy household that starts off with an initial weight above
the highest cutoff will end up hitting that bound in finite time, unless there is perfect risk sharing.
This random stopping time is defined as:

Ï„ = inf t â‰¥ 0 :

Âµ0
â‰¤ Î·b(yn , z)
ht (z t )



The less risk sharing, the smaller Ï„ in expectation for a given Âµ0 . We assume this economy has
been running long enough such that the agents with weights higher than the highest reservation
weight have measure zero:
XZ
yt

1/Î³
lt (z t ,yn )

Ï•(y t |y0 )dÎ¦0 = 0 for all z t .

After some finite Ï„, all of the consumption shares ÌŸ(Âµ0 , st ) are fluctuating between the highest and
17

the lowest endowment shares
Î·b(y1 , z) â‰¤ ÌŸ(Âµ0 , st ) < Î·b(y1 , z) for all (Âµ0 , st ) and t â‰¥ Ï„

(3.14)

This follows directly Lemma (3.9) and (3.8). All households face at least one binding solvency
constraint, in the highest state y tomorrow. In this environment, wealthy agents simply run down
their wealth, until they reach the region of binding solvency constraints. The risk sharing rule
implies that, as long as agents do not switch to a state with a binding solvency constraint, their
consumption share drifts downward. So, if an agent were to start off with a lot of financial wealth
at time 0, her consumption share ÌŸ(Âµ0, st ) would keep drifting down until she reaches the region
in which the solvency constraints start to bind. This is the signature of complete markets: there
is no motive for unconstrained households to accumulate wealth. The rate of decrease is driven by
the growth rate of {ht (z t )} and this growth rate is governed by the wealth distribution dynamics.
Wealthy households chose to run down their assets because interest rates are low. It would be
inefficient to have some households hold too much financial wealth when collateral is scarce. As a
result, in a stationary equilibrium, all households face at least one binding solvency constraint, the
one for the highest income share tomorrow, because their consumption share is -weakly- smaller
than Ï‰(yn , z t ).
This explains how this model reconciles fairly smooth individual consumption processes with
highly volatile SDFâ€™s (Alvarez and Jermann (2001)). This also points to a crucial distinction
between this model and standard incomplete market models. In these models, wealthy agents do
not run down their financial wealth holdings, and as a result, may not face any binding solvency
constraints at all. In some sense, the stock of scarce collateral is not being used as efficiently in
those equilibria. The next subsection derives an expression for the SDF.
Why are these liquidity shocks? If gt = 1, then the economy sustains the maximum amount of
trading in period prior to t, to implement complete risk insurance. The aggregate volume of trade
in node z tâˆ’1 in claims that pay off in zt is measured by the average (across households) distance
between the consumption and the endowment stream in present discounted value, scaled by the
value of the aggregate endowment, to eliminate price effects:
trade(z

tâˆ’1

, zt ) =

Z


abs Î st [{c(Âµ0 , st ) âˆ’ Î·(st ) âˆ’ Î±et (z t )}] /Î st [{et (z t )}]dÎ¦0 .

(3.15)

This is a direct measure of how far the allocations are from autarchy. The trading volume in
financial markets peaks when perfect insurance is implemented. On the other hand, when gt hits
the upper bound, the trading volume in the period prior to t reaches the absolute minimum (zero).
So, gt can be thought of as a liquidity indicator. The size of these liquidity shocks is governed
by the mass of households in the left tail of the wealth distribution, as explained in the next
18

subsection. We will use the ratio of trade in this equilibrium relative to the amount of trade in the
perfect insurance economy at the same node:
traderel (z tâˆ’1 , zt ) = trade(z tâˆ’1 , zt )/traderep (z tâˆ’1 , zt ).

(3.16)

as our measure of aggregate liquidity. We refer to this as the relative trade volume or aggregate
liquidity. It is a measure of how much trade households accomplish relative to how much would
want to trade in the absence of frictions.
Liquidity Shocks and the Wealth Distribution We use consumption weights as stationary
state variables to replace the Pareto-Negishi weights. gt (z t ) denotes the growth rate of the aggregate
weight process ht /htâˆ’1 . At the end of each period, we re-normalize the weights into consumption
shares:

Î¶ 1/Î³ (Âµ0 , st )
Ï‰t =
,
gt (z t )

and we store this as the householdâ€™s state variable. Î¦z t denotes the joint measure over (y, Ï‰) in
state z t . These consumption shares integrate to one by construction, and they evolve according to
a simple cutoff rule. If the share of a household going into a period is larger than the cutoff value
Ï‰(y â€² , z t ), it remains unchanged, else it is increased to its cutoff value:
Ï‰ â€²(y â€² , z t ; Ï‰) = Ï‰ if Ï‰ > Ï‰(y â€², z t )
= Ï‰(y â€², z t ) elsewhere

(3.17)

Making use of the cutoff rule, the liquidity shock gt+1 can be stated as follows:
â€²

gt (z , z

tâˆ’1

) =

XZ
yâ€²

X

âˆž

Ï‰Ï•(y â€²|y)dÎ¦z tâˆ’1 (dy Ã— dÏ‰) +

(3.18)

Ï‰(y â€² ,z t )
â€²

t

Ï‰(y , z )

yâ€²

It immediately follows that g â‰¥ 1, because

Z

Ï‰(y â€² ,z t )

Ï•(y â€² |y)dÎ¦z tâˆ’1 (dy Ã— dÏ‰) .

(3.19)

0

P R
yâ€²

Ï•(y â€²|y)Ï‰dÎ¦z tâˆ’1 (dy Ã— dÏ‰) = 1 by construction.

The size of the liquidity shock is determined by the mass of households in the left tail. In general,
the size of these shocks depends on the entire aggregate history z t . This creates a computational
problem that we deal with in the next subsection. There is one exception:
Condition 3.11. The labor income shocks are independent of the aggregate shocks if Î·b(yt , zt ) =
Î·b(yt )

In this case, it is easy to show that the cutoff weight Ï‰(y â€²) does not depend on the aggregate
19

history, simply because the price of a claim to labor income relative to the level of the aggregate
endowment, Î st [{Î·}] /et (z t ), does not depend on zt . Hence, neither does the cutoff weight Ï‰(y â€²).
As a result, after the transitional dynamics have dissipated, the liquidity shock is constant and so
is the joint distribution of consumption weights and endowments.
Proposition 3.12. : If aggregate uncertainty is i.i.d. and labor income risk is independent of the
aggregate state, then there is a stationary equilibrium in which g âˆ— is constant.

g =

XZ
yâ€²

X
yâ€²

âˆž

Ï‰Ï•(y â€²|y)dÎ¦ (dy Ã— dÏ‰) +

(3.20)

Ï‰(y â€² )
â€²

Ï‰(y )

Z

Ï‰(y â€² )

Ï•(y â€²|y)dÎ¦ (dy Ã— dÏ‰)

0

The mass of households in the left tail is constant over time. The second part of the SDF, g Î³ , is
constant in the case of independent labor income risk. As a result, the liquidity constraints push
up the price of consumption in all states tomorrow. This lowers the risk-free rate, but it does
not change risk premia relative to the full insurance benchmark. The next subsection explains the
computational procedure in detail.

3.3

Approximation

A householdâ€™s Pareto-Negishi weight summarizes its history of private shocks, but obviously not the
history of aggregate shocks. In fact, the liquidity shocks depend on the entire history of aggregate
shocks, except in the case of independence. To compute equilibrium prices and allocations when the
independence condition is not satisfied, we keep track of only a truncated version of the aggregate
history. This approach is motivated by the limited memory of these economies, if there is sufficient
growth in the aggregate weight process. This is borne out by the computations. Using these
consumption weights, we construct an approximate equilibrium in which agents use only the last
k aggregate shocks to forecast g.
Stationary approximating equilibrium. In a stationary equilibrium, there is no probability
mass on weights above the highest reservation level. Let L denote the domain for the consumption
weights Ï‰. l(Ï‰, y â€², z â€² ; z k ) : L Ã— Y Ã— Z Ã— Z k â†’ R, one for each (y â€², z â€² ) âˆˆ Y Ã— Z, gives the new
consumption weight for a household entering the period with weight Ï‰, having drawn private
shock y â€² and aggregate shock z â€² . Its new consumption share is given by:
c(Ï‰, y â€², z â€² ; z k ) =
20

l(Ï‰, y â€², z â€² ; z k )
,
g âˆ— (z â€² , z k )

where g âˆ— (z â€² , z k ) is the forecast of the liquidity shock. This consumption share will be stored as
the new state variable for this household at the end of the period. The reservation weight policy
function Ï‰(y â€² , z â€² ; z k ) : Z Ã— Z k â†’ R and the average weight forecasting function g âˆ— (z â€² , z k ) : Z k â†’ R
induce the consumption share policy function:
l(Ï‰, y â€², z â€² ; z k ) = Ï‰ if Ï‰ > Ï‰(y â€², z â€² ; z k )
= Ï‰(y â€² , z â€² ; z k ) elsewhere.

(3.21)

The reservation weights are determined such that the solvency constraints bind exactly. The


cost functions C Ï‰, y â€², z â€² ; z k and C y y â€² , z â€² ; z k record the price in units of todayâ€™s consumption of
claim to the consumption stream and the labor income stream respectively, scaled by the aggregate
endowment today, to keep them stationary. The reservation weights satisfy this functional equation:



C Ï‰(y â€², z â€² ; z k ) , y â€² , z â€² ; z k = C y y â€², z â€² ; z k for all y â€², z â€² ; z k

The optimal forecast when going from state z k to z â€² is given by its average for that truncated
history:
g âˆ— (z â€² , z k ) = Ez âˆž âŠ‚z k g(z â€² , z âˆž ),

(3.22)

where the actual liquidity shock is given by:
â€²

âˆž

g(z , z ) =

XZ
yâ€²


l Ï‰, y â€², z â€² ; z k Î¦z âˆž (dÏ‰ Ã— dy) Ï•(y â€²|y)

for each pair (z â€² , z k ). E denotes the expectation operator over all possible histories z âˆž consistent
with z k . The actual measure Î¦z âˆž depends -possibly- on the entire history of shocks z âˆž . The state
prices are set using the forecast of the liquidity shock:
m(z â€² , z k ) = Î²g âˆ—(z â€² , z k )Î³ Î»(z â€² )âˆ’Î³ .
Households do not make Euler equation errors, but the markets do not clear exactly. That is
the sense in which this equilibrium is approximate. The percentage allocation error is simply the
â€² âˆž
â€² ,z k )
percentage forecast error: g(z ,zg(z)âˆ’g(z
. These will turn out to be very small. As k â†’ âˆž, the
â€² ,z k )
errors tend to zero.
Definition 3.13. An approximate stationary equilibrium is fully characterized by a list of functions



l Ï‰, y â€², z â€² ; z k , C Ï‰, y â€², z â€² ; z k , C y y â€² , z â€² ; z k and g(z â€² , z k ) such that (i) g(z â€² , z k ) equals the average

liquidity shock in z k and (ii) l Ï‰, y â€², z â€² ; z k satisfies the optimal policy rule.
The optimal household consumption policy functions and equilibrium prices are embedded in
21

this information through the risk sharing rule and the expression for the SDF.
Computational Algorithm The algorithm iterates on liquidity shock forecasts:

â€¢ The algorithm starts with the perfect insurance growth function b
g1 (z k , z â€² ) = 1 for all z k , z â€² .6



â€¢ Conditional on this function, we compute the cost functions C1 Ï‰, y â€², z â€² ; z k , C1y y â€², z â€² ; z k

and the policy function l1 Ï‰, y â€², z â€² ; z k . To do so, we simply determine the cutoff level at
which the value of the consumption stream equals the value of the endowment stream:


C0 Ï‰, y â€², z â€² ; z k = C0y y â€² , z â€² ; z k for each (y â€² , z â€² ; z k ).
âˆž

â€¢ Next, we simulate a T -period aggregate history {z t }t=0 for a cross-section of N agents. we

use T = 10.000 and N = 5000. For each z k , z â€² , we compute the average growth rate
gba 1 (z k , z â€² ) implied by the policy function. This provides a new guess b
g2 (z k , z â€² ) for the weight
growth functions.


â€¢ Finally, we iterate on the liquidity shock forecasts until gbn (z k , z â€² ) convergence to b
gâˆ— (z k , z â€² ).
The policy functions and the average weight growth functions characterize a stationary,
stochastic equilibrium. The household Euler equations are satisfied exactly by construction.
The sup prediction error is exactly the sup percentage allocation error:
Îµk = sup

g a (z k , z â€² ) âˆ’ gâˆ— (z k , z â€² )
= sup ca (z k , z â€² ) âˆ’ 1 .
gâˆ— (z k , z â€² )

The allocation error decreases as k is increased. To approximate the consumption cost function

C Ï‰, y â€², z â€² ; z k , we use linear interpolation. The approximation works well. The mean of the
allocation errors is close to .05 percent for all computations, while the standard deviation is roughly
the same size. The low standard deviation of the errors indicates that the errors are tightly
distributed around zero. The sup norm is around 2 percent. The next subsection establishes that
a two-agent version of our economy does not face this curse of dimensionality. However, this comes
at the cost of losing the endogenous propagation mechanism that the wealth dynamics deliver in
the model with a large number of agents.

3.4

Two-Agent Economy

In the economy with a continuum of agents, the liquidity shocks depend on the entire history of
aggregate shocks. However, in the same physical economy, with the same trading arrangement,
but with only two types of agents (or equivalently a continuum of each type), the history of
6

This algorithm can be shown to converge as k â†’ âˆž. The proof is available upon request.

22

aggregate shocks turns out to be irrelevant. These two-agent models do not deliver an endogenous
propagation mechanism that transforms i.i.d. aggregate consumption growth shocks into non-i.i.d.
risk premia. The search for a propagation mechanism is at the heart of modern asset pricing, and
the external habit model (Campbell and Cochrane (1999)) is its most successful exponent.
We adopt the setup considered by Alvarez and Jermann (2001) (AJ). There are only two y
states: when type one is in the high state, type two is in the low state. Here we focus on the
limited liability solvency constraints to avoid additional notation. We show that the equilibrium
consumption shares are Markov in the current state (y, z). Section C.1 of the appendix explicitly
discusses the AJ solvency constraints. The same irrelevance of aggregate histories obtains in that
case.
We assume perfect risk sharing is not feasible. In this case, only one of the constraint binds in
each state, the constraint of the agent in the high state. We use Ï‰(y, z) to denote the consumption
share of agent 1 when she is in state y and the aggregate state is z. C 1 (y, z) denotes the valuation
of the consumption claim, scaled by the level of the aggregate endowment. If perfect risk sharing is
not feasible, consumption shares and valuations of the consumption claims will live on an ergodic
set with mass on (Ï‰ 1 (lo, z), Ï‰ 1 (hi, z)) and (C 1 (lo, z), C 1 (hi, z)). These equilibrium consumption
shares and costs can be determined by solving a system of four equations in four unknowns (in the
case of two aggregate and two idiosyncratic shocks). This system of equations is in the appendix
in section C. In the ergodic equilibrium, the stochastic discount factor is given by:
â€²

â€²

â€² âˆ’Î³

mt+1 (y , z ; y, z) = Î²Î»(z )



min



Ï‰(y â€², z â€² ) 1 âˆ’ Ï‰(y â€², z â€² )
,
Ï‰(y, z) 1 âˆ’ Ï‰(y, z)

âˆ’Î³

.

The liquidity shock is the second part of the stochastic discount factor. The Markovian property
of consumption allocations carries over to risk premia.
Proposition 3.14. In an ergodic equilibrium of the two-agent economy, the two-agent economy,
the conditional market price of risk
cpr(z) = Ïƒt (mt+1 )/Et (mt+1 )
only depends on the current z shock.
In the two-agent economy, the conditional market price of risk does not depend on the history
of aggregate shocks z tâˆ’1 . Hence, the model itself does not contribute any dynamics. When the
aggregate shocks are i.i.d, then so is the conditional market price of risk. Moreover, in the case in
which full risk sharing cannot be sustained, half of the economy (one of both agents) is always in
the state with the binding constraint in the ergodic equilibrium of this economy. Hence, there is
no endogenous variation in the fraction of agents that are constrained, and there is no endogenous
23

variation in how severely these are constrained. Finally, in the two-agent economy, trade volume
is constant.
Proposition 3.15. In the ergodic equilibrium of the two-agent economy, the trade volume is constant at:
2
X

abs Î st [{cj (Âµ0 , st ) âˆ’ Î· j (st ) âˆ’ Î±et (z t )}] /Î st [{et (z t )}] = 2Î±.
j

Obviously, there are no dynamics in the volume of trade and hence there is no relation between
the volume of the trade and the size of the liquidity shock g. In the economy with autarchy as
outside option, the volume of trade can be shown only to depend on z, the current aggregate state.

4

Calibrated Model

This section starts by explaining the calibration in subsection 4.1. In subsection 4.2, we compare
the moments of asset prices in the data to those in the calibrated version of our limited liability
model. We use the representative agent model and the 2-agent version our model as a benchmark.
In subsection 4.3, we discuss the relation between aggregate liquidity and asset prices in the model,
and we compare it to the data. Finally, in subsection 4.4, we show that the model not only matches
the unconditional moments of stock and bond returns in the data, but it can also replicate the
predictability of stock returns, though only at short horizons.

4.1

Calibration

The model is calibrated to annual data. We choose a Î³ of seven and a time discount factor Î² of
.94. These preference parameters allow us to match the equity premium and the risk-free rate as
closely as possible when the collaterizable income share Î± is 19.55%, as discussed below.
Collateralizable Wealth Tradeable or collateralizable income, narrowly defined, is 10.2% of
total income. This includes rental income, dividends and interest payments. This is a narrow
measure, because it treats proprietary income as non-collateralizable. Including proprietary income
raises the ratio to 19.55 %. In the benchmark calibration of the model, we set Î± equal to 19.55 %.
Moreover, the collateralizable wealth to income ratio (the ratio of total assets to national income)
is 4.48 in the 1952-2006 sample. This includes real and financial assets. With a value of 19.55
% for Î±, our model produces a collaterizable to total wealth ratio of 4.01. The details are in the
appendix in section A.
24

Aggregate and Idiosyncratic Endowment Risk We use a modified version of the Markov
process for log Î·(y, z) proposed by Storesletten, Telmer, and Yaron (2007). We use a 6-state
discretization instead of a 4-state process. This modification does not alter the properties of
aggregate consumption growth, but it allows us to let the variance of labor income risk increase
only in long recessions. This feature delivers a counter-cyclical equity risk premium.
There are three aggregate states and two idiosyncratic states. The first two aggregate states
(z1 and z2 ) are low aggregate consumption growth states. The last one (z3 ) is a high aggregate
consumption growth state. The only difference between the first two aggregate states is that the
conditional standard deviation of labor income shocks increases to 0.42 in the first state z1 , while
it is only .17 in the second (and the third state). The calibration of these labor income shocks was
taken entirely from Storesletten, Telmer, and Yaron (2001)(see page 39 of Storesletten, Telmer,
and Yaron (2001) for a detailed description of the calibration).7
The moments for aggregate consumption growth are taken from Mehra and Prescott (1985).
The average consumption growth rate is 1.8 %. The standard deviation is 3.15 %. Recessions
are less frequent: 27% of realizations are low aggregate consumption growth states. Aggregate
consumption growth Î»(zt ) is i.i.d. This ensures that all the dynamics in risk premia flow from
the liquidity shocks. The aggregate consumption growth rate is -3.98 % per annum in the first
two states and it is 4.02 % per annum. The probability of reaching a low aggregate consumption
growth state q is set to 27.40% to match the frequency of recessions in the data. The aggregate
transition probability matrix is given by:
ï£®

ï£¹
Îºq (1 âˆ’ Îº)q (1 âˆ’ q)
ï£¯
ï£º
Ï† = ï£° Î¶q (1 âˆ’ Î¶)q (1 âˆ’ q) ï£»
Îºq (1 âˆ’ Îº)q (1 âˆ’ q)

(4.1)

We am left with two free parameters; we set Îº = .35 and Î¶ = .95. We choose Î¶ as close as possible to
one, because we want the variance of labor income risk to double mostly in long recessions. Without
this predictability in the variance of idiosyncratic risk, the model cannot generate counter-cyclical
risk premia.8 This predictability in the variance seems plausible. Alvarez and Jermann (2001)
also allow for an increase in the conditional variance when the economy goes from a recession to a
recession (see condition M9 on p. 1136) relative to when going from an expansion to a recession.
In this calibration, the economy typically enters a recession in state z2 , and if the recession lasts
more than one year, there is a 95 % probability of reaching state z1 , the state in which the variance
of labor income risk doubles. As a result, the elements of the process log Î· are {âˆ’2.385, 0.646} in
the first state z1 and {âˆ’0.904, 0.467} in the other two states (z2 and z3 ). Finally, labor income is
7
8

The published version Storesletten, Telmer, and Yaron (2007) does not report the calibration details.
We choose Îº = .35 to match the variance of labor income shocks.

25

persistent. The autocorrelation of labor income Ï is 0.89. Below, we also report the results for the
more standard calibration with only two aggregate states. There is a total of six states s = (y, z)
with log labor income shares given by:
log Î· =

h

âˆ’2.385 0.646 0.646 âˆ’0.904 0.467 0.467

i

,

(4.2)

and with aggregate consumption growth rates given by:
Î»=

h

.9604 .9604 1.0402 .9604 .9604 1.0402

i

.

(4.3)

Hence the transition probability matrix is given by:
Ï€=

"

Ï†p

Ï†(1 âˆ’ p)

Ï†(1 âˆ’ p)

Ï†p

#

.

(4.4)

with p = (Ï + 1)/2.
Risk Sharing This calibrated version of the limited liability economy still sustains a lot of risk
sharing. In the benchmark calibration the standard deviation of consumption share growth for
households is 7.5 percent, less than twice the standard deviation of aggregate consumption growth,
while the standard deviation of endowment share growth is thirty-one percent. Not all agents in
states with binding solvency constraints experience large shocks to their consumption shares. In the
history with the largest liquidity shock, forty-nine percent experience a four percent consumption
share drop, thirty-six percent experience an eight percent increase and six percent experience an
eleven percent increase. In the history with the smallest liquidity shock (after consecutive low
aggregate consumption growth shocks) almost all households have roughly constant consumption
shares.
Dividend Process Finally, we choose a specification of the dividend process that imposes cointegration of consumption and dividends. Following Bansal, Dittmar, and Lundblad (2005),
dividend growth is a function of aggregate consumption growth and the change in the log dividend/consumption ratio qt :
âˆ†dt+1 = Î´ + Ï†âˆ†ct+1 + âˆ†qt+1

(4.5)

qt+1 = Ïq qt + Ï•d Ïƒut+1
u is white noise with mean zero and variance 1. Ïƒ is the standard deviation of aggregate consumption growth. Following Bansal and Yaron (2004), we choose Ï† = 3 and Ï•d = 4.5. The only
26

other parameter is the persistence of the quarterly log dividend-consumption ratio Ïq , which we set
equal to 0.83 at quarterly frequency or .4 at annual frequency. This follows Lettau and Ludvigson
(2004), who document a persistence of .83 for the cointegrating vector between log consumption,
log stock dividends, and log labor income. These parameters deliver a dividend growth process
with a standard deviation of 16 % per annum, compared to 15.9% for real log dividend growth
computed in CRSPâ€™s NYSE-AMEX-NASDAQ value-weighted index (1929-2008). We used the CPI
(BLS) to deflate the dividend growth series. In our model, levered equity is a claim to this dividend
process.

4.2

Matching Moments

The liquidity risk induced by the wealth distribution shocks interacts with aggregate consumption
growth risk to modify the SDFâ€™s properties in the right direction to match the dynamics of equity
and bond risk premia.
Our benchmark calibration sets the time discount factor Î² equal to .94 and Î³ to 7 to minimize
the modelâ€™s pricing errors. Panel A of Table 1 compares the moments of the data and the limited
liability model. The excess return on equity is denoted Re , while Rc,e denotes the excess return on a
non-levered claim to the aggregate endowment process. The asset pricing statistics were generated
by drawing 10.000 realizations from the model, simulated with 5000 agents. The first line reports
the moments of the data. The second line reports the results for the limited liability economy. As
a a benchmark, the third line also reports the results for the representative agent economy. The
fourth line reports the results for the 2-agent economy. The fifth line reports the result for the
calibration with 2 states instead of 3 aggregate states.
[Table 1 about here.]
limited liability economy In the limited liability model, the maximum Sharpe Ratio is .44.
The price of risk in our model is highly volatile: the standard deviation of the conditional market
price of risk in the limited liability model (second column of Table 1) is 7.6 percent. The liquidity
risk induced by the solvency constraints delivers a low risk-free rate of 2.38 basis points and a high
equity premium of 8.84 percentage points. The compensation per unit of risk is large as well; the
Sharpe ratio on equity is around 38 percent, compared to 38 percent in the data. These results
do not depend on the specific dividend dynamics. If instead we simply consider a corporate sector
that 2/3 risk-free bonds and 1/3 equity on its balance sheet, then the return on equity is the return
on the consumption claim minus two times the gross risk-free rate. This type of equity has a risk
premium of 8.93 % per annum in our model and a Sharpe ratio of .39 (not reported in the Table).
The consumption risk premium (or the risk premium on un-levered equity) is 2.2 % per annum
in the data (based on an estimate by Lustig, VanNieuwerburgh, and Verdelhan (2008), compared
27

to 2.95 % per annum in the model. The risk premium on a perpetuity is 1.56 % per annum in the
model, compared to a risk premium of 1.58 % per annum on (nominal) government bonds with a
maturity of 30 years. However, the Sharpe ratio on a long bond in the model is too high compared
to the data. Finally, the model produces too much risk-free rate volatility; the standard deviation
is 5.62 % per annum. The standard deviation of 4.01 % per annum that we report for the risk-free
rate in the data presumably overstates the true volatility of the risk-free rate, because we use the
ex post realized real interest rate.
[Figure 2 about here.]
Finally, Panel B reports the average slope of the yield curve, for maturities ranging from 3
years to 30 years. Our model produces an upward sloping real yield curve. The spread at 10 years
is 114 basis points, compared to 92 basis points in the data (based on nominal yields). The short
rate increases persistently when there is large liquidity shock, and this increase has a larger effect
on the prices of longer maturity bonds. Thus, holders of longer maturity bonds incur larger losses
in case of a bad liquidity shock. Hence the upward sloping real yield curve. However, the bond
yields in our model are too volatile relative to the data, because they inherit the excess volatility
of the short rates.
The liquidity shocks are critical to these results. The top panel of figure 1 plots the liquidity
shocks over 50 years of data simulated by our model. The shaded areas are low aggregate consumption growth states. The short shaded areas indicate those low aggregate consumption growth
states in which the variance of labor income risk doubles (z1 ). These are the states with large
liquidity shocks. These shocks have two main effects on prices. First, the liquidity shocks increase
the demand for insurance and lower the risk-free rate. This is obvious from the SDF in (3.6),
because ht+1 /ht > 1. The solvency constraints keep the agents from borrowing against their future
labor income and the liquidity risk also induces them to save more as a precautionary device.
Second, the liquidity shocks increase the volatility of the SDF because the shocks are negatively
correlated with the aggregate consumption growth process. This pattern emerges in equilibrium
when a larger fraction of agents is constrained in states with low aggregate consumption growth
realization. The increased volatility raises risk premia because returns are low in the low aggregate
consumption growth states, when the liquidity shocks are large. The expected excess return on
equity is given by two parts. The first part is the standard compensation for consumption growth
risk. The second part is the compensation for liquidity risk. This liquidity part accounts for over
75 % of the equity premium in our benchmark calibration. In the data, this aggregate liquidity
premium is large. Pastor and Stambaugh (2003) (PS) find that the average return on stocks with
high sensitivities to liquidity exceeds that for stocks with low sensitivities by 7.5 % annually.9
9

The Pastor and Stambaugh (2003) measure of aggregate liquidity, an average of individual-stock measures

28

To put these results into perspective, we also report results for the representative agent and the
two-agent version of our economy. In the representative agent economy, risk premia and interest
rates are constant, while in the 2-agent version of our economy, these are i.i.d. over time.

Representative agent The benchmark perfect insurance economy (denoted rep) produces a
risk-free rate of sixteen percent and an equity premium of 2.8 percent, one percent for the nonlevered claim to consumption. This is the risk-free rate and the equity premium puzzle. In addition,
the model produces a constant conditional market price of risk (second column of Table 1) and a
constant risk-free rate, because the aggregate consumption growth shocks are i.i.d. Of course, the
real yield curve is flat.

Two-Agent Economy In the two-agent economy, the maximum Sharpe ratio is .38. However,
the equity premium is only 2 percent because the standard deviation of stock returns is very small
(5.32 per cent per annum). This happens because risk premia and interest rates are i.i.d. (see
section 3.4). As a result, the price/dividend ratio of equity is roughly constant. 10 Moreover, these
results are obtained with a much smaller collaterizable income share Î± of only 7.5 %, because there
is less need for collateral in this two-agent economy. Increasing the supply of collateral obviously
worsens the fit with the data.

Two-State Economy Finally, we also list the results for the version of our model with only
two aggregate states and without the predicatbility in the variance, to show that the success in
matching the unconditional moments is not driven by the specifics of the 3-state calibration. This
is the version of the calibration obtained by choosing Îº = 0. There is a total of 4 states with labor
income shares given by:
log Î· =
and
Î»=

h

h

i

âˆ’2.385 0.646 âˆ’0.904 0.467

.9604 1.0402 .9604 1.0402

Hence the total transition probability matrix is given by:
Ï€=

"

Ï†p
Ï†(1 âˆ’ p)
Ï†(1 âˆ’ p)
Ï†p

#

i

,

.

.

estimated with daily data, relies on the principle that order flow induces greater return reversals when liquidity is
lower.
10
The only way around this in the 2-agent economy is to introduce dynamics in aggregate consumption growth.

29

with p = (Ï + 1)/2 and
Ï†=

"

q (1 âˆ’ q)
q (1 âˆ’ q)

#

.

Since we kept the same labor income shares, the unconditional standard deviation increases to .38
in this calibration (compared to .31 in the 3-state case). This calibration is identical to the one in
Storesletten, Telmer, and Yaron (2001). In this calibration, the risk premium on levered equity is
somewhat lower at 6.97 % per annum, and so is the volatility of returns. As a result, the Sharpe
ratio on levered equity is virtually identical to that in the benchmark calibration of our model. The
only major difference is that the 2-state version overstates the riskiness of long run bonds relative to
the data. All the other parameters are identical. The 2-agent model produces a downward sloping
real yield curve on average. Moreover, these results are obtained with a collaterizable income share
Î± of only 9.5 %: There is less need for collateral in this economy with more frequent but smaller
liquidity shocks: the left tail of the wealth distribution cannot grow as much when shocks are more
frequent. Instead, when Î± is 19.55 % in the 2-state version, the equilibrium allocations and prices
are close to those of the representative agent economy.
Comparative Statics The benchmark calibration of our model with Î³ equal to 7 and Î² equal
to .94 minimizes the squared pricing errors on the first and second moments of the risk-free rate
and the equity premium. Panel A and B in Table 2 consider the impact of changes in the risk
aversion parameter Î³ and changes in the rate of time preference Î² respectively.
[Table 2 about here.]
As we increase risk aversion from 7 to 8, the equity premium increases to 12 percent per
annum, and the maximum Sharpe ratio increases to .53, the risk-free rate drops to minus 1 percent
on average, and the standard deviation of the risk-free rate increases to 7.35 percent per annum.
The risk-free volatility problem worsens. On the other hand, lowering the risk aversion coefficient
to 6 raises the average risk-free rate to 5.28 percent per annum. Making households less patient
by lowering the time discount factor (Panel C) reduces the amount of risk sharing that can be
sustained; the solvency constraints bind more frequently. As a result, the average equity premium
increases to 10.37 percent, while the risk-free rate drops to 1 percent, even though households are
more impatient. Of course, this also increases the volatility of the risk-free rate to 7.87 percent per
annum.
Finally, we also consider the impact of changes in the collateralizable share of income Î± in Panel
C. The results are very sensitive to changes in the collateralizable income share. If we increase
it to 22.5 percent, the equity premium drops to 4.5 percent per annum, while the risk-free rate
increases to 11.7 percent on average. In this economy, collateral is more plentiful and hence the
30

solvency constraints bind much less frequently. On the other hand, lowering the collateral supply
to 17.5 % increases the volatility of the risk-free rate to 7.87 % per annum and lowers the average
risk-free rate to -190 basis points..

4.3

Liquidity

In the representative agent economy, the conditional Sharpe ratio, the conditional risk premium,
the conditional volatility, the risk-free rate, the slope of the yield curve and the trading volume are
all constant over time, because the aggregate shocks are i.i.d. The limited liability modelâ€™s liquidity
shocks endogenously generates time variation in all these variables. The top panel of figure 1 plots
the liquidity shocks and the relative trading volume (see equation (3.16)) for the same sequence
of aggregate shocks. The large liquidity shocks occur in the low aggregate consumption growth
states in which the variance of labor income risk increases (z1 marked by thick shaded areas in the
graph). These shocks coincide with low aggregate liquidity in the preceding period, as well as large
conditional Sharpe ratios and risk premia, in anticipation of an increase in the variance of shocks
next period. The periods with the lowest trading volumes and highest risk premia are typically low
aggregate consumption growth states in which the variance of labor income risk does not increase
(z2 marked by thin shaded areas in the graph). In these states, there is a very high probability of
a large increase in the variance of idiosyncratic shocks if the economy stays in a recession.
The other panels in figure 1 plot the risk premium on levered equity, the Sharpe ratio, the
volatility of levered equity returns, the risk-free rate and the slope of the yield curve. The conditional risk premium on levered equity is highly volatile (its standard deviation is 1.5 % per annum
compared to a mean of 8 % per annum) and it varies between 4 and 9 percent annum in the 50 year
sample shown in the figure. The Sharpe ratio on equity varies between .2 and .55. Its standard
deviation is 8 % per annum. After a long series of aggregate consumption growth realizations
without an increase in labor income risk, the risk-free rate drops and the conditional market price
of risk increases. The risk price (and the equity risk premium) peaks in those low aggregate consumption growth states without the increase in variance (z2 ), in anticipation of a large liquidity
shock next period. This is where the 3-state calibration plays a key role. Once we are in a low
aggregate consumption growth state (z2 ), if the next period is a recession too, it is likely to be one
in which the variance of labor income increases (z1 ). The low risk-free rate predicts high excess
returns on equity, because it signals large liquidity shocks are likely to occur. This reflects the
build-up of households in the left tail of the wealth distribution. At the same time, the conditional
volatility of equity returns increases as well. The slope of the yield curve increases in anticipation
of a large liquidity shock, and this partly reflects an increase in the bond risk premium. At the tail
of a long recession, the conditional market price of risk drops to its lowest level, and the risk-free
rate increases sharply, while the yield curve flattens. These dynamics are generated by the wealth
31

distribution. Household financial wealth is defined as

1
t
t
t [{c(Âµ0 , s )}] âˆ’ Î st [{Î·(s )}] .
Î 
s
et (z t )
We divide by the level of the aggregate endowment, to render it stationary. There is a one-toone mapping between household wealth and the Pareto-Negishi weight. During a long series of
aggregate consumption growth realizations without an increase in the variance of idiosyncratic
shocks, there is a build-up of low wealth households in the left tail of the wealth distribution.
The standard deviation of the wealth distribution increases. Mechanically, this means the mass of
agents with weights below the cutoff value is large:
XZ
yâ€²

Ï‰(y â€² ,z t )

Ï•(y â€² |y)dÎ¦z tâˆ’1 (dy Ã— dÏ‰)

(4.6)

0

These households have been running down their asset levels as long as they are in low idiosyncratic
income states. Their Pareto-Negishi weights remain unchanged throughout, and as a result, their
consumption shares were drifting downwards. When a low aggregate consumption growth state is
realized in which the variance of idiosyncratic risk increases (z1 ), a larger fraction of households
draws a high income state with a high cutoff value Ï‰(y â€², z t ). This translates into a large liquidity
shock as their consumption shares jump up from very low levels (see the definition of the liquidity
shock in equation 3.19). The left tail of the wealth distribution is eliminated, and the standard
deviation of the wealth distribution drops.
[Table 3 about here.]
The top panel in Table 3 reports the correlation of the trade volume, the risk-free rate, the equity
risk premium, the conditional Sharpe ratio and the slope of the yield curve for the limited liability
model. Clearly, as the relative volume of trade decreases, the equity risk premium increases,
as does the slope of the yield curve, and hence bond risk premia. At the same time, the riskfree rate decreases. So, our model produces flight-to-quality-like correlation among asset returns
when aggregate liquidity dries up. Since liquidity (relative trading volume) is almost perfectly
negatively correlated with the expected return on equity, it predicts future excess returns in the
limited liability model. Figure 2 is a scatter plot of the risk-free rate and the equity premium
against the relative trade volume. This plot is generated with 6000 observations by simulating
the calibrated version of our limited liability economy. It shows that there is a strong positive
relation between the risk-free rate (left panel) and aggregate liquidity on the one hand, and a
strong negative relation between the equity premium (right panel) and aggregate liquidity on the
other hand. These correlations are consistent with the data. There is plenty of empirical evidence
32

that aggregate liquidity predicts returns. Jones (2002) presents evidence that the transaction cost
measures that also proxy for liquidity spreads and turnover predict stock returns one year or
more ahead. High spreads predict high stock returns; high turnover predicts low stock returns.
Bekaert, Harvey, and Lundblad (2007) find that their measure of liquidity -transformation of the
proportion of zero daily firm returns, averaged over the month- significantly predicts future stock
returns in emerging markets.
The modelâ€™s predictions for the risk-free rate and liquidity are also consistent with the data. We
found that there is a strong positive relation between the average PS liquidity level in a year and
the average real risk-free rate, as is clear from figure 3. The correlation over the 1962-2006 sample
is .43. In periods of persistently low liquidity, the real risk-free rate in the data is invariably lower
than average and mostly negative, as predicted by our model. And in periods of high liquidity,
risk-free rates are mostly higher than average. There are very few observations in the northwest
and southeast quadrants of the graph. Interestingly, Pastor and Stambaugh (2003) also find that
in low liquidity months, the risk-free rate and stock returns become more positively correlated, and
bond returns and stock returns become more negatively correlated. Similarly, in our model, when
trade volume is low, both the risk-free rate and the equity risk premium are very sensitive to small
changes in liquidity (see figure 2). When the interest rate decreases as a result of a decrease in the
relative trade volume, the risk premium increases, stock returns are negative and bond returns are
positive. However, when the relative trade volume is high, these prices do not respond as much to
changes in the trade volume.
[Figure 3 about here.]
[Figure 4 about here.]

4.4

Predictability

Our model can replicate the predictability of stock returns at short horizons, but not at longer
horizons. Table 4 reports results for a regression of the log excess returns on stock on the risk-free
rate (Panel A) and the slope of the yield curve (Panel B), as well as results for a regression of the
log excess returns on bonds on the slope of the yield curve (Panel C). For stock returns, we consider
investment horizons ranging from 1 to 4 years. For bond returns, we consider one-year holding
returns on zero coupon bonds ranging from 2 to 5 years. On the left we report the regression
results obtained in the data, on the right we report the regression results on model-generated
data. For the regressions on actual data, we report regression results obtained on annual data
and on overlapping monthly data. The standard errors are OLS. For the regressions on modelgenerated data, we report results obtained on 5000 observations (denoted Model a) and on 300
33

samples (denoted Model b) of 78 observations, to get a sense of the small sample properties of these
predictors.
At horizons of 1-2 year, our model does well in mimicking the predictability in stock returns
that we observe in the data. Fama and French (1989) find evidence that the slope of the yield
curve and the risk-free rate predict stock returns in the data. The same pattern obtains in the
model. However, in our model, risk premia are not sensitive enough to these predictors at longer
horizons, not because risk premia are too small in our model, but because interest rates are too
volatile and risk premia in are not quite persistent enough in the model-generated data.
We start in Panel A. In the data, an increase in the risk-free rate of a 100 basis points raises the
expected excess return over the next year by around 46 basis points (see Fama and French (1989)
for more evidence) , compared to 75 basis points in the model. However, the risk premia in the
model are less persistent than those in the data, because the slope coefficients rise from minus 464
basis points at the one-year horizon to 218 basis points at the 4-year horizon. In model-simulated
data, these slope coefficients only increase from 77.4 to 91.7 basis points. We have also reported
the results for our limited liability model obtained with a lower coefficient of risk aversion of 5.
This lower coefficient helps to increase the slope coefficient to 157 basis points per annum at the
4-year horizon, mainly because interest rates in this calibration are less volatile.
In Panel B, we report that an increase in the slope of the yield curve by 100 basis points raises
the risk premium on equity by 130 basis points per annum in annual data, even 380 in monthly
data. In the model, the increase in the risk premium is smaller, only 87 basis points. In the version
of our model with a risk aversion of coefficient of 5, this number increases to 130, very close to
the data. However, as we increase the forecasting horizon, the slope coefficients hardly increase in
the benchmark calibration. This problem is alleviated somewhat by reducing the coefficient of risk
aversion. Again, this reflects the lack of persistence.
Finally, in panel C, we look at the predictability of bond returns. In the data, an increase in
the slope of the yield curve by 100 basis points raises the expected excess return on the 2-year
bond by 62 basis points, compared to only 15 basis points in the model. An increase in the slope
of the yield curve increases bond risk premia, but not nearly enough to match the data. The gap
widens for bonds with longer maturities.
[Table 4 about here.]
Naturally, in the 2-agent version of our economy, there are no wealth distribution dynamics
and risk premia are i.i.d. over time. As a result, there is no predictability in returns in this version
of our economy. Table 5 reports the same regression results for the version of our model with two
agents. There is no evidence of any predictability in bond or stock returns in the data generated
by this version of the model.
34

[Table 5 about here.]
To summarize, our model can match the predictability of stock returns at short horizons, but
risk premia are not persistent enough to match the much higher predictability of stock returns at
longer horizons (see e.g. Lettau and Ludvigson (2001)). Since aggregate liquidity measures in the
data vary mostly at business cycle frequencies, and aggregate liquidity is the only driving force in
our model, this implication seems plausible. In related work, Lustig and VanNieuwerburgh (2006)
introduce housing into a version of our model and they show the housing collateral dynamics help
to match lower frequency variation in risk premia, while Lustig and VanNieuwerburgh (2005) test
the empirical predictions of this housing collateral model. Finally, our model produces too little
predictability in bond returns relative to the data, though changes in the slope affect bond returns
with the right sign.

5

Conclusion

There is a growing literature that tries to explain the empirical evidence on liquidity risk (see e.g.
Acharya and Pedersen (2005). Our paper shows there is a tight connection between aggregate
liquidity in securities markets and risk premia in a model with solvency constraints as the only
trading friction. The liquidity risk produces a low risk-free rate, a large equity premium, an upward
sloping yield curve and substantial time variation in risk premia in a model with i.i.d. aggregate
consumption growth innovations and standard power utility preferences. In more recent work,
Chien, Cole, and Lustig (2007) develop an extension of the multiplier method in our paper to solve
for equilibrium allocations and prices in the case of incomplete and segmented markets.

References
Acharya, V. V., and L. H. Pedersen (2005): â€œAsset Pricing with Liquidity Risk,â€ Journal of
Financial Economics, 77, 375â€“410.
Aiyagari, S. R., and M. Gertler (1991): â€œAsset Returns with Transaction Costs and Uninsured Individual Risk,â€ Journal of Monetary Economics, 27, 311â€“331.
Alvarez, F., and U. Jermann (2000): â€œEfficiency, Equilibrium, and Asset Pricing with Risk of
Default,â€ Econometrica, 68(4), 775â€“798.
(2001): â€œQuantitative Asset Pricing Implications of Endogenous Solvency Constraints,,â€
Review of Financial Studies, 14, 1117â€“1152.
35

Amihud, Y., and H. Mendelson (1986): â€œAsset Pricing and the Bid-Ask Spread,â€ Journal of
Financial Economics, 17, 223249.
Bansal, R., R. F. Dittmar, and C. Lundblad (2005): â€œConsumption, Dividends and the
Cross-Section of Equity Returns,â€ Journal of Finance, 60(4), 1639 â€“ 1672.
(2006): â€œConsumption Dividends and the Cross-Section of Equity Returns,â€ Journal of
Finance, forthcoming.
Bansal, R., and A. Yaron (2004): â€œRisks for the Long Run: A Potential Resolution of Asset
Prizing Puzzles,â€ The Journal of Finance, 59, 1481â€“1509.
Bekaert, G., C. R. Harvey, and C. Lundblad (2007): â€œLiquidity and Expected Returns:
Lessons from Emerging Markets,â€ Review of Financial Sudies, RFS Advance Access published
on July 24,.
Breeden, D. T. (1979): â€œAn Intertemporal Asset Pricing Model with Stochastic Consumption
and Investment Opportunities,â€ Journal of Financial Economics, 7, 265â€“296.
Brennan, M. J., and A. Subrahmanyam (1996): â€œMarket Microstructure and Asset Pricing:
On the Compensation for Illiquidity in Stock Returns,â€ Journal of Financial Economics, 41(3),
441â€“464.
Campbell, J. Y., and J. H. Cochrane (1999): â€œBy Force of Habit: A Consumption-Based
Explanation of Aggregate Stock Market Behavior,â€ Journal of Political Economy, 107(2), 205â€“
251.
Chien, Y.-L., H. Cole, and H. Lustig (2007): â€œA Multiplier Approach to Understanding the
Macro Implications of Household Finance,â€ http://ssrn.com/abstract=1023184.
Cogley, T. (2002): â€œIdiosyncratic Risk and The Equity Premium: Evidence from the Consumer
Expenditure Survey,â€ Journal of Monetary Economics, 49, 309â€“334.
Constantinides, G. M., and D. Duffie (1996): â€œAsset Pricing with Heterogeneous Consumers,â€ Journal of Political Economy, 104, 219â€“240.
Detemple, J., and A. Serrat (2003): â€œDynamic Equilibrium and Liquidity Constraints,â€
Review of Financial Studies, 16, 597â€“629.
Fama, E. F., and K. R. French (1989): â€œBusiness Conditions and Expected Returns on Stocks
and Bonds,â€ Journal of Financial Economics, 25, 23â€“49.
36

Geanakoplos, J., and W. R. Zame (1998): â€œCollateral, Default and Market Crashes,â€ Working
Paper Yale and UCLA.
Goyenko, R. (2005): â€œStock and Bond Pricing with Liquidity Risk, Working paper,â€ Indiana
University.
Grossman, S., and R. Shiller (1982): â€œConsumption Correlatedness and Risk Measurement
in Economies with Non-Traded Assets and Heterogeneous Information,â€ Journal of Financial
Economics, 10, 195â€“210.
Hansen, L. P., and K. J. Singleton (1982): â€œGeneralized Instrumental Variable Estimation
of Nonlinear Rational Expectation Models,â€ Econometrica, 50, 1269â€“1286.
He, H., and D. M. Modest (1995): â€œMarket Frictions and Consumption-Based Asset Pricing,â€
Journal of Political Economy, 103, 94â€“117.
He, H., and N. Pearson (1991): â€œConsumption and Portfolio Choices with Incomplete Markets
and Short-Sale Constraints: The Infinite Dimensional Case,â€ Journal of Economic Theory, 54,
259â€“304.
Heaton, J., and D. J. Lucas (1996): â€œEvaluating the Effects of Incomplete Markets on Risk
Sharing and Asset Pricing,â€ Journal of Political Economy, 104, 668â€“712.
Holmstrom, B. R., and J. Tirole (1998): â€œLAPM: A Liquidity-based Asset Pricing Model,â€
NBER Working Paper No. W6673, Available at SSRN: http://ssrn.com/abstract=123436.
Jones, C. A. (2002): â€œA Century of Stock Market Liquidity and Trading Costs,â€ .
Kehoe, T., and D. K. Levine (1993): â€œDebt Constrained Asset Markets,â€ Review of Economic
Studies, 60, 856â€“888.
Kocherlakota, N. (1996): â€œImplications of Efficient Risk Sharing Without Commitment,â€ Review of Economic Studies, 63, 595â€“610.
Krueger, D. (1999): â€œRisk Sharing in Economies with Incomplete Markets,â€ Ph.D. thesis, University of Minnesota.
Krueger, D., and H. Uhlig (2005): â€œCompetitive Risk Sharing with Costly Recontracting,â€
Journal of Monetary Economics, Forthcoming.
Kubler, F., and K. Schmedders (2003): â€œStationary Equilibria in Asset Pricing Models with
Incomplete Markets and Collateral,â€ Econometrica, 71, 1767â€“1795.
37

Lettau, M. (2002): â€œIdiosyncratic Risk and Volatility Bounds,â€ Review of Economics and Statistics, 84(2).
Lettau, M., and S. Ludvigson (2001): â€œConsumption, Aggregate Wealth and Expected Stock
Returns,â€ The Journal of Finance, 56(3), 815â€“849.
Lettau, M., and S. C. Ludvigson (2004): â€œExpected Returns and Expected Dividend Growth,â€
Journal of Financial Economics, forthcoming.
Lucas, D. (1994): â€œAsset Pricing with Unidiversifiable Income Risk and Short Sales Constraints:
Deepening the Equity Premium Puzzle,â€ Journal of Monetary Economics, 34, 325â€“341.
Lucas, R. E. (1978): â€œAsset Prices in an Exchange Economy,â€ Econometrica, 46(6), 1429â€“54.
Luenberger, D. G. (1969): Optimization by Vector Space Methods.
Lustig, H., and S. VanNieuwerburgh (2005): â€œHousing Collateral, Consumption Insurance
and Risk Premia: An Empirical Perspective,â€ Journal of Finance, 60(3), 1167â€“1219.
(2006): â€œCan Housing Collateral Explain Long-Run Swings in Asset Returns?,â€ Working
Paper UCLA and NYU Stern.
Lustig, H., S. VanNieuwerburgh, and A. Verdelhan (2008): â€œThe Wealth-Consumption
Ratio,â€ UCLA Anderson.
Luttmer, E. (1992): â€œAsset Pricing in Economies with Frictions,â€ Ph.D. thesis, University of
Chicago.
Marcet, A., and R. Marimon (1999): â€œRecursive Contracts,â€ Working Paper Universitat
Pompeu Fabra.
Mehra, R., and E. C. Prescott (1985): â€œThe Equity Premium: A Puzzle,â€ Journal of Monetary Economics, 15., 145â€“161.
Pastor, L., and R. F. Stambaugh (2003): â€œLiquidity Risk and Expected Stock Returns,â€
Journal of Political Economy, 3, :642â€“685.
Stokey, N., R. E. Lucas, and E. C. Prescott (1989): Recursive Methods in Economic
Dynamics. Harvard University Press., Cambridge, Mass.
Storesletten, K., C. Telmer, and A. Yaron (2001): â€œAsset Pricing with Idiosyncratic Risk
and Overlapping Generations,â€ Institute for International Economic Studies Seminar Paper No.
703.
38

(2004): â€œCyclical Dynamics in Idiosyncratic Labor-Market Risk,â€ Journal of Political
Economy, 112, 695â€“717.
(2007): â€œAsset pricing with idiosyncratic risk and overlapping generations,â€ Review of
Economic Dynamics, 10(4), 519â€“548.
Telmer, C. (1993): â€œAsset-Pricing Puzzles and Inomplete Markets,â€ Journal of Finance, 48,
1803â€“1832.
Zhang, H. H. (1997): â€œEndogenous Borrowing Constraints with Incomplete Markets,â€ Journal
of Finance, 52, 2187â€“2209.

39

Table 1: Asset Pricing Results.
Panel A shows moments for the data, for the benchmark calibration of the limited liability model (LL), the benchmark calibration of
the representative agent model (rep), the economy with two agents (2-agent) and the economy with only 2 aggregate states (2-states).
These moments were generated by averaging 6.000 draws from an economy with 2000 agents. In the benchmark calibration, Î± is 19.55
percent, Î³ is 7 and Î² is .94. In the two-agent economy, Î± is 7.5 % . In the two-state economy, Î± is 9.5 % . Re is the return on a
leveraged dividend claim. The value-weighted CRSP index on NYSE-AMEX-NASDAQ was used to compute the market return, while
the Fama risk-free rate (CRSP) was used to compute excess returns. The bond return is the total return on 30-year government bonds
constructed by global financial data (Total Return Bond Index).The real risk-free rate is computed as the end-of-year Fama 3-month
risk-free rate (CRSP) less the realized rate of inflation over the preceding year. The sample is 1928-2007. The moments of the return
on un-levered equity or a claim to aggregate consumption were obtained from Lustig, VanNieuwerburgh, and Verdelhan (2008). Rc,e
is the excess return on a claim to aggregate consumption. Panel B shows the moments for zero-coupon bond yields in the data, the
benchmark calibration of the rep. agent model and the limited liability model. The bond yields are the constant maturity government
bond yields constructed by global financial data. The sample is 1953-2006

Panel A: Overview-Benchmark Calibration
E[Re ]

std[Re ]

E[Re ]
std[Re ]

7.60

7.86
8.84

20.29
22.88

0.38
0.38

2.20
2.95

9.80
7.54

0.22
0.40

1.58
1.56

10.5
5.86

0.15
0.26

0.89
2.38

4.01
5.62

0
5.20
7.20

2.04
2.00
6.97

13.22
5.32
16.71

0.15
0.37
0.41

1.23
âˆ’1.37
4.37

4.06
3.82
10.54

0.30
âˆ’0.35
0.41

âˆ’0.00
âˆ’2.78
2.96

0.00
6.96
7.36

âˆ’.10
âˆ’0.39
0.40

16.25
3.89
0.07

0.00
6.67
5.30

Ïƒ[m]
E[m]

Ïƒt [m]
std E
t [m]

data
LL

0.44

rep
2 âˆ’ agent
2 âˆ’ state

0.28
0.38
0.43

E[Rc,e ] std[Rc,e ]

E[Rc,e ]
std[Rc,e ]

E[Rb,e ] std[Rb,e ]

E[Rb,e ]
std[Rb,e ]

Panel B: Bond Markets-Benchmark Calibration
Average Slope
Maturity
data
LL
rep
2 âˆ’ agent

Volatility of Slope

3

5

10

20

30

3

5

10

20

30

.37
0.26

.54
0.74

0.79
1.14

0.99
1.34

0.92
1.40

2.74
3.70

2.69
4.46

2.60
5.04

2.55
5.36

2.51
5.47

0.00
âˆ’2.23

0.00
âˆ’2.61

0.00
âˆ’2.89

0.00
âˆ’3.03

0.00
âˆ’3.08

0.00
4.52

0.00
5.40

0.00
6.06

0.00
6.39

0.00
6.50

40

E[r f ] std[r f ]

Table 2: Robustness.
These moments were generated by averaging 6.000 draws from an economy with 2000 agents. In the benchmark calibration, Î± is 19.55
percent, Î³ is 7 and Î² is .94. Re is the return on a leveraged dividend claim; Rc,e is the excess return on a claim to aggregate consumption.
Panel A shows the asset pricing moments in the limited liability model for different levels of risk aversion; Panel B shows the asset
pricing moments for different value of time preference in the limited liability model. Panel C shows the asset pricing moments for
different values of the collateralizable income share in the limited liability model.
Ïƒ[m]
E[m]

Ïƒ [m]

std Et [m]
t

E[Re ] std[Re ]

E[Re ]
std[Re ]

Î³
5
6
7
8

0.26
0.34
0.43
0.53

4.45
6.24
7.60
10.49

3.98
5.95
8.84
12.05

15.32
18.57
22.88
27.49

0.26
0.32
0.38
0.44

E[Rb,e ] std[Rb,e ]

E[Rb,e ]
std[Rb,e ]

E[r f ] std[r f ]

1.33
1.98
2.95
4.02

5.04
6.08
7.54
9.04

0.26
0.33
0.39
0.44

0.37
0.83
1.56
2.58

2.74
4.30
5.86
7.65

0.13
0.19
0.26
0.34

7.63
5.28
2.38
âˆ’1.04

2.76
4.27
5.62
7.35

2.76
2.25
1.56
1.09

8.07
7.08
5.86
4.49

0.34
0.32
0.26
0.24

1.01
1.40
2.38
3.32

7.87
6.97
5.62
4.56

2.57
1.56
0.29

7.32
5.86
2.18

0.35
0.26
0.13

âˆ’1.93
2.38
11.76

7.07
5.62
2.36

Panel B: Time Preference
0.51
0.47
0.43
0.39

10.37
8.94
7.60
5.98

12.70
10.73
8.84
7.14

28.80
25.85
22.88
19.04

0.44
0.42
0.38
0.38

Î±
.175
.195
.225

E[Rc,e ]
std[Rc,e ]

Panel A: Risk Aversion

Î²
.90
.92
.94
.96

E[Rc,e ] std[Rc,e ]

4.24
3.57
2.95
2.38

9.51
8.48
7.54
6.21

0.45
0.42
0.397
0.38

Panel C: Collateral
0.48
0.43
0.33

9.13
7.60
2.93

11.75
8.84
4.51

26.47
22.88
14.43

0.44
0.38
0.31

3.92
2.95
1.50

8.68
7.54
4.76

41

0.45
0.397
0.32

Table 3: Correlation
Panel A shows the correlation matrix for the benchmark calibration of the limited liability model. These moments were generated by
averaging 6.000 draws from an economy with 2000 agents. In the benchmark calibration, Î± is 19.55 percent, Î³ is 7 and Î² is .94. Panel B
shows the correlation matrix for the benchmark calibration of the 2-agent model. In the two-agent economy, Î± is 7.5 % . T rade denotes
the relative trade volume defined in equation (3.16). The slope of the yield curve is the difference between the 5-year and the 1-year log
yield.
Panel A: limited liability model
Trade
Trade

1.000

Rf

Rft

Et [Ret+1 ] Ïƒt [Ret+1 ]

Et [Re
t+1 ]
Ïƒt [Re
t+1 ]

slope

0.803

1.000

Et [Ret+1 ]

âˆ’0.804

âˆ’0.988

1.000

Ïƒt [Ret+1 ]

âˆ’0.294

âˆ’0.588

0.681

1.000

Et [Re
t+1 ]
Ïƒt [Re
t+1 ]

âˆ’0.888

âˆ’0.973

0.959

0.452

1.000

slope

âˆ’0.728

âˆ’0.992

0.979

0.636

0.937

1.000

Trade

Rf

Et [Re
t+1 ]
Ïƒt [Re
t+1 ]

slope

/

/

Panel B: Two-Agent Model
Et [Ret+1 ] Ïƒt [Ret+1 ]

Trade

/

/

Rft

/

1.000

/

Et [Ret+1 ]

/

0.839

1.000

Ïƒt [Ret+1 ]
Et [Re
t+1 ]
Ïƒt [Re
t+1 ]

/

0.757

0.991

1.000

/

0.988

0.744

0.646

1.000

slope

/

âˆ’0.998

âˆ’0.808

âˆ’0.720

âˆ’0.995

42

/

1.000

Table 4: Return Predictability
Panel A reports regression results in a regression of returns on the risk-free rate rt,t+k = Î± + Î²rtf + Îµt+k . The sample in the data is
1927-2007 (annual data). The market return is the CRSP value-weighted return on NYSE-AMEX-NASDAQ. The risk-free rate is Fama
riskfree (CRSP) rate less realized inflation over the previous year. We run the same regression on 5000 observations (M odel(a)) and
on 300 samples of 78 observations (M odel(b)). In the benchmark calibration, Î± is 19.55 percent, Î³ is 7 and Î² is .94. Panel B reports
regression results in a regression of returns on the the slope of the yield curve rt,t+k = Î± + Î² yt10 âˆ’ yt1 + Îµt+k . The sample in the data
is 1940-2007 (annual returns). We report results on annual and monthly data. The market return is the CRSP value-weighted return on
NYSE-AMEX-NASDAQ. We use the 10-year and 1-year Constant Maturity Government Bond Yields from global financial data.
 Panel
k
C reports regression results in a regression of one-year bond returns on the the slope of the yield curve rt,t+1
= Î± + Î² yt10 âˆ’ yt1 + Îµt+k .
The sample in the data is 1953-2007 (annual returns). We use the Fama-Bliss zero coupon data from CRSP. We use the 10-year and
1-year Constant Maturity Government Bond Yields from global financial data. OLS standard errors are reported between brackets.
Panel A: Risk-free rate predicts Stock Returns
Data-Annual
Horizon

Î²

Data-Monthly
R2

s.e.

Î²

Model(a)
R2

s.e.

Î²

s.e.

Model(b)
R2

s.e.

R2

[0.456]
[1.020]
[1.336]
[1.710]

0.045
0.020
0.019
0.023

Î²

CRRA coefficient Î³ is 7
1
2
3
4

âˆ’0.464
âˆ’0.998
âˆ’1.787
âˆ’2.185

[0.559]
[0.810]
[0.941]
[1.045]

0.009
0.019
0.045
0.055

âˆ’0.572
âˆ’0.858
âˆ’1.445
âˆ’1.858

[0.166]
[0.234]
[0.275]
[0.306]

0.012
0.014
0.029
0.038

âˆ’0.774
âˆ’0.971
âˆ’0.915
âˆ’0.890

[0.059]
[0.133]
[0.175]
[0.222]

âˆ’0.962
âˆ’1.293
âˆ’1.483
âˆ’1.570

[0.082]
[0.178]
[0.231]
[0.289]

0.037
0.012
0.006
0.004

âˆ’0.717
âˆ’0.785
âˆ’0.557
âˆ’0.270

CRRA coefficient Î³ is 5
1
2
3
4

0.030
0.012
0.009
0.007

âˆ’0.944
âˆ’1.300
âˆ’1.217
âˆ’1.082

[0.645]
[1.380]
[1.775]
[2.209]

0.037
0.028
0.022
0.019

Panel B: Slope predicts Stock Returns
Data-Annual
Horizon

Î²

Data-Monthly
R2

s.e.

Î²

Model(a)
R2

s.e.

Î²

s.e.

Model(b)
R2

s.e.

R2

[0.595]
[1.329]
[1.377]
[2.176]

0.042
0.017
0.018
0.021

Î²

CRRA coefficient Î³ is 7
1
2
3
4

1.339
2.717
3.878
8.305

[2.165]
[3.018]
[3.471]
[3.931]

0.006
0.014
0.021
0.074

3.899
4.392
6.000
8.427

[0.572]
[0.762]
[0.883]
[0.981]

0.055
0.041
0.057
0.089

0.871
1.035
0.954
0.962

[0.074]
[0.166]
[0.220]
[0.278]

0.038
0.018
0.005
0.003

0.801
0.897
0.582
0.407

CRRA coefficient Î³ is 5
1
2
3
4

1.365
1.675
1.865
1.995

[0.109]
[0.237]
[0.307]
[0.386]

0.034
0.011
0.008
0.006

1.369
1.764
1.627
1.503

[0.862]
[1.850]
[1.627]
[1.503]

0.042
0.026
0.020
0.016

Panel C: Slope predicts Bond Returns
Data-Monthly
Maturity

Î²

s.e.

Data-Annual
R2

Î²

s.e.

Model(a)
R2

Î²

s.e.

Model(b)
R2

s.e.

R2

[0.128]
[0.138]
[0.162]
[0.177]

0.028
0.049
0.050
0.050

Î²

CRRA coefficient Î³ is 7
2
3
4
5

0.627
1.256
1.916
2.559

[0.265]
[0.493]
[0.666]
[0.815]

0.094
0.107
0.133
0.154

0.582
1.149
1.807
2.336

[0.082]
[0.147]
[0.201]
[0.244]

0.072
0.085
0.123
0.123

0.157
0.222
0.261
0.278

[0.016]
[0.017]
[0.020]
[0.021]

0.021
0.036
0.036
0.034

0.164
0.241
0.286
0.306

CRRA coefficient Î³ is 5
0.089
0.124
0.152
0.162

2
3
4
5

43

[0.016]
[0.016]
[0.019]
[0.021]

0.006
0.012
0.013
0.012

0.067
0.097
0.119
0.127

[0.127]
[0.129]
[0.154]
[0.169]

0.020
0.054
0.062
0.066

Table 5: Return Predictability-Two Agent Model
Panel A reports regression results in a regression of returns on the risk-free rate rt,t+k = Î± + Î²rtf + Îµt+k . The sample in the data is 19272007 (annual data). We run the same regression on 5000 observations (M odel(a)) and on 300 samples of 78 observations
 (M odel(b)).
Panel B reports regression results in a regression of returns on the the slope of the yield curve rt,t+k = Î± + Î² yt10 âˆ’ yt1 + Îµt+k . Panel

k
C reports regression results in a regression of one-year bond returns on the the slope of the yield curve rt,t+1
= Î± + Î² yt10 âˆ’ yt1 + Îµt+k .
In the benchmark calibration, Î± is 7.5 percent, Î³ is 7 and Î² is .94.
Model(a)
Î²

s.e.

Model(b)
R2

Î²

R2

s.e.

Horizon

Panel A: Risk-free rate predicts Stock Returns

1
2
3
4
5

0.045
0.098
0.122
0.151
0.195

Horizon
1
2
3
4
5
M aturity
2
3
4
5

[0.012]
[0.024]
[0.030]
[0.037]
[0.043]

0.003
0.004
0.004
0.004
0.004

0.027
0.061
0.074
0.093
0.128

[0.090]
[0.181]
[0.225]
[0.272]
[0.321]

0.010
0.008
0.007
0.008
0.008

Panel B: Slope predicts Stock Returns
-0.054
-0.116
-0.145
-0.178
-0.229

[0.014]
[0.029]
[0.037]
[0.044]
[0.053]

0.003
0.004
0.004
0.004
0.004

-0.033
-0.073
-0.088
-0.110
-0.152

[0.109]
[0.219]
[0.274]
[0.331]
[0.391]

0.010
0.008
0.007
0.008
0.008

Panel C: Slope predicts Bond Returns
0.0712
0.0681
0.0681
0.0681

[0.018]
[0.018]
[0.017]
[0.048]

0.003
0.003
0.003
0.003

44

0.060
0.053
0.054
0.054

[0.143]
[0.140]
[0.138]
[0.139]

0.009
0.008
0.008
0.008

Liquidity Shocks

50

60

70

80

Trade Volume

90

2

0.25

1.5

0.2

1
100

50

Sharpe Ratio on Equity

60

70

80

90

0.15
100

Risk Premium on Equity
0.1
0.5
0.05

50

60

70

80

90

100

50

60

Equity Return Volatility

70

80

90

0
100

Riskâˆ’free Rate
0.1

0.2
0.1

0.05

0
âˆ’0.1

50

60

70

80

90

0
100

50

60

70

80

90

âˆ’0.2
100

Slope of Yield Curve
0.2
0.1
0

50

60

70

80

90

âˆ’0.1
100

Figure 1: Liquidity Shocks, Market Price of Risk and Trade Volume
The shaded area indicates low aggregate consumption growth states (z1 and z2 ). The short shaded areas indicate
those low aggregate consumption growth states in which the variance of labor income risk doubles (z1 ). Benchmark
calibration of limited liability model: Î² is .94, Î³ is 7, and Î± is 19.5%. The top panel shows the liquidity shocks and
e
e
the relative trade volume defined in (3.16). The second panel shows the Sharpe ratio Et [Rt+1
]/Ïƒt [Rt+1
] and the
e
e
risk premium on equity (Et [Rt+1 ]). The third panel shows the conditional volatility of returns on equity (Ïƒt [Rt+1
]).
The fourth panel plots the slope of the yield curve. The slope is the log yield on a 5-year zero coupon minus the
log yield on a one-year zero coupon.

45

Riskâˆ’free Rate

Risk Premium

1.15

0.12

0.11

1.1
0.1

1.05
Risk Premium on Equity

Gross Riskâˆ’free Rate

0.09

1

0.95

0.9

0.08

0.07

0.06

0.05

0.85
0.04

0.8
0.03

0.75
âˆ’1.9

âˆ’1.8

âˆ’1.7 âˆ’1.6
log(Trade)

âˆ’1.5

0.02
âˆ’1.9

âˆ’1.4

âˆ’1.8

âˆ’1.7
âˆ’1.6
log (Trade)

âˆ’1.5

âˆ’1.4

Figure 2: Trade Volume, the Risk-free Rate and the Risk Premium
Left panel: Scatter Plot of Risk-free rate vs. log of Relative Trade Volume. Right panel: Scatter Plot of Risk
e
Premium on levered Equity Et [Rt+1
] vs. log of Relative Trade Volume. The relative trade volume is defined in
equation (3.16). The graph is generated by simulating 6.000 draws from an economy with 2000 agents. The full
line is a cubic polynomial fitted by least squares. Benchmark calibration of limited liability model: Î² is .94, Î³ is 7,
and Î± is 19.5%.

46

8

6

Real Riskâˆ’free Rate

4

2

0

âˆ’2

âˆ’4

âˆ’6
âˆ’0.12

âˆ’0.1

âˆ’0.08
âˆ’0.06
âˆ’0.04
âˆ’0.02
Pastorâˆ’Stambaugh Liquidity Level

0

0.02

Figure 3: Average PS Liquidity level and the Real Risk-free Rate
Scatter Plot of Real Risk-free Rate vs. Average Pastor-Stambaugh Liquidity level in US. Monthly data. The
sample is 1962.01-2006.12. The full line is a cubic polynomial fitted by least squares. The liquidity level is the
annual average of the Pastor-Stambaugh liquidity level. The updated series are available from CRSP. Aggregate
liquidity in each month is constructed by averaging individual stock measures for the month. An individual stocks
measure for a given month is a regression slope coefficient estimated using daily returns and volume data within
that month. The real risk-free rate is the average 3-month Fama risk-free rate (CRSP) minus the realized rate of
CPI inflation (BLS).

47

A

Data Appendix

In NIPA Table 1.12. National Income by Type of Income, we compute collateralizable income as
the sum of rental income (line 12, Rental income of persons with CCAdj), dividend payments (line
16, Net dividends) and interest payments (line 18, Net interest and miscellaneous payments). The
average ratio of collateralizable income to total income in the 1947-2006 sample is 10.2%. This is
a narrow measure, because it treats proprietary income (line 9, Proprietorsâ€™ income with IVA and
CCAdj ) as non-collateralizable. Including proprietary income raises the ratio to 19.55 %. This is
my target for Î±. The Flow of Funds reports Total Assets for households (item FL152000005.Q in
file btab100d). This includes real and financial assets. The ratio of total assets to national income
is 4.42 in the 1952-2006 sample. These data are not available before 1952.

B

Derivation of Risk Sharing Rule

B.1

Primal Problem

This section sets up the householdâ€™s problem and defines an equilibrium, when all trading occurs
at time zero. Taking prices {pt (st |s0 )} as given, the household purchases history-contingent consumption claims subject to a standard budget constraint and a sequence of solvency constraints,
one for each history:
Primal Problem
XX
sup u(c0(Î¸0 , s0 )) +
Î² t Ï€(st |s0 )u(ct (Î¸0 , st )),
{c}

t=1 st â‰¥s0

XX

tâ‰¥0 st â‰¥s0

Î st

(PP)



pt (st |s0 ) ct (Î¸0 , st ) âˆ’ Î·t (st ) â‰¤ Î¸0 ,


 
c Î¸0 , y t, z t
â‰¥ Î st [{Î·}] , for all st âˆˆ S t , t â‰¥ 0.

The solvency constraints keep the households from defaulting. The following definition of
equilibrium is in the spirit of Kehoe and Levine (1993) and specifically Krueger (1999).
Definition B.1. For given initial state z0 and for given distribution Î˜0 , an equilibrium consists
of prices {pt (st |s0 )} and allocations {ct (Î¸0 , st )} such that
â€¢ for given prices {pt (st |s0 )} , the allocations solve the householdâ€™s problem PP (except possibly
on a set of measure zero),
48

â€¢ markets clear for all t, z t :
XZ

ct (Î¸0 , y t , z t )Ï•(y t |y0)dÎ˜0 = et (zt ).

(B.1)

yt

In equilibrium households solve their optimization problem subject to the participation constraints and the markets clear. we assume that the endowments are finitely valued in equilibrium.
Condition B.2. Interest rates are high enough:
Î s0 [{Î·}] < âˆž for all y0 and Î z 0 [{e}] < âˆž.

(B.2)

When interest rates are high enough, the economy with sequential trading is equivalent to an
economy in which all trading occurs at time zero subject to these solvency constraints. In the case
of a continuum of consumers, it is not sufficient to restrict the value of the aggregate endowment
to be finite (as in Alvarez and Jermann (2000)). It is also necessary to restrict the value of labor
income to be finite. If the value of the aggregate endowment is finite, then all Î¸0 will be finite as
well, since these are claims to the aggregate endowment. From the time 0 budget constraint, we
know that Î s0 [{c (Âµ0 , st )}] < âˆž. This means we can apply Proposition 4.6 in Alvarez and Jermann
(2000). This proposition demonstrates the equivalence between the Arrow-Debreu economy and
the economy with sequential trading, provided that there is a Î¾ such that
c (Âµ0 , st )
1âˆ’Î³

1âˆ’Î³

â‰¤Î¾

ct (Âµ0 , st )
1

âˆ’Î³

which is automatically satisfied for power utility.

B.2


ct Âµ 0 , st ,

Characterizing Equilibrium

The following theorem explains that an equilibrium is fully characterized by these Pareto-Negishi
weight processes.
Theorem B.3. An allocation {Î¶t (Âµ0 , st )} for all (Âµ0 , st ), state price deflators {Qt (z t )} and forecasts
âˆž

{ht (z t |z0 )} define an equilibrium if (i) {Î¶t (Âµ0 , st )}t=0 solves (DP) and (ii) the market clears for all
zt:
X Z 1/Î³
t
ht (z ) =
Î¶t (Âµ0 , y t , z t )Ï•(y t |y0)dÎ¦0
yt

and (iii) there are no arbitrage opportunities :
t

Q(z ) = Î²

t



et (z t )
e0 (z 0 )
49

âˆ’Î³ 

ht (z t )
h0 (z 0 )

Î³

C

Two Types of Agents

Assume perfect risk sharing is not feasible. Unless no risk sharing is feasible, only one of the
constraint binds in each state. We use c(y, z) to denote the consumption share of agent 1 when
she is in state y and the aggregate state is z. We use w(y, z) to denote the promised utility of
agent 1 when she is in state y and the current aggregate state is z. Finally, we use Ï€
b to denote the
b
adjusted transition probability matrix and Î² to denote the adjusted time discount factor:
X
Ï€(sâ€² |s)Î»(sâ€² )1âˆ’Î³
b =Î²
Ï€
b(sâ€² |s) = P
and
Î²(s)
Ï€(sâ€² |s)Î»(sâ€² )1âˆ’Î³
Ï€(sâ€² |s)Î»(sâ€² )1âˆ’Î³

Using the adjusted time discount factor and transition probabilities, AJ (2001) show it is equivalent
to analyze a stationary economy with a constant unit endowment. The endowment process is
governed by the adjusted transition probability matrix and the agentsâ€™ preference ordering is defined
over consumption shares. If perfect risk sharing is not feasible, consumption shares and promised
utilities will live on an ergodic set with mass on (Ï‰ 1 (lo, z), Ï‰ 1 (hi, z)) and (w 1 (lo, z), w 1 (hi, z)).
These values can be determined by solving a system of four equations in four unknowns. The next
section applies the same AJ method to solve for the ergodic allocations in the 2-agent version of
the economy with limited liability. In the ergodic equilibrium, the stochastic discount factor is
given by:


âˆ’Î³
Ï‰(y â€², z â€² ) 1 âˆ’ Ï‰(y â€² , z â€² )
â€² â€²
â€² âˆ’Î³
mt+1 (y , z ; y, z) = Î²(Î»(z ))
min
,
Ï‰(y, z) 1 âˆ’ Ï‰(y, z)
The equivalent of the liquidity shock in my continuum-of-agent model would be the second part
of the stochastic discount factor:
â€²

â€²



gt+1 (y , z ; y, z) = min

C.1



Ï‰(y â€², z â€² ) 1 âˆ’ Ï‰(y â€², z â€² )
,
Ï‰(y, z) 1 âˆ’ Ï‰(y, z)

âˆ’1

Solving AJ (2001)

If perfect risk sharing is not feasible, consumption shares and promised utilities will live on an
ergodic set with mass on (Ï‰ 1 (lo, z), Ï‰ 1 (hi, z)) and (w1 (lo, z), w1 (hi, z)). These values can be deter50

mined by solving a system of 8 equations in 8 unknowns:
b
w 1 (lo, re) = u(Ï‰(lo, re)) + Î²(re)

b
w1 (hi, re) = u(Ï‰(hi, re)) + Î²(re)

b
w1 (lo, ex) = u(Ï‰(lo, ex)) + Î²(ex)

X
y â€² ,z â€²

b
w 1 (hi, ex) = u(Ï‰(hi, ex)) + Î²(ex)

X

Ï€
b(y â€², z â€² |lo, re)w1 (y â€², z â€² )

y â€² ,z â€²

X
y â€² ,z â€²

Ï€
b(y â€², z â€² |hi, re)w1 (y â€² , z â€² )

X
y â€² ,z â€²

Ï€
b(y â€², z â€² |lo, ex)w 1 (y â€² , z â€² )

Ï€
b(y â€² , z â€² |hi, ex)w 1 (y â€², z â€² )

where w1 (hi, z) = U1aut (hi, z) (symmetry implies w2 (lo, z) = U2aut (lo, z)) and Ï‰(lo, z) = 1 âˆ’ Ï‰(hi, z)
(also implied by symmetry). Once we solve this system of 8 equations in 8 unknowns, we have a
complete description of the solution.11

C.2

Solving a 2-agent version of Limited Liability Model

We can apply the same logic to solve for the ergodic allocations in a 2-agent version of the economy with limited liability. If perfect risk sharing is not feasible, consumption shares and valuations of the consumption claims will live on an ergodic set with mass on (Ï‰ 1 (lo, z), Ï‰ 1 (hi, z)) and
(C 1 (lo, z), C 1 (hi, z)).
These values can be determined by solving a system of 8 equations in 8 unknowns:
b
C 1 (lo, re) = Ï‰(lo, re) + Î²(re)

b
C 1 (hi, re) = Ï‰(hi, re) + Î²(re)

b
C 1 (lo, ex) = Ï‰(lo, ex) + Î²(ex)

X
y â€² ,z â€²

b
C 1 (hi, ex) = Ï‰(hi, ex) + Î²(ex)

X

Ï€
b(y â€² , z â€² |lo, re)g(y â€², z â€² ; lo, re)Î³ C 1 (y â€² , z â€² )

y â€² ,z â€²

X
y â€² ,z â€²

X
y â€² ,z â€²

Ï€
b(y â€² , z â€² |hi, re)g(y â€², z â€² ; hi, re)Î³ C 1 (y â€², z â€² )

Ï€
b(y â€², z â€² |lo, ex)g(y â€², z â€² ; lo, ex)Î³ C 1 (y â€² , z â€² )

Ï€
b(y â€², z â€² |hi, ex)g(y â€², z â€² ; hi, ex)Î³ C 1 (y â€² , z â€² )

aut
where C 1 (hi, z) = C aut
1 (hi, z) (symmetry implies q2 (lo, z) = q2 (lo, z)) and Ï‰(lo, z) = 1 âˆ’ Ï‰(hi, z)
(also implied by symmetry). C aut
1 (y, z) is defined as the valuation of a claim to labor income:

b
C aut
1 (y, z) = Î·(y, z) + Î²(z)
11

X
y â€² ,z â€²

â€² â€²
Ï€
b(y â€² , z â€² |lo, re)g(y â€², z â€² ; y, z)Î³ C aut
1 (y , z )

Note that if the initial consumption share of agent 1 is outside of the interval (Ï‰1 (lo), Ï‰1 (hi)) ,it will revert to
this interval after one new, different shock.

51

Once we solve this system of 8 equations in 8 unknowns, we have a complete description of the
solution.

D

Proofs
â€¢ Proof of Proposition 3.2:
Proof. First, we show that the solvency constraints imply that the participation constraints
are satisfied:


U( c Î¸0 , y t, z t )(st ) â‰¥ Îºt (st ),



 
and U( c Î¸0 , y t, z t )(st ) = Îºt (st ) â‡â‡’ Î st [{Î·}] = Î st c Î¸0 , y t, z t

and that the participation constraints bind only if the solvency constraints bind. This follows
directly from the definition of Îºt (st ). If Î st [{c (Î¸0 , y t , z t )}] â‰¥ Î st [{Î·}] , then U({c (Î¸0 , y t, z t )})(st )
â‰¥ Îºt (st ) because



U( c Î¸0 , y t , z t )(st ) = max
U(c)(st ),
â€²
{c }

(D.1)

such that the budget constraint is satisfied Î st [{câ€² }] â‰¤ Î st [{c (Î¸0 , y t, z t )}] and such that the
solvency constraints are satisfied in all following histories:
U(c)(sÏ„ ) â‰¥ ÎºÏ„ (sÏ„ ) for all sÏ„ â‰¥ st .
The rest of the proof follows from the definition of Îºt (st ) :
Îºt (st ) = max
U(c)(st ),
â€²
{c }

(D.2)

such that the budget constraint is satisfied Î st [{câ€² }] â‰¤ Î st [{Î·}] and the solvency constraints
are satisfied in all following histories: U(c)(sÏ„ ) â‰¥ ÎºÏ„ (sÏ„ ) for all sÏ„ â‰¥ st . This shows that
the solvency constraints ensure that the participation constraints are satisfied. In addition,
the same argument implies that, if the solvency constraints bind, then the participation
constraints bind. The solvency constraint is not too tight. Second, the participation constraints imply that the solvency constraints are satisfied. If U({c (Î¸0 , y t, z t )})(st ) â‰¥ Îºt (st ),
then from (D.1) and (D.2), it follows that Î st [{Î·}] â‰¤ Î st [{c (Î¸0 , y t, z t )}] . The second part is
obvious.
â€¢ Proof of Proposition 3.3:
52

Proof. Summing across all of the individual participation constraints at some node z t :
#
Z X"
Î st [{c (Âµ0 , y t, z t )}]
Ï•(y t |y0 )dÎ¦0 â‰¥ 0.
t
âˆ’Î s [{Î·}])
yt
t

(D.3)

t

,z |y0 ,z0 )
Using p(st |s0 ) = Q(z t |z0 ) Ï€(yÏ€(z
-this is w.l.o.g.-, this can be rewritten as:
t |z )
0

X

Q(z Ï„ |z t )

z Ï„ z t

"Z
"
X
yÏ„

c (Âµ0 , y Ï„ , z Ï„ )
Ï„

âˆ’b
Î·Ï„ (yÏ„ , zÏ„ )eÏ„ (z )

#

Ï•(y t |y0 )dÎ¦0

#

,

(D.4)

with (z Ï„ , y Ï„ )  st . To justify the interchange of limits and expectations, we appeal to the
monotone convergence theorem. Let Î nst [{c (Âµ0 , y t , z t )}] be the value of the claim to the
consumption stream until t + n and let Î nst [{Î·}] be similarly defined. Then the monotone
convergence theorem can be applied for both sequences because for all n : 0 â‰¤ Xn â‰¤ Xn+1 .
Let X = limn Xn . Then EXn Ö€ X as n â†’ âˆž (where EX is possibly infinite). This justifies
the interchange of limit and the expectation (SLP, 1989, p.187).

The Law of Large Numbers and the definition of the labor share of the aggregate endowment
imply that the average labor endowment share equals the labor share:
Z X
yt

Î·bt (yt , zt )Ï•(y t|y0 )dÎ¦0 =

X

Ï€zt (yt )b
Î·t (yt , zt ) = (1 âˆ’ Î±),

(D.5)

yâ€²

and the market clearing condition implies that:
Z X
yt


c Âµ0 , y t, z t Ï•(y t|y0 )dÎ¦0 = et (z t ).

(D.6)

Plugging eqs. (D.5) and (D.6) back into eq. (D.4) implies the following inequality must hold
at all nodes z t : Î±Î z t [{et (z t )}] â‰¥ 0. If there is no outside wealth (Î± = 0) in the economy,
then the expression is zero at all nodes z t and eq. (D.3) holds with equality at all nodes z t .
This implies that each individual constraint binds for all st and there can be no risk sharing.
Why? Suppose there are some households (Âµ0 , y t, z t ) âˆˆ A at node z t where A has non-zero
measure:
XZ
Ï•(y t |y0 )dÎ¦0 > 0,
A

and their constraint is slack: Î st [{c (Âµ0 , y t , z t )}] > Î st [{Î·}] . Given that eq. (D.3) holds with
equality at all nodes z t with Î± = 0, there are some households (Âµâ€²0 , y t , z t ) at node z t âˆˆ B for
53

which

XZ

Ï•(y t |y0)dÎ¦0 > 0,
B

which have constraints that are violated: Î st [{c (Âµâ€²0 , y t , z t )}] < Î st [{Î·}] . If not, (D.3) would
be violated. But this violates the participation constraints for these agents. So, for Î± = 0,
for all households with positive measure:
Î st



c Âµ0 , y t , z t

 

= Î st [{Î·}] for all y t at z t .

The same argument can be repeated for all z t . This implies that the following equality holds
for all st and for all households with positive measure:
Î st


 
c Âµ0 , y t , z t
= Î st [{Î·}] for all st ,

and there can be no risk sharing: c (Âµ0 , y t, z t ) = Î·t (st ) for all st and Âµ0
â€¢ Proof of Proposition 3.4:
Proof. If this condition is satisfied: Î âˆ—st [{e}] â‰¥ Î âˆ—st [{Î·}] for all st , where Î âˆ—st is the complete
insurance pricing functional, then each household can get a constant and equal share of the
aggregate endowment at all future nodes. Perfect risk sharing is possible.
â€¢ Proof of Proposition 3.5:
Proof. The value of the outside option at each node st is simply the value of autarky: U(Î·)(st ).
The value of bankruptcy has to exceed the value of autarky for any pricing functional, since
continuation values are monotonic in wealth:
Î st [{c}] â‰¥ Î st [{Î·}] â‰¥ Bsaut
t [{Î·}] ,
t
t
where Ut (Bsaut
t [{Î·}] , s , c) = U({Î·})(s ).

â€¢ Proof of Lemma 3.7:
Proof. The sequence of implied weights {Î¶t (Âµ0 , st )} satisfies the necessary Kuhn-Tucker conditions for optimality:



Î¶t (Âµ0 , st ) âˆ’ Î¶tâˆ’1 (Âµ0 , stâˆ’1 ) (C Âµ0 , st ; l âˆ’ Î st [{Î·}]) = 0,
54

and C (Âµ0 , st ; l) â‰¥ Î st [{Î·}] for all st . The last inequality follows from the fact that C(Â·) is
non-decreasing in Âµ0 . It is easy to verify that there exist no other weight policy rules that
satisfy these necessary conditions. Since the optimal policy is to compare the current weight
Î¶ to the cutoff rule lt (y, z t ), the continuation cost can be stated as a function of the current
weight, the current idiosyncratic state and the aggregate history: C (Âµ0 , st ; l) = Ct (Î¶, y, z t).
The householdâ€™s policy rule {Î¶t (Âµ0 , st )} can be written recursively as {lt (l, y, z t )} where l0 =
Âµ0 and lt (ltâˆ’1 , y, z t ) = ltâˆ’1 if ltâˆ’1 > lt (y, z t ) and lt (ltâˆ’1 , y, z t ) = lt (y, z t ) elsewhere. The reason
is simple. If the constraint does not bind, the weight is left unchanged. If it does bind, it is
set to its cutoff value.
â€¢ Proof of Theorem B.3:
âˆž

Proof. {Î¶t (Âµ0 , st )}t=0 and {ht (z t )} define an allocation {ct (Âµ0 , st )} through the risk sharing
rule
1/Î³
Î¶ (Âµ0 , st )
ct (Âµ0 , st ) = t
et (z t ).
ht (z t )
The sequence of Lagrangian multipliers {Î¶t (Âµ0 , st ) âˆ’ Î¶tâˆ’1 (Âµ0 , stâˆ’1 )} satisfy the Kuhn-Tucker
conditions for a saddle point. The consumption allocations satisfy the first order conditions
forh optimality (see
i derivation of risk sharing rule ). Market clearing is satisfied because
1/Î³
t t
E Î¶t (Âµ0 , y , z ) = ht (z t ) implies that E [ct (Âµ0 , y t, z t )] = et (z t ). Now, let Î¸0 = C(Âµ0 , s0 ; l) âˆ’
Î s0 [{Î·}] . The prices implied by {mt (z t |z0 )} are equilibrium prices by construction and rule
out arbitrage opportunities. So, now we can relabel the households as (Î¸0 (Âµ0 ), s0 ) and we
have recovered the equilibrium allocations {ct (Î¸0 , st )} and the prices {pt (st |s0 )} .
â€¢ Proof of Lemma 3.8:
Proof. First, we will transform this growth economy into a stationary economy with stochastic discount rates (?) . The aggregate growth rate is a function Î»(zt ). Let utility over
consumption streams be defined as follows:
U(b
c)(st ) =

cbt (st )
1âˆ’Î³

1âˆ’Î³

+ Î²b

X

U(b
c)(st+1 )b
Ï€ (st+1 |st ),

st+1

where b
c represents the consumption share of the total endowment and let the transformed
transition matrix be given by:
1âˆ’Î³
X
b t+1 ) = P Ï†(zt+1 )Î»(zt+1 )
b=Î²
Ï†(z
and
Î²
Ï†(zt+1 )Î»(zt+1 )1âˆ’Î³ .
1âˆ’Î³
Ï†(z
)Î»(z
)
t+1
t+1
zt+1
z
t+1

55

(D.7)

The (cum dividend) price-dividend ratio of a dividend stream can be written recursively as:
hn oi
hn oi  h (z t+1 ) Î³
X
t+1
t
b t)
b st db = dbt (s ) + Î²(z
b st+1 db
Î 
Î 
Ï€
b(st+1 |st ),
t
ht (z )
t+1

(D.8)

s

hn oi
and let Vst db denote the ex-dividend price-dividend ratio (i.e. the previous expression
less todayâ€™s dividend). The equilibrium consumption shares in the stationary economy can
simply be scaled up to obtain the allocations in the growth economy. The prices of claims
to a dividend stream in the stationary economy are the price-dividend ratioâ€™s in the growth
economy.
Second, the lemma itself follows directly from the definition of the cutoff level:
X
X  h (z t ,z â€²) Î³

t+1
b â€²)
b z t+1 ,yâ€² [{b
b Âµ0 , st ; l = Î·b(y, z) + Î²b
Ï†(z
Î 
Î· }] Ï•(y â€²|y),
C
t
ht (z )
yâ€²

zâ€²

b (Âµ0 , st+1 ; l) â‰¥ Î 
b z t+1 ,yâ€² [{b
where lt (Âµ0 , st ) = lt (z t , y). Now since, C
Î· }] for all (y t+1 , z t+1 ), this

equality implies that
â€¢ Proof of Lemma 3.9:

1/Î³

lt

(z t ,y)
ht (z t )

â‰¤ Î·b(y, z) for all (y, z).

Proof. Since Ï•(y â€²|y) satisfied monotonicity, we can rank the cutoff weights, because the value
of the endowment claims can be ranked such that:
b z t ,yn [{b
b z t ,ynâˆ’1 [{b
b z t ,y1 [{b
Î 
Î·}] â‰¥ Î 
Î· }] â‰¥ . . . â‰¥ Î 
Î· }] ,

(D.9)

for all z t . To show this, we start with a truncated version of this economy at T âˆ’ 1 We use
e to denote the claims in the truncated version of this economy. By definition, for all z T âˆ’1 :
Î 
e z T âˆ’1 ,y [{b
Î 
Î· }] = Î·b(y, zT âˆ’1 ) + Î²b

X h

T (z

T âˆ’1 ,z â€² )

hT âˆ’1

(z T âˆ’1 )

zâ€²

and verify that these objects can be ranked:

Î³

b â€²)
Ï†(z

X

Î·(y â€² , z â€² )Ï•(y â€² |y),

yâ€²

e z T âˆ’1 ,y [{b
e z T âˆ’1 ,y [{b
e z T âˆ’1 ,y [{b
Î 
Î· }] â‰¥ Î 
Î· }] â‰¥ Î 
Î· }] ,
n
nâˆ’1
1

P
because yâ€² Î·(y â€², z â€² )Ï•(y â€²|y) is non-decreasing in y. This follows immediately from the definition of monotonicity of Ï•(y â€²|y). Next, we roll the truncated economy back one more period:
e z T âˆ’2 ,y [{b
Î 
Î· }] = Î·b(y, zT âˆ’2) + Î²b

X h

T (z

T âˆ’2 ,z â€² )

hT âˆ’1

zâ€²

56

(z T âˆ’2 )

Î³

b â€²)
Ï†(z

X
yâ€²

e z t+1 ,yâ€² [{b
Î 
Î·}] Ï•(y â€²|y),

and using the result for T âˆ’ 1, one obtains the following ranking:
e z T âˆ’2 ,y [{b
e z T âˆ’2 ,y [{b
e z T âˆ’2 ,y [{b
Î 
Î· }] â‰¥ Î 
Î· }] â‰¥ . . . â‰¥ Î 
Î· }] .
n
nâˆ’1
1

By backward induction, for any z t , the claims in the truncated economy can be ranked such
that:
e z t ,yn â‰¥ Î 
e z t ,y
e z t ,y .
Î 
â‰¥ ... â‰¥ Î 
nâˆ’1
1
Next, we note that the price of a claim in the infinite horizon economy can be stated as:
b z t ,yt = Î 
b z t ,yt + E
et Î² T âˆ’t
Î 



hT
ht

Î³

b z T ,y ,
Î 
T

b T
et Î² T âˆ’t hT Î 
is independent of yt and converges to some finite x that
and that limT â†’âˆž E
ht z ,yT
does not depend on yt : the transition matrix has no absorbing states, all states y â€² will be
visited infinitely often in the limit and the limit cannot depend on yt . The limit is finite by
assumption. Hence, the results for the truncated economy are valid for the infinite horizon
economy. This shows equation (D.9) holds. Finally, we need to show that this implies a
similar ranking for the cutoff weights. When Î¶t (Âµ0 , st ) = lt (z t , y), by definition,the following
holds:
"
#
X
X  h (z t ,z â€² ) Î³

t+1
b â€²)
b z t+1,yâ€² [{b
b Âµ0 , st ; l = Î·b(y, z) + Î²b
Ï†(z
Î 
Î· }] Ï•(y â€² |y) .
C
t
ht (z )

yâ€²

zâ€²

b is monotonically increasing in Î¶, we know that for all y â€² and z t :
Since C
lt (z t , yn ) â‰¥ lt (z t , ynâˆ’1 ) â‰¥ . . . â‰¥ lt (z t , y1 ).

This result, combined with Lemma 3.8, implies directly that the consumption share in the
lowest state equals the endowment share:

lt (z t ,y1 )
ht (z t )

= Î·b(y1 , z t ) for all z t .(q.e.d.)

â€¢ Proof of Proposition 3.6:

Proof. Consider the necessary f.o.c. for optimality in (RSDP):
Ï‡t (Âµâ€²0 , st )p(st |s0 ) = Âµ0 uc (ct (Âµâ€²0 , st ))Î² t Ï€(st |s0 ).
To economize on notation, let Î¶t (Âµ0 , st ) = Âµ0 /Ï‡t (Âµ0 , st ). Consider the ratio of first order
57

conditions for an individual of type (Âµ0 , s0 ) at 2 consecutive nodes (st+1 , st ):

âˆ’Î³
p(st+1 |s0 )
Î¶t+1 (Âµ0 , st+1 ) ct+1 (Âµ0 , st+1 ))
t+1
= Î²Ï€(s |st )
,
p(st |s0 )
Î¶t (Âµ0 , st )
ct (Âµ0 , st ))
and substitute for the optimal risk sharing rule, noting that the unconstrained investorâ€™s
weight Î¶t+1 does not change. Then the following expression for the ratio of prices obtains:

âˆ’Î³ 
Î³
p(st+1 |s0 )
et+1 (zt+1 )
ht+1 (z t+1 )
t+1
= Î²Ï€(s |st )
.
p(st |s0 )
et (zt )
ht (z t )

â€¢ Proof of Lemma 3.10:
Proof. First, we prove that ht+1 (z t+1 )/ht (z t ) â‰¥ 1. The definition of ht implies that:
â€²

ht (z , z

tâˆ’1

) =

XZ
yt

â€²

âˆž
l(y â€² ,z t )
t

l(y , z )

1/Î³
Î¶tâˆ’1 dÎ¦z tâˆ’1

1/Î³ X
yt

Z

Ï€(y â€², z â€² |y, z)
(dy Ã— dÎ¶)
+
Ï€(z â€² |z)

l(y â€² ,z t )

dÎ¦z tâˆ’1 (dy Ã— dÎ¶)

0

Ï€(y â€², z â€² |y, z)
,
Ï€(z â€² |z)

which is obviously larger than:
htâˆ’1 (z

tâˆ’1

)=

XZ
yt

âˆž
0

1/Î³

Î¶tâˆ’1 dÎ¦z tâˆ’1 (dy Ã— dÎ¶)

Ï€(y â€² , z â€² |y, z)
.
Ï€(z â€² |z)

Second, we prove that the following inequality holds: ht+1 (z t+1 )/ht (z t ) â‰¤
this would imply that the highest IMRS satisfies:


ct+1 (y t+1 , z t+1 , Âµ0 ) et+1 (z t+1 )
max
/
ct (y t , z t , Âµ0 )
et (z t )

âˆ’Î³

>



Î·b(yn , zt )
Î·b(y1 , zt+1 )

Î³

Î·b(yn ,zt )
.
Î·b(y1 ,zt+1 )

If not,

,

which implies that the unconstrained agent is consuming less than her endowment at z t and
more than her endowment at z t+1 , but that can be ruled out on the basis of Lemma (3.8).
â€¢ Proof of 3.14
Proof. To prove the proposition, it is sufficient to note that the ergodic consumption shares
only depend on (y, z). So, the conditional market price of risk can only depend on (y, z).
Note that, because of symmetry, the conditional market price of risk cannot depend on y,
i.e. it cannot depend on whether the agent of type 1 is in the high or the low state.
58

â€¢ Proof of Proposition 3.15:
Proof. In the ergodic equilibrium, one of the households always faces a binding solvency
constraint. This observation and market clearing implies that in the ergodic equilibrium the
trade volume is two times the collateralizable share of income.
â€¢ Proof of Proposition 3.12:
Proof. In this case, in the transformed economy, the z shocks have disappeared altogether,
since Î·b does not depend on z. We will use Ï‰ to denote the consumption share of an agent at
b
the end of the previous period. Let C(Ï‰,
y) denote the cost of the consumption stream for
by (y) to denote the cost of the labor endowment
a household in state y. Similarly, we use C

stream. Finally, l(Ï‰, y) denotes the policy rule for the consumption weights. Ï‰ â€² = l(Ï‰, y â€²)/g
is the new consumption share. The cutoff rule l(y â€² ) depends only on y, because the value
bÎ· (y) does not depend on z. The proof proceeds in two steps.
of the labor income claim C
First, we assume that there exists a stationary equilibrium characterized by the following
condition:
ht+1 (z t+1 )
= g âˆ— f or all z t+1
ht (z t )

We compute g âˆ—. Second, we show that for given g âˆ—,there exists a stationary distribution of
consumption weights Ï‰.
First, the cutoff rule l(y â€²) depends only on y because the value of the labor income claim
CÎ· (y) does not depend on z t :
bÎ· (y) = Î 
b y [{Î·(y)}] = Î·b(y) + Î²b
C

X
yâ€²

b ,yâ€² [{d}] (g âˆ— )Î³ Ï•(y â€²|y)
Î 

and neither does the value of the consumption claim C(Ï‰, y):
b
C(Ï‰,
y) = l(Ï‰, y â€²)/g âˆ— + Î²b

X
yâ€²

b â€² , y â€²) (g âˆ—)Î³ Ï•(y â€² |y),
C(Ï‰

where the next period â€™s weight is discounted: Ï‰ â€² = l(Ï‰, y â€²)/g.

The distribution is rescaled at the end of each period (after the cutoff rule is applied) such that
R
growth is eliminated from the consumption weights: Ï‰Î¦âˆ— (dÏ‰ Ã— dy) = 1. This is done simply

by dividing all the weights by the growth rate g. The policy rules induce the following growth
R
rate for the average weight: g âˆ— = l (Ï‰, y â€²) Î¦âˆ— (dÏ‰ Ã— dy) . This establishes the equivalence
of the economy with i.i.d. aggregate uncertainty and the one without aggregate uncertainty
and a twisted transition probability matrix. Given the monotonicity assumptions we have
59

imposed on Ï•, we know that the consumption weights Ï‰ live on a closed domain L because we
know that the consumption shares l(Ï‰, y)/g â‰¤ Î·b(yn ) from Lemma 3.8 and l(Ï‰, y)/g â‰¥ Î·b(y1 ).
 
This implies that Ï‰ âˆˆ l, l since g is bounded. If some agent starts with an initial weight

Ï‰0 â‰¥ l their consumption weight drops below l after a finite number of steps unless there
is perfect risk sharing. Second, we establish the existence of a stationary equilibrium. Let
B(L) the Borel set of L and let P (Y ) be the power set of Y. The policy function l together
with the transition function Ï€ jointly define a Markov transition function on income shocks
and consumption weights: Q : (L Ã— Y ) Ã— (B(L) Ã— P (Y )) â†’ [0, 1] where
Q(Ï‰, y, L, Y) =

X

Ï•(y â€²|y),

,y â€² âˆˆY

if lh (Ï‰, y â€²)/hâˆ— âˆˆ L. Next, define an operator on the space of probability measures Î› (L Ã— Y ) Ã—
(B(L) Ã— P (Y )) as
Z
T âˆ— Î¦ (L, Y) =

Q(Ï‰, y, L, Y)dÎ¦.

A fixed point of this operator is an invariant probability measure. Let Î¦âˆ— denote the invariant
measure over the space (L Ã— Y ) Ã— (B(L) Ã— P (Y )) that satisfies invariance:
T âˆ— Î¦âˆ— (L, Y) = Î¦âˆ— .
Clearly, if there is unique Î¦âˆ— , then there is a unique growth rate that clears the market:
âˆ—

g =

Z X

Ï•(y â€² |y)lg (Ï‰, y â€²)dÎ¦âˆ— (dÏ‰ Ã— dy).

yâ€²

We can define a stationary equilibrium. A stationary equilibrium consists of cost functions
C(Ï‰, y), C y (y), shadow discounter Q, updating rules l(Ï‰, y) and an invariant measure Î¦âˆ— such
that (i) the recursive updating rule is optimal: (l(Ï‰, y â€²) âˆ’ Ï‰) (C(Ï‰, y) âˆ’ CÎ· (y)) = 0, (ii) the
market clears: g âˆ— = E [l(Ï‰, y â€²)] and (iii) there is no arbitrage Q = g âˆ—Î³ , where the expectation
is taken w.r.t. Î¦âˆ— , the stationary measure over (L Ã— Y ) Ã— (B(L) Ã— P (Y )) induced by T âˆ— .
It remains to be shown that this stationary measure exists. This section follows the strategy
by Krueger (1999) on p.15 applied to a similar problem. We define an operator on the space
of probability measures Î› (L Ã— Y ) Ã— (B(L) Ã— P (Y )) as
âˆ—

T Î» (L, Y) =

Z

Q ((Ï‰, y) , (L, Y)) dÎ».

A fixed point of this operator is defined to be an invariant probability measure. To show
there exists a unique fixed point of this operator, we check condition M in (Stokey, Lucas,
60

and Prescott (1989) p. 348). If this condition is satisfied, we can use Theorem 11.12 in
Stokey, Lucas, and Prescott (1989) p. 350. To be perfectly general, let L = [l, lmax ] . There
has to be an Îµ > 0 and an N â‰¥ 1 such that for all sets L, Y
QN ((Ï‰, y) , (L, Y)) â‰¥ Îµ and QN ((Ï‰, y) , (L, Y)c ) â‰¥ Îµ .
It is sufficient to show that there exists an Îµ > 0 and an N â‰¥ 1 such that for all (Ï‰, y) âˆˆ
(L, Y )) : QN ((Ï‰, y) , (lmax , yn )) â‰¥ Îµ, but we know that Q ((Ï‰, y) , (lmax , yn )) â‰¥ Ï•(yn |y). If
lmax â‰¥ l, then define


lmax
N = min n â‰¥ 0 : n â‰¤ l ,
g
where N is finite unless there is perfect risk sharing. Then we know that QN ((Ï‰, y) , (lmax , yn )) â‰¥
Îµ where
Îµ = Ï•(yn |y) âˆ— (Ï•(yn |yn ))N âˆ’1 .
If l â‰¥ lmax , the proof is immediate by setting Îµ = Ï•(yn |y). This establishes the existence of a
unique, cross-sectional distribution and a unique g âˆ— that clears the market.
âˆ—

T g(Î¦ ) =

XZ
yâ€²

E

â€²

âˆ—

Ï•(y |y)Ï‰dÎ¦ +

l(y â€² )

X
yâ€²

â€²

l (y )

Z

l(y â€² )

Ï•(y â€²|y)dÎ¦âˆ— .

Technical Appendix

This section establishes the existence of a stationary measure over consumption weights and endowment states in the approximating equilibrium.
Let B(L) the Borel set of L and let P (Y ) be the power set of Y. The function l(Â·) together
with the transition function Ï€ jointly define a Markov transition function on income shocks and


â€œconsumption weightsâ€: Q : L Ã— Y Ã— Z k Ã— B(L) Ã— P (Y ) Ã— P (Z k ) â†’ [0, 1] where
Q



Ï‰, y, z k , (L, Y, Z) =

X

Ï€(y â€², z â€² |y, z) if lh (Ï‰, y â€², z â€² ; z k )/g(z k , z â€² ) âˆˆ L.

,y â€² âˆˆY,z â€² .st z kâ€² âˆˆZ

= 0 elsewhere.
Next, define the operator that maps one measure into another on the space of probability measures
61



Î› over L Ã— Y Ã— Z k Ã— B(L) Ã— P (Y ) Ã— P (Z k ) as:
T Î» (L, Y, Z) =

Z

Q



Ï‰, y, z k , (L, Y, Z) dÎ».

Suppose there exists a unique, invariant measure over weights, endowments and truncated aggre

gate histories, that is there is a stationary measure Î»âˆ— on (S, S) = L Ã— Y Ã— Z k Ã— B(L) Ã— P (Y ) Ã— P (Z k ) ,

such that

âˆ—

âˆ— âˆ—

Î» =T Î» =

Z

Q



Ï‰, y, z k , (L, Y, Z) dÎ»âˆ— ,

where Q is the transition function induced by the policy function and the Markov process. Then the

distribution over weights, endowments and histories is unique and stationary, for each z kâ€² , z k âˆˆ Z
â€²
k
where z k = (z â€² , zkâˆ’1
):
Î¦z kâ€² =

X

kâ€²

k

Ï€(z |z )

zk

Z

Q



Ï‰, y, z k , (L, Y, Z) Î¦z k (dÏ‰ Ã— dy) .

If we start off this economy with this measure Î»âˆ— , it keeps reproducing itself and we can define
a stationary stochastic equilibrium in which the economy moves stochastically between aggregate
states and associated wealth/endowment distributions.
The optimal forecast when going from state z k to z â€² is given by its unconditional average:
âˆ—

â€²

k

g (z , z ) =

XZ
yâ€²


l Ï‰, y â€², z â€² ; z k Î¦âˆ—z k (dÏ‰ Ã— dy) Ï•(y â€²|y),

(E.1)

To check that a stationary measure exists, it is sufficient to check a mixing condition (Stokey,
Lucas, and Prescott (1989), p. 348).
Definition E.1. Condition M: There has to be an Îµ > 0 and an N â‰¥ 1 such that for all sets
L, Y, Z k

c
QN Ï‰, y, z k , L, Y, Z k â‰¥ Îµ or QN (Ï‰, y, z k , L, Y, Z k ) â‰¥ Îµ .

The standard argument can be applied. The weights live on a compact set and the upper bound
â€²

k

n ,z ;z )
max(z â€² ,z k ) l(y
will be reached with positive probability provided that Ï€ has no zero entries,
g âˆ— (z â€² ,z k )
but convergence will be slower for larger k.

62

