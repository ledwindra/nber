NBER WORKING PAPER SERIES

WHAT IS THE PRICE OF TEA IN CHINA? TOWARDS THE RELATIVE COST
OF LIVING IN CHINESE AND U.S. CITIES
Robert C. Feenstra
Mingzhi Xu
Alexis Antoniades
Working Paper 23161
http://www.nber.org/papers/w23161

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
February 2017

We thank John Romalis and participants at an NBER conference for their helpful comments and
Qi Liu for research assistance. Financial support from the National Science Foundation and the
China Scholarship Council is gratefully acknowledged, as are the elasticities of substitution
provided by Hottman, Redding, and Weinstein (2016). Calculations are based on data from the
Nielsen Company (China) and from the Nielsen Company (US), LLC and marketing databases
provided by the Kilts Center for Marketing Data Center at the University of Chicago Booth
School of Business. Information about the U.S. data and access are available at http://
research.chicagobooth.edu/nielsen/. © The Nielsen Company. Circulated with permission. Please
direct correspondence to: Robert Feenstra, University of California, Davis,
rcfeenstra@ucdavis.edu. The views expressed herein are those of the authors and do not
necessarily reflect the views of the National Bureau of Economic Research.
NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.
© 2017 by Robert C. Feenstra, Mingzhi Xu, and Alexis Antoniades. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission
provided that full credit, including © notice, is given to the source.

What is the Price of Tea in China? Towards the Relative Cost of Living in Chinese and U.S.
Cities
Robert C. Feenstra, Mingzhi Xu, and Alexis Antoniades
NBER Working Paper No. 23161
February 2017
JEL No. E01,F11,L1
ABSTRACT
We examine the price and variety of products at the barcode level in cities within China and the
United States. In both countries, there is a greater variety of products in larger cities. But in
China, unlike the United States, the prices of products tend to be lower in larger cities. We
attribute the lower prices to a pro-competitive effect, whereby large cities attract more firms
which leads to lower markups and prices. Combining the effect of greater variety and lower
prices, it follows that the cost of living for grocery-store products in China is lower in larger
cities. We further compare the cost-of-living indexes for particular product categories between
China and the United States. In product categories with a significant presence of U.S. brands in
the Chinese market, the availability of additional Chinese brands leads to greater variety than in
the United States, and therefore lower Chinese price indexes for that reason. In product categories
with much less presence of U.S. brands in the Chinese market, however, the observed prices
differences between the countries (usually lower prices in China) are partially or fully offset by
the variety differences (less variety in China), so that the cost of living in China is not as low as
the price differences suggest, especially in smaller cities.
Robert C. Feenstra
Department of Economics
University of California, Davis
One Shields Avenue
Davis, CA 95616
and NBER
rcfeenstra@ucdavis.edu
Mingzhi Xu
University of California, Davis
Department of Economics
mzhxu@ucdavis.edu

Alexis Antoniades
Georgetown University
aa658@georgetown.edu

1

Introduction

In 2005, real GDP for the Chinese economy fell by 40%. Not in reality, of course, but in the estimates
reported by the World Bank. As explained by Deaton and Heston (2010), the revised 2005 estimates
made use of new price data collected for China under the International Comparisons Program (ICP):
. . . the 2007 version of the World Development Indicators (WDI), World Bank (2007), lists
2005 per capita GDP for China as $6,757 . . . in current international dollars. The 2008
version, World Bank (2008), which includes the new [2005] ICP data, gives, for the same
year, and the same concept $4,088 for China ...1
The logical explanation for this fall in estimated real GDP for China is that the prices collected for
China were higher than expected. In fact, prices had never been collected for China before the 2005
round of the ICP, so prior estimates of real GDP used imputed prices. Because the actual Chinese
prices were higher than imputed, then the quantity of goods consumed by the representative Chinese
individual were lower. It follows that real GDP was also lower – 40% lower for China!
Two explanations have been provided for the unexpectedly high prices collected for China by
the ICP 2005. The first explanation is that urban regions were over-sampled in China and that rural
prices would be lower. That claim is evaluated by Feenstra, Ma, Neary, and Prasada Rao (2013),
who find that Chinese prices from the 2005 ICP round were indeed somewhat higher than for other
developing countries at similar levels of GDP per capita. Besides the possible urban bias, another
explanation has to do with a special feature of the 2005 ICP, whereby prices were collected in each
region of the world and then “linked” to other regions using a different price survey conducted
only in certain cities. Deaton and Aten (2017) and Inklaar and Rao (2017) argue that this “linking”
procedure led to a systematic upward bias in the prices for Asia relative to the United States. That
linking procedure was not followed in the 2011 round of the ICP, and as a result, relative prices in
Asia and in other developing countries were lower than in 2005.
These facts, combined with anecdotal evidence of high prices in China,2 are enough to convince
us that a source of price information for China independent of the ICP is very important; crucial,
in fact, to obtain reliable estimates of its real GDP. The goal of this paper is to compare the cost
of living for cities in China and in the United States using two sources of barcode data: scanner
data from grocery stores; and prices for grocery-store products scraped from a phone application.
In scraping prices from a phone app we are following the lead of Cavallo and Rigobon (2016) who
collect prices from internet sources to make time-series and cross-country comparisons. Such scraped
data alone is not well-suited to compute cost-of-living indexes, however, because there is no quantity
or expenditure data available with the scraped prices. While expenditure data is available from
scanner data, it is prohibitively expensive to obtain for China in more than a handful of products.
1 Deaton

and Heston (2010), p. 3. The World Bank references in this quote are to the World Development Indicators.
evidence that prices in China are high comes from Chinese students in the United States who return home
and find a local price for an item that is higher than the U.S. price at the official exchange rate. They will photograph that
item and post it on their Facebook page!
2 Anecdotal

2

Accordingly, in this paper we rely on Chinese scanner data for four product categories in 22 cities,
purchased from Nielsen (China), and have supplemented these data with scraped prices for these
same four products and a further 15 product categories over 60 cities, obtained from a mobile phone
application that allows consumers to check for the various prices at supermarkets in each city. These
Chinese price data are complemented by Nielsen (U.S.) barcode data at the city level. All data are for
2011 or more recent years.
In our results, we find that in both countries there is a greater variety of products in larger cities.
That result has already been found by Handbury and Weinstein (2015) for the United States, and this
paper is the first confirmation of the same result for China. For the U.S., the greater variety in larger
cities offsets the higher prices found there, so that Handbury and Weinstein (2015) argue that the
cost of living – incorporating both price and variety – is lower in larger cities. But in China, unlike
the United States, we find that the prices of products themselves tend to be lower in larger cities.
We attribute those lower prices to a pro-competitive effect, whereby large cities attract more firms
which leads to lower markups and prices. Combining the effect of greater variety and lower prices,
it follows that the cost of living for grocery-store products in China is also lower in larger cities.
We further compare the cost-of-living indexes for particular products between China and the
United States. In the four product categories for which we purchased Nielsen (China) scanner data,
i.e., Toothpaste, Laundry Detergent, Personal Wash items and Shampoo, we expected a significant
presence of U.S. brands in the Chinese market and that turned out to be the case. Then the availability of additional Chinese brands leads to greater variety than in the United States, and therefore
lower Chinese price indexes for that reason. In the other 15 product categories for which we only
have scraped data, however, there is much less presence of U.S. brands in the Chinese market. In
these cases, the observed prices differences between the countries (usually lower prices in China)
are partially or fully offset by the variety differences (less variety in China), so that the cost of living
in China is not as low as the price differences suggest. This latter case applies to Tea, for example,
because our data do not include the many Chinese varieties of tea that are not sold in supermarkets.
In section 2 we describe the nested CES framework that we shall use to measure the consumer
gains from variety. Preliminary evidence from the four product categories with both Nielsen (China)
barcode data and scanned prices is presented in section 3. A model of multi-product firms is described in section 4, from which we derive the solutions for firm pricing and product scope. These
equations are estimated as regressions described in section 5. Our empirical results on the prices of
15 other product categories is presented in section 6, and section 7 concludes.

2

Consumer Utility and Variety

We study an economy consisting of c = 1, ..., D cities or destinations, which differ in population Lc
and labor income wc . Labor is the only factor of production and it is not mobile across cities. A
fraction ρ of total labor income is spent on the differentiated goods, and we denote that spending by

3

Yc = ρwc Lc .
The preferences of the representative consumer in each city are nested CES. Denoting the set of
product varieties sold by firm f in city c by i ∈ I f c , the sub-utility from the products of firm f are
given by

Xfc =

∑ (b f ic x f ic )

(σ−1)/σ

σ/(σ−1)
, σ > 1,

(1)

i∈ I f c

where σ is the elasticity of substitution across products sold by a firm, and b f ic are the taste parameters for each variety, which we will allow to differ across firms, products and to a certain extent
across cities as explained below. Each firm is a manufacturing firm and not a retailer.3 Aggregating
across firms f ∈ Fc that sell in city c, utility of the representative consumer is,

Uc =

∑

f ∈ Fc

(η −1)/η

η/(η −1)
, η > 1.

Xfc

(2)

As in Hottman, Redding, and Weinstein (2016), we expect that the elasticity of substitution σ across
products within a firm is larger than the elasticity η across firms, so we assume that σ ≥ η > 1.
When the two elasticities are equal, then the nested CES system will collapse to a standard CES
utility function as used in Feenstra (1994).
Let p f c denote the vector of prices p f ic for firm f across all product varieties i, with the vector of
taste parameters b f c , and let Pf c = e(p f c , b f c , I f c ) denote the minimum expenditure needed to obtain
one unit of sub-utility, X f c = 1. Then e(p f c , b f c , I f c ) takes on the CES form,

Pf c = e ( p f c , b f c , I f c ) =

∑ ( p f ic /b f ic )

1− σ

1/(1−σ)
.

(3)

i∈ I f c

Feenstra (1994) shows how to measure the effect of new varieties on the exact price index. Specifically, consider firm f selling to destinations c and d. Suppose that there is a non-empty subset of
“common” products I f ⊆ I f c ∩ I f d sold by firm f in these two cities for which the taste parameters
are equal, b f ic = b f id , i ∈ I. Then the exact price index between the two cities can be expressed as





 1
e(p f c , b f c , I f c )
p f ic w f i ( I f )
λ f c σ −1

= ∏
.
e(p f d , b f d , I f d )
p f id
λfd
i∈ I

(4)

f

The first term in brackets on the right of (4) is the Sato (1976)-Vartia (1976) price index, where
w f i ( I f ) is the weight defined by:

w f i(If ) ≡

s f ic ( I f )−s f id ( I f )
ln s f ic ( I f )−ln s f id ( I f )

∑

j∈ I f



s f jc ( I f )−s f jd ( I f )
ln s f jc ( I f )−ln s f jd ( I f )

3 We

 , s f ic ( I f ) ≡

p f ic x f ic

∑ p f jc x f jc

,

(5)

j∈ I f

examined the modeling of a retail sector as another nest in the utility function, with imperfectly competitive retailers. While the theory can be developed, we do not have any data on sales outside of the major retailer chains that we could
use to calibrate this aspect of the model. So that extension is not considered here.

4

and likewise for the shares s f id ( I f ) in city d, also defined over the common set of products. The
second term on the right of (4) is the adjustment needed to take into account differing sets of goods
available in the two cities, and is defined by:
λfc ≡

∑i∈ I f p f ic x f ic

= 1−

∑i∈ I f c p f ic x f ic

∑i∈ I f c \ I f p f ic x f ic
∑i∈ I f c p f ic x f ic

,

(6)

To interpret these formulas, λ f c in (6) denotes the spending in city c on the common products
of firm f, sold in both cities, relative to total spending in city c on firm f’s products. Equivalently,
it equals one minus the share of expenditure on the unique products sold by firm f only in city c.
Having access to more unique varieties in city c implies a smaller expenditure share on common
products, λ f c , and a lower cost-of-living index in (4).
To extend the exact price index to the nested CES case, let Pc denote the vector of CES price

1/(1−η )
( η −1)
indexes Pf c shown in (3) for all firms f ∈ Fc in city c, and let Pc = E(Pc , Fc ) = ∑ f ∈ Fc Pf c
denote the expenditure needed to obtain utility of one in city . Let F ≡ Fc ∩ Fd denote the non-empty
set of “common” firms selling to both cities c and d. Then again from Feenstra (1994), the cost of
living between the two cities can be written as,

E(Pc , Fc )
=
E(Pd , Fd )

"



∏

f ∈F

Pf c
Pf d



= ∏

∏



f ∈ F i∈ I f

W f ( F ) # 

p f ic
p f id

λc
λd

 η −1 1


W f ( F ) wi ( I f ) 


 1   1
λ f c W f ( F ) σ −1 λ c η −1
 ∏
λfd
λd
f ∈F

(7)

where the Sato-Vartia weights across firms are,

W f ( F) ≡

∑

S f c ( F )−S f d ( F )
ln S f c ( F )−ln S f d ( F )

∑



g∈ F

Sgc ( F )−Sgd ( F )
ln Sgc ( F )−ln Sgd ( F )

 , S f c ( F) ≡

p f ic x f ic

i∈ I f c

∑ ∑

p gic x gic

,

(8)

g∈ F i ∈ Igc

and likewise for the shares S f d ( F ) for city d, also defined over the common set of firms. The final
term on the right of (7) is defined by:

λc ≡

∑ ∑

p gic x gic

∑ ∑

p gic x gic

g∈ F i ∈ Igc

∑ ∑

= 1−

g∈ Fc i ∈ Igc

p gic x gic

g∈ Fc \ F i ∈ Igc

∑ ∑

p gic x gic

,

(9)

g∈ Fc i ∈ Igc

That is, λc denotes the spending on the common set of firms F relative to total spending in city c, or
one minus the share of spending on firms selling only in city c. The greater the share of spending on
unique firms selling only in that city, the lower is the exact price index in (7).

5

3

Evidence on Prices in Four Product Categories

3.1

Data

Our calculation of the cost of living relies on the data extracted from three sources. The first source
is the Nielsen (China) Sales database which enables us to observe the annual sales and average price
information of each product with a barcode.4 We purchased Nielsen (China) scanner data for four
product categories, namely, Toothpaste, Laundry Detergent, Personal Wash items, and Shampoo,
covering 22 cities in China, as shown in the red colored regions of Figure 1.5 Besides the sales information for each product, we also observe manufacturer information such as brand and sub-brand of
each product. In our theory and empirical analysis, we refer to the brand as the firm (e.g. Crest or
Colgate for toothpaste).
The regions covered by Nielsen (China) database are only large cities (most of them are capital cities). To address this limitation, our analysis also relies on our second data source, which are
scraped prices collected in 2015 from a mobile phone application that allows consumers to check for
the various prices at supermarkets in each city. Details on this second source of data are provided
in Appendix, and it allows us also to include smaller cities in our sample (as shown in Figure 11 of
Appendix A3). We end up expanding our sample to 60 cities, including the 22 cities provided by
Nielsen (China) database, as shown in the yellow colored regions of Figure 1. Based on the first two
data sources, we implement the formulas described above to calculate the cost of living in China
for each of the four product categories. Our third source of data is the Nielsen Retailing Sales (U.S.)
database, used to calculate the cost of living for 377 MSAs of the United States in 2013, for each of
the four product categories.
We have prices for individual barcode products in four categories for 60 cities in China, but we
have expenditure on these barcode products for only 22 cities in the Nielsen (China) database. We
have implemented a Heckman procedure to estimate barcode-level expenditure in the remaining 38
cities, using a reduced-form equation for the barcode expenditure shares in the 22 cities for which we
have those data. This Heckman procedure is described in Appendix B. The estimated expenditure
shares are used to measure the terms λ f c and λ f appearing in the cost-of-living index (7).
Data are also needed on the elasticities σ between products within a firm, and η between firms.
These elasticities of substitution differ across the four product categories. We rely on the estimates of
these elasticities from Hottman, Redding, and Weinstein (2016), as shown in Appendix B. These authors estimate the elasticities from the Nielsen Retailing Sales (U.S.) database, which is the same data
that we use for the United States. Our assumption is that, for each product category, the elasticities
are the same in the United States and in China.
4 We
5 We

convert RMB data to U.S. dollars using the annual average exchange rate.
use 2011 and 2012 sales information for toothpaste, and 2014 for the other three product categories.

6

Figure 1: Regions included in Nielsen Sales Data and Scraped Price Data

Significantly, the barcode systems used in China is the European Article Number (EAN-13),
whereas that used in the United States in the Universal Product Code (UPC). While it is not difficult to identify similar product categories, it is impossible to exactly match the items across countries
by their barcodes since the barcode systems differ and product descriptions themselves do not match.
That difference in the barcode systems means that the consumer theory outlined above due to Feenstra (1994) cannot be applied between countries, since it assumed that there is a non-empty subset of
“common” products I f ⊆ I f c ∩ I f d sold by firm f in two cities c and d for which the taste parameters
are equal, b f ic = b f id , i ∈ I. We certainly cannot assume that the tastes for products are the same
when we cannot even match products across barcode systems. Accordingly, for the next several sections we focus on comparisons of price across cities within China and the U.S. It will not be until
section 6 that we attempt to compare across countries, using an alternative formulation of exact price
indexes for a nested CES utility function due to Redding and Weinstein (2016).

3.2

Prices Across Chinese and U.S. Cities

Panel (a) of Figures 2 to 5 exhibits how the average price of the common products vary with respect
to the city population for Toothpaste, Laundry Detergent, Personal Wash Items and Shampoo. We
measure the prices in terms of dollars per ounce and calculate the average price using the Sato-Vartia
weights, which is the numerator of the Sato-Vartia index in (7), while also calculating the numerator
of the variety adjustment in (7):

7

PcSV

≡

∏ ∏ ( p f ic )

W f ( F ) wi ( I f )

,

ΛSV
c

f ∈ F i∈ I f



≡

∏

f ∈F

W ( F)
λ f cf

 η −1 1

 σ−1 1 
λc

.

(10)

The terms PcSV and ΛSV
c are shown in panels (a) and (b) of Figure 2 for Toothpaste, Figure 3 for Laundry Detergent, Figure 4 for Personal Wash items, and Figure 5 for Shampoo. In each panel and each
Figure, we plot the variables for the United States (in blue dots) and China (in red x) against the log
population of each city.
From panel (a), we observe that average prices PcSV of common products within the United States
do not vary significantly between cities, whereas the average prices in China have a clear negative
relationship with city size. We explore that finding more in the next section, where we argue that a
pro-competitive effect in larger cities in China can account for that result. In panel (b) we see that
the term ΛSV
c , which measures the inverse of variety, falls slightly with city size in the United States
(though this is barely visible), but falls very noticably with city size in China.
SV SV
Multiplying the terms PcSV × ΛSV
c , and choosing the normalization PNY Λ NY = 1 for New York,

we obtain the exact price index for the United State shown in panel (c) of each Figure. These exact
price indexes are slightly declining in city size for Toothpaste, Laundry Detergent, and Personal
Wash items, but not for Shampoo. In the first three products, we therefore confirm the finding by
Handbury and Weinstein (2015) for the United States that the greater variety in larger cities offsets the
higher prices found there. But in China, unlike the United States, the prices of products themselves
tend to be lower in larger cities, and that is reinforced by a much greater increase in variety in larger
cities, too. For both reasons, the cost-of-living indexes PcSV ΛSV
c for China decline much more rapidly
with population than in the United States.
Because the terms in (10) use the common products within each country, these variables are only
meaningful when comparing prices and variety for each country. In section 6 we develop a method
for comparing these indexes between countries, drawing on Redding and Weinstein (2016). ContinSV ΛSV = 1 for New York, we apply this between-country method to obtain the
uing to normalize PNY
NY

exact prices index for Shanghai, abbreviated as the point SH in panel (c). Then the indexes PcSV ΛSV
c
for all other Chinese cities are measured relative to Shanghai and, by of the virtue of Redding and
Weinstein (2016) method described in section 6, these can also be compared to those in the U.S. We
see that the cost of living for each product in panel (c) is pulled down in China as compared to the
Sato-Vartia geometric means in panel (a), especially in the larger Chinese cities. In other words, for
all four product categories, the additional product variety (as shown in panel b) due to both U.S. and
local brands in the larger cities in China lowers the relative cost of living for consumers there.

8

9
(d) Redding-Weinstein Cost-of-living Index

(b) Common Firm Sales Share

Figure 2: Cost-of-living Comparison: Toothpaste

Data Source: City and MSA macro data are from China Statistical Yearbook and U.S. Bureau of Economic Analysis.

(c) Feenstra Cost-of-living Index

(a) Common Products Price Index

10
(d) Redding-Weinstein Cost-of-living Index

(b) Common Firm Sales Share

Figure 3: Cost-of-living Comparison: Laundry Detergent

Data Source: City and MSA macro data are from China Statistical Yearbook and U.S. Bureau of Economic Analysis.

(c) Feenstra Cost-of-living Index

(a) Common Products Price Index

11
(d) Redding-Weinstein Cost-of-living Index

(b) Common Firm Sales Share

Figure 4: Cost-of-living Comparison: Personal Wash Items

Data Source: City and MSA macro data are from China Statistical Yearbook and U.S. Bureau of Economic Analysis.

(c) Feenstra Cost-of-living Index

(a) Common Products Price Index

12
(d) Redding-Weinstein Cost-of-living Index

(b) Common Firm Sales Share

Figure 5: Cost-of-living Comparison: Shampoo

Data Source: City and MSA macro data are from China Statistical Yearbook and U.S. Bureau of Economic Analysis.

(c) Feenstra Cost-of-living Index

(a) Common Products Price Index

We further illustrate the cost of living in each Chinese city relative to the average level of cost
of living in the United States,6 by plotting these in maps shown in Figures 6 to 9. We use the cold
color (blue) to indicate a Chinese price level lower than that of the U.S. average, and the hot color
(red) to represent a higher Chinese price level. We see from Figure 6 to 9 that the exact price index
is lower in China than the U.S. in all four product categories (the relative price varies from 0.24 to
0.71, with the U.S. average as unity). This occurs despite the fact that the Sato-Vartia average price
for Shampoo is higher in China than in the United States.7 In addition, the exact price indexes are
higher in inland cities than in the eastern coast cities that are usually of larger size. For example,
the most expensive cities for Toothpaste, Laundry Detergent, Personal Wash items, and Shampoo
are Baotou (1.00), Lanzhou (0.29), Baotou (0.44), and Hohhot (0.83) respectively. So the benefits of
greater variety in China applies only to the larger cities, often found on the eastern coast and in
certain inland locations such as Chongching, which is highlighted in the maps near the center of
China and has relatively low exact price indexes.

4

Firm Pricing and Choice of Variety

4.1

Nested CES Demand

To obtain the demand for each differentiated good consumed in country c, let us start at the firm
level. Demand for the aggregate of firm f products is X f c = (Yc /Pc )( Pf c /Pc )−η , where Yc denotes total expenditure, Pc is the overall CES price index, and Pf c is the CES price index (or unit-expenditure
function) shown in (3). Then demand for each variety equals b f ic x f ic = [( p f ic /b f ic )/Pf c ]−σ X f c . Multiplying by ( p f ic /b f ic ) and using the equation for X f c , we find that spending on each variety is,

p f ic x f ic = Pf c X f c

p f ic /b f ic
Pf c

 1− σ



= Yc

p f ic /b f ic
Pf c

 1− σ 

Pf c
Pc

 1− η
.

(11)

We are now in a position to compute the elasticity of demand for an individual variety. We use
the log of spending and differentiate to obtain:
d ln x f ic
d ln( p f ic x f ic )
= 1−
d ln p f ic
d ln p f ic


d ln Pc d ln Pf c
= 1 − (1 − σ ) − ( σ − η ) + ( η − 1)
d ln Pf c d ln p f ic

ε f ic = −

(12)

= σ − [(σ − η ) + (η − 1)S f c ]s f ic ,
where s f ic = d ln Pf c /d ln p f ic is the share of expenditure on product i within the sales of firm f , and
S f c = d ln Pc /d ln Pf c is the total share of sales of firm f in city c.
6 The

8

U.S. average cost of living is calculated as the geometric mean of all MSAs.
suspect that shampoo products in China are more likely to include additives that raise their prices.
8 Using our notation of section 2, the within-firm share of expenditure is s
f ic = s f ic ( I f c ), and the firm total share of
7 We

13

Figure 6: Relative Cost-of-living in China: Toothpaste

Figure 7: Relative Cost-of-living in China: Laundry Detergent

expenditure is S f c = S f c ( Fc ).

14

Figure 8: Relative Cost-of-living in China: Personal Wash Items

Figure 9: Relative Cost-of-living in China: Shampoo

15

Our assumption that σ ≥ η implies that as the variety share s f ic rises then the elasticity of demand will fall; likewise, as the firm share S f c rises the elasticity also falls. If the firm ignored the
cannibalization effect of each variety on other sales then it would charge a higher price whenever s f ic
or S f c rises. But we now show that when the firm jointly profit-maximizes over all goods, taking into
account cannibalization effects, then the price charged for each good will depend only the firm share
S f c and not on the within-firm variety share s f ic .

4.2

Optimal Prices for the Multiproduct Firm

Consider a firm producing variety i in city c and delivering it to destination d. The firm chooses the
range of products to sell in multiple destinations d = 1, ...D. The profit-maximization problem for
this firm is





max ∑  ∑ ( p f id − g f i (wc ) − Tcd ) x f id − k f id  − K f d 1( I f d 6= ∅),
 i∈ I

p f id , i ∈ I f d
d =1
D

(13)

fd

where K f d denotes the fixed costs to enter a city and 1( I f d 6= ∅) is an indicator variable that takes
value of unity if I f d 6= ∅ and zero otherwise. That is, the firm chooses whether to enter into each city
d, and pays the fixed cost of K f d only if it does, along with the fixed costs of k f id to sell each variety
i in city d. We let g f i (wc ) denote the (constant) marginal costs of producing good i in city c, with
factor prices wc , and selling it in city d with transport costs of Tcd . We assume that firms treat the
prices of other firms as given under Bertrand competition, and that demand in the various cities is
independent.
Focus initially on the choice of optimal prices. If the firm sold only a single product i in destination d, so that s f id = 1, then the elasticity of demand from (12) is e f id = η − (η − 1)S f d so that
e f id − 1 = (η − 1)(1 − S f d ). It follows from the usual markup formula that the optimal price is,


p f id


1
= 1+
[ g f i (wc ) + Tcd ].
(η − 1)(1 − S f d )

(14)

When the firm sells multiple products, however, then it must take into account how a reduction
in the price of one will decrease demand for its other products: this is the cannibalization effect.
Nevetheless, we show in Appendix C that the same pricing formula as in (14) is obtained.9 In other
words, when the firm jointly maximizes over all its prices, the markup obtained is “as if” it was
using the elasticity of demand in (12) but with s f id = 1, so that the markup depends only on the total
market share S f d of the firm in that city.

4.3

Optimal Variety for the Multiproduct Firm

For simplicity, suppose that in each city there is symmetric demand and marginal cost for the products of each firm,10 and that the firm sells N f d of these varieties in city d. We allow marginal and
9 This

result is also shown by Feenstra (2016), chapter 9, and Hottman, Redding, and Weinstein (2016).
f id = b f jd and that g f i ( wc ) does not depend on i. In Appendix C3, we generalize
the analysis to allow the rising marginal cost of products that are farther from the core-competency of the firm. If we restrict
10 In other words, we are assuming that b

16

fixed costs to differ across firms. Then the profit maximization problem (13) is simplified as:
D

∑
≥0

max

p f id ,N f d





N f d ( p f id − g f − Tcd ) x f id − k f d − K f d 1( N f d > 0).

(15)

d =1

where x f id = x f jd when p f id = p f jd . The optimal price is still given by (14), though now with symmmetry this price is the same across varieties i for each firm in city d. As the firm expands the number
of varieties sold, it draws demand away from existing varieties. Taking this cannibalization effect
into account, it is shown in Appendix C.2 that the optimal variety is determined by,


Yd
η − 1 S f d (1 − S f d )
,
Nf d =
σ − 1 η − ( η − 1) S f d k f d

(16)

where Yd = ρwd Ld is the total expenditure in destination d. Substituting this equation into (15) and
also using the optimal price from (14), it can be shown that the profits from entering a city, before
deducting the fixed costs K f d , are:11
πfd

4.4



( σ − η ) + ( η − 1) S f d
Sfd
=
Y.
σ−1
η − ( η − 1) S f d d

(17)

Firm Entry

In order for the firm to serve city d, we must have π f d ≥ K f d . To see how city size affects the
entry of firms into cities, consider comparing a large city c with a smaller city d, with Yd < Yc . An
equilibrium consists of a set of firms Fc and Fd selling in each city such that prices for each firm are
given by (14), revenue per product is given by (11), and the number of products is as in (16), so that
S f c = N f c p f ic x f ic /Yc with π f c ≥ K f c and ∑ f ∈ Fc S f c = 1, and likewise in city d. There is ambiguity
in the equilibrium set of firms that enter each city, because once a firm enters then demand for other
firms is reduced. But regardless of this ambiguity, we assert that if Yd < Yc then there exists a weakly
smaller set of entrants Fd ⊆ Fc in city d satisfying the equilibrium conditions, and that the entrants
are definitely reduced if city d is small enough.
To establish this claim, start with the equilibrium conditions for city c and then reduce expenditure Yc . From (16) we see that N f c falls in direct proportion to Yc provided that S f c = N f c p f ic x f ic /Yc
is not affected. In fact, that is the equilibrium result because it can be confirmed from (11) that with
all firms selling fewer products in direct proportion to the fall in expenditure Yc , then the change in
the CES price indexes Pf c and Pc ensure that revenue per product is not affected. Profits in (17) will
fall in direct proportion to the fall in Yc , however. It follows that for a sufficiently large reduction in
expenditure, the firm with the smallest initial ratio π f c /K f c ≥ 1 will be the first to have π f c /K f c < 1,
and will therefore exit the market. It follows that Fd ⊂ Fc , as we asserted.
Denoting the firm that exits by g, the equilibrium condition ∑ f ∈ Fc S f c = 1 will become ∑ f ∈ Fc \ g S f c =
1, so the market shares of all remaining firms will rise as that firm drops out (because expenditure
the analysis to iceberg rather than specific trade costs, then we find that the equilibrium condition for the scope of a firm
is essentially the same as that shown by (16), but with an extra constant term.
11 To derive (17) we use that fact that the revenue earned per product by firm f is S Y /N .
fd d
fd

17

p f ic x f ic on all remaining products increases as the price index Pc rises in (11)). By this argument, we
see that smaller cities will have fewer firms in our model, with higher market shares. That will lead
to higher prices in (14), since we have assumed that marginal costs for each firm are the same across
cities. In other words, there is an anti-competitive effect in smaller cities, or a pro-competitive effect
in larger cities. We now turn to the empirical analysis to find whether this prediction is borne out in
the data for Chinese and U.S. cities.

5

Estimating the Firm Model

We will estimate (14) by moving the markup term to the left, so that the remaining marginal costs
plus transport costs on the right will be estimated:


p f id

1
1+
(η − 1)(1 − S f d )

 −1

= g f i (wc ) + Tcd
= αi + αcap + β ln Distcd + e f id .

(18)

The first term on the right is an indicator variable for variety i, which together with the eror term
e f id reflects the marginal cost of production. We include an indictor variable αcap for the capital city
of each province in China, and the log of distance ln Distcd between the production in city c and the
destination city d.

12

Let N f ,min = minc { N f c } denote the “common” varieties sold by firm f in all cities within each
country. Then the common-goods share of firm f in destination d is:

λfd

N f ,min p f d x f d
N f ,min
=
=
= N f ,min
Nf d p f dx f d
Nf d



σ−1
η−1



η − ( η − 1) S f d
S f d (1 − S f d )



kfd
,
Yd

(19)

using (16). The second regression equation comes from substituting Yd = ρwd Ld and taking logs,

η − ( η − 1) S f d
+ δ2 ln wd + δ3 ln Ld + e f d .
= γ f ,prov + δ1 ln
S f d (1 − S f d )


ln λ f d

(20)

The first term γ f ,prov on the right is an indicator variable for the firm-province, which together with
the eror term e f d reflects variation in N f ,min and in the fixed costs k f d of providing each product in
city d. The second term reflects an inverted-U-shaped relationship between the product scope of a
firm and its market share S f d , as shown by (16). Small firms have low shares and low scope, but
large firms with high shares will hold back on product scope to avoid cannibalizing their own sales;
product scope is maximized for an intermediate value of the firm share.13 The common-goods share
of firms in each city, λ f d , is inversely related to their product scope, so the second term on the right
of (20) is a U-shaped function of the firm’s market share, and should have a coefficient of δ1 = 1 in
theory.
12 We

have checked via internet sources that the firms in our sample have only one manufacturing location for Toothpaste, Laundry Detergent, Personal Wash items and Shampoo.
√
√
13 In fact, product scope N in (16) is maximized for S
η/(1 + η).
fd
fd =

18

Notice that the presence of wd and Ld in (20) reflects the fact that higher expenditure in larger
cities reduces the common-goods share of firms in that city, λ f d , thereby increasing product variety
from each firm. In theory, the coefficients of these variables are both δ2 = δ3 = −1. A negative
sign on these estimated coefficients will show how larger cities (measured by population or average
income) have a lower common-goods share for firms, and therefore more product variety. We will
likewise want to evaluate how prices charged by firms differ across cities of different sizes, and for
this purpose we include the variables wd and Ld in (18), so that we actually estimate,


p f id

5.1

1
1+
(η − 1)(1 − S f d )

 −1

= αi + αcap + β 1 ln Distcd + β 2 ln wd + β 3 ln Ld + e f id .

(21)

Estimating the Pro-Competitive Effect

Our first testable hypothesis is the existence of the pro-competitive effect, which is evaluated with
the price equation as shown in (21). For each of the four products, we use both the price (p) and the
price divided by the markup (p/markup) as the dependent variables. We use the scraped prices at the
barcode level and rely on Nielsen (China) data to calculate firm-destination shares and the markups.
Information on city populations and average incomes, used to measure Yc = ρwc Lc , are obtained for
China and for MSAs in the United States, from standard sources. Finally, we used company reports
to identify the factory locations in China, and therefore compute the distance between the factory
and destination markets.
Table 1 shows the result for toothpaste. We use price-per-item (U.S. cents/item) as the dependent
variable for specification (1) and (2), and unit-price (U.S. cents/oz) for specification (3) and (4). The
coefficients of ln Population and ln Average Income are all significantly negative, which implies larger
and richer cities will benefit from lower prices for a given product at the barcode level. Notice that
in specification (1), the coefficient on ln Population falls by about one-third, from -2.87 to -1.92, when
we switch from using the price as the dependent variable to using the price divided by markup. This
finding implies a higher markup in smaller cities, as the markup-adjusted price (price divided by
markup) rises less in smaller cities than the per-item price.
We repeat the regressions but controlling for retailer (or supermarket) fixed effects in specification (2). The finding of higher markup in smaller and poorer cities remains robust. Interestingly,
the coefficient on ln Population increases from -2.87 to -4.13 after controlling for supermarket fixed
effects, i.e. comparing specifications (1) and (2) using the price as the dependent variable, and then
again falls by about one-third to -2.68 when using price divided by the markup. This means that
even within retailers, we find that firms charge lower prices in larger cities. The results in specification (2) continue to support the presence of a pro-competitive effect, even after controlling for the
supermarket.

19

Table 1: Price Regressions for Toothpaste

Dep Var.

Price

ln Population
ln Average Income
Capital City
ln Distance

Barcode FE
Retailer FE
Observations
Number of group
R-squared

(1)
P/mkup

Price

(2)
P/mkup

Unit-P

(3)
UP/mkup

Unit-P

(4)
UP/mkup

-2.87***
(0.25)
-3.99***
(0.32)
3.59***
(0.26)
0.75***
(0.18)

-1.92***
(0.18)
-3.32***
(0.24)
2.15***
(0.17)
0.49***
(0.10)

-4.13***
(0.24)
-5.95***
(0.31)
1.16***
(0.22)
1.07***
(0.17)

-2.68***
(0.15)
-4.54***
(0.20)
0.65***
(0.14)
0.67***
(0.11)

-0.61***
(0.07)
-0.90***
(0.08)
0.85***
(0.07)
0.18***
(0.05)

-0.40***
(0.05)
-0.69***
(0.06)
0.52***
(0.04)
0.12***
(0.03)

-0.94***
(0.06)
-1.35***
(0.08)
0.27***
(0.06)
0.27***
(0.05)

-0.60***
(0.04)
-0.98***
(0.06)
0.16***
(0.04)
0.17***
(0.03)

YES

YES

YES

89,399
1,758
0.009

YES
YES
89,399
21,614
0.019

YES

89,399
1,758
0.006

YES
YES
89,399
21,614
0.015

89,399
1,758
0.005

89,399
1,758
0.006

YES
YES
89,399
21,614
0.010

YES
YES
89,399
21,614
0.012

Notes: Average Income is measured as GDP per capita in each city of the given Population. Prices (Price and P/mkup)
are in units of U.S. cents and unit-prices (Unit-P and UP/mkup) are measured in U.S. cents per ounce. Capital City is
dummy variable. Robust standard errors are clustered at the group level and reported in parentheses; *** p<0.01, **
p<0.05, * p<0.1.

Specifications (3) and (4) use the unit-price (U.S. cents/oz) as the dependent variable. We observe
similar results as in specifications (1) and (2), and the pro-competitive effect remains significant: the
coefficients of ln Population and ln Average Income are uniformly negative, and the coefficients are
reduced when using unit-price/markup as a dependent variable rather than just unit-price.
In Table 2, we explore the pro-competitive effect for the other product categories (Laundry Detergent, Personal Wash items and Shampoo). We focus on the price regressions with per-item price and
price/markup as the dependent variables, but the results using unit-price are similar. From these
tables, we still observe that in richer and bigger cities prices are lower and that firms charge a lower
markup, as shown by the smaller coefficients on the ln Population and ln Average Income when using
the using the price divided by markup as the dependent variable. For all four products, therefore,
we confirm a pro-competitive effect.14

14 Campbell

and Hopenhayn (2005) also find this result for thirteen retail trade industries across 225 U.S. cities.

20

Table 2: Price Regressions for the Other Product Categories

Dep Var.
ln Population
ln Average Income
Capital City
ln Distance

Observations
Number of group
R-squared

(1) Laundry Detergent
Price
P/mkup

(2) Personal Wash
Price
P/mkup

(3) Shampoo
Price
P/mkup

-3.69***
(0.41)
-4.24***
(0.45)
0.86**
(0.42)
1.14***
(0.30)

-2.72***
(0.30)
-3.12***
(0.33)
0.65**
(0.31)
0.84***
(0.22)

-1.47***
(0.33)
-4.86***
(0.50)
0.45
(0.37)
1.66***
(0.33)

-1.37***
(0.23)
-3.48***
(0.35)
0.29
(0.25)
1.09***
(0.23)

-4.88***
(0.48)
-6.50***
(0.63)
0.67
(0.53)
3.65***
(0.39)

-3.44***
(0.37)
-5.68***
(0.49)
0.18
(0.41)
2.85***
(0.30)

109,650
28,001
0.003

109,650
28,001
0.003

159,673
35,965
0.002

159,673
35,965
0.002

142,826
31,711
0.005

142,826
31,711
0.005

Notes: All regressions include Barcode and Retailer fixed effects. Average Income is measured as GDP per capita in
each city of the given Population. Prices (Price and P/mkup) are in units of U.S. cents. Capital City is dummy variable.
Robust standard errors are clustered at the group level and reported in parentheses; *** p<0.01, ** p<0.05, * p<0.1.

5.2

Estimating the Variety Effect

Table 3 exhibits the result of our second structural equation as shown in (20). Motivated by the
model, we add brand-province fixed effects to control for the fixed costs needed to sell each variety
in each city, k f d . The dependent variable is ln λ f c , which denotes the expenditure in city c on the
common products of firm f relative to firm f ’s total sales in that city. Columns (1) to (4) report
results for Toothpaste, Laundry Detergent, Personal Wash items, and Shampoo respectively. The
regressions results show that larger and richer cities are likely to have smaller expenditure shares
on common products for a given firm. This result implies that larger and richer cities get access to
more varieties than smaller cities. Consistent with model, the variable ln

η −(η −1)S f d
S f d (1− S f d )

contributes to the

common product share positively, but with a coefficient less than its theoretical value of unity.
These empirical results support the inverted U-shaped relation between product scope and market share in (16), from which the regression specification (20) is obtained. Feenstra and Ma (2009)
showed that in a model with heterogeneous, multiproduct firms, an inverted U-shaped relation
would hold between the productivity of the firm and its product scope: more productive firms initially add more products, but then reduce product scope as cannibalization becomes more important.
Raff and Wagner (2013) have shown that such an inverted U-shaped relation holds empirically in a
sample of German firms, and Macedoni (2017) obtains this relation in more general theoretical and
empirical settings. Our results here are therefore consistent with these authors.

21

Table 3: Firm Share Regression

Dep Var: ln λ f d
ln Population
ln Average Income
Capital City
ln

η −(η −1)S f d
S f d (1− S f d )

Observations
Number of group
R-squared

(1)
Toothpaste

(2)
Laundry Detergent

(3)
Personal Wash

(4)
Shampoo

-0.209***
(0.037)
-0.059**
(0.029)
-0.125***
(0.023)

-0.236***
(0.030)
-0.244***
(0.030)
-0.179***
(0.029)

-0.295***
(0.034)
-0.159***
(0.030)
-0.136***
(0.028)

-0.156***
(0.021)
-0.083***
(0.012)
-0.069***
(0.015)

0.147***

0.609***

0.396***

0.002

(0.033)

(0.070)

(0.061)

(0.006)

660
308
0.376

420
196
0.662

600
280
0.586

840
392
0.348

Notes: All regressions include firm-province fixed effects. Average Income is measured as GDP per capita in each city
of the given Population. Capital City is dummy variable. Robust standard errors are clustered at group level and
reported in parentheses; *** p<0.01, ** p<0.05, * p<0.1.

6
6.1

Extension to other Products
Measuring Product Variety

We turn now to the additional products for which we collected scraped data on their retail prices
in 60 cities, but for which we do not have any scanner data purchased from Nielsen (China). This
means that we do not have any information on their market shares, beyond knowing how many supermarkets in each city sell each product (as is evident from the scraped data). In addition, as noted
earlier, the United States and China use different barcode systems (UPC and EAN-13, respectively).
For that reason, it is desirable to develop formulae for the exact price indexes that do not rely on having identical taste parameters b f ic for common goods that are available in every city and country. We
now show how the CES index derived by Redding and Weinstein (2016) allows for a much weaker
assumption on taste parameters that allows the cost of living to be compared between countries.
To briefly review the results of Redding and Weinstein (2016), we start with the demand for
each product variety, which equals b f ic x f ic = [( p f ic /b f ic )/Pf c ]−σ X f c . Multiplying by ( p f ic /b f ic ) and
dividing by P f c X f c , we obtain an equation for the share of each variety within the total sales of firm
f, which depends on the CES price index Pf c . Inverting that equation to solve for Pf c , we readily
obtain:
Pf c = e ( p f c , b f c , I f c ) =

22

1/(σ−1)
s f ic



p f ic
b f ic


.

(22)

The term λ f c defined in (6) equals s f ic /s f ic ( I f ), so we can replace the share s f ic by s f ic = s f ic ( I f )λ f c
in the above equation. Then because (22) holds for every product i, we take the unweighted geometric
mean across all products to obtain the formula in Redding and Weinstein (2016):

Pf c =  ∏ s f ic ( I f )

1
N f ( σ −1)

i∈ I f


 ∏



i∈ I f

p f ic
b f ic

 N1

f


 λ1/(σ−1) .

(23)

fc

Notice that this formula gives us the level of the CES price index Pf c , and not just its ratio as shown
in section 2 by equation (7).
We can aggregate over firms in a city using a similar approach. The aggregate demand for each
firm’s products are X f c = ( Pf c /Pc )−η (Yc /Pc ). Multiplying by Pf c and dividing by Yc , we obtain the
share of each firm in city c, which depends on the CES price index Pc . Inverting that equation to solve
for Pc , we readily obtain:
1/(η −1)

Pc = E(Pc , Fc ) = S f c

Pf c .

We again replace the share S f c by S f c = S f c ( F )λc , and take the unweighted geometric mean over
the number of common firms M selling to all cities in each country. Then using that geometric mean
along with (23), we obtain:

Pc = E(Pc , Fc ) =  ∏

∏



f ∈ F i∈ I f

p f ic
b f ic

 MN1


f

 Sc ( F )Λc ( F ),

(24)

where,

Sc ( F ) ≡  ∏ S f c ( F )
f ∈F

1
M ( η −1)

∏ s f ic ( I f )

1
MN f (σ −1)


 , Λc ( F ) ≡

i∈ I f

"

∏

f ∈F

#
1/M (σ −1)
λfc

1/(η −1)

λc

.

(25)

The first expression on the right of (24) is a simple geometric mean of the prices of common
products, but these prices are adjusted for the taste parameters b f ic . We have earlier assumed in our
discussion of (7) that the taste parameters b f ic are identical for common goods that are available in
every city within each country. We can now follow the assumption that Redding and Weinstein
(2016) make in a time-series context, and use the weaker assumption that the geometric mean of taste
parameters are equal in every city within each country:

∏∏

b f ic

 MN1

f

= 1, ∀c ∈= 1, ..., D.

(26)

f ∈ F i∈ I f

With this assumption, the first term on the right of (24) is easily measured as the geometric mean of
prices. The second term Sc ( F ) is a geometric mean of the common firms and and common product
shares, as shown in (25). We interpret that term as adjusting for differences in tastes for specific
23

products within the common set, but subject to the maintained assumption that average tastes are
the same as in (26). The third term Λc ( F ) is the correction for variety outside the common set as in
Feenstra (1994).
We see that (24) and (25) can be readily used to measure the CES price index Pc across all cities
within each country. But what about when we compare China and the United States? In that case,
we need some analogue to the assumption in (26) that we are willing to apply across countries. To
develop this idea, let us denote the global brands by the name of the common firms that sell in both
countries by the set G ≡ FUS ∩ FChina ,which we assume is not empty.15 We then pick the two large
and comparable cities in each country, New York (NY) and Shanghai (SH). Our assumption is that
there has been enough “convergence” of tastes and availability of global brands across these two
cities so that the average taste parameters are the same,

∏∏

bgi,NY

 MN1

g

=

g ∈ G i ∈ Ig

∏∏

bgi,SH

 MN1

g

.

(27)

g ∈ G i ∈ Ig

With this assumption, we can compare the CES price indexes Pc between countries, as follows.
We first use (24) to measure the CES price index Pc for New York in U.S. and Shanghai in China,
with the common international firms G, which are denoted as E(P NY , G ) and E(PSH , G ). Next, we
apply the same calculations to the cost-of-living measures across all cities in China, with the common
firms FChina , and all cities in the United States, with the common firms FUS . We then renormalize the
Chinese and U.S. price indexes so that the cost-of-living indexes are the same for Shanghai and New
York when using the common set as the global brands (G) and national brands (FChina and FUS ).
This is achieved by computing the terms in (24) for the global brands G only in New York and in
Shanghai, and then renormalizing the same terms for the Chinese and U.S. sets of common product
FChina and FUS as:

E(PSH , G )
China )
E(PSH , FSH
e(Pc , FcUS ) ≡ E(Pc , FUS ) × E(P NY , G )
E
US )
E(P NY , FNY

e(Pc , FcChina ) ≡ E(Pc , FcChina ) ×
E

(28)

Since this renormalization is done for all cities in both countries, we obtain cost-of-living indexes that
are fully comparable between cities and countries.

6.2

Cost-of-Living Indexes for the Four Main Products

We calculate the cost-of-living indexes in New York and Shanghai, making use of assumption (27) so
that these indexes are comparable between countries. The renormalization in (28) has already been
15 The global brands by product categories are listed in Table 9 in Appendix A4. In practice, G is empty for Chips and
we alternatively define G ≡ [ FUS ∩ (∪ FcChina )] ∪ [ FChina ∩ (∪ FcUS )], the global firms that are either sell national common
products in China or in the U.S., and mark it with asterisk.

24

applied to the indexes in panel (c) of Figure 2 to 5, which are otherwise constructed according to the
method of Feenstra (1994). For comparison, we also calculate the indexes for these four products
according to the method of Redding and Weinstein (2016), which uses the unweighted geometric
mean of prices in (24), denoted by PcG , together with the multiplied terms Sc ( F )Λc ( F ). Those indexes
are illustrated in panel (d) of Figures 2 to 5, which are also renormalized according to (28).
A glance at those earlier Figures shows that the negative relationship between the exact price
index and city size is noticably weaker, especially for Toothpaste, when using the Redding-Weinstein
(RW) index than when using the Feenstra index. To formalize that difference, in Tables 4 and 5 we
report the coefficients of regressions of the exact price indexes and its components on the log of city
size (measured now with city GDP). Specifically, we run the regressions:

ln Zc = µ1 + µcap + µ2 ln Yc + ed ,

(29)

where Zc denotes either of the two terms in (10) or any of the three terms on the right of (24). Table
4 uses the Feenstra exact index in (10) and its components, while Table 5 uses the RW index in (24)
and its components.

Table 4: Decomposition of Cost of living with City Size (Feenstra Method)

Dep.↓\Indep.→
ln E( Pf c , Fc )
ln PcSV
ln ΛSV
c

Toothpaste
ln Yc
R2
-0.122*** 0.424
(0.022)

Laundry Detergent
ln Yc
R2
-0.044***
0.419
(0.007)

Personal Wash
ln Yc
R2
-0.081*** 0.320
(0.018)

-0.055***
(0.010)
45.1%
-0.067**
(0.015)
51.9%

-0.003
(0.006)
6.8%
-0.041***
(0.006)
93.2%

-0.021**
(0.008)
25.6%
-0.061***
(0.013)
74.4%

0.363

0.361

0.051

0.524

0.122

0.395

Shampoo
ln Yc
R2
-0.029*** 0.233
(0.007)
-0.015*
(0.007)
51.7%
-0.014
(0.009)
48.3%

0.095

0.079

Notes: All regressions also include Capital dummy variable and constant, which are omitted in the table. PcSV denotes
the Sato-Vartia weighted mean of unit prices, ΛSV
c is the variety term in (10), and Yc is city GDP. Standard errors are
reported in parentheses; *** p<0.01, ** p<0.05, * p<0.1.

For Toothpaste, we see that the coefficients of the Feenstra exact index, and its components using
Sato-Vartia weights, are more than twice as sensitive to city size than the RW exact index, and its
geometric price and variety components. The percentage contribution of these regression coefficients
shows that the negative relationship between the exact price index and city size is caused roughly
equally by the negative relationship between price and variety with city size. For example, out of the
25

regression coefficient of the price index on ln Yc of -0.122 in the first column of Table 4, around -0.055
(or 45.1%) is explained by the regression of the Sato-Vartia index ln PcSV on ln Yc , while about -0.067
SV
(or 51.9%) is explained by the regression of ln ΛSV
c on ln Yc .

Similar calculations are done in the other columns in Table 4, and in Table 5 which now also
includes the term ln Sc ( F ). That final variable appearing in Table 5 is is either insignficantly related
to city size or has a very small coefficient. Thus, it is not the presence of that share variable in the RW
index that accounts for its reduced sensitivity to city size. But this variable will have a very important
impact on the average level of the exact price index in China as compared to the U.S., especially as we
turn to the other 15 products that we consider next.

Table 5: Decomposition of Cost of living with City Size (Redding-Weinstein Method)

Dep.↓\Indep.→
ln E( Pf c , Fc )
ln PcG
ln Λc ( F )

ln Sc ( F )

Toothpaste
ln Yc
R2
-0.045*** 0.166
(0.016)

Laundry Detergent
ln Yc
R2
-0.051***
0.453
(0.008)

Personal Wash
ln Yc
R2
-0.042*** 0.357
(0.008)

Shampoo
ln Yc
R2
-0.014 0.069
(0.007)

-0.025***
(0.009)
55.6%
-0.027**
(0.009)
60.0%
0.007
(0.017)
-15.6%

-0.006
(0.006)
11.8%
-0.037***
(0.006)
72.5%
-0.008*
(0.003)
15.7%

-0.004
(0.005)
9.5%
-0.059***
(0.014)
140.5%
0.021
(0.013)
-50%

-0.006
(0.005)
42.9%
-0.010
(0.009)
71.4%
0.002
(0.003)
-14.3%

0.185

0.261

0.090

0.056

0.478

0.094

0.058

0.363

0.121

0.149

0.054

0.027

Notes: All regressions also include Capital dummy variable and constant, which are omitted in the table. PcG denotes
the geometric mean of unit prices, Λc ( F ) is the variety term, Sc ( F ) is the share term in (25), and Yc is city’GDP. Standard
errors are reported in parentheses; *** p<0.01, ** p<0.05, * p<0.1.

6.3

Cost-of-Living Indexes for 15 Other Product Categories

When we have only scraped price data and not the Nielsen (China) barcode expenditures, it is challenging to the construct the share term Sc ( F ) and also the variety term Λc ( F ) that appears in in (24).
We create a proxy for the expenditure on each barcode product by simply counting the number of
retail stores that sell each barcode in a city (and dividing by the total number of retailers). That is,
the sales share of each product is approximated by:
∑r∈ Rc 1(i is observed in retailer r )
ln\
Shareic ∝
,
Ncretailers

26

(30)

where 1(i is observed in retailer r ) equals unity if we observe price quotes of barcode product i in
retailer r and zero otherwise; Rc denote the collection of retailers in city c; and Ncretailers is the total
number of retailer stores in city c.16
In Table 6, we apply the RW index from (24) and (28) to our four main products and to the
other 15 product categories. We summarize each component of the Chinese cost of living relative to
the average value of its counterpart of the U.S. A value greater than one implies the corresponding
variable is larger in China than in the United States. Beginning with the geometric mean of prices,
as shown in the first column, these are lower in China for all products except for Shampoo, Baby
Formula, Cereals and Milk Powder.

Table 6: Summary of Cost of Living by Product Categories (relative to the U.S.)
Product Category\Variable
Toothpaste
Laundry Detergent
Personal Wash Item
Shampoo
Baby Formula
Batteries
Biscuits
Cereal
Chips
Chocolate
Coffee
Diapers
Dog Food
Gum
Milk Powder
Soap
Soft Drinks
Tea
Toothbrushes

S

( G )Λ

(G)

SH
SH
PcG
S NY ( G )Λ NY ( G )
Four Main Products
0.81
0.64
0.59
0.52
0.80
0.62
1.59
0.66
Other Products
1.30
1.12
0.24
1.01
0.64
2.18
1.29
1.95
0.31
1.76
0.74
1.74
0.70
0.97
0.74
1.12
0.23
1.46
0.93
0.88
5.29
0.74
0.37
4.28
0.41
1.19
0.81
2.13
0.53
1.57

Other Terms

Ẽ( Pf c , Fc )

1.13
0.76
0.55
0.61

0.58
0.23
0.25
0.65

1.02
1.27
3.05
0.70
1.16
1.37
1.00
1.04
1.06
0.82
1.60
0.89
0.67
1.12
1.13

1.48
0.31
4.23
1.76
0.64
1.77
0.68
0.86
0.35
0.67
6.20
1.43
0.33
1.93
0.93

Notes: The table summarizes population weighted average of each varaible in relative terms (greater than unity implies the corresponding variable is larger in China.). PcG is in unit of cents per ounce for the four main products and
dollars per item for other products;

SSH ( G )ΛSH ( G )
S NY ( G )Λ NY ( G )

denotes the composite share of varieties in Shanghai relative to New

York; and Other Terms is the further adjustment needed to obtain Ẽ( Pf c , Fc ), which is the cost-of-living index in China
relative to the U.S.
16 See

Appendix B3 and Antoniades (2017), where it is shown that the average market share is exponentially related to
the proportion of available retailers carying the barcode item. It follows that the log of the share is linearly related to this
proportion.

27

In the second column we show the ratio of the terms [SSH ( G )ΛSH ( G )/S NY ( G )Λ NY ( G )] for Shanghai relative to New York. This is the key ratio that adjusts the relative geometric mean of prices to
obtain the relative cost of living in these two cities. This ratio is less than unity for our four main
products, indicating that there is greater product variety in China than in the United States. We interpret that result as saying that the global brands G are sufficiently common in China for these four
products that the presence of additional local brands in China gives it greater product variety.
For the 15 other product categories, however, this ratio is greater than unity for all products
except for three: Coffee, Gum and Milk Powder. Coffee and Gum are similar to our four main
products, where there are (inexpensive) local brands in China that are sufficient popular to result in
greater product variety there. Along with Soft Drinks, which also has local brands in China, these
three products in addition to the four main products have cost-of-living indexes in China relative to
the U.S. that are lower than the relative geometric mean of prices shown in the first column.
Milk Powder is a unique case because there was a consumer scare about this product due to the
Chinese milk scandal in 2008 and now the prices are higher than in the United States, as shown in
the first column. Those high prices are slightly offset by a value of [SSH ( G )ΛSH ( G )/S NY ( G )Λ NY ( G )]
that is less than unity, but the exact price index shown in the final column is still much higher in
China. That feature is shared by all the remaining ten products: the cost of living in China relative
to the U.S., as shown in the final column, is higher than the relative geometric mean of prices. That
higher cost of living in China for the remaining products is in most cases due to lower variety in
China.17 In some products (Biscuits, Chocolate, Soap, and Tea), that lower variety is strong enough
that it reverses the lower relative price in China, as shown by the geometric mean of prices, to become
a higher exact price index in China.
It is surprisingly that there is lower relative variety in China to a product like Tea, since China
has specialized in the product from ancient times. What seems to explain the lower relative variety
in our data is that the many loose varieties of Chinese tea are barely sold in supermarkets, which is
where we obtain our scraped data. So we miss entirely the local varieties of Chinese tea and end up
with only Western-style teas, with Lipton as the unique global brand that is sold in all cities in both
countries. The finding of a higher relative price of tea in China illustrates a deficiency of our data, or
more precisely, of the attempt to correct the prices of barcode products for variety. It remains to be
seen whether other methods of obtaining prices and expenditure data across countries can overcome
this limitation.
For each of the 15 product categories, we also explore to what extent the three components (denoted by PcG , Sc ( G ) and Λc ( G )) contribute to the overall cost of living. Table 7 presents the regression
results of the three components on city size (i.e. city GDP).18 . The first column is the elasticity of
the cost-of-living index with respect to the city size. As expected, larger cities generally benefit from
having a lower cost-of-living index. Cities with twice the market size have lower indexes with the
17 We
18 In

further decompose [SSH ( G )ΛSH ( G )/S NY ( G )Λ NY ( G )] into three margins as shown in the Appendix D, Table 11.
each regression, we also include a dummy variable for the capital city which is not reported in the Table.

28

declines ranging from 1% (Chocolate) to 10.4% (Cereal). Pro-competitive effects are operative in most
cases, as shown by the negative coefficients in the second column, with the exception of Batteries,
Biscuits, Chocolate, Milk Powder, Soap and Toothbrushes. The final two columns show the relative
importance of the share term Sc ( G ) and the variety term Λc ( G ) in explaining the lower cost of living
in larger cities in China. In most cases, it is the variety term that is the most important explanation
for the lower exact price index and therefore the gains from living in larger cities.

Table 7: Decomposition of Cost of living with City Size (Other Product Categories)
Product
Baby Formula

ln Ẽ( Pf c , Fc )
-0.014

Batteries

-0.017

Biscuits

-0.028

Cereal

-0.104

Chips

-0.019

Chocolate

-0.010

Coffee

-0.054

Diapers

-0.020

Dog Food

-0.069

Gum

-0.029

Milk Powder

-0.049

Soap

-0.033

Soft Drinks

-0.072

Tea

-0.057

Toothbrushes

-0.080

ln PcG
-0.008
59%
0.005
-27%
0.001
-2%
-0.020
19%
-0.011
57%
0.003
-33%
-0.012
23%
-0.015
76%
-0.014
20%
-0.012
41%
0.007
-14%
0.008
-23%
-0.022
31%
-0.006
10%
0.005
-6%

ln Sc ( G )
-0.003
20%
-0.013
76%
0.002
-7%
-0.013
13%
0.008
-44%
0.005
-51%
0.003
-6%
0.001
-5%
-0.020
29%
-0.008
26%
0.012
-24%
-0.015
45%
0.003
-4%
-0.013
23%
-0.026
32%

ln Λc ( G )
-0.003
21%
-0.009
51%
-0.030
109%
-0.071
68%
-0.016
87%
-0.019
184%
-0.045
83%
-0.006
29%
-0.035
51%
-0.010
33%
-0.068
138%
-0.026
78%
-0.053
73%
-0.038
67%
-0.059
74%

Notes: The reported coefficients denote the elasticity with respect to the total market size. All regressions also include
Capital dummy variable and constant, which are omitted in the table. Percentages describe the contribution of each
margin to the overall cost-of-living elasticity. PcG denotes the geometric mean of unit prices, Λc ( G ) is the variety term
and Sc ( G ) is the share term in (25), for the global brands G.

29

7

Conclusions

Anecdotal evidence and price data collected by the World Bank in 2005 under the International Comparison Program (ICP) suggest that prices in China may be higher than expected. While part of the
issue is related to sampling (Feenstra, Ma, Neary, and Prasada Rao (2013)) and procedural decisions
made by the World Bank in linking regions with each other (Deaton and Aten (2017), Inklaar and
Rao (2017)), there is still an open question as to what prices in China really are.
To address this question, and to overcome limitations in the ICP data, we have used barcode data
on selected consumer goods to compare the cost of living in cities across and between China and
the U.S. Specifically, we have obtained from Nielsen price and quantity information on Toothpaste,
Laundry Detergent, Personal wash items and Shampoo sold in 22 cities across China, and combined
those with additional price data on grocery-store products sold in sixty cities that we scraped from a
phone application to compute cost-of-living indexes. We also used the Nielsen Retailing Sales (U.S.)
database to calculate the cost of living in the U.S.
Our main finding is that the cost-of-living for grocery-store products in China is lower in larger
cities. This is driven by two sources: more product variety in large cities and lower prices. The
finding that product prices in large Chinese cities are lower contrasts with evidence from the U.S.
that show the opposite relation (Handbury and Weinstein (2015)). We attribute lower prices to a procompetitive effect, whereby large cities attract more firms which leads to lower markups and prices.
Greater variety in larger cities applies to the U.S., too, but it is more pronounced in China.
We further compare the cost-of-living indexes for particular product groups between China and
the United States, which is the goal of the ICP. Other cross-country work by Cavallo and Rigobon
(2016) uses a simple geometric mean of barcode level prices to compare price levels. It is noteworthy
that the recent theory by Redding and Weinstein (2016), described in section 6, also uses a simple
geometric mean of prices. In order to obtain an exact price index, that geometric mean is adjusted
by two other terms: a term reflecting the firm shares of products within the geometric mean; and a
term reflecting the expenditures shares on unique products in each city, that are not included in the
geometric means and which indicate product variety as in Feenstra (1994).
The simple geometric mean of prices is lower in China than in the United States for most product
categories: exceptions include Shampoo, Baby Formula, Cereal and Powdered Milk. By focusing on
“global brands” to construct these geometric means, we can plausibly meet the theoretical restriction
in Redding and Weinstein (2016) that the average tastes across barcode items in these global brands
are the same in the two countries. It turns out that focusing on the global brands also reduces the
differences in the firm shares, one of the terms adjusting the simple geometric means.19
The main difference between the geometric mean and the exact price index, therefore, comes
19 The

term Sc ( F ) shown in (25) is a geometric mean of the common firm shares S f c ( F ) and and common product shares
s f ic ( I f ). If there is only one global firm, for example, then Sgc ( G )=1 so it does not vary across cities or countries. Appendix
D shows the variation in Sc ( G ) and Λc ( G ) for Shanghai and New York across product categories, as an indication of where
the variation in the exact price indexes between these two cities arises from.

30

from the product variety term. The magnitude of these products variety terms in China relative
to the U.S. differs across the products in our sample. In the four product categories for which we
purchased Nielsen (China) scanner data, i.e., Toothpaste, Laundry Detergent, Personal Wash items
and Shampoo, the availability of additional Chinese brands leads to greater variety than in the United
States, and therefore lower Chinese price indexes for that reason. In the other 15 products for which
we only have scraped data, however, there is much less presence of U.S. brands in the Chinese
market. In these cases, the observed prices differences between the countries (usually lower prices
in China) are partially or fully offset by the variety differences (less variety in China), so that the
cost of living in China is not as low as the price differences suggest. This latter case applies to Tea,
for example, because our data do not include the many Chinese varieties of tea that are not sold in
supermarkets. So we miss entirely the local varieties of Chinese tea and end up with only Westernstyle teas, with Lipton as the unique global brand of tea that is sold in all cities in both countries. This
finding of a (supposed) higher exact price index for tea in China illustrates a limitation of our attempt
to correct the prices of barcode products for variety, particularly when we only have supermarket
information. It remains to be seen whether other methods of obtaining price and expenditure data
across countries, while correcting for variety, can overcome this limitation.

31

Appendix
A. Collection Method for Retail Price Data of China
Chinese retail price data are collected by scraping data from a mobile phone application. The mobile
phone app that we rely on is Wochacha (the English meaning is “I search”), a leading consumerproduct information platform in China.
A1. Introduction to Wochacha
The mobile phone application Wochacha was developed by Wochacha Info Tech Co. Ltd in January
2010. Detailed information regarding Wochacha can be obtained from its web-page.20 It is a widely
used price comparison app, using a QR code scanner so that people can see where a particular product can be bought at the lowest price. Consumers can also search for price quotes based on the
barcode of the product.21 By February 2014, the number of users had exceeded 210 million and are
distributed across all the provinces in China.
According to its Public Service Rules, Wochacha uses two methods to collect the retail price data.
First, the firm hires and trains data collectors who visit supermarkets to collect prices. The second
source of retail price data relies on partnerships with supermarkets, from which Wochacha directly
obtains the scanner data. In either method, the collected prices are not published until Wochacha data
auditors have examined them.
A2. Data Collection Example
Figure 10 exhibits the results when one search for prices quotes of Pampers22 in Shanghai. Based
on the results, there are eight retail price quotes varying from 112RMB in Walmart to 165RMB in
Lotus. Besides the price-by-supermarket information, we also observe the producer name, country
of origin, as well as the unit count and producer ID. We developed software to mimic the mobile
phone app on the computer to automatically download price data for the given set of EAN codes
in the selected city. Then we repeated this process across 60 sampled cities to construct our retailing
price database. The collection took place from October to December in 2015.
A3. Cities for Analysis
Cities for which we scraped price data are listed in Table 8. We include 60 cities from 28 provinces,
which are widely spread across China. As shown in Figure 11, many small cities are included in our
analysis.
20 See

http://www.wochacha.com/about/index.

21 Countries like U.S. and Canada use Universal Product Code (UPC) as the unique identity for products, whereas China

adopts the coding system of European Article Number which technically refers to EAN-13.
22 The EAN-13 is 6903148040737.

32

Figure 10: Interface of Wochacha Application

Figure 11: City Size Distribution of the Sampled Cities

33

34
Jiangsu

Jilin

Hunan

Hubei

Guangxi

Gansu
Guangdong

Beijing
Fujian

Province
Anhui

Shandong

Inner Mongolia

Liaoning

Jiangxi

Heilongjiang

Henan

Province
Guizhou
Hainan
Hebei

City
Guiyang
Haikou
Shijiazhuang
Tangshan
Kaifeng
Luoyang
Zhengzhou
Qiqihar
Daqing
Jiamusi
Harbin
Nanchang
Jingdezhen
Shenyang
Jinzhou
Dalian
Baotou
Hohhot
Jinan
Qingdao
Rizhao
Yantai
Tianjin
Xinjiang
Yunnan
Chongqing
Zhejiang

Shanghai
Sichuan

Shan’xi

Province
Shanxi

City
Taiyuan
Datong
Xi’an
Xianyang
Shanghai
Chengdu
Yibin
Tianjin
Urumqi
Kunming
Chongqing
Hangzhou
Ningbo
Shaoxing
Taizhou
Wenzhou

Notes: Cities also included in Nielsen (China) sales database are marked in bold.

City
Hefei
Suzhou
Beijing
Xiamen
Fuzhou
Lanzhou
Guangzhou
Shenzhen
Dongguan
Nanning
Guilin
Wuhan
Huanggang
Changsha
Yueyang
Changchun
Jilin
Nanjing
Suzhou
Wuxi
Xuzhou
Yancheng

Table 8: 60 Cities with Scraped Data

A4. Global Brands
The global brands for each product are listed in Table 9. For all products except Chips, the global
brands are computed as the intersection of the common brands in the U.S. and in China, G ≡ FUS ∩
FChina . For Chips this set is empty, so we adopt the broader definition of global brands as G ≡

[ FUS ∩ (∪ FcChina )] ∪ [ FChina ∩ (∪ FcUS )].

Table 9: List of Global Brands by Product
Product Category
Toothpaste

Shampoo

Personal Wash Items
Laundry Detergent
Baby Formula

Batteries
Biscuits
Cereal
Chips

Global Brands
Colgate
Crest
Sensodyne
Dove
L’Oreal
Pantene
Olay
Tide
Enfamil
Nestle
Similac
Duracell
GP
Meiji
Quaker
Doritos
Kellogg
Lay’S
Oishi

Product Category
Chocolate
Coffee
Diapers
Dog Food
Gum
Milk Powder
Soap

Soft Drinks
Tea
Toothbrushes

Global Brands
M&M
Maxwell
Huggies
Pampers
Pedigree
Wrigley
Nestle
Johnson
Olay
Safeguard
Minute Maid
Red Bull
Lipton
Colgate
Crest

B. Other Data
B1. Elasticities of Substitution
We use the elasticities of substitution for our four main products (Toothpaste, Laundry Detergent,
Personal Wash items and Shampoo) as well as for other product categories from Hottman, Redding,
and Weinstein (2016), which are listed in Table 10.

35

Table 10: Elasticity of Substitution
Product Category
Toothpaste
Laundry Detergent
Personal Wash
Shampoo
Baby Formula
Batteries
Biscuits
Cereal
Chips
Chocolate
Coffee
Diapers
Dog Food
Gum
Milk Powder
Soap
Soft Drinks
Tea
Toothbrushes

Firm Elasticity (η)
2.75
3.85
3.42
4.43
7.47
8.72
5.51
2.25
4.37
5.13
3.89
7.44
5.51
3.14
2.41
3.42
5.18
4.46
2.75

Product Elasticity (σ)
5.23
6.60
5.11
6.54
14.62
15.10
7.31
4.66
7.32
7.44
7.31
24.30
8.15
4.86
5.05
5.11
7.82
6.12
5.23

B2. Prediction Method in Four Main Product Categories
The cost of living calculation requires firm sales information, whereas the Nielsen (China) sales
database only provide us with this information for only 22 large cities. To allow our analysis to also
cover smaller cities, we estimate the market share by using the product, retailer and city information
for the four main products, as discussed in this part.
For the four main products, we have the detailed EAN-level market sales in 22 cities, in addition
to the price quotes collected by scraping the mobile phone application. We implement a Heckman
two-step approach to estimate the product share within the 22 cities using the Nielsen (China) sales
database, as shown below:

Prob(Shareic > 0) = α0 + α1 ln Yc + α2 ln Lc + α3 ln Nc + α4 Capitalc

(31)

+ δi Varietyi + γ1r Regionr + eic ,

E(ln Shareic |Shareic > 0) = β 0 + β 1 Capitalc + φic Brandi × ln Yc

+ µic Brandi × ln Lc + ψic Brandi × ln Nc + γ2r Regionr ,

(32)

where (31) is the selection equation and (32) is the observation equation. Yc denotes city c’s GDP;
Lc is city population; Nc denotes the total number of differentiated products (at EAN level) in city c;
Capitalc is a dummy variable which equals unity if city c is a capital city; Regionr is a set of region
36

dummies (East, Middle and West China). Finally, for each product i at EAN-13 level, Brandi denotes
a collection of Brand dummies, e.g., Crest, Colgate etc. for Toothpaste.; Varietyi is a collection of
variety categories which is constructed by jointly combining several product characteristics23 ; Shareic
is calculated as product i’s sales share in city c. The two-step Heckman approach is motivated by the
fact that we only observe price quotes in the mobile phone application conditional on that product is
sold in a particular city. To reduce the endogeneity issues in price regression, we do not include the
product price on the right of the share specification (32).
After obtaining the coefficients (α̂, β̂, γ̂, δ̂, φ̂, µ̂, ψ̂), we predict the market share in the cities that do
not have sales information, and we further rescale them so that the sum of all product shares equals
unity within each city. For consistency , we use the predicted shares to calculate the cost-of-living
index for all cities, including the 22 for which we have the expenditure data from Nielsen (China).
Though this prediction method works well in most cities, it results in extreme predictions in some
cities, particularly when some product accounts for 80% or more of the total market. To avoid this
situation, we exclude cities that have the extremely low city’s average firm sales share of common
products ∏ f ∈ F (λ f c )W f ( F) from our analysis. Specifically, we firstly regress city’s average firm sales
share of common products, λcF ≡ ∏ f ∈ F (λ f c )W f ( F) , on city’s population (ln Lc ), and derived the prediction error ûc = λcF − λ̂cF . Then we drop the cities from our sample if its prediction error is twice
larger than the standard deviation of the prediction errors, i.e., we exclude city c if |ûc | > 2 × std(û)24 .
After implementing the criteria, we finally have (out of 60 cities) 58 cities for Toothpaste, Laundry
Detergent and Personal Wash Items, and 57 cities for Shampoo.
B3. Prediction Method for Other Products
Consider a world where there are N distinct barcode products and M number of homogeneous retailers. For demonstration purpose, we assume the products can be classified into two broad categories
that differ in availability (this assumption is for simplicity, while in reality it could be many). Specifically, the probability of observing the appearance of any H-type and L-type products in any retailer
are a H and a L respectively. Denote the share of H-type and L-type products are s H and s L = 1 − s H .
As all the { a H , a L , s H , s L } are unobservable in data, we use expected share of a given product to approximate the real market share for both products. The expected market share of products that are
observed in k outlet is Sharek that is given as:

Sharek = s H


 
M k
M k
M−k
a L (1 − a L ) M − k
a H (1 − a H )
+ sL
k
k

(33)

where ( M
k ) denotes the number of combinations of M choose k. It is immediate that the average
market share is in exponential relationship with the proportion of the outlets selling that product
23 For

example, for Toothpaste, we define a variety by brand, subbrand, special function, flavors, and form. Variety
Crest-Complete Plus-Deep Clean-Mint-Paste is different from Crest-Complete Plus-Mouth Wash-Mint-Paste
24 We also tried with one and three standard deviations, and the main results barely changed.

37

(especially there are many types of products). To demonstrate this, we propose a numerical example
where we set a H = 0.95, a L = 0.8, s H = 0.6, s L = 0.4 and M = 10, and plot the relationship bewteen
Sharek and k/M as shown below:

Figure 12: The Expected Market Share of Products Available in k Retail Outlets

Because of the exponential relationship between Sharek and k/M, we take the natural log to obtain
equation (30) in the main text.25

C. Solution to the Firm’s Problem
C1. Choice of price by the firm
The solution to the problem (13) w.r.t. the price p f id is
x f id +

dx f jd

∑ [ p f jd − g f j (wc ) − Tcd ] dp f id

= 0, ∀i ∈ I f d .

(34)

j∈ I f d

This expression is more complicated than for a single-product firm because the firm is selling all the
products i ∈ I f d , and therefore must take into account the effect of a change in each price p f ic on all
these products. To simplify this expression, it can be confirmed that the CES demand derivatives are
symmetric, dx f jd /dp f id = dx f id /dp f jd . Using (34) and dividing by demand x f id , we can re-express
the condition as
1+

∑

j∈ I f d



g f j (wc ) + Tcd
1−
p f jd

25 The



d ln x f id
= 0, ∀i ∈ I f d
d ln p f jd

(35)

exponential relationship between the average market share and the proportion of the available retailers is empirically found in Antoniades (2017).

38

Let us denote the ratio of price to marginal cost, inclusive of transport costs, by µ f jd = p f jd /( g f j +
Tcd ) ≥ 1. We can see that the expression in brackets in (35) equals (µ f jd − 1)/µ f jd ≥ 0, which is the
difference between price and marginal cost measured relative to price. This is the ‘Lerner index’ of
monopoly power for a single-product firm, and with price chosen optimally will equal the inverse of
its elasticity of demand. To see how this Lerner pricing rule is modified with multiproduct firms, let
us conjecture a solution where the price-cost ratios are constant across all products sold by the firm
in question, µ f jd = µ f d . Then it is immediately clear that the solution to (35) is


µfd − 1
µfd



 −1



= −

∑

j∈ I f d

d ln x f id

d ln p f jd

.

(36)

Expression (36) says that the Lerner index for the firm equals the inverse of the sum of demand
elasticities (rather than just the inverse of the own demand elasticity, as occurs for a single-product
firm). In order for this solution to be valid, however, we need to have that the sum of elasticities on
the right of (36) be independent of good i, because we have assumed that the markup is common
across goods. This independence holds if an equi-proportional increase in all prices charged by a
firm needs to lead to the same percentage drop in demand for any product sold by that firm. It turns
out that this condition is satisfied for CES demands, in which case the sum of elasticities is26

−

∑

j∈ I f d

d ln x f id
= η − (η − 1)S f d > 1.
d ln p f jd

(37)

Notice that the expression on the right-hand side of (37) is precisely what we get from (12) if we
replace the share s f id within the firm by unity, since the firm sells all of its own products. Then the
pricing formula is obtained as (14).
C2. Choice of variety by the firm
The first-order condition of (15) with respect to N f d yields27

[ p f d − g f (wc ) − Tcd ] x f d + N f d [ p f d − g f i (wc ) − Tcd ]

dx f d
= k f d.
dN f d

(38)

Using the demand function, the elasticity of demand w.r.t. product scope N f d is given by:
d ln Pf d
d ln x f d
d ln Pd d ln Pf d
= (σ − η )
+ ( η − 1)
d ln N f d
d ln N f d
d ln Pf d d ln N f d

=

σ − η + ( η − 1) S f d
.
1−σ

26 The cross-elasticity is d ln x /d ln p
f id
f jd = −[( σ − η ) + ( η − 1) S f c ] s f jc , for i 6 = j and along with (12) then (37) is
obtained.
27 As products have the same marginal cost, it is convenient to omit subscript i in the analysis.

39

The second inequality comes from

d ln Pf d
d ln N f d

=

1
1− σ

when marginal costs are the same. Condition (38)

can then be rewritten as (16),
Nf d =



Yd
η − 1 S f d (1 − S f d )
.
σ − 1 η − ( η − 1) S f d k f d

C3. Model of core-competency and iceberg trade cost detailed
In this section, we solve the firm’s problem with heterogeneous product marginal cost and iceberg
trade cost. The production technology of the firm is characterized by a core competence for product
ω = 0, and firms are able to adjust the number of varieties with an adaption cost in marginal cost.
Specifically, the marginal cost of producing variety ω is assumed to be monotonically increasing in
ω. There is also a bilateral iceberg transportation cost τcd when firm sells to other cities. With these
assumptions, the profit maximization of firm f in city c is expressed as,

D

max

∑

N f d , { p f d (ω )|ω ∈[0,N f d ]} d=1

(ˆ

)

Nf d

[ p f d (ω ) − τcd g f (ω )] x f d (ω )dω − k f d N f d − K f d

0

1 ( N f d > 0).

(39)

Following the steps shown in Appendix C.1, the optimal price is:



1
p f d (ω ) = 1 +
τ g (ω ), ∀ω ∈ [0, N f d ].
(η − 1)(1 − S f d ) cd f

(40)

The first order condition with respect to N f d yields,
ˆ

[ p f d ( N f d ) − τcd g f ( N f d )] x f d ( N f d ) +

0

Nf d

[ p f d (ω ) − τcd g f (ω )]

d ln x f d (ω )
dω = k f d .
dN f d

(41)

Using the demand function, the elasticity of demand with respect to product scope is given by:
d ln x f d
d ln Pf d
d ln Pd d ln Pf d
= (σ − η )
+ ( η − 1)
d ln N f d
d ln N f d
d ln Pf d d ln N f d

=

σ − η + ( η − 1) S f d
s f d(Nf d)Nf d.
1−σ

(42)

In this expression, s f d ( N f d ) denotes the within firm share of the very last product, indexed by ω =
N f d , which is defined as,
p f d ( N f d )x f d ( N f d )
g f ( N f d )1− σ
s f d(Nf d) = ´ N
= ´N
≡ H ( N f d ),
fd
fd
p f d (ω ) x f d (ω )dω
g f (ω )1−σ dω
0
0
where H (.) increases with its argument given g0f > 0. Jointly using (41) and (42), the optimal scope
is derived as,


η − 1 S f d (1 − S f d )
Yd
.
H(Nf d) =
σ − 1 η − ( η − 1) S f d k f d

40

(43)

If we further assume g f (ω ) = wc ω θ , with θ ≥ 0 and σ < 1 + 1/θ, then H ( N f d ) = (1 + θ − σθ )/N f d .
Then the equation for λ f d is derived as,
( σ −1) θ

λfd =



1+θ −θσ 
Nmin
η − ( η − 1) S f d k f d
σ−1
.
1 + θ − θσ
η−1
S f d (1 − S f d )
Yd

Nf d

D. Summary of Decomposition of S( G )Λ( G ) for New York and Shanghai
Table 11 summarizes the population weighted average of the share term Sc ( G ) and the variety term
Λc ( G ), which are components of the exact price index shown in (25), for Shanghai relative to New
York (greater than unity implies the corresponding variable is larger in Shanghai).

Table 11: Summary of Decomposition of S( G )Λ( G ) for New York and Shanghai
Product Category\Variable
Toothpaste
Laundry Detergent
Personal Wash Item
Shampoo
Baby Formula
Batteries
Biscuits
Cereal
Chips
Chocolate
Coffee
Diapers
Dog Food
Gum
Milk Powder
Soap
Soft Drinks
Tea
Toothbrushes

∏ f ∈G S f ,SH ( G )
∏ f ∈G S f ,NY ( G )

∏ f ∈G ∏i∈ I f s f i,SH ( I f )
∏ f ∈G ∏i∈ I f s f i,NY ( I f )

Four Main Products
1.01
1.53
1.00
1.13
1.00
0.60
1.06
1.05
Other Products
1.25
1.01
1.00
1.35
1.00
0.98
1.00
2.15
1.75
0.85
1.00
1.62
1.00
1.20
1.01
1.12
1.00
1.03
1.00
1.26
1.00
0.60
1.46
1.18
1.05
1.56
1.00
1.52
1.99
1.33

41

SSH ( G )
S NY ( G )

ΛSH ( G )
Λ NY ( G )

SSH ( G )ΛSH ( G )
S NY ( G )Λ NY ( G )

1.55
1.13
0.60
1.11

0.41
0.46
1.03
0.60

0.64
0.52
0.62
0.66

1.27
1.35
0.98
2.15
1.49
1.62
1.20
1.13
1.03
1.26
0.60
1.72
1.63
1.52
2.65

0.88
0.75
2.23
0.91
1.18
1.07
0.80
0.99
1.42
0.70
1.24
2.49
0.73
1.41
0.60

1.12
1.01
2.18
1.95
1.76
1.74
0.97
1.12
1.46
0.88
0.74
4.28
1.19
2.13
1.57

References
A NTONIADES , A. (2017): “Distribution as Expenditure,” Working paper, Georgetown University.
C AMPBELL , J. R.,

AND

H. A. H OPENHAYN (2005): “Market Size Matters,” Journal of Industrial Eco-

nomics, 53(1), 1–25.
C AVALLO , A., AND R. R IGOBON (2016): “The Billion Prices Project: Using Online Prices for Measurement and Research,” Journal of Economic Perspectives, 30(2), 151–178.
D EATON , A., AND B. ATEN (2017): “Trying to Understand the PPPs in ICP2011: Why are the Results
so Different?,” American Economic Journal: Macroeconomics, 9(1), 243–264.
D EATON , A.,

AND

A. H ESTON (2010): “Understanding PPPs and PPP-based National Accounts,”

American Economic Journal: Macroeconomics, 2(4), 1–35.
F EENSTRA , R. C. (1994): “New Product Varieties and the Measurement of International Prices,”
American Economic Review, 84(1), 157–177.
(2016): Advanced International Trade,Princeton University Press, 2nd edition.
F EENSTRA , R. C., AND H. M A (2009): “Optimal choice of product scope for multiproduct firms under
monopolistic competition,” in The Organization of Firms in a Global Economy, ed. by E. Helpman,
D. Marin, and T. Verdier, pp. 173–199. Harvard university Press.
F EENSTRA , R. C., H. M A , J. P. N EARY, AND D. P RASADA R AO (2013): “Who Shrunk China? Puzzles
in the Measurement of Real GDP,” The Economic Journal, 123(573), 1100–1129.
H ANDBURY, J.,

AND

D. E. W EINSTEIN (2015): “Goods Prices and Availability in Cities,” The Review

of Economics and Statistics, 82(1), 258–296.
H OTTMAN , C., S. J. R EDDING ,

AND

D. E. W EINSTEIN (2016): “Quantifying the Sources of Firm

Heterogeneity,” Quarterly Journal of Economics, 131(3), 1291–1364.
I NKLAAR , R.,

AND

D. S. P. R AO (2017): “Cross-Country Income Levels Over Time: Did the Devel-

oping World Suddenly Become much Richer?,” American Economic Journal: Macroeconomics, 9(1),
265–290.
M ACEDONI , L. (2017): “Multiproduct Superstars Across Rich and Poor Countries. Theory and Evidence,” Discussion paper, University of California, Davis.
R AFF , H.,

AND

J. WAGNER (2013): “Productivity and the Product Scope of Multi-Product Firms: a

Test of Feenstra-Ma,” Economic Bulletin, 33(1), 173–199.
R EDDING , S. J.,

AND

D. E. W EINSTEIN (2016): “A Unified Approach to Estimating Demand and

Welfare,” Discussion paper, Princeton University and Columbia University.
42

S ATO , K. (1976): “The Ideal log-Change Index Number,” Review of Economics and Statistics, 58, 223–
228.
VARTIA , Y. O. (1976): “Ideal log-Change Index Numbers,” Scandinavian Journal of Statistics, 3, 121–
126.

43

