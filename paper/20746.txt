NBER WORKING PAPER SERIES

HETEROGENEITY IN DECENTRALIZED ASSET MARKETS
Julien Hugonnier
Benjamin Lester
Pierre-Olivier Weill
Working Paper 20746
http://www.nber.org/papers/w20746
NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
December 2014
This paper merges two earlier working papers of ours, Hugonnier (2012) and Lester and Weill (2013).
We thank, for fruitful discussions and suggestions, Gadi Barlevy, Julien Cujean, Jaksa Cvitanic, Darrell
Duffie, Rudi Fahlenbrach, Semyon Malamud, Thomas Mariotti, Artem Neklyudov, Ezra Oberfield,
R´emy Praz, Guillaume Rocheteau, and seminar participants at the 2012 Gerzensee workshop on Search
and Matching in Financial Markets, the 2012 Bachelier workshop, the 2013 AFFI Congress, EPFL,
the University of Lausanne, the Federal Reserve Bank of Philadelphia, the 2014 SaM Conference in
Edinburgh, the 2014 conference on Recent Advances in OTC Market Research in Paris, Royal Holloway,
UCL, CREST, the 2014 KW25 Anniversary conference, the 2014 SummerWorkshop on Money, Banking,
Payments and Finance at the Chicago Fed, the Fall 2014 SaM Conference in Philadelphia, the Wharton
macro lunch seminar, the Desautels Faculty of Management at McGill University, the McCombs School
of Business at UT Austin, the Fall 2014 meeting of the Finance Theory Group, the University of California,
Irvine, the Kellogg School of Management, UNC Kenan-Flagler Business School, and the 2015 Trading
and post-trading conference at the Toulouse School of Economics. This project was started when Pierre-Olivier
Weill was a visiting professor at the Paris School of Economics, whose hospitality is gratefully acknowledged.
Financial support from the Swiss Finance Institute is gratefully acknowledged by Julien Hugonnier.
The views expressed herein are those of the authors and do not necessarily reflect the views of the
National Bureau of Economic Research or the Federal Reserve Bank of Philadelphia or the Federal
Reserve System.
NBER working papers are circulated for discussion and comment purposes. They have not been peerreviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.
© 2014 by Julien Hugonnier, Benjamin Lester, and Pierre-Olivier Weill. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission provided
that full credit, including © notice, is given to the source.

Heterogeneity in Decentralized Asset Markets
Julien Hugonnier, Benjamin Lester, and Pierre-Olivier Weill
NBER Working Paper No. 20746
December 2014, Revised February 2016
JEL No. D0,D53,D83,G0,G12
ABSTRACT
We study a search and bargaining model of an asset market, where investors' heterogeneous valuations
for the asset are drawn from an arbitrary distribution. Our solution technique makes the model fully
tractable and allows us to provide a full characterization of the unique equilibrium, in closed-form,
both in and out of steady-state. Using this characterization, we first establish that the model generates
aggregate trading patterns that are consistent with those observed in many over-the-counter asset markets.
Then, we show that the model can replicate empirical regularities reported from micro-level data sets,
including the relationships between the length of the intermediation chains through which assets are
reallocated, the network centrality of the dealers involved in these chains, and the markup charged
on the asset being passed along the chain. Finally, we show that heterogeneity magnifies the price
impact of search frictions, and that this impact is more pronounced on price levels than on price dispersion.
Hence, using observed price dispersion to quantify the effect of search frictions on price discounts
or premia can be misleading.
Julien Hugonnier
Ecole Polytechnnique Fédérale de Lausanne
Quartier UNIL Dorigny Extranef #212
1015 Lausanne Switzerland
and Swiss Finance Institute
Julien.Hugonnier@epfl.ch
Benjamin Lester
Research Department
Federal Reserve Bank of Philadelphia
10 Independence Mall
Philadelphia, PA 19106
Benjamin.Lester@phil.frb.org

Pierre-Olivier Weill
Department of Economics
University of California, Los Angeles
Bunche Hall 8283
Los Angeles, CA 90095
and NBER
poweill@econ.ucla.edu

1

Introduction

Many assets, including corporate and government bonds, emerging market debt, mortgage-backed
securities, and most types of swaps, trade in decentralized or “over-the-counter” (OTC) markets.
To study such markets, we construct a search and bargaining model in which investors with
heterogeneous valuations are periodically and randomly matched in pairs and given the opportunity to trade. Whereas the existing literature, starting with Duffie, Gârleanu, and Pedersen
(2005) (henceforth DGP), has primarily focused on the special case of two valuations, we allow
investors’ valuations to be drawn from an arbitrary distribution. Despite its greater complexity,
this generalized model remains fully tractable: we provide a solution technique that delivers a full
characterization of the equilibrium, in closed-form, both in and out of steady state. Equipped with
this characterization, we argue that our model provides a structural framework for confronting and
understanding empirical regularities that have been documented in OTC markets.
First, we show that our model with an arbitrary distribution of investor valuations generates a
number of aggregate trading patterns that are evident in nearly all OTC markets. More specifically,
though all investors in our model have the same trading opportunities, in equilibrium assets are
reallocated from some investors who are natural sellers to other investors who are natural buyers
through a sequence, or chain, of investors who act as intermediaries. Moreover, we show that some
of these intermediaries trade more frequently than others in equilibrium, so that a core-periphery
trading network emerges endogenously.
Second, in addition to replicating the aggregate trading patterns mentioned above, we show that
our framework can also be used to successfully confront micro-level data from OTC markets. In
particular, we show analytically that the model can replicate recently documented facts regarding
the cross-sectional relationships between the “centrality” of an investor in the trading network,
the length of the intermediation chains in which he participates, the duration and volatility of his
inventory holdings, and the markup on the assets he trades.
Finally, we use the model to derive novel asset pricing results that highlight the importance
of heterogeneity in decentralized asset markets. We show that heterogeneity magnifies the price
impact of search frictions, and that this impact is more pronounced on price levels than on price
dispersion. Hence, using observed price dispersion to quantify the effect of search frictions on
1

price discounts or premia can be misleading: price dispersion can essentially vanish while price
levels are still far from their frictionless counterpart.
Our model, which we formally describe in Section 2, starts with the basic building blocks of
DGP. There is a measure one of investors who can hold either zero or one share of an asset in fixed
supply. Investors have stochastic, time-varying utility types that generate heterogenous valuations
for the asset. Each investor is periodically and randomly matched with another, and a transaction
ensues if there are gains from trade, with prices being determined by Nash bargaining. Our point
of departure from DGP is that we allow utility types to be drawn from an arbitrary distribution.
Allowing for more than two types changes the nature of the analysis significantly, as it implies
that individual investors now face ex ante uncertainty about the utility types of potential trading
partners, and hence about the terms of trade. More precisely, the relevant state variable in our
model is an infinite-dimensional object: the distributions of the utility types among investors that
hold zero and one asset, respectively, over time.
Despite this greater complexity, we show in Section 3 that the model remains fully tractable. In
particular, we characterize the equilibrium, in closed form, both in and out of the steady state. This
requires deriving explicit solutions for the joint distributions of asset holdings and utility types,
and for investors’ reservation values; both of these derivations are new to the literature. Moreover,
in contrast to the usual guess-and-verify approach, we establish several elementary properties of
reservation values directly—without making a priori assumptions on the direction of gains from
trade—which allows us later to confirm the uniqueness of our equilibrium. Finally, as a by-product
of our solution technique, we show that that reservation values can be computed as the present value
of utility flows to a hypothetical investor with an appropriately adjusted utility type process that
naturally reflects the search and bargaining frictions. This sequential representation of reservation
values generalizes the concept of a marginal investor to a decentralized market.
In Section 4, we use our characterization of the equilibrium to highlight a number of the
model’s implications. Our first set of results are derived by following investors with different
utility types. More specifically, we analyze how an investor’s asset holdings and the frequency
with which he trades depend on his utility type, and the implications of these individual trading
patterns for aggregate outcomes. Our discussion builds on the simple, yet crucial, observation that

2

investors who have a lot to gain from trading—typically investors with extreme utility types and the
“wrong” asset holdings—tend to trade quickly and then remain inactive for long periods of time.
Investors with more moderate utility types, on the other hand, tend to remain active in the market
more consistently, buying and selling with equal frequency over time. Hence, these investors
with moderate valuations tend to emerge endogenously as intermediaries, even though they are not
endowed with a superior search technology. Moreover, such investors tend to trade most often with
each other. As a result, an asset is typically reallocated from an investor with a low utility type to an
investor with a high utility type through a chain of inframarginal trades executed by investors with
moderate utility types, so that a core-periphery trading structure emerges endogenously. Existing
empirical evidence shows that intermediation chains and core-periphery trading networks are both
prevalent in nearly all OTC markets.
Our second set of results are derived by following assets as they are reallocated from investors
with low utility types to those with high utility types through an intermediation chain. To motivate
our analysis, we start by summarizing some key empirical regularities that have recently been
documented using micro-level data from a prominent OTC market—specifically, the relationships
between the length of the intermediation chain required to transfer an asset from an “initial” seller
to a “final” buyer; the network centrality of the dealers involved in this chain; the duration and
volatility of the inventory of these dealers; and the total markup realized along the chain. We then
analytically derive the distributions of these objects induced by our steady-state equilibrium, and
show that the relations they imply are qualitatively consistent with the empirical findings. More
broadly, this set of results shows that our generalized model offers a flexible structural framework
to confront new facts emerging from micro-level OTC market data regarding the relationship
between the structure of the trading network, the nature and efficiency of the process through
which assets are reallocated, and the distribution of transaction prices.
Finally, in Section 5, we study equilibrium as trade gets faster and search frictions vanish. This
region of the parameter space is important for two reasons. First, it is the empirically relevant case
in many financial markets, where trading speeds are indeed becoming faster and faster. Second,
studying this region allows us to analytically demonstrate that heterogeneity magnifies the price
impact of search frictions: we show that deviations from the Walrasian price are much larger with

3

a continuum of types than with finitely many types. The reason is that, in the latter case, there is
generically an atom of investors at the marginal type. Therefore, the elasticity of demand is infinite
at the marginal type and, as a result, a small increase in price drives demand to zero for the entire
atom of marginal investors. In contrast, with a continuum of types, we can obtain an arbitrary
elasticity of demand by varying the density of investors at the marginal type. A lower elasticity
magnifies the bilateral monopoly effects at play in our search-and-matching model by generating
much larger price deviations than in previous work. Furthermore, we show that the asymptotic
effect of search frictions on price levels and price dispersion are of different magnitudes: prices can
be far from their Walrasian counterpart when price dispersion has nearly vanished. Hence, using
price dispersion, markups, or the bid-ask spread to quantify frictions may lead one to underestimate
the true effect of search frictions on some market outcomes.

1.1

Related Literature

Our paper contributes to the literature that uses search models to study asset prices and allocations
in OTC markets. Early papers include Gehrig (1993), Spulber (1996), and Hall and Rust (2003).
Most recent papers build on the framework of DGP who assume that investors with one of two
valuations for an asset receive infrequent opportunities to trade in either a pure decentralized
market—i.e., in bilateral random matches with other investors—or in a pure dealer market—i.e.,
with an exogenously designated set of marketmakers who have access to a competitive interdealer
market. For the most part, this literature has extended DGP in one of two directions.
One strand has dropped the possibility of trading in a pure decentralized market, but has
incorporated additional features—including finitely many types —into a model where all trades
are executed through a pure dealer market. See, for instance, Weill (2007), Lagos and Rocheteau
(2009), Gârleanu (2009), Lagos, Rocheteau, and Weill (2011), Feldhütter (2012), Pagnotta and
Philippon (2011), and Lester, Rocheteau, and Weill (2015). Although abstracting from decentralized trade is beneficial for maintaining tractability, it also implies that these models are less
helpful in addressing certain markets and issues. For instance, many OTC markets do not have
active dealers, so that finding another investor and bargaining over the price is a central feature of
these markets.1 Moreover, even in markets with active intermediaries, the interdealer market itself
1

For example, Ashcraft and Duffie (2007) report that only about one quarter of trades in the federal funds market

4

is often best characterized by a frictional, bilateral matching market, as documented by Green,
Hollifield, and Schürhoff (2006) and Li and Schürhoff (2012) for municipal bonds and Hollifield,
Neklyudov, and Spatt (2014) for mortgage-backed securities. Hence, models with only pure dealer
markets cannot account for price dispersion and heterogeneous trading times between dealers.
Finally, by assuming a priori that some investors intermediate all trades, these models cannot help
us understand why reallocation occurs through intermediation chains, and why some investors find
themselves in the midst of these chains more than others.
To address such issues, a second strand of the literature has focused exclusively on a pure
decentralized market. This approach, however, requires tackling a potentially complex fixed point
problem: investors’ trading decisions depend on the distributions of asset holdings and utility
types—since they determine the option value of search—but these distributions depend on investors’ trading decisions. Early models in the literature have dealt with this fixed point problem
by limiting heterogeneity to two utility types; see, e.g., Duffie, Gârleanu, and Pedersen (2007),
Vayanos and Wang (2007), Vayanos and Weill (2008), Weill (2008), Afonso (2011), Gavazza
(2011, 2013), Praz (2013), and Trejos and Wright (2014). While this strand of the literature has
revealed a number of important insights related to liquidity and asset prices, the restriction to two
types prevents these models from addressing many of the substantive issues analyzed in our paper,
such as the reallocation of assets through chains of intermediaries, the structure of the trading
network, and the ultimate effect of heterogeneity on price levels and dispersion.
The literature has only recently turned to the analysis of pure decentralized asset markets with
more than two types of investors. Perhaps the closest to our work is Afonso and Lagos (2015), who
develop a model of purely decentralized exchange to study trading dynamics in the federal funds
market. In their model, investors have heterogeneous valuations because they have different levels
of asset holdings. Several insights from Afonso and Lagos feature prominently in our analysis.
Most importantly, they highlight the fact that investors with moderate asset holdings play the role
of “endogenous intermediaries,” buying from investors with excess reserves and selling to investors
with few. As we discuss at length below, similar investors specializing in intermediation emerge
in our environment and have important effects on equilibrium outcomes. However, our work is
are brokered. Hall and Rust (2003) highlight a lack of intermediation in certain OTC commodity markets, such as
steel coil and plate. The absence of marketmakers is also notable in certain markets for real assets, such as houses.

5

quite different from that of Afonso and Lagos in a number of important ways, too. For one, since
our focus is not exclusively on a market in which payoffs are defined at a predetermined stopping
time, we characterize equilibrium both in and out of steady state when the time horizon is infinite.
Moreover, while Afonso and Lagos establish many of their results via numerical methods, we can
characterize the equilibrium in closed-form for an arbitrary distribution of investor types. This
tractability allows us to perform analytical comparative statics and, in particular, derive a number
of novel results—for example, our analytical characterization of the relationships between the
length of an intermediation chain, the centrality of the intermediaries involved, and the markup are
completely new to this literature.2
Our paper is also related to the growing literature that studies equilibrium asset pricing and
exchange in exogenously specified trading networks. Recent work includes Gofman (2010), Babus
and Kondor (2012), Malamud and Rostek (2012), and Alvarez and Barlevy (2014). Atkeson,
Eisfeldt, and Weill (2015) and Colliard and Demange (2014) develop hybrid models, blending
ingredients from the search and the network literatures. In these models, intermediation chains
arise somewhat mechanically; indeed, when investors are exogenously separated by network links,
the only feasible way to reallocate assets to those who value them most is to use an intermediation
chain. In our dynamic search model, by contrast, intermediation chains arise by choice: though all
investors have the option to keep searching until they get an opportunity to trade directly with their
best counterparty, they find it optimal to trade indirectly, through intermediation chains. Hence,
2

Several other papers deserve mention here. The present paper merges, replaces, and extends Hugonnier (2012) and
Lester and Weill (2013), in which we independently developed the techniques to solve for equilibrium in DGP with a
continuum of types. Neklyudov (2012) considers a model with two valuations but introduces heterogeneity in trading
speed to study equilibrium prices and allocations in a given core-periphery trading network. In our model, a coreperiphery network arises endogenously even though trading speed is constant across investors. In an online Appendix,
Gavazza (2011) proposes a model of purely decentralized trade with a continuum of types in which investors have
to pay a search cost in order to meet others. He focuses on steady-state equilibria in a region of the parameter space
where all investors with the same asset holdings trade at the same frequency, and trade only once between preference
shocks; this special case abstracts from most of the interesting dynamics that emerge from our analysis. Shen, Wei,
and Yan (2015) incorporate search costs into our framework to endogenize the boundaries of the intermediary sector.
Cujean and Praz (2013) study transparency in OTC markets by considering a model with a continuum of types and
unrestricted asset holdings, where investors are imperfectly informed about the type of their trading partner. In this
environment, Nash bargaining is problematic and, hence, the authors propose a new trading protocol. Üslü (2015)
considers a generalized model with heterogenous hedging needs and asset holdings and analyzes, among other things,
the determinant of the “speed premium” in OTC markets. Sagi (2015) calibrates a partial equilibrium model with
heterogenous types to explain commercial real estate returns.

6

even though all contacts are random, the endogenous network of actual trades is not, but rather
exhibits a core-periphery-like structure that is typical of many OTC markets.3
Finally, our paper is related to the literatures that use search-theoretic models to study monetary
and labor economics. The former literature, starting with the seminal contribution of Kiyotaki and
Wright (1993), has recently incorporated assets into the workhorse model of Lagos and Wright
(2005) to study issues related to financial markets, liquidity, and asset pricing.4 In the latter
literature, such as Burdett and Mortensen (1998) and Postel-Vinay and Robin (2002), workers
move along a “job ladder” from low- to high-productivity firms much like assets in our model are
reallocated from low- to high-valuation investors. Despite this similarity, many of our results are
specific to our asset market environment. For example, our analysis of intermediation chains and
the trading network is designed to establish contact with micro data from OTC markets, and has no
natural analog in labor markets. Likewise, given dramatic increases in trading speed, it is natural
for us to study equilibrium outcomes as contact rates tend to infinity, while such analysis has no
obvious counterpart in a labor economics.

2

The model

2.1

Preference, endowments, and matching technology

We consider a continuous-time, infinite-horizon model in which time is indexed by t ≥ 0. The
economy is populated by a unit measure of infinitely-lived and risk-neutral investors who discount
the future at the same rate r > 0. There is one indivisible, durable asset in fixed supply, s ∈ (0, 1),
and one perishable good that we treat as the numéraire.
Investors can hold either zero or one unit of the asset.5 The utility flow an investor receives
at time t from holding a unit of the asset, which we denote by δt , differs across investors and, for
each investor, changes over time. In particular, each investor receives i.i.d. preference shocks that
3

See Oberfield (2013) for another example of endogenous network formation through search. In a recent paper,
Glode and Opp (2014) also examine why intermediation chains are prevalent but their focus is different, as they
postulate that these chains help to moderate the inefficiencies induced by asymmetric information.
4
See, e.g., Lagos (2010), Geromichalos, Licari, and Suárez-Lledó (2007), Lester, Postlewaite, and Wright (2012),
and Li, Rocheteau, and Weill (2012).
5
For the purpose of analyzing steady states, we could equivalently assume that investors can trade any quantity of
the asset but are constrained to hold a maximum quantity that is normalized to one share: given linear utility, they
would find it optimal to trade and hold either zero or one share.

7

arrive according to a Poisson process with intensity γ, whereupon the investor draws a new utility
flow δ 0 from some cumulative distribution function F (δ 0 ).6 We assume that the support of this
distribution is a compact interval, and make it sufficiently large so that F (δ) has no mass points
at its boundaries. For simplicity, we normalize this interval to [0, 1]. Thus, at this point, we place
very few restrictions on the distribution of utility types. In particular, our solution method applies
equally well to discrete distributions (such as the two point distribution of Duffie, Gârleanu, and
Pedersen, 2005), continuous distributions, and mixtures of the two.
Investors interact in a purely decentralized market in which each investor initiates contact with
another randomly selected investor according to a Poisson process with intensity λ/2.7 If two
investors are matched and there are gains from trade, they bargain over the price of the asset. The
outcome of the bargaining game is taken to be the Nash bargaining solution, in which the investor
with asset holdings q ∈ {0, 1} has bargaining power θq ∈ (0, 1), with θ0 + θ1 = 1.
An important object of interest throughout our analysis will be the joint distribution of utility
types and asset holdings. The standard approach in the literature, following DGP, is to characterize
this distribution by analyzing the density or measure of investors across types (q, δ) ∈ {0, 1} ×
[0, 1]. Our analysis below reveals that the model becomes much more tractable when we study
instead the cumulative measure: it is then possible to exhibit a closed-form solution for an arbitrary
underlying distribution of types, both in and out of steady state. To this end, let Φq,t (δ) denote
the measure of investors at time t ≥ 0 with asset holdings q ∈ {0, 1} and utility type less than
δ ∈ [0, 1]. Assuming that initial types are randomly drawn from the cumulative distribution F (δ),
the following accounting identities must hold for all t ≥ 0:8
Φ0,t (δ) + Φ1,t (δ) = F (δ)

(1)

Φ1,t (1) = s.

(2)

Equation (1) highlights that the cross-sectional distribution of utility types in the population is
6

The characterization and main properties of the equilibrium remain qualitatively unchanged if we assume that
utility types are persistent in the sense that, conditional on experiencing a preference shock, the probability of drawing
a utility type in [0, δ 0 ] is given by some function F (δ 0 |δ) that is decreasing in δ for any δ 0 ∈ [0, 1].
7
We focus on the purely decentralized market for simplicity of exposition. We show in Appendix D that our main
results are upheld if we assume, as in DGP, that investors can also periodically trade with a set of market makers who
have access to a centralized market.
8
Most of our results extend to the case in which the initial distribution is not drawn from F (δ), though the analysis
is slightly more complicated; see Appendix C.

8

constantly equal to F (δ), which is due to the fact that initial utility types are drawn from F (δ)
and that an investor’s new type is independent from his previous type. Equation (2) is a market
clearing condition: the total measure of investors who own the asset must equal the total supply
of assets available in the economy. Given our previous assumptions, we have that this condition is
equivalent to Φ0,t (1) = 1 − s for all t ≥ 0.

2.2

The Frictionless Benchmark: Centralized Exchange

Consider a frictionless environment in which there is a competitive, centralized market where
investors can buy or sell the asset instantly at some price pt , which must be constant in equilibrium
since the cross-sectional distribution of types in the population is time-invariant.
In such an environment, the objective of an investor is to choose a finite variation asset-holding
process qt ∈ {0, 1} that is progressively measurable with respect to the filtration generated by his
utility-type process, and which maximizes
Z ∞

Z
Z ∞
−rt
−rt
E0,δ
e δt qt dt −
e pdqt = pq0 + E0,δ
0

0

∞

e

−rt


(δt − rp)qt dt ,

0

where the equality follows from integration by parts. This representation of an investor’s objective
makes it clear that, at each time t, optimal holdings satisfy


if δt < rp
0
?
qt = 0 or 1 if δt = rp


1
if δt > rp.
This immediately implies that, in equilibrium, the asset is allocated at each time to the investors
who value it most. As a result, the distribution of types among investors who own one unit of the
asset is time invariant and given by
Φ?1 (δ) = max {0, F (δ) − (1 − s)} ≡ (F (δ) − (1 − s))+ .
It now follows from (1) that the distribution of utility types among investors who do not own the
asset is explicitly given by Φ?0 (δ) = min{F (δ), 1 − s}.
The “marginal” type—i.e., the utility type of the investor who has the lowest valuation among
all owners of the asset—is then defined by
δ ? = inf {δ ∈ [0, 1] : 1 − F (δ) ≤ s} ,
9

and the equilibrium price of the asset p? has to equal δ ? /r, i.e., the present value of the utility flows
enjoyed by a hypothetical investor who holds the asset forever and whose utility type is constantly
equal to the marginal type.9

3

Equilibrium with search frictions

We now characterize the equilibrium with search frictions in three steps. First, in Section 3.1,
we derive the reservation value of an investor with utility type δ, which allows us to characterize
optimal trading rules and equilibrium asset prices given the joint distribution of utility types and
asset holdings. Then, in Section 3.2, we use the trading rules to derive these joint distributions
explicitly. Finally, in Section 3.3, we construct the unique equilibrium and show that it converges
to a steady state from any initial allocation.

3.1

Reservation values

Let Vq,t (δ) denote the maximum attainable utility of an investor with q ∈ {0, 1} units of the asset
and utility type δ ∈ [0, 1] at time t ≥ 0, and denote this investor’s reservation value by10
∆Vt (δ) ≡ V1,t (δ) − V0,t (δ).
In addition to considering an arbitrary distribution of utility types, our analysis of reservation values
improves on the existing literature in several dimensions. First, in Section 3.1.1, we depart from
the usual guess-and-verify approach by establishing elementary properties of reservation values
directly, without making any a priori assumption on the direction of gains from trade. This allows
us, down the road in Theorem 1, to claim a general uniqueness result for equilibrium. Second,
in Section 3.1.2, we study a differential representation of reservation values which generalizes an
earlier closed-form solution for the trading surplus in DGP’s two-type model. Third, in Section
3.1.3, we study a sequential representation of reservation values which generalizes the concept of
a marginal investor to an asset market with search-and-matching frictions.
9

For simplicity, we will ignore throughout the paper the non-generic case where F (δ) is flat at the level 1 − s
because, in such cases, the frictionless equilibrium price is not uniquely defined.
10
Note that the reservation value function is well defined for all δ ∈ [0, 1], and not only for those utility types in the
support of the underlying distribution, F (·).

10

3.1.1

Elementary properties

An application of Bellman’s principle of optimality shows that
"Z

τ

e−r(u−t) δdu + e−r(τ −t) 1{τ =τ1 } V1,τ (δ)

V1,t (δ) = Et

(3)

t
1

Z

V1,τ (δ 0 )dF (δ 0 )

+ 1{τ =τγ }
0
1

Z
+ 1{τ =τ0 }
0

dΦ0,τ (δ 0 )
max{V1,τ (δ), V0,τ (δ) + Pτ (δ, δ 0 )}
1−s

#
,

where τγ is an exponential random variable with parameter γ that represents the arrival of a
preference shock, τq is an exponential random variable with parameter λs if q = 1 and λ(1 − s) if
q = 0 that represents the occurrence of a meeting with a randomly selected investor who owns q
units of the asset, the expectation is conditional on τ ≡ min{τ0 , τ1 , τγ } > t, and
Pτ (δ, δ 0 ) ≡ θ0 ∆Vτ (δ) + θ1 ∆Vτ (δ 0 )

(4)

denotes the Nash solution to the bargaining problem at time τ between an asset owner of utility
type δ and a non-owner of utility type δ 0 . Substituting the price (4) into (3) and simplifying shows
that the maximum attainable utility of an asset owner satisfies
"Z

τ

e−r(u−t) δdu + e−r(τ −t) V1,τ (δ)

V1,t (δ) = Et
t

Z

1

(V1,τ (δ 0 ) − V1,τ (δ))dF (δ 0 )

+ 1{τ =τγ }
0

Z

1

+ 1{τ =τ0 }
0

dΦ0,τ (δ 0 )
θ1 (∆Vτ (δ 0 ) − ∆Vτ (δ))
1−s
+

#
.

(5)

The first term on the right-hand side of (3) accounts for the fact that an asset owner enjoys a
constant flow of utility at rate δ until time τ . The remaining terms capture the three possible events
for the asset owner at the stopping time τ : he can receive a preference shock (τ = τγ ), in which
case a new utility type is drawn from the distribution F (δ 0 ); he can meet another asset owner
(τ = τ1 ), in which case there are no gains from trade and his continuation payoff is V1,τ (δ); or
he can meet a non-owner (τ = τ0 ), who is of type δ 0 with probability dΦ0,τ (δ 0 )/(1 − s), in which
11

case he sells the asset if the payoff from doing so exceeds the payoff from keeping the asset and
continuing to search.
Proceeding in a similar way for q = 0 shows that the maximum attainable utility of an investor
who does not own an asset satisfies
"

Z
−r(τ −t)
V0,t (δ) = Et e
V0,τ (δ) + 1{τ =τγ }

1

(V0,τ (δ 0 ) − V0,τ (δ))dF (δ 0 )

0

Z

1

+ 1{τ =τ1 }
0

dΦ1,τ (δ 0 )
θ0 (∆Vτ (δ) − ∆Vτ (δ 0 ))
s
+

#
,

(6)

and subtracting (6) from (5) shows that the reservation value function satisfies the autonomous
dynamic programming equation
"Z

τ
−r(u−t)
−r(τ −t)
∆Vt (δ) = Et
e
δdu + e
∆Vτ (δ)
t

Z

1

(∆Vτ (δ 0 ) − ∆Vτ (δ))dF (δ 0 )

+ 1{τ =τγ }
Z 01
+ 1{τ =τ0 }

θ1 (∆Vτ (δ 0 ) − ∆Vτ (δ))

+

0

Z
− 1{τ =τ1 }
0

1

dΦ0,τ (δ 0 )
1−s

dΦ1,τ (δ 0 )
θ0 (∆Vτ (δ) − ∆Vτ (δ 0 ))
s
+

#
.

(7)

This equation reveals that an investor’s reservation value is influenced by two distinct option values,
which have opposing effects. On the one hand, an investor who owns an asset has the option to
search and find a non-owner who will pay even more for the asset; as shown on the third line, this
option increases her reservation value. On the other hand, an investor who does not own an asset
has the option to search and find an owner who will sell at an even lower price; as shown on the
fourth line, this option decreases her willingness to pay and, hence, her reservation value.
To guarantee the global optimality of the trading decisions induced by (5) and (6), we further
require that the maximum attainable utilities of owners and non-owners, and hence the reservation
values, satisfy the transversality conditions
lim e−rt Vq,t (δ) = lim e−rt ∆Vt (δ) = 0,

t→∞

(q, δ) ∈ {0, 1} × [0, 1].

t→∞

(8)

The next proposition establishes the existence, uniqueness, and some elementary properties of
solutions to (5), (6), and (7) that satisfy (8).
12

Proposition 1 There exists a unique function ∆V : R+ × [0, 1] → R that satisfies (7) subject to
(8). This function is uniformly bounded, absolutely continuous in (t, δ) ∈ R+ × [0, 1], and strictly
increasing in δ ∈ [0, 1] with a uniformly bounded derivative with respect to type. Given ∆Vt (δ),
there are unique functions V0,t (δ) and V1,t (δ) that satisfy (5), (6), and (8).
The fact that reservation values are strictly increasing in δ implies that, when an asset owner
of type δ meets a non-owner of type δ 0 > δ, they will always agree to trade. Indeed, these two
investors face the same distributions of future trading opportunities and preference shocks. Thus,
the only relevant difference between them is the difference in utility flow enjoyed from the asset,
which implies that the reservation value of an investor of type δ 0 is strictly larger than that of an
investor of type δ < δ 0 . The monotonicity property holds regardless of the distributions Φq,t (δ),
which investors take as given when calculating their optimal trading strategy. Moreover, as we
establish below, this property greatly simplifies the derivation of closed-form solutions for both
reservation values and the equilibrium distribution of asset holdings and utility types.
3.1.2

Differential representation

Integrating both sides of (7) with respect to the distribution of τ , and using the fact that reservation
values are strictly increasing in utility type, we obtain that the reservation value function satisfies
the integral equation

Z ∞
Z 1
−(r+γ+λ)(u−t)
∆Vt (δ) =
e
δ + λ∆Vu (δ) + γ
∆Vu (δ 0 )dF (δ 0 )
t
0
Z 1
+λ
θ1 (∆Vu (δ 0 ) − ∆Vu (δ)) dΦ0,u (δ 0 )
δ

Z δ
0
0
−λ
θ0 (∆Vu (δ) − ∆Vu (δ )) dΦ1,u (δ ) du.

(9)

0

In addition, since Proposition 1 establishes that the reservation value function is absolutely continuous in (t, δ) ∈ R+ × [0, 1] with a bounded derivative with respect to type, we know that
Z δ
∆Vt (δ) = ∆Vt (0) +
σt (δ 0 )dδ 0

(10)

0

for some nonnegative and uniformly bounded function σt (δ) that is itself absolutely continuous
in time for almost every δ ∈ [0, 1]. We naturally interpret this function as a measure of the local
13

surplus in the decentralized market, since the gains from trade between a seller of type δ and a
buyer of type δ + dδ are approximately given by σt (δ)dδ.
Substituting the representation (10) into (9), changing the order of integration, and differentiating both sides of the resulting equation with respect to t and δ reveals that the local surplus satisfies
the Hamilton-Jacobi-Bellman (HJB) equation
(r + γ + λθ1 (1 − s − Φ0,t (δ)) + λθ0 Φ1,t (δ)) σt (δ) = 1 + σ̇t (δ)

(11)

at almost every point of R+ × [0, 1]. To develop some intuition for this equation, consider the
steady-state equilibrium characterized by DGP with two utility types, δ` ≤ δh . In that equilibrium,
the measures 1−s−Φ0 (δ) and Φ1 (δ) are constant over [δ` , δh ) and correspond to the mass of buyers
and sellers, respectively, which DGP denote by µhn and µ`o . Using this property, integrating both
sides of (11), and restricting attention to the steady state gives the surplus formula of DGP:
(r + γ + λθ1 µhn + λθ0 µ`o ) (∆V (δh ) − ∆V (δ` )) = δh − δ` .
Hence, our local surplus σt (δ) is a direct generalization of the trading surplus in DGP to nonstationary environments with arbitrary distributions of utility types.
Given (11) we can now derive a closed-form solution for reservation values. A calculation
provided in the Appendix shows that, together with the requirements of boundedness and absolute
continuity in time, equation (11) uniquely pins down the local surplus as
Z ∞ R
u
σt (δ) =
e− t (r+γ+λθ1 (1−s−Φ0,ξ (δ))+λθ0 Φ1,ξ (δ))dξ du.

(12)

t

Combining this explicit solution for the local surplus with (9) and (10) allows us to derive the
reservation value function in closed-form.
Proposition 2 For any distributions Φ0,t (δ) and Φ1,t (δ) satisfying (1) and (2), the unique solution
to (7) and (8) is explicitly given by

Z ∞
Z δ
−r(u−t)
∆Vt (δ) =
e
δ−
σu (δ 0 ) (γF (δ 0 ) + λθ0 Φ1,u (δ 0 )) dδ 0
(13)
t
0

Z 1
0
0
0
0
+
σu (δ ) (γ(1 − F (δ )) + λθ1 (1 − s − Φ0,u (δ ))) dδ du,
δ

where the local surplus σt (δ) is defined by (12).
14

We close this sub-section with several intuitive comparative static results for reservation values.
Corollary 1 For any (t, δ) ∈ R+ × [0, 1], the reservation value ∆Vt (δ) increases if an investor
can bargain higher selling prices (larger θ1 ), if he expects to have higher future valuations (a
first-order stochastic dominance shift in F (δ 0 )), or if he expects to trade with higher-valuation
counterparts (a first-order stochastic dominance shift in the path of either Φ0,t0 (δ 0 ) or Φ1,t0 (δ 0 )).
To complement these results, note that an increase in the search intensity, λ, can either increase or
decrease reservation values. This is because of the two option values discussed above: an increase
in λ increases an owner’s option value of searching for a buyer who will pay a higher price, which
drives the reservation value up, but it also increases a non-owner’s option value of searching for a
seller who will offer a lower price, which has the opposite effect. As we will see below in Section
5 the net effect is ambiguous and depends on all parameters of the model.
3.1.3

Sequential representation

Differentiating both sides of (9) with respect to time shows that the reservation value function can
be characterized as the unique bounded and absolutely continuous solution to the HJB equation
Z 1
r∆Vt (δ) = δ + ∆V̇t (δ) + γ
(∆Vt (δ 0 ) − ∆Vt (δ)) dF (δ 0 )
(14)
0
Z δ
Z 1
0
0
θ0 (∆Vt (δ 0 ) − ∆Vt (δ)) dΦ1,t (δ 0 ).
θ1 (∆Vt (δ ) − ∆Vt (δ)) dΦ0,t (δ ) + λ
+λ
0

δ

The following proposition shows that the solution to this equation can be represented as the present
value of utility flows from the asset to a hypothetical investor whose utility type process is adjusted
to reflect the frictions present in the market.
Proposition 3 The reservation value function can be represented as
"Z
#
∞
∆Vt (δ) = Et,δ
e−r(s−t) δ̂s ds ,

(15)

t

where the market-valuation process, δ̂t , is a pure jump Markov process on [0, 1] with infinitesimal
generator defined by
Z 1

At [v](δ) ≡
(v(δ 0 ) − v(δ)) γdF (δ 0 ) + 1{δ0 >δ} λθ1 dΦ0,t (δ 0 ) + 1{δ0 ≤δ} λθ0 dΦ1,t (δ 0 )
0

for any uniformly bounded function v : [0, 1] → R.
15

Representations such as (15) are standard in frictionless asset pricing, where private values are
obtained as the present value of cash flows under a probability constructed from marginal rates of
substitution. The emergence of such a representation in a decentralized market is, to the best of
our knowledge, new to this paper and can be viewed as generalizing the concept of the marginal
investor. In the frictionless benchmark, the market valuation is constant and equal to the utility flow
of the marginal investor, δ ? , since investors can trade instantly at price δ ? /r. In a decentralized
market, the market valuation differs from δ ? for two reasons. First, because meetings are not
instantaneous, an owner must enjoy his private utility flow until he finds a trading partner. Second,
investors do not always trade with the marginal type. Instead, the terms of trade are random and
depend on the distribution of types among trading partners. Importantly, this second channel is
only active if there are more than two utility types, because otherwise a single price gets realized
in bilateral meetings.

3.2

The joint distribution of asset holdings and types

In this section, we provide a closed-form characterization of the joint equilibrium distribution
of asset holdings and utility types, in and out of steady state. To the best of our knowledge, this
characterization is new to the literature, even for the special two-type case studied in DGP. We then
establish that this distribution converges to the steady-state from any initial conditions satisfying
(1) and (2). Finally, we discuss several properties of a steady-state distribution and explain how its
shape depends on the arrival rates of preference shocks and trading opportunities.
Since reservation values are increasing in utility type, trade occurs between two investors if and
00

only if one is an owner with utility type δ 0 and the other is a non-owner with utility type δ ≥ δ 0 .
Investors with the same utility type are indifferent between trading or not, but whether they trade
is irrelevant since they effectively exchange ownership type. As a result, the rate of change in the
measure of owners with utility type less than or equal to a given δ ∈ [0, 1] satisfies
Φ̇1,t (δ) = γ (s − Φ1,t (δ)) F (δ) − γΦ1,t (δ) (1 − F (δ)) − λΦ1,t (δ) (1 − s − Φ0,t (δ)) .

(16)

The first term in equation (16) is the inflow due to type-switching: at each instant, a measure
γ (s − Φ1,t (δ)) of owners with utility type greater than δ draw a new utility type, which is less
than or equal to δ with probability F (δ). A similar logic can be used to understand the second
16

term, which is the outflow due to type-switching. The third term is the outflow due to trade. In
particular, a measure (λ/2)Φ1,t (δ) of investors who own the asset and have utility type less than δ
initiate contact with another investor, and with probability 1 − s − Φ0,t (δ) that investor is a nonowner with utility type greater than δ, so that trade ensues. The same measure of trades occur when
non-owners with utility type greater than δ initiate trade with owners with utility type less than δ,
so that the sum equals the third term in (16).11
Using (1), we can rewrite (16) as a first-order ordinary differential equation for the measure of
asset owners with utility type less or equal to δ:
Φ̇1,t (δ) = −λΦ1,t (δ)2 − Φ1,t (δ) (γ + λ(1 − s − F (δ))) + γsF (δ).

(17)

Importantly, this Riccati equation holds for every δ ∈ [0, 1] without imposing any regularity
conditions on the distribution of utility types. Proposition 4 below provides an explicit expression
for the unique solution to this equation and shows that it converges to a unique, globally stable
steady state. To state the result, let
Λ(δ) ≡

p
(1 − s + γ/λ − F (δ))2 + 4s(γ/λ)F (δ),

and denote by
1
1
Φ1 (δ) = F (δ) − Φ0 (δ) ≡ − (1 − s + γ/λ − F (δ)) + Λ(δ).
2
2

(18)

the steady-state distribution of owners with utility type less than or equal to δ, i.e., the unique,
strictly positive solution to Φ̇1,t (δ) = 0.
Proposition 4 At any time t ≥ 0 the measure of asset owners with utility type less than or equal
to δ ∈ [0, 1] is explicitly given by
Φ1,t (δ) = Φ1 (δ) +

(Φ1,0 (δ) − Φ1 (δ)) Λ(δ)
Λ(δ) + (Φ1,0 (δ) − Φ1 (δ) + Λ(δ)) (eλΛ(δ)t − 1)

(19)

and converges pointwise monotonically to the steady-state measure Φ1 (δ) defined in (18) from any
initial condition satisfying (1) and (2).
11

Note that trading generates positive gross inflow into the set of owners with utility type less than δ, but zero net
inflow. Indeed, a gross inflow arises when a non-owner with utility type δ 0 ≤ δ meets an owner with an even lower
type δ 00 < δ 0 . By trading, the previous owner of utility type δ 00 leaves the set, but the new owner of utility type δ 0
enters the same set, resulting in zero net inflow.

17

To illustrate the convergence of the equilibrium distributions to the steady state, we introduce a
simple numerical example, which we will continue to use throughout the text. In this example,
the discount rate is r = 0.05; the asset supply is s = 0.5; the meeting rate is λ = 12, so that
a given investor meets others on average once a month; the arrival rate of preference shocks is
γ = 1, so that investors change type on average once a year; the initial distribution of utility types
among asset owners is given by Φ1,0 (δ) = sF (δ); and the underlying distribution of utility types
is F (δ) = δ α with α = 1.5, so that the marginal type is given by δ ? = 0.6299.
Using this parameterization, the left panel of Figure 1 plots the equilibrium distributions among
owners and non-owners at t = 0, after one month, after six months, and in the limiting steady
state. As time passes, one can see that the assets are gradually allocated toward investors with
higher valuations: the distribution of utility types among owners improves in the sense of firstorder stochastic dominance (FOSD). Similarly, the distribution of utility types among non-owners
deteriorates, in the FOSD sense, indicating that investors with low valuations are less and less
likely to hold the asset over time.
Focusing on the steady-state distributions, (18) offers several natural comparative statics that
we summarize in the following corollary.
Corollary 2 For any δ ∈ [0, 1], the steady-state measure Φ1 (δ) of asset owners with utility type
less than or equal to δ is increasing in γ and decreasing in λ.
Intuitively, as preference shocks become less frequent (i.e., γ decreases) or trading opportunities
become more frequent (i.e., λ increases), the asset is allocated to investors with higher valuations
more efficiently, which implies an FOSD shift in the distribution of types among owners. In the
limit, where types are permanent (γ → 0) or trading opportunities are constantly available (λ →
∞), the steady state distributions converge to their frictionless counterparts, as illustrated by the
right panel of Figure 1, and the allocation is efficient. We return to this frictionless limit in Section
5, when we study the asymptotic price impact of search frictions.

18

F IGURE 1: Equilibrium distributions
A. Convergence
t=0
t = 1 Month
t = 6 Months
t=∞

Ow

ne
0.1

0

ers
no
wn
No

0.2

rs

rs

0.2

0.3

ne

No

0.3

0.4

Ow

no
wn

ers

0.4

1/λ = 1 Year
1/λ = 1 Month
1/λ = 1 Day
1/λ = 0

0.5

Steady state distributions Φq (δ)

0.5

Distributions Φq,t (δ)

B. Impact of the meeting rate

0.1

0

0

δ∗

1

0

Investor type δ

δ∗

1

Investor type δ

Notes. The left panel plots the cumulative distribution of types among non-owners (upper curves) and owners (lower
curves) at different points in time. The right panel plots these distributions in the steady state, for different levels of
search frictions, indexed by the average inter-contact time, 1/λ.

3.3

Equilibrium

Definition 1 An equilibrium is a reservation value function ∆Vt (δ) and a pair of distributions
Φ0,t (δ) and Φ1,t (δ) such that the distributions satisfy (1), (2) and (19), and the reservation value
function satisfies (7) subject to (8) given the distributions.
Given the analysis above, a full characterization of the unique equilibrium is immediate. Note
that uniqueness follows from the fact that we proved reservation values were strictly increasing
directly, given arbitrary time paths for the distributions Φ0,t (δ) and Φ1,t (δ), rather than guessing
and verifying that such an equilibrium exists, as was done previously in the literature.
Theorem 1 There exists a unique equilibrium. Moreover, given any initial conditions satisfying

19

(1) and (2), this equilibrium converges to the steady state given by
Z δ
σ(δ 0 )(γF (δ 0 ) + λθ0 Φ1 (δ 0 ))dδ 0
r∆V (δ) = δ −

(20)

0

Z
+

1

σ(δ 0 )(γ(1 − F (δ 0 )) + λθ1 (1 − s − Φ0 (δ 0 )))dδ 0

δ

with the time-invariant local surplus
σ(δ) =

1
,
r + γ + λθ1 (1 − s − Φ0 (δ)) + λθ0 Φ1 (δ)

and the steady-state cumulative distributions defined by (1) and (18).

4

Implications of the model

Given our characterization of the steady-state equilibrium above, it is possible to derive many
implications of our model analytically. In this section, we will focus on a number of analytical
results that are new to the literature, and argue that they are consistent with empirical regularities
documented in existing studies of OTC markets. We break this discussion into two parts.
First, in Section 4.1, we follow investors: we study how an investor’s asset holdings and the
frequency with which he trades depend on his utility type, and the implications of these individual
trading patterns for aggregate equilibrium outcomes. In particular, we show that investors with
utility types near the marginal type δ ? account for a disproportionate share of total trading volume,
so that a core-periphery trading network emerges endogenously in equilibrium. As we discuss
below, core-periphery trading networks are indeed prevalent in many OTC markets.
Second, in Section 4.2, we follow assets: we study how an asset is reallocated from investors
with low utility types to those with high utility types through a sequence of trades. This sequence
corresponds to what the literature often refers to as an “intermediation chain”. We first summarize
a number of empirical facts about intermediation chains that have been documented using microlevel data from OTC markets—specifically, the relationship between the length of an intermediation chain, the “centrality” of the intermediaries involved in this chain, the speed at which the asset
is passed along at each link, and the “markup” between the original purchase price and the final
sale price. Then, we derive the theoretical counterparts of these objects and show that our model’s
predictions are qualitatively consistent with the data.
20

4.1

Following investors: trading intensity and the trading network

In this section, we first establish that, in our model, investors who have the most to gain from
trading—i.e., those with extreme utility types and the “wrong” asset holdings—tend to find willing
counterparties quickly. An immediate consequence of this seemingly elementary observation is
that misallocation clusters around investors with utility types near the marginal type, δ ? . Since
these investors meet relatively frequently with both non-owners with higher utility types than their
own and owners with lower utility types than their own, they find themselves intermediating a large
fraction of the overall trading volume.
Therefore, even though the network of meetings generated by our model is random at any point
in time, the network of trades is not. In particular, we show that this network has, endogenously,
a core-periphery structure: over any time interval, if one created a connection between every pair
of investors who trade, the network would exhibit what Jackson (2010, p. 67) describes as a “core
of highly connected and interconnected nodes and a periphery of less-connected nodes.” This
type of trading network has been documented in many OTC markets, including the interdealer
market for municipal bonds (Green, Hollifield, and Schürhoff, 2006; Li and Schürhoff, 2012), the
interdealer market for securitization products (Hollifield, Neklyudov, and Spatt, 2014), the federal
funds market (Bech and Atalay, 2010; Afonso and Lagos, 2012), the credit default swap market
(Peltonen, Scheicher, and Vuillemey, 2014), several foreign interbank markets (Craig and von
Peter, 2014; Boss, Elsinger, Summer, and Thurner, 2004; Chang, Lima, Guerra, and Tabak, 2008),
and even interbank flows across Fedwire, the large value transfer system operated by the Federal
Reserve (Soramäki, Bech, Arnold, Glass, and Beyeler, 2007).
Trading intensity. The steady-state arrival rate of profitable trading opportunities for an owner
with utility type δ, or “selling intensity,” is the product of the arrival rate of a meeting and the
probability that the investor meets a non-owner with utility type δ 0 ≥ δ, i.e.,
λ1 (δ) ≡ λ(1 − s − Φ0 (δ)).

(21)

21

Similarly, the steady-state arrival rate of profitable trading opportunities for a non-owner with
utility type δ, or “buying intensity,” is
λ0 (δ) ≡ λΦ1 (δ).

(22)

Since Φ0 (δ) is non-decreasing, the definition above implies that sellers with a higher utility type
trade less often, and thus tend to hold the asset for longer periods. By the same logic, buyers with
higher utility types trade more often, and thus tend to remain asset-less for shorter periods.
The left panel of Figure 2 uses the same parameterization of the economic environment as
Figure 1 to plot the trading intensities λ1 (δ) and λ0 (δ) as functions of an investor’s utility type. In
addition to confirming their monotonicity, the figure reveals that the trading intensities fall sharply
for owners (non-owners) as their utility type approaches the marginal type δ ? from below (above).
Intuitively, for sufficiently large λ, the asset allocation becomes close to the frictionless allocation,
especially at extreme utility types (see Panel B of Figure 1). Hence, owners with utility type δ  δ ?
and non-owners with utility type δ  δ ? have essentially no willing counterparties to trade with,
and thus their trading intensities are very low. The figure also reveals that the selling and buying
intensities cross at the marginal type. Indeed, F (δ ? ) = 1 − s when the underlying distribution of
utility types is continuous, and it follows that
λ1 (δ ? ) = λ (1 − s − Φ0 (δ ? )) = λ (F (δ ? ) − Φ0 (δ ? )) = λΦ1 (δ ? ) = λ0 (δ ? ).
Hence, in equilibrium, buyers and sellers whose utility type are close to the marginal type tend to
trade at the same speed.
The trading patterns described above illustrate that an investor’s utility type endogenously
determines his role in the market: those with extreme utility types emerge as natural “customers,”
trading infrequently and in the same direction, while those with moderate utility types (near δ ? )
emerge as natural “intermediaries,” buying and selling more frequently and with approximately
equal intensities. As we establish next, these trading patterns have important implications for the
tendency of an investor to hold the wrong portfolio, relative to the frictionless benchmark.

22

F IGURE 2: Trading intensities and equilibrium misallocation

0.5

dM
dF (δ)

20

Misallocation density

Trading intensity λq (δ)

25

15

10

5

0

0.4

0.3

0.2

0.1

0
δ∗

0

1

0

δ∗

1

Investor type δ

Investor type δ

Notes. The left panel plots the trading intensities of owners (dashed) and non owners (solid) when meetings happen
on average once every month, while the right panel plots the misallocation density as functions of the investor’s utility
type when meetings happen on average once every month (solid) and once every hour (dashed). The parameters we
use in this figure are otherwise the same as in Figure 1.

Misallocation.

We now study misallocation, defined as the extent to which the equilibrium asset

allocation differs from its frictionless counterpart. To formalize this concept, let
Z δ
Z δ
0
M (δ) =
1{δ0 <δ? } dΦ1 (δ ) +
1{δ0 ≥δ? } dΦ0 (δ 0 ).
0

0

This measure is the sum of two types of misallocation: the measure of investors with utility type
less than δ who would own the asset in a frictionless environment, but do not own it in the presence
of search frictions; and the measure of investors with utility type less than δ who would not own
the asset in a frictionless environment, but own it in the presence of search frictions.
To measure the extent of misallocation at a specific utility type, one can simply calculate the
Radon-Nikodym density


dM
dΦ1
dΦ0
dΦ1
dΦ1
= 1{δ<δ? }
+ 1{δ≥δ? }
= 1{δ<δ? }
+ 1{δ≥δ? } 1 −
dF
dF
dF
dF
dF
23

(23)

of the misallocation measure with respect to the measure induced by the underlying distribution of
utility types; see equation (52) in the Appendix for an explicit expression. The value of the density
dM
(δ)
dF

represents the fraction of investors with utility type δ whose holdings in the environment

with search frictions differs from their holdings in the frictionless benchmark.
Lemma 1 The misallocation density

dM
(δ)
dF

?
achieves a global maximum at either δ−
or δ ? .

The misallocation density has two key properties. First, it is non-monotonic and peaks at the
marginal type, δ ? . This arises because the selling intensity is decreasing in utility type, while the
buying intensity is increasing. Second, as shown in the right panel of Figure 2, misallocation is
highly concentrated near the marginal type. This occurs because there is an equilibrium feedback
loop between the trading intensities and the distributions of utility types among owners and nonowners. For example, the non-monotonicity of the misallocation density means that there are
relatively more non-owners at low utility types than near the marginal type. This implies that
owners with low utility types are able to sell faster than those near the marginal type, which
further reduces misallocation away from the marginal type, and increases misallocation near the
marginal type. These reinforcing effects ultimately imply that misallocation is not only highest in
a neighbourhood of the marginal type but tends to cluster around that point.
We emphasize that these two properties of misallocation arise in a decentralized market because
trading intensities differ across utility types. Indeed, when all investors trade with equal intensity—
as in frictionless models with centralized markets or in frictional models where all trades are
executed by a set of dealers who have access to centralized markets —the measure of misallocation
described above would be constant across utility types.
Trading volume and the trading network.

Next, we show that the concentration of misalloca-

tion translates into a concentration of trading volume near the marginal type. To see this, let us
first define trading volume as the flow rate of trades per unit time:
Z
ϑ=λ
1{δ0 >δ1 } dΦ0 (δ0 )dΦ1 (δ1 ).
[0,1]2

24

(24)

When the underlying distribution of utility types is continuous, we can use integration by parts to
re-write equation (24) as
ϑ = λΦ1 (δ ? )(1 − s − Φ0 (δ ? ))
Z δ?
Z
?
+λ
dM (δ) (Φ0 (δ ) − Φ0 (δ)) + λ

1

dM (δ) (Φ1 (δ) − Φ1 (δ ? )) ,

δ?

0

with the misallocation measure defined in (23). The first term represents the volume generated by
trades between owners with utility types in [0, δ ? ] and non-owners with utility types in [δ ? , 1]; these
would be the only trades taking place in the equilibrium of a model with frictionless exchange.
With search frictions, however, there are additional infra-marginal trades, captured by the second
and third terms. In particular, the second term accounts for trades between owners with utility
types δ < δ ? and non-owners with utility types in [δ, δ ? ], while the third term accounts for trades
between non-owners with utility types δ > δ ? and owners with utility types in [δ ? , δ].
The formula also highlights the role of misallocation in generating extra volume and suggests
that near-marginal investors, who are characterized by greater misallocation, are likely to have a
larger contribution to trading volume. This is confirmed in the next proposition.
Proposition 5 Assume that the distribution of utility types is continuous. Then the steady-state
trading volume is explicitly given by




λ
−1 .
ϑ ≡ γs(1 − s) (1 + γ/λ) log 1 +
γ

(25)

In particular, the steady-state trading volume is strictly increasing in the meeting rate λ, with
limλ→∞ ϑ = ∞ and
Z δ?

Z δ? +ε
λ
Φ1 (δ)dΦ0 (δ) +
(1 − s − Φ0 (δ))dΦ1 (δ) = 1
lim
λ→∞ ϑ
δ ? −ε
δ?
for any constant ε > 0 such that δ ? ± ε ∈ [0, 1].
Proposition 5 establishes two key results. First, when the underlying distribution of utility types
is continuous, the equilibrium trading volume is unbounded as λ → ∞. By contrast, the equilibrium trading volume is finite in the frictionless benchmark (see Lemma A.1 in the Appendix).

25

Therefore, our fully decentralized market can generate arbitrarily large excess volume relative to
the frictionless benchmark, as long as search frictions are sufficiently small.12
Second, trading volume is, for the most part, generated by investors near the marginal type who
assume the role of intermediaries; that is, the trading network has a core-periphery structure. To
illustrate this phenomenon, Figure 3 plots the contribution
κ(δ0 , δ1 ) = 1{δ0 >δ1 }

dΦ1
dΦ0
(δ0 )
(δ1 )
dF
dF

of each owner-non-owner pair to the equilibrium trading volume. From the figure, one can see that
investors with extreme utility types account for a small fraction of total trades and, therefore, lie at
the periphery of the trading network. For example, owners with low utility types may trade quickly,
but there are very few such owners in equilibrium. Hence, these owners contribute little to the
trading volume. Likewise, there are many asset owners with high utility types, but these investors
trade very slowly, so they do not account for many trades in equilibrium. Only in the cluster of
investors with near-marginal utility types do we find a sufficiently large fraction of individuals who
are both holding the “wrong” portfolio and able to meet suitable trading partners at a reasonably
high rate—these are the investors that make up the core of the trading network.

4.2

Following assets: intermediation chains, centrality, and markups

In this section, we study the manner in which assets are reallocated through sequences of successive
trades, or “intermediation chains.” We first summarize a number of stylized facts about these
chains that have been documented in the literature. Then, we use our model to explicitly derive
the theoretical predictions of our model regarding intermediation chains, and show that these
predictions are consistent with these facts.
Stylized Facts. To discuss the empirical regularities about intermediation chains, we focus on
evidence from the inter-dealer market for municipal bonds, as reported by Green, Hollifield, and
Schürhoff (2006) (henceforth GHS) and Li and Schürhoff (2012) (henceforth LS). This data is
particularly appealing for two reasons. First, to date, it is among the best transaction-level data
12

Equation (53) also delivers several additional comparative statics. For example, it shows that trading volume peaks
when the asset supply equates the number of potential buyers and sellers—which is well-known from the monetary
search literature (Kiyotaki and Wright, 1993)—and that it increases when investors change type more frequently.

26

F IGURE 3: Contribution to trading volume

12

1

8

δ∗

6

4

Volume density κ(δ0 , δ1 )

Owner type δ1

10

2
0
δ∗

0

1

Non-owner type δ0
Notes. This figure plots the volume density as a function of the owner’s and non-owner’s type when meetings occur,
on average, once a week. The parameters we use in this figure are otherwise the same as in Figure 1.

from an OTC market. Second, this inter-dealer market is a purely decentralized market, which fits
well with the characteristics of our benchmark model.13
Using data from the Trade Reporting System of the Municipal Securities Rulemaking Board,
GHS and LS observe two types of trades: the trades between dealers and their customers, and the
trades among dealers. They first provide evidence of a core-periphery trading network within the
dealer sector by showing that some dealers are more “central” than others, in the sense that they
have more trading links over a given time period. Second, they devise a trade-matching algorithm
in order to track blocks of bonds as they are traded among dealers. This algorithm allows them to
re-construct the realized intermediation chains. A summary of their findings about dealer centrality
and intermediation chains is as follows.
1. More central dealers take longer to sell their inventory (LS, Sec. 5.2).
13

OTC markets with active broker-dealers, on the other hand, might fit better with the extension of our model in
Appendix D, where we incorporate explicit marketmakers.

27

2. More central dealers have larger inventory volatility (LS, Sec. 5.2).
3. Intermediation chains starting with a more central dealer are shorter (LS, Sec. 3.2).
4. Markups increase with the number of dealers in the chain (LS, Sec. 4.1.).
5. Markups increase with the centrality of the first dealer in the chain (LS, Sec. 4.1).
We demonstrate below that our model is consistent with the first three facts for all parameter values.
However, the model is only consistent with the last two facts under certain parameter restrictions.
This is not necessarily bad news, though, as the relationship between markups, chain length, and
the centrality of the first dealer appear to differ across markets. Hence, as we explain below, our
environment provides a structural framework to understand why these relationships may differ
across decentralized asset markets.
Mapping model to data.

To confront these stylized facts, we need to formalize the concepts

of customers, dealers, intermediation chains, and centrality within the context of our model. It is
natural to define a customer as an investor who, over some fixed interval, tends to trade infrequently
and in the same direction, while dealers are those investors who trade more frequently and engage
in both purchases and sales. This suggests choosing cutoffs 0 < δ < δ ? ≤ δ < 1 such that
investors with utility types in [0, δ] and (δ, 1] are categorized as customers who sell and buy the
asset, respectively, while investors with utility type δ ∈ (δ, δ] are categorized as dealers. For the
purpose of this discussion, we set δ = δ ? , so that the customers who buy the asset are the natural
holders, i.e., those investors who would hold the asset in a frictionless environment.
There is an obvious caveat to this approach: in the model, investors switch back and forth
between assuming the roles of dealer and customer, while in the data this role is more stable. In
our analytical and numerical calculations below, we adjust for this instability as follows: when
we characterize probability distributions over trade-related random variables, we appropriately
condition on the event that the dealers involved in these trades keep stable types (i.e., do not
experience a preference shock between buying and selling an asset).14
14

This conditioning formalizes the view that, in reality, trading occurs at much higher frequency than type
switching. Assuming this view is correct, econometricians of OTC markets are unlikely to observe type switches along
intermediation chains. However, even if this view is incorrect, there is an alternative but equivalent interpretation of

28

Dealer centrality in the model.

Proposition 5 showed that investors near the marginal type

account for a disproportionate amount of trading volume. Hence, an econometrician who measured
centrality using relative trading volume would find that centrality increases as a dealer’s utility
type approaches δ ? . However, in LS and other recent empirical studies of decentralized markets,
centrality is not measured by relative volume, but instead by the number of trading links established
by a dealer over a given time period. This corresponds to the notion of degree centrality in network
theory. We now show that our identification of centrality remains the same if we use degree
centrality instead of proximity to the marginal type.
To see this, consider the number of trading links established by an investor while keeping a
stable utility type, i.e. before he experiences a preference shock. For an investor with utility type δ
and asset holdings q ∈ {0, 1}, the probability of establishing a trading link before experiencing a
preference shock is explicitly given by
πq (δ) ≡

λq (δ)
,
γ + λq (δ)

where λq (δ) is the trading intensity, as defined in (21) and (22). Now assume that this investor
has established k trading links without ever switching utility type. Conditioning on this event, the
investor now has asset holdings q(k) = q if k is even, and q(k) = 1 − q if k is odd, and the
probability that he trades once more before switching utility type is explicitly given by πq(k) (δ).
Hence, letting d ∈ {0} ∪ N denote the number of trading links established by the investor before
switching utility type, one can easily show that
Y
 k−1
P [{d = k}| {δ0 = δ, q0 = q}] = 1 − πq(k) (δ)
πq(n) (δ).

(26)

n=1

In the left panel of Figure 4, we use this result to plot the probability
P [ {d > k}| {δ0 = δ}] =

1
X

P [{d > k}| {δ0 = δ, q0 = q}]

q=0

dΦq
(δ)
dF

the model in which investors have stable types. Namely, one can assume that each investor has a constant utility type
but is active in the market for a random period of time that is exponentially distributed with parameter γ. Upon exiting
the market, an investor is replaced by another whose utility type is randomly drawn from F (δ), and who buys the
asset at his reservation value if the exiting investor was an asset owner. This alternative model produces the same
equilibrium and trading patterns as our original model but has the advantage that the utility type of an investor, and
thus his characterization as a customer or a dealer, remains stable over time.

29

F IGURE 4: Distribution of the number of trading links

100

Tail probability given δ0 ∈ [δ, δ ? ]

Tail probability given δ0

100

10−20

10−40

10−60
δ0 = 0.10
δ0 = 0.25
δ0 = 0.50

10−80

1

10−3

10−6

10−9

Poisson
Model implied

10−12

10

100

1

Trading links k

10

100

1,000

Trading links k

Notes. The left panel plots the probability that a dealer with initial utility type δ0 ∈ {0.1, 0.25, 0.5} forms strictly
more than a given number of trading links before switching utility type. The right panel plots the same probability but
averaged across the dealer space (δ, δ ? ]. To construct this figure we assume that δ = 0.1 and that meetings occur on
average once every hour. The other parameters are otherwise the same as in Figure 1.

that a dealer with utility type δ ∈ (δ, δ ? ] forms strictly more than k ∈ {0} ∪ N trading links before
switching utility type. Consistent with Proposition 5, this figure illustrates that dealers with low
valuations tend to establish fewer trading links than dealers with valuations near δ ? . The following
lemma formalizes this result.
Lemma 2 For any δ < δ 0 < δ ? such that F (δ) < F (δ 0 ), there exists a constant λ̄ > 0 such that
the distribution of the random variable d conditional on {δ0 = δ 0 } dominates the distribution of
the random variable d conditional on {δ0 = δ} in the FOSD sense for all λ ≥ λ̄.
Lemma 2 establishes that a dealer with a high utility type is more likely to form more trading links
than another dealer whose utility type is lower. This confirms that, within our model, the centrality
of a dealer can be adequately measured by his proximity to the marginal type. To conclude, the

30

right panel of Figure 4 plots the tail
?

δ?

Z

P [{d > k}| {δ0 = δ}]

P [{d > k}|{δ0 ∈ [δ, δ ]}] =
δ

dF (δ)
F (δ ? ) − F (δ)

of the degree distribution across the population of dealers and compares it to the tail of a Poisson
distribution with the same mean. As in the data of Li and Schürhoff (2012), the figure highlights
that the distribution of trading links among dealers has a thick Pareto tail.
Reproducing facts 1 and 2: dealer centrality and inventory.

Consider a dealer who owns the

asset and has initial utility type δ ∈ (δ, δ ? ]. Conditional on type stability, the amount of time that
this dealer keeps the asset is exponentially distributed with parameter γ + λ1 (δ). Since λ1 (δ) is a
decreasing function of the dealer’s utility type, it immediately follows that the duration of a dealer’s
inventory is increasing in the FOSD sense with respect to the dealer’s centrality, as measured by
the proximity of his utility type to the marginal utility type.15
Moreover, since their buying and selling intensities are approximately equal, central dealers
also tend to have more volatile inventories. Formally, conditional on keeping a stable utility type,
the asset holdings of a dealer follow a continuous-time Markov chain with state space {0, 1} that
transitions from the state q = 1 to the state q = 0 with intensity λ1 (δ), and back with intensity
λ0 (δ). Hence, the stationary distribution of a dealer’s inventory is binomial, with the probability
of holding q = 1 units of the asset given by
P [ {qt = q}| St ∩ {δ0 = δ}] =

λ0 (δ)
,
λ0 (δ) + λ1 (δ)

where St is the event in which the dealer’s utility type remains constant over [0, t]. It follows that
the stationary variance of a dealer’s inventory—which is what an empiricist would measure by
computing the time-series variance of a dealer’s inventory—is
Var [qt = q| St ∩ {δ0 = δ}] =

λ0 (δ)λ1 (δ)
.
(λ0 (δ) + λ1 (δ))2

15

At first glance this property might seem inconsistent with the fact that more central dealers tend to form more
trading links, but this is not the case. Indeed, conditional on stability, the amount of time that a dealer remains assetless is exponentially distributed with parameter γ + λ0 (δ). Since the buying intensity is an increasing function of the
dealer’s utility type, it follows that, even though they take longer to sell an asset, more central dealers then buy a new
asset more quickly.

31

As shown above, the buying and selling intensities λ0 (δ) and λ1 (δ) are, respectively, increasing
and decreasing with respect to the dealer’s utility type, and equal to each other when δ = δ ? . As
a result, one can easily verify that the stationary variance is an increasing function of the dealer’s
centrality, as measured by the proximity of his utility type to δ ? .
The following lemma summarizes the discussion above and confirms that the equilibrium of
our search model is consistent with facts 1 and 2.
Lemma 3 More central dealers have longer inventory duration and larger inventory volatility.
Reproducing fact 3: intermediation chains and dealer centrality

The analysis of the model-

implied intermediation chains is more complex because it requires following an asset as it is traded
among investors and keeping track of each successive investor’s utility type.
Formally, let us fix a given asset and consider the Markov process for the utility type of the
asset’s owner. This process makes transitions either because the current owner of the asset draws
a new utility type, or because a trade has occurred. Let T (k) denote the random time at which the
k−th transition occurs and denote by δ (k+1) the utility type of the owner immediately after that
transition. Conditional on these two variables, the time until the next transition is
T

(k+1)

(k+1)

where τγ

−T

(k)

= min

n

(k+1)
τγ(k+1) , τ0

o

,

is an exponentially distributed random variable with parameter γ that represents
(k+1)

the arrival of a preference shock, and τ0

is an exponentially distributed random variable with

parameter λ1 (δ (k+1) ) that represents the occurrence of a sale.
As Figure 5 illustrates, an intermediation chain starts when the asset is sold into the dealer
sector by a customer-seller with utility type [0, δ] and ends the first time that the utility type of its
holder belongs to the interval (δ ? , 1] that identifies the set of customer-buyers. The length of the
intermediation chain is then naturally defined as

n = inf k ≥ 1 : δ (k+1) > δ ? .
As noted above, to ensure that transitions occur through trades rather than preference shocks, we

32

F IGURE 5: Intermediation chains

Dealers

δ (0)

δ (1)

δ (2)

δ (3)

δ (4)

δ (5)
Ask: a

Bid: b

Buyers

Sellers

0

δ

δ = δ?

1

Notes. This figure illustrates an intermediation chain of length n = 4 in which the asset is initially sold by a customer
to a dealer at price “Bid” and finally sold by a dealer to a customer at price “Ask”.

will condition all our calculations on the stability event defined by
n n
o
\
(k)
(k)
τγ > τ0 .
S=
k=1

In Appendix A.3, we use Fourier transform techniques to recursively calculate the distribution
of the chain length, conditional on the utility type of the first (or “head”) dealer in the chain.
Though this calculation is quite complex, the distribution itself is surprisingly simple; the next
result provides a closed-form characterization of this distribution, and confirms that our model is
consistent with the negative relationship between the centrality of the first dealer and the length of
the intermediation chain reported by LS.
Proposition 6 If the distribution of utility types is continuous then
? k−1



? Λ(δ, δ )
P {n = k}| δ (1) = δ ∩ S = e−Λ(δ,δ )
(k − 1)!

with the function defined by


γ + λ1 (x)
Λ(x, y) ≡ log
,
γ + λ1 (y)

x ≤ y ≤ δ?.

(27)

In particular, the length of the intermediation chain is decreasing in the FOSD sense with respect
to the utility type of the first dealer.

33

The first part of the proposition shows that, conditional on the utility type of the first dealer being
δ, the random variable n + 1 follows a Poisson distribution with parameter Λ(δ, δ ? ) that reflects
the search frictions present in the market and the distance, in the utility type space, between the
first dealer and the customer sector. Since the selling intensity λ1 (δ) is a decreasing function it
follows from (27) that the Poisson parameter Λ(δ, δ ? ) is decreasing in the utility type of the first
dealer. Clearly, this implies a negative statistical relationship between the chain length, n, and the
centrality of the first dealer, as measured by the proximity of his utility type to δ ? .
Our next result derives the unconditional distribution of the chain length and provides some
natural comparative statics.
Corollary 3 If the distribution of utility types is continuous then
P [{n = k} |S ] =

1
? −1
1 − e−Λ(δ,δ )
Λ(δ, δ ? )k .
k!

In particular, the chain length is increasing in the FOSD sense with respect to the meeting intensity
λ, and decreasing in the FOSD sense with respect to the switching rate γ.
Intuitively, more frequent preference shocks or less frequent trading opportunities coincide with
higher levels of misallocation, which make it more likely that an asset owner with a low utility type
(a customer-seller) meets an investor with a high utility type who does not already own the asset
(a customer-buyer). This diminishes the role of investors with moderate utility types (dealers) in
facilitating trade and, ultimately, shortens the intermediation chain.
Reproducing facts 4 and 5: intermediation chain and markups.

To analyze markups, we start

by defining the bid price


b = θ0 ∆V δ (0) + θ1 ∆V δ (1) ,

(28)

which is the price at which at which the asset is purchased from a customer by the first dealer in
the chain, and the ask price


a = θ0 ∆V δ (n) + θ1 ∆V δ (n+1) ,

(29)

which is the price at which the asset is eventually sold to a customer by the last dealer in the chain.
The markup along a given intermediation chain is defined as m = a/b−1. Following LS, we study
34

the statistical relationship between the markup and two key characteristics of the intermediation
chain: its length, n, and the centrality of the first dealer, δ (1) .
From (28) and (29), we see that the bid and the ask prices are increasing functions of the utility
types of the first and last dealers, δ (1) and δ (n) , and of the utility types of the customers, δ (0) and
δ (n+1) . However, by virtue of random matching, the utility type of the customers are statistically
independent from both the length of the chain and the centrality of the first dealer. Hence it is
the type of the first (last) dealer that drives the statistical relationship between the bid (ask) and a
given chain characteristic. With this in mind, we first calculate the distribution of the first and last
dealers’ utility types, conditional on chain length.
Proposition 7 If the distribution of utility types is continuous then
k


 (1)
Λ(x, δ ? )
.
P δ > x {n = k} ∩ S =
Λ(δ, δ ? )
and
P



δ

(n)

>y



{n = k} ∩ S = 1 −



Λ(δ, y)
Λ(δ, δ ? )

k
.

In particular, the distributions of the utility type of the first and last dealers are, respectively,
decreasing and increasing in the FOSD sense with respect to the length of the chain.
The proposition states that a longer intermediation chain is more likely to start at a dealer with a
lower utility type, and to end at a dealer with a higher utility type. By (28) and (29), this implies
that longer intermediation chains are characterized by lower bids and higher asks.
Next, we condition on the centrality of the first dealer in the chain as measured by his utility
type, δ (1) ∈ [δ, δ ? ]. Since equilibrium reservation values are strictly increasing (by Proposition 1),
it is immediate to see that the bid price increases with the centrality of the first dealer in the chain:
when δ (1) is larger, the first dealer has a larger reservation value, and hence the initial customer
sells the asset into the dealer sector at a higher price. To study the ask price we need to derive the
distribution of the utility type of the last dealer conditional on the utility of the first dealer.
Proposition 8 If the distribution of utility types is continuous then
P



δ (n) ∈ (y, δ ? ]




?
δ (1) = δ ∩ S = 1 − 1{δ≤y} e−Λ(y,δ ) .
35

This distribution has an atom at the utility type of the first dealer (because of the possibility that
n = 1, in which case the first dealer is also the last dealer in the chain), and is increasing in the
FOSD sense with respect to the utility type of the first dealer.
The proposition states that the type of the last dealer tends to be increasing in the type of the
first dealer. Since the ask price is increasing in the type of the last dealer, this implies that the
distribution over ask prices is increasing (in the FOSD sense) in the type of the first dealer.
Propositions 7 and 8 imply that the length of an intermediation chain and the centrality of
the first dealer in the chain have unambiguous effects on the level of the bid and the ask prices.
However, their overall effect on the markup can still be ambiguous. To see this, consider first the
effect of the centrality of the first dealer, as measured by the proximity of his utility type δ (1) to
the marginal type δ ? . By (28) and Proposition 8, an increase in δ (1) tends to increase both the bid
and the ask, so the overall effect on the markup is ambiguous. Consider next the effect of chain
length. We have shown in Proposition 7 that, all else equal, a longer chain is associated with a
lower bid and a larger ask. Indeed, in a longer chain, the utility type of the first dealer tends to be
lower and the utility type of the last dealer tends to be higher. However, we cannot conclude that
it is necessarily associated with a larger markup because the utility types of the first and the last
dealer are themselves statistically related: if the utility type of the first dealer is larger, then that of
the last dealer is also larger, and both move the bid and the ask in the same direction.
To determine the sign of the overall effect, we return to (28) and (29). These equations reveal
that, in our model, the sign of the effect is in part determined by the parameters θ0 and θ1 = 1 − θ0
that govern the bargaining power of buyers and sellers. Indeed, these two parameters determine
the sensitivity of the bid and the ask to the utility type of the first and last dealers in the chain. For
example, when buyers have most of the bargaining power, in that θ0 ' 1, the markup
m = a/b − 1 '

∆V (δ (n) )
−1
∆V (δ (0) )

mostly depends on the utility types δ (0) and δ (n) . Since the former is independent of the chain
characteristics, and the latter is increasing with the respect to the chain length and the centrality of
the first dealer (by Propositions 7 and 8), we expect that in this case markups should be increasing
with respect to both characteristics of the chain, as documented by LS. On the other hand, when
36

sellers have most of the bargaining power, in that θ1 ' 1, the markup
m'

∆V (δ (n+1) )
−1
∆V (δ (1) )

mostly depends on the utility types δ (n+1) and δ (1) . Since the former is independent of the chain
characteristics and the latter is decreasing with the respect to the chain length and increasing with
respect to the centrality of the first dealer (by Propositions 7 and 8), we expect that in this case
markups are increasing with respect to the length of the chain and decreasing with respect to the
centrality of the first dealer. This intuition is the basis for the following result.
Proposition 9 If the distribution of utility types is continuous then for any δ < δ 0 and k < k 0 there
are thresholds 0 < θ0 ≤ θ0 < 1 such that:
 

 

E m δ (1) = δ 0 ∩ S ≤ E m δ (1) = δ ∩ S for all θ0 ∈ (0, θ0 ),
 

 

E m δ (1) = δ 0 ∩ S ≥ E m δ (1) = δ ∩ S for all θ0 ∈ (θ0 , 1),

(30a)
(30b)

and
E [m |{n = k 0 } ∩ S ] ≥ E [m |{n = k} ∩ S ]

(31)

for all θ0 ∈ (0, θ0 ) ∪ (θ0 , 1).
Proposition 9 reveals that our model is only consistent with the relationships between markup,
chain length, and centrality of the first dealer that LS find in the municipal bond market for some
parameter values, e.g., when θ0 is sufficiently large. However, this ambiguity is potentially helpful,
as these relationships appear to differ across markets. For example, while Bech and Atalay (2010)
also find a positive relationship between centrality of the first dealer and markup in their study
of the federal funds market, Hollifield, Neklyudov, and Spatt (2014) and Di Maggio, Kermani,
and Song (2015) document the existence of a centrality discount in their empirical analysis of the
markets for asset-backed securities, mortgage-backed securities, collateralized debt obligations,
and corporate bonds. Hence, our model provides a structural framework to explore why these
relationships are positive in some markets and negative in others.

37

5

Fast trading and convergence to the frictionless limit

In this section, we study equilibrium allocations and prices as λ → ∞. This is an important
exercise for two reasons. First, this is the empirically relevant case in many financial markets,
where trading speeds are becoming faster and faster. Second, as we establish below, this exercise
highlights the effect of heterogeneity in utility types on equilibrium asset prices. In particular, we
show that heterogeneity magnifies the price impact of search frictions, and that this impact is more
pronounced on price levels than on price dispersion. Hence, using observed price dispersion to
quantify the effect of search frictions because price dispersion can essentially vanish while price
levels are still far from their frictionless counterpart.

5.1

The frictionless limit

As a first step, we establish two intuitive, but important, results about the economy as λ → ∞:
first, that the allocation converges to its frictionless counterpart; and second, that the reservation
values of all investors converge to the frictionless equilibrium price, δ ? /r.
Proposition 10 As search frictions vanish, limλ→∞ Φ0 (δ) = Φ?0 (δ), limλ→∞ Φ1 (δ) = Φ?1 (δ), and
limλ→∞ ∆V (δ) = δ ? /r = p? for every δ ∈ [0, 1].
To understand why reservation values converge to the frictionless equilibrium price, consider
the market-valuation process of Proposition 3. Since the equilibrium asset allocation becomes
approximately efficient as λ → ∞, it becomes very easy for an investor with utility type δ < δ ?
(δ > δ ? ) to sell (buy) an asset, but a lot more difficult to buy (sell) one. In particular, we show in
Appendix A.4 that the trading intensities satisfy
(
(
< ∞ if δ < δ ?
= ∞ if δ < δ ?
lim λ0 (δ)
and
lim
λ
(δ)
.
1
λ→∞
λ→∞
= ∞ if δ > δ ?
< ∞ if δ > δ ?
Thus, it follows from Proposition 3 that, starting from below (above) the marginal type, the
market-valuation process moves up (down) very quickly as the meeting frequency increases. Taken
together, these observations imply that the market-valuation process converges to δ ? as λ → ∞,
and it now follows from the sequential representation (15) that all reservation values converge to
the frictionless equilibrium price.
38

5.2

Price levels near the frictionless limit

To analyze the behavior of reservation values and prices near the frictionless limit, we study the
behavior of the market-valuation process near the marginal type, which yields the following result.
Proposition 11 Assume that the distribution of utility types is twice continuously differentiable
with a derivative that is bounded away from zero. Then,
π/r
∆V (δ) = p + 0 ?
F (δ )
?



1
− θ0
2



γs(1 − s)
θ0 θ1

 12

1
√ +o
λ



1
√
λ


,

(32)

for all utility types δ ∈ [0, 1].
The first term in the expansion follows directly from Proposition 10, since all reservation values
converge to the frictionless price p? = δ ? /r. The main result of the proposition is the second term
in the expansion, which determines the deviation of reservation values from the frictionless price.
To calculate this term, we center the market-valuation process defined in Proposition 3 around its
√
frictionless limit and scale it by its convergence rate, which turns out to be λ. This delivers an
√
auxiliary process x̂t = λ(δ̂t − δ ? ) whose limit distribution can be characterized explicitly, and
the second term of the expansion is then obtained by calculating the limit of

Z ∞
√
−rt
?
e x̂t dt .
λ (∆V (δ) − p ) = E√λ(δ−δ? )
0

We see from the proposition that the deviation from the frictionless price depends on three key
features of our decentralized market model.
The first key feature is the average time it takes near-marginal investors to find counterparties,
√
as measured by 1/ λ. The second key feature is the relative bargaining powers of buyers and
sellers, which determine whether the asset is traded at a discount or at a premium: if θ0 > 1/2, the
asset is traded at a discount relative to the frictionless equilibrium price in all bilateral meetings, and
vice versa if θ0 < 1/2. When buyers and sellers have equal bargaining powers, the correction term
vanishes and all reservation values are well approximated by the frictionless price, irrespective of
the other features of the market. The third feature of the market that matters for reservation values
is the heterogeneity among investors in a neighborhood of the marginal type, as measured by the
derivative F 0 (δ ? ) of the distribution at the marginal type. If the derivative is small, then valuations
39

are dispersed around the marginal type, gains from trade are large, and bilateral bargaining induces
significant deviations from the frictionless equilibrium price. On the contrary, if the derivative is
large, then valuations are highly concentrated around the marginal type, gains from trade are small,
and prices remain closer to their frictionless limit. Interestingly, a direct calculation shows that the
derivative is proportional to the elasticity of the Walrasian demand at the frictionless price,
ε(p? ) =

d(1 − F (rp))
p?
?
F (rp ) − 1
dp

= δ ? F 0 (δ ? )/s,
p=p?

keeping in mind that 1 − F (δ ? ) = s. Hence, holding the marginal investor and the supply the
same, if the Walrasian demand is less elastic, price effects in the decentralized market will be
larger. It is intuitive that a less elastic demand magnifies the bilateral monopoly effects at play in
our search-and-matching market.
To further emphasize the role of heterogeneity, consider what happens when the continuous
distribution of utility types approximates a discrete distribution. In such a case, the cumulative
distribution function will approach a step function that is vertical at the marginal type, where
demand is perfectly elastic. As a result, the derivative F 0 (δ ? ) will approach infinity, and it follows
from (32) that the corresponding deviation from the frictionless equilibrium price will be very
small. This informal argument can be made precise by working out the asymptotic expansion of
reservation values with a discrete distribution of utility types.
Proposition 12 When the distribution of utility types is discrete, the convergence rate of reservation values to the frictionless equilibrium price is generically equal to 1/λ.
To understand the different convergence rates in Propositions 11 and 12, consider a sequence
of discrete distributions converging weakly to some continuous distribution. A simple argument
shows that the corresponding allocations and prices converge to their continuous counterparts, but
the asymptotic expansions of reservation values do not. Specifically, the proof of Proposition 12
reveals that, in the expansion with a discrete distribution, the coefficient multiplying 1/λ diverges
as the discrete distribution approaches its continuous limit. This means that convergence is slower
and slower. Proposition 11 makes this observation mathematically precise by showing that, in the
√
continuous limit, the convergence rate switches from 1/λ to 1/ λ.

40

F IGURE 6: Continuous vs. discrete distribution
B. Price dispersion

A. Price deviation
Discrete
Continuous

Discrete
Continuous

3

∆V (δ) − ∆V (δ) (%)

p? − ∆V (δ ? ) (%)

60

40

20

0

2

1

0
500

2500

500

10000

2500

10000

Meeting rate λ (log)

Meeting rate λ (log)

Notes. This figures plots the price deviation relative to the frictionless equilibrium (left panel) and the price dispersion
(right panel) as functions of the meeting rate for the base case model of Figure 1 with bargaining power θ0 = 0.75,
and a model with a two point distribution of types constructed to have the same mean and to induce the same marginal
investor as the continuous distribution of the base case model.

To see that the difference in convergence rates is economically significant, let us compare the
price deviation p? − ∆V (δ ? ) implied by the continuous distribution of our baseline example with
that implied by a two-point distribution, constructed to keep the marginal and average investors the
same. The left panel of Figure 6 shows that, when investors meet counterparties twice a day on
average (i.e., λ = 500), the deviation is 60 percent for the continuous distribution, and only about
2 percent for the corresponding discrete distribution. When meetings occur 20 times per day on
average (i.e., λ = 100 000), the deviation is 15 percent for the continuous distribution, but it is now
indistinguishable from zero for the discrete distribution. Why is there such a quantitatively large
difference in price impact? According to our analysis, the difference is driven by a fundamental
economic difference between the two classes of distributions: the elasticity of asset demand is
infinite with a discrete distribution, and finite with a continuous one.
41

5.3

Price dispersion near the frictionless limit

An important implication of Proposition 11 is that, to a first-order approximation, there is no price
dispersion. This can be seen by noting that the correction term in (32) does not depend on the
investor’s utility type. Hence, in order to obtain results about the impact of frictions on price
dispersion, it is necessary to work out higher order terms. This is the content of our next result.
Proposition 13 Assume that the distribution of utility types is twice continuously differentiable
with a derivative that is bounded away from zero. Then
 
log(λ)
1
1
+O
,
∆V (1) − ∆V (0) =
0
?
2θ0 θ1 F (δ ) λ
λ
By contrast, with a discrete distribution of utility types, the convergence rate of the price dispersion
is generically equal to 1/λ.
Comparing the results of Propositions 11 and 13 shows that, with a continuous distribution of
utility types, the price dispersion induced by search frictions vanishes at a rate log(λ)/λ, which is
√
much faster than the rate 1/ λ at which reservation values converge to the frictionless equilibrium
price. This finding has important implications for empirical analysis of decentralized markets, as it
implies that inferring the impact of search frictions based on the observable level of price dispersion
can be misleading. In particular, search frictions can have a very small impact on price dispersion
and, yet, have a large impact on the equilibrium price level.
This finding is illustrated in Figure 6. Comparing the left and right panels, one sees clearly
that the price dispersion induced by search frictions converges to zero much faster than the price
deviation. For instance, when investors meet counterparties twice a day on average, the price
discount implied by our baseline model is about 60 percent, but the corresponding price dispersion
is about 20 times smaller. One can also see from the figure that, in accordance with the result of
Proposition 13, price dispersion is larger with a continuous distribution of utility types than with a
discrete distribution.16
16

In Appendix B, we study the asymptotic welfare cost of misallocation. In line with our results about prices, we
show that misallocation has a larger welfare cost when the distribution is continuous than when it is discrete. We also
show that the welfare cost of frictions may be accurately measured by the observed amount of price dispersion because
these two equilibrium outcomes share the same convergence rate as frictions vanish.

42

6

Conclusion

In this paper, we develop a search and bargaining model of asset markets that allows investors’
utility types to be drawn from an arbitrary distribution. We show that this generalization entails no
loss of tractability and has substantial benefits. In particular, the model is able to account for many
of the key empirical facts recently reported in studies of OTC markets, which suggests that it could
provide a unified structural framework to study a number of important issues such as the effect of
trading speed on prices, allocations, and trading volume; the effect of regulation that forces assets
trading in an OTC market to trade on a centralized exchange instead; and the propagation of large
shocks in a decentralized market. Moreover, the model generates a number of new results, which
underscore the importance of heterogeneity in decentralized markets.

43

References
Milton Abramowitz and Irene A. Stegun. Handbook of Mathematical Functions. Dover, New York, 1964.
Gara Afonso. Liquidity and congestion. Journal of Financial Intermediation, 20(3):324–360, 2011.
Gara Afonso and Ricardo Lagos. An empirical study of trade dynamics in the fed funds market. Technical
report, Staff Report, Federal Reserve Bank of New York, 2012.
Gara Afonso and Ricardo Lagos. Trade dynamics in the market for federal funds. Econometrica, 83:263–
313, 2015.
Fernando Alvarez and Gadi Barlevy. Mandatory disclosure and financial contagion. Technical report,
Working Paper, Federal Reserve Bank of Chicago, 2014.
Adam Ashcraft and Darrell Duffie. Systemic illiquidity in the federal funds market. American Economic
Review, Papers and Proceeding, 97:221–225, 2007.
Andrew Atkeson, Andrea Eisfeldt, and Pierre-Olivier Weill. Entry and exit in otc derivatives markets.
Econometrica, 83(6):2231–2292, 2015.
Ana Babus and Peter Kondor. Trading and information diffusion in otc markets. Working Paper FRB
Chicago and CEU, 2012.
Morten Bech and Enghin Atalay. The topology of the federal funds market. Physica A, 389:5223–5246,
2010.
Michael Boss, Helmut Elsinger, Martin Summer, and Stefan Thurner. Network topology of the interbank
market. Quantitative Finance, 4(6):677–684, 2004.
Kenneth Burdett and Dale T Mortensen. Wage differentials, employer size, and unemployment. International
Economic Review, 39(2):257–73, 1998.
Eui Jung Chang, Eduardo José Araujo Lima, Solange Guerra, and Benjamin Tabak. Measures of interbank
market structure: An application to brazil. Brazilian Review of Econometrics, 28(2):163–190, 2008.
Jean-Edouard Colliard and Gabrielle Demange. Cash providers: Asset dissemination over intermediation
chains. Working Paper, HEC and PSE, 2014.
Ben Craig and Goetz von Peter. Interbank tiering and money center banks. Journal of Financial
Intermediation, 23(3):322–347, 2014.
Julienen Cujean and Rémy Praz. Asymmetric information and inventory concerns in over-the-counter
markets. Working Paper, University of Maryland, 2013.
Marco Di Maggio, Amir Kermani, and Zhaogang Song. The value of trading relationships in turbulent
times. Technical report, Columbia University, 2015.
Darrell Duffie, Nicolae Gârleanu, and Lasse H. Pedersen. Over-the-Counter Markets. Econometrica, 73(6):
1815–1847, 2005.
Darrell Duffie, Nicolae Gârleanu, and Lasse H. Pedersen. Valuation in over-the-counter markets. Review of
Financial Studies, 20(6):1865, 2007.
Peter Feldhütter. The same bond at different prices: Identifying search frictions and selling pressures.
Review of Financial Studies, 25(4):1155–1206, 2012.
Nicolae Gârleanu. Portfolio choice and pricing in illiquid markets. Journal of Economic Theory, 144(2):
532–564, 2009.
Alessandro Gavazza. Leasing and secondary markets: Theory and evidence from commercial aircraft.
Journal of Political Economy, 119(2):325–377, 2011.
Alessandro Gavazza. An empirical equilibrium model of a decentralized asset market. Working Paper,
2013.
Thomas Gehrig. Intermediation in search markets. Journal of Economics & Management Strategy, 2(1):

44

97–120, 1993.
Athanasios Geromichalos, Juan Manuel Licari, and José Suárez-Lledó. Monetary policy and asset prices.
Review of Economic Dynamics, 10(4):761–779, 2007.
Vincent Glode and Christian Opp. Adverse selection and intermediation chains. 2014. Working Paper,
Wharton School, University of Pennsylvania.
Michael Gofman. A network-based analysis of over-the-counter markets. Working Paper, University of
Wisconsin-Madison, 2010.
Richard Green, Burton Hollifield, and Norman Schürhoff. Financial intermediation and the costs of trading
in an opaque market. Review of Financial Studies, 20:275–314, 2006.
George Hall and John Rust. Middlemen versus market makers: A theory of competitive exchange. Journal
of Political Economy, 111(2):353–403, 2003.
Burton Hollifield, Artem Neklyudov, and Chester Spatt. Bid-ask spreads, trading networks and the pricing
of securitizations: 144a vs. registered securitization. Working paper, CMU and HEC Lausanne, 2014.
Julien Hugonnier. Speculative behavior in decentralized markets. Working Paper, Swiss Finance Institute,
2012.
Matthew O. Jackson. Social and Economic Networks. Princeton University Press, 2010.
Nobuhiro Kiyotaki and Randall Wright. A search-theoretic approach to monetary economics. American
Economic Review, 83(1):63–77, 1993.
Ricardo Lagos. Asset prices and liquidity in an exchange economy. Journal of Monetary Economics, 57(8):
913–930, 2010.
Ricardo Lagos and Guillaume Rocheteau. Liquidity in asset markets with search frictions. Econometrica,
77:403–426, 2009.
Ricardo Lagos and Randall Wright. A unified framework for monetary theory and policy analysis. Journal
of political Economy, 113(3):463–484, 2005.
Ricardo Lagos, Guillaume Rocheteau, and Pierre-Olivier Weill. Crises and liquidity in over-the-counter
markets. Journal of Economic Theory, 146(6):2169–2205, 2011.
Benjamin Lester and Pierre-Olivier Weill. Over-the-counter markets with continuous valuations. Working
Paper, UCLA, 2013.
Benjamin Lester, Andrew Postlewaite, and Randall Wright. Information, liquidity, asset prices, and
monetary policy. The Review of Economic Studies, 79(3):1209–1238, 2012.
Benjamin Lester, Guillaume Rocheteau, and Pierre-olivier Weill. Competing for order flow in otc markets.
Journal of Money, Credit and Banking, 47(S2):77–126, 2015.
Dan Li and Norman Schürhoff. Dealer networks. Working Paper HEC Lausanne, 2012.
Yiting Li, Guillaume Rocheteau, and Pierre-Olivier Weill. Liquidity and the threat of fraudulent assets.
Journal of Political Economy, 120(5):815–846, 2012.
Semyon Malamud and Marzena Rostek. Decentralized exchange. Working Paper, École Polytechnique
Fédérale de Lausanne and University of Wisconsin, 2012.
Artem Neklyudov. Bid-ask spreads and the over-the-counter interdealer markets: Core and peripheral
dealers. Working Paper HEC Lausanne, 2012.
Ezra Oberfield. Business networks, production chains, and productivity: A theory of input-output architecture. Working Paper, Princeton Universit, 2013.
Emiliano Pagnotta and Thomas Philippon. Competing on speed. Working Paper, NYU Stern School of
Business, 2011.
Tuomas A. Peltonen, Martin Scheicher, and Guillaume Vuillemey. The network structure of the cds markets
and its determinants. Journal of Financial Stability, 13(118-133), 2014.

45

Fabien Postel-Vinay and Jean-Marc Robin. Equilibrium wage dispersion with worker and employer
heterogeneity. Econometrica, 70(6):2295–2350, 2002.
Rémy Praz. Equilibrium asset pricing with both liquid and illiquid markets. Working Paper, Swiss Finance
Institute at EPFL, 2013.
William Reid. Riccati Differential Equations. Mathematics in Science and Engineering. Academic Press,
1972.
Jacob Sagi. Asset-level risk and return in real estate investments. Working paper, UNC Kenan-Flagler
Business School, 2015.
Ji Shen, Bin Wei, and Hongjun Yan. Financial intermediation chains in an otc market. 2015.
Kimmo Soramäki, Morten Bech, Jeffrey Arnold, Robert Glass, and Walter Beyeler. The topology of
interbank payment flows. Physica A: Statistical Mechanics and its Applications, 379(1):317–333, 2007.
Daniel Spulber. Market making by price-setting firms. The Review of Economic Studies, 63(4):559–580,
1996.
Jiri Sremr. Absolutely continuous functions of two variables in the sense of carathéodory. Electronic Journal
of Differential Equations, (154):1–11, 2010.
Alberto Trejos and Randall Wright. Search-based models of money and finance: An integrated approach.
Journal of Economic Theory, Forthcoming, 2014.
Semih Üslü. Pricing and liquidity in decentralized asset markets. Technical report, UCLA, 2015.
Dimitri Vayanos and Tan Wang. Search and endogenous concentration of liquidity in asset markets. Journal
of Economic Theory, 136(1):66–104, 2007.
Dimitri Vayanos and Pierre-Olivier Weill. A Search-Based Theory of the On-the-Run Phenomenon. Journal
of Finance, 63(3):1361–1398, 2008.
Pierre-Olivier Weill. Leaning against the wind. The Review of Economic Studies, 74(4):1329–1354, 2007.
Pierre-Olivier Weill. Liquidity premia in dynamic bargaining markets. Journal of Economic Theory, 140
(1):66–96, 2008.

46

Online Appendix to:

Heterogeneity in Decentralized Asset Markets
J. Hugonnier

B. Lester

A Proofs
A.1 Volume in the frictionless benchmark
A.2 Proofs omitted in Section 3 . . . . . .
A.3 Proofs omitted in Section 4 . . . . . .
A.4 Proofs omitted in Section 5 . . . . . .
A.5 Additional results . . . . . . . . . . .

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

P.-O. Weill

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

.
.
.
.
.

47
47
48
56
66
73

B The welfare cost of frictions

76

C Non-stationary initial conditions

78

D Marketmakers
D.1 Pricing in the interdealer market
D.2 Equilibrium value functions . . .
D.3 Equilibrium distribution of types
D.4 Equilibrium . . . . . . . . . . .

A
A.1

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

.
.
.
.

79
80
81
81
82

Proofs
Volume in the frictionless benchmark

In this section, we briefly study the volume of trade ϑ? that occurs at each instant in the frictionless
benchmark equilibrium of Section 2.2. Note that this variable is not uniquely defined. For instance, one
can always assume that some investors engage in instantaneous round-trip trades, even if they do not have
strict incentives to do so. This leads us to focus on the minimum trading volume necessary to accommodate
all investors who have strict incentives to trade.
Lemma A.1 In the frictionless equilibrium, the minimum volume necessary to accommodate all investors
? ), (1 − s)(1 − F (δ ? ))}.
who have strict incentives to trade is given by ϑ? ≡ γ max{sF (δ−
? ). In
Proof. Consider first the case when there is a point mass at the marginal type, so that F (δ ? ) > F (δ−
equilibrium, the flow of non-owners who strictly prefer to buy is equal to the set of investors with zero asset
holdings who draw a preference shock δ 0 > δ ? . Similarly, the flow investors who own the asset and strictly
prefer to sell are those who draw a preference shock δ 0 < δ ? . To implement the equilibrium allocation the
volume has to be at least as large as the maximum of these two flows, and the result follows.
In the continuous case, or more generally when the distribution is continuous at the marginal type, we
have 1 − F (δ ? ) = s, so that the the minimum volume reduces to ϑ? = γs(1 − s).


47

A.2

Proofs omitted in Section 3

We start by showing that imposing the transversality condition (8) on the reservation value function is
equivalent to seemingly stronger requirement of uniform boundedness, and that any such solution to the
reservation value equation must be strictly increasing in utility types.
Lemma A.2 Any solution to (7) that satisfies (8) is uniformly bounded and strictly increasing in δ ∈ [0, 1].
Proof. To facilitate the presentation we define the operator
Z 1

ft (δ 0 ) − ft (δ) γdF (δ 0 ) + λθ1 1{ft (δ0 )≥ft (δ)} dΦ0,t (δ 0 )
Ot [f ](δ) =
0

+ λθ0 1{ft (δ0 )≤ft (δ)} dΦ1,t (δ 0 ) .
Integrating with respect to the conditional distribution of the stopping time τ shows that a solution to the
reservation value equation (7) is a fixed point of the operator
Z ∞
Tt [f ](δ) =
e−(r+γ+λ)(u−t) (δ + (γ + λ)fu (δ) + Ou [f ](δ))du.
(33)
t

Assume that ∆Vt (δ) = Tt [∆V ](δ) is a fixed point that satisfies (8). Since the right-hand side of (33)
is absolutely continuous in time, we have that ∆Vt (δ) inherits this property, and it thus follows from
Lebesgue’s differentiation theorem that
˙ t (δ) = r∆Vt (δ) − δ − Ot [∆V ](δ)
∆V
for every δ ∈ [0, 1] and almost every t ≥ 0. Using this equation together with an integration by parts then
shows that the given solution satisfies
∆Vt (δ) = e

−r(H−t)

Z
∆VH (δ) +

H

e−r(u−t) (δ + Ou [∆V ](δ))du

(34)

t

Z

H

= lim

H→∞ t

e−r(u−t) (δ + Ou [∆V ](δ))du

(35)

for all (δ, t) ∈ S ≡ R+ × [0, 1] and any constant horizon t ≤ H < ∞ where the second equality follows
from the transversality condition. Now assume towards a contradiction that the given solution fails to be
nondecreasing in space so that ∆Vt (δ) > ∆Vt (δ 0 ) for some (t, δ) ∈ S and 1 ≥ δ 0 > δ. Because the
right-hand side of (33) is absolutely continuous in time, this assumption implies that

H ? ≡ inf u ≥ t : ∆Vu (δ) ≤ ∆Vu (δ 0 ) > t.
By definition we have that
∆Vu (δ) ≥ ∆Vu (δ 0 ),

t ≤ u ≤ H?

(36)

and, because the continuous functions x 7→ (y − x)+ and x 7→ −(x − y)+ are both non-increasing for every
fixed y ∈ R, it follows that
Ou [∆V ](δ) ≤ Ou [∆V ](δ 0 ),

t ≤ u ≤ H ?.

48

(37)

To proceed further, we distinguish two cases depending on whether the constant H ? is finite or not. Assume
first that it is finite. In this case it follows from (34) that we have
Z H?
?
e−r(u−t) (δ + Ou [∆V ](δ))du + e−r(H −t) ∆VH ? (δ),
∆Vt (δ) =
t

and combining this identity with (37) then gives
Z

H?

∆Vt (δ) ≤

e−r(u−t) (δ + Ou [∆V ](δ 0 ))du + e−r(H

? −t)

e−r(u−t) (δ + Ou [∆V ](δ 0 ))du + e−r(H

? −t)

∆VH ? (δ)

t

Z

H?

=

∆VH ? (δ 0 ) < ∆Vt (δ 0 ),

(38)

t

where the equality follows by continuity, and the second inequality follows from the fact that δ < δ 0 . Now
assume that H ? = ∞ so that (36) and (37) hold for all u ≥ t. In this case, (35) implies that
Z
∆Vt (δ) ≤ lim

H→∞ t

H

e−r(u−t) (δ + Ou [∆V ](δ 0 ))du < ∆Vt (δ 0 ).

Combining this inequality with (38) delivers the required contradiction and establishes that ∆Vt (δ) is nondecreasing. To see that it is strictly increasing, rewrite (33) as
Z ∞
Tt [f ](δ) =
e−ρ(u−t) (δ + Mu [f ](δ)) du.
(39)
t

with the operator
Z
Mu [f ](δ) = ληfu (δ) + γ

1

0

Z

0

1

fu (δ )dF (δ ) + λθ0
0


min fu (δ 0 ), fu (δ) dΦ1,u (δ 0 )

0

Z
+ λθ1

1


max fu (δ 0 ), fu (δ) dΦ0,u (δ 0 ),

0

and the constants ρ ≡ r + γ + λ and η ≡ 1 − sθ0 − (1 − s)θ1 . Because Mu [f ](δ) is increasing in fu (δ)
and the given solution is non-decreasing in space, we have that
Z ∞

δ0 − δ
0
∆Vt (δ ) − ∆Vt (δ) =
e−ρ(u−t) δ 0 − δ + Mu [∆V ](δ 0 ) − Mu [∆V ](δ) du ≥
ρ
t
for any 0 ≤ δ ≤ δ 0 ≤ 1, and the required strict monotonicity follows. To conclude the proof, it remains to
establish boundedness. Because the given solution is increasing, we have
sup Ot [∆V ](1) ≤ 0 ≤ inf Ot [∆V ](0)
t≥0

t≥0

and it now follows from (35) that 0 ≤ ∆Vt (0) ≤ ∆Vt (δ) ≤ ∆Vt (1) ≤ 1/r for all (t, δ) ∈ S.



Proof of Proposition 1. By Lemma A.2, we have that the existence, uniqueness, and strict (positive) monotonicity of a solution to (7) such that (8) holds is equivalent to the existence and uniqueness of a fixed point
of the operator T in the space X of uniformly bounded, measurable functions from S to R equipped with

49

the sup norm. As is easily seen from (39) we have that T maps X into itself. On the other hand, using the
definition of η together with the fact that the functions x 7→ min{a; x} and x 7→ max{a; x} are Lipschitz
continuous with constant one for any a ∈ R we obtain that
sup |Mt [f ](δ) − Mt [g](δ)| ≤ (γ + λ) sup |ft (δ) − gt (δ)|
(t,δ)∈S

(t,δ)∈S

Combining this bound with (39) then shows that


γ+λ
sup |Tt [f ](δ) − Tt [g](δ)| ≤
sup |ft (δ) − gt (δ)|
r + γ + λ (t,δ)∈S
(t,δ)∈S
and the existence of a unique fixed point in the space X now follows from the contraction mapping theorem
because r > 0 by assumption. To establish the second part, let Xk denote the subset of functions f ∈ X that
are nonnegative and non-decreasing in space with
0 ≤ ft (δ 0 ) − ft (δ) ≤

δ0 − δ
≡ k(δ 0 − δ)
r+γ

(40)

for all 0 ≤ δ ≤ δ 0 ≤ 1 and t ≥ 0. Let further Xk? denote the set of functions f ∈ Xk that are strictly
increasing in space and absolutely continuous with respect to time and space and observe that, because the
set Xk is closed in X , it suffices to prove that T maps Xk into Xk? . Fix an arbitrary f ∈ Xk . Since this
function is nonnegative, it follows from (39) that Tt [f ](δ) is nonnegative. On the other hand, using the
inequalities in (40) in conjunction with the definition of the constant η, the increase of ft (δ) and the fact
that the functions x 7→ min{a; x} and x 7→ max{a; x} are non-decreasing and Lipschitz continuous with
constant one, we deduce that
0 ≤ Mt [f ](δ 00 ) − Mt [f ](δ) ≤ λk(δ 00 − δ)
for all 0 ≤ δ ≤ δ 00 ≤ 1 and t ≥ 0. Combining these inequalities with (39) and the definition of k then shows
that we have
δ 00 − δ
(1 + λk)(δ 00 − δ)
≤ Tt [f ](δ 00 ) − Tt [f ](δ) ≤
= k(δ 00 − δ)
r+γ+λ
r+γ+λ
for all 0 ≤ δ ≤ δ 00 ≤ 1 and t ≥ 0. Taken together, these bounds imply that the function Tt [f ](δ) is strictly
increasing in space and belongs to Xk , so it now only remains to establish absolute continuity. By definition
of the set Xk we have that
Z δ
0
ft (δ) = ft (δ ) +
φt (x)dx
δ0

for all t ≥ 0, almost every δ, δ 0 ∈ [0, 1]2 , and some 0 ≤ φt (x) ≤ k. Substituting this identity into (33) and

50

changing the order of integration shows that

Z δ
Z ∞
φu (δ 0 )(γF (δ 0 ) + λθ0 Φ1,u (δ 0 ))dδ 0
(41)
e−(r+γ+λ)(u−t) δ + (λ + γ)fu (δ) −
Tt [f ](δ) =
0
t

Z 1
0
0
0
0
φu (δ )(γ(1 − F (δ )) + λθ1 (1 − s − Φ0,u (δ )))dδ du
+
δ

and the required absolute continuity now follows from Sremr (2010, Theorem 3.1).



Lemma A.3 Given the reservation value function there exists a unique pair of functions V1,t (δ) and V0,t (δ)
that satisfy (3) and (6) subject to (8).
Proof. Assume that V1,t (δ) and V0,t (δ) satisfy (3) and (6) subject to (8). Integrating on both sides of (3)
and (6) with respect to the conditional distribution of the stopping time τ shows that
Z 1
Z ∞
−(r+γ+λ)(u−t)
Vq,u (δ 0 )dF (δ 0 ))du.
(42)
e
(λVq,u (δ) + Cq,u (δ) + γ
Vq,t (δ) =
0

t

with the uniformly bounded functions defined by
Z 1
+
Cq,t (δ) = qδ +
λθq (2q − 1)(∆Vt (δ 0 ) − ∆Vt (δ)) dΦ1−q,t (δ 0 ).

(43)

0

Because the right-hand side of (42) is absolutely continuous in time, we have that the functions Vq,t (δ)
inherit this property, and it thus follows from Lebesgue’s differentiation theorem that
Z 1
V̇q,t (δ) = rVq,t (δ) − Cq,t (δ) − γ
(Vq,t (δ 0 ) − Vq,t (δ))dF (δ 0 )
(44)
0

for all δ ∈ [0, 1] and almost every t ≥ 0. Combining this differential equation with the assumed transversality condition then implies that
Vq,t (δ) = e−r(H−t) Vq,H (δ) +

Z

H

e−r(u−t) (Cq,u (δ) + γ

t

Z
= lim

H→∞ t

H

e−r(u−t) (Cq,u (δ) + γ

Z

1

(Vq,u (δ 0 ) − Vq,u (δ))dF (δ 0 ))du

0

Z

1

(Vq,u (δ 0 ) − Vq,u (δ))dF (δ 0 ))du

0

for any finite horizon and, because the functions Cq,t (δ) are increasing in space by Lemma A.5 below, the
same arguments as in the proof of Lemma A.2 show that the functions Vq,t (δ) are increasing in space and
are uniformly bounded. Combining these properties with (44) then shows that the process
Z t
−rt
e Vq,t (δt ) +
e−ru Cq,u (δu )du
0

is a uniformly bounded martingale in the filtration generated by the investor’s utility type process, and it
follows that we have
Z ∞

Vq,t (δ) = Et,δ
e−r(u−t) Cq,u (δu )du .
(45)
t

51

This establishes the uniqueness of the solutions to (3) and (6) subject to (8) and it now only remains to show
that these solutions are consistent with the given reservation value function. Applying the law of iterated
expectations to (45) at the stopping time τ shows that the function V1,t (δ) − V0,t (δ) is a uniformly bounded
fixed point of the operator
Z 1
Z ∞
fu (δ 0 )dF (δ 0 ))du.
e−(r+γ+λ)(u−t) (λfu (δ) + C1,u (δ) − C0,u (δ) + γ
Ut [f ](δ) =
0

t

A direct calculation shows that this operator is a contraction on X and, therefore, admits a unique fixed point
in X . Because the reservation value function is increasing we have
Z 1
∆Vt (δ 0 )dF (δ 0 ) = δ + γ∆Vt (δ) + Ot [∆V ](δ)
C1,t (δ) − C0,t (δ) + γ
0



and it follows that this fixed point coincides with the reservation value function.

Lemma A.4 For any fixed δ ∈ [0, 1], the unique solution to (11) that is both absolutely continuous in time
and uniformly bounded is explicitly given by
Z ∞ R
u
σt (δ) =
e− t Rξ (δ)dξ du,
(46)
t

with the effective discount rate Rt (δ) = r + γ + λθ1 (1 − s − Φ0,t (δ)) + λθ0 Φ1,t (δ).
Proof. Fix an arbitrary δ ∈ [0, 1] and assume that σt (δ) is a uniformly bounded solution to (11) that is
absolutely continuous in time. Using integration by parts, we easily obtain that
σt (δ) = e−

RT
t

Rξ (δ)dξ

Z
σT (δ) +

T

e−

Ru
t

Rξ (δ)dξ

0 ≤ t ≤ T < ∞.

du,

t

Since σ ∈ X and Rt (δ) ≥ γ > 0, we have that
lim e−

RT
t

Rξ (δ)dξ

T →∞

σT (δ) = 0

and therefore

σt (δ) = lim

T →∞

−

e

RT
t

Rξ (δ)dξ

Z
σT (δ) +

T

e

−

Ru
t

Rξ (δ)dξ

 Z
du =

t

∞

e−

Rs
t

Ru (δ)du

ds

t



by monotone convergence.
Lemma A.5 The functions Cq,t (δ) are increasing in δ ∈ [0, 1].

Proof. For q = 0 the result follows immediately from (43) and the fact that the reservation value function
is increasing in δ ∈ [0, 1]. Assume now that q = 1. Using the fact that the reservation value function is
increasing and integrating by parts on the right-hand side of equation (43) gives
Z 1
C1,t (δ) = δ +
λθ1 σt (δ 0 )(1 − s − Φ1,t (δ 0 ))dδ 0 ,
δ

52

and differentiating this expression shows that
0
C1,t
(δ) = 1 − λσt (δ)θ1 (1 − s − Φ1,t (δ)) ≥ 1 −

λθ1 (1 − s)
> 0,
r + γ + λ(θ0 s + θ1 (1 − s))

where the first inequality follows from (46) and the definition of Rt (δ), and the last inequality follows from
the strict positive of the interest rate.

Proof of Proposition 2. Let the local surplus σt (δ) be as above and consider the absolutely continuous
function defined by

Z δ
Z ∞

−r(u−t)
σu (δ 0 ) γF (δ 0 ) + λθ0 Φ1,u (δ 0 ) dδ 0
e
δ−
ft (δ) =
0
t

Z 1
 0
0
0
0
σu (δ ) γ(1 − F (δ )) + λθ1 (1 − s − Φ0,u (δ )) dδ du.
+
δ

Using the uniform boundedness of the functions σt (δ), F (δ), and Φq,t (δ), we deduce that f ∈ X . On the
other hand, Lebesgue’s differentiation theorem implies that this function is almost everywhere differentiable
in both the time and the space variable with
f˙t (δ) = rft (δ) − δ +

Z

δ

σt (δ 0 )(γF (δ 0 ) + λθ0 Φ1,t (δ 0 ))dδ 0

(47)

0

Z
−

1

σt (δ 0 )(γ(1 − F (δ 0 )) + λθ1 (1 − s − Φ0,t (δ 0 )))dδ 0

δ

for all δ ∈ [0, 1] and almost every t ≥ 0, and
Z ∞
0
ft (δ) =
e−r(u−t) (1 − σu (δ)(γ + λθ1 (1 − s − Φ0,u (δ)) + λθ0 Φ1,u (δ))) du
Zt ∞
=
e−r(u−t) (rσu (δ) − σ̇u (δ)) du = σt (δ)
t

for all t ≥ 0 and almost every δ ∈ [0, 1], where the second equality follows from (11) and the third follows
from integration by parts and the boundedness of the local surplus. In particular, the fundamental theorem
of calculus implies
0

Z

ft (δ ) − ft (δ) =

δ0

σt (δ 00 )dδ 00 ,

(δ, δ 0 ) ∈ [0, 1]2 ,

(48)

δ

and it follows that ft (δ) is strictly increasing in space. Using this monotonicity in conjunction with (48) and
integrating by parts on the right-hand side of (47) shows that
f˙t (δ) = rft (δ) − δ − Ot [f ](δ)
for all δ ∈ [0, 1] and almost every t ≥ 0. Writing this differential equation as
(r + γ + λ)ft (δ) − f˙t (δ) = δ + (γ + λ)ft (δ) + Ot [f ](δ)

53

and integrating by parts then shows that
ft (δ) = e−(r+γ+λ)(H−t) fH (δ) +

Z

H

e−(r+γ+λ)(u−t) (δ + (γ + λ)fu (δ) + Ou [f ](δ)) du

t

for any t ≤ H < ∞, and it now follows from the dominated convergence theorem and the uniform
boundedness of the function ft (δ) that
Z ∞
e−(r+γ+λ)(u−t) (δ + (γ + λ)fu (δ) + Ou [f ](δ)) du.
ft (δ) =
t

Comparing this expression with (33), we conclude that ft (δ) = Tt [f ](δ) ∈ X , and the desired result now
follows from the uniqueness established in the proof of Proposition 1.

Proof of Corollary 1. As shown in the proof of Proposition 1, we have that ∆Vt (δ) is the unique fixed
point of the contraction T : Xk → Xk defined by (39) and, by inspection, this mapping is increasing in ft (δ)
and decreasing in r. Furthermore, it follows from equation (41) that T is increasing θ1 and decreasing in θ0 ,
F (δ) and Φq,t (δ) and the desired monotonicity now follows from Lemma A.6 below.

Lemma A.6 Let C ⊆ X be closed and assume that A[·; α] : C → C is a contraction that is increasing in f
and increasing (resp. decreasing) in α. Then its fixed point is increasing (resp. decreasing) in α.
Proof. Assume that At [f ; α](δ) is a contraction on C ⊂ X that is increasing in (α, f ) and denote its fixed
point by ft (δ; α). Combining the assumed monotonicity with the fixed-point property shows that
ft (δ; α) = At [f (·; α); α](δ) ≤ At [f (·; α); β](δ),

(t, δ) ∈ S.

Iterating this relation gives
ft (δ; α) ≤ Ant [f ; β](δ),

(t, δ, n) ∈ S × {1, 2, . . .}

and the desired result now follows by taking limits on both sides as n → ∞ and using the fact that the
mapping A[·; β] is a contraction.

Proof of Proposition 3. Using (14) together with the notation of the statement shows that the reservation
value function is the unique bounded and absolutely continuous solution to
˙ t (δ) + δ + At [∆V ](δ).
r∆Vt (δ) = ∆V
Therefore, it follows from an application of Itô’s lemma that the process
Z t
−rt
e ∆Vt (δ̂t ) +
e−ru δ̂u du
0

is a local martingale, and this implies that we have
Z
h
i
−r(τn −t)
∆Vt (δ) = Et,δ e
∆Vτn (δ̂τn ) + Et,δ
0

54

τn

−r(u−t)

e


δ̂u du

for a non-decreasing sequence of stopping times that converges to infinity. Since the reservation value
function is uniformly bounded, we have that the first term on the right-hand side converges to zero as
n → ∞, and the desired result now follows by monotone convergence.

Proof of Proposition 4. For a fixed δ ∈ [0, 1] ,the differential equation
−Φ̇1,t (δ) = λΦ1,t (δ)2 + λΦ1,t (δ)(1 − s + γ/λ − F (δ)) − γsF (δ)
is a Riccati equation with constant coefficients whose unique solution can be found in any textbook on
ordinary differential equations; see, for example, Reid (1972). Let us now turn to the convergence part.
Using (1) and (2) together with the definition of Λ(δ) and Φq (δ) shows that the term
1
Φ1,0 (δ) − Φ1 (δ) + Λ(δ) = Φ1,0 (δ) + (1 − s + γ/λ − F (δ) + Λ(δ))
2
= Φ1,0 (δ) + Φ1 (δ) + (1 − s + γ/λ − F (δ)) = γ/λ + Φ1 (δ) + (1 − s − Φ0,0 (δ))
that appears in the denominator of (19) is nonnegative for all δ ∈ [0, 1]. Since λΛ(δ) > 0, this implies that
the nonnegative function
|Φ1,t (δ) − Φ1 (δ)| =

|Φ1,0 (δ) − Φ1 (δ)|Λ(δ)
Λ(δ) + (Φ1,0 (δ) − Φ1 (δ) + Λ(δ))(eλΛ(δ)t − 1)

is monotone decreasing in time and converges to zero as t → ∞.



Lemma A.7 The steady-state cumulative distribution of types among owners Φ1 (δ) is increasing in the
asset supply, and increasing and concave in φ = γ/λ, with
lim Φ1 (δ) = sF (δ), and

φ→0

lim Φ1 (δ) = (F (δ) − 1 + s)+ .

φ→∞

In particular, the steady-state cumulative distributions functions Φq (δ) converge to their frictionless counterparts as λ → ∞.
Proof of Lemma A.7. A direct calculation shows that
∂Φ1 (δ)
Φ1 (δ) + φF (δ)
=
,
∂s
Λ(δ)

(49)

and the desired monotonicity in s follows. On the other hand, using the definition of the steady-state
distribution, it can be shown that
∂Φ1 (δ)
sF (δ) − Φ1 (δ)
s(1 − s)F (δ)(1 − F (δ))
=
=
∂φ
Λ(δ)
(φ + Φ1 (δ) + (1 − s)(1 − F (δ)))Λ(δ)

(50)

and the desired monotonicity follows by observing that all the terms on the right-hand side are nonnegative.
Knowing that Φ1 (δ) is increasing in φ, we deduce that
Λ(δ) = 2Φ1 (δ) + 1 − s + φ − F (δ)

55

is also increasing in φ, and it now follows from the first equality in (50) that


∂Λ(δ)
1 ∂Φ1 (δ)
∂ 2 Φ1 (δ)
1+
≤ 0.
=−
∂φ2
Λ(δ) ∂φ
∂φ
The expressions for the limiting values follow by sending φ to zero and ∞ in the definition of the steady-state
distribution.

Proof of Corollary 2. The result follows directly from Lemma A.7.



Proof of Theorem 1. The result follows directly from the definition, Proposition 1, and Proposition 4. We
omit the details.


A.3

Proofs omitted in Section 4

To simplify the notation, let φ ≡ γ/λ. The following lemma follows immediately from the equation defining
the steady-state distribution of utility types among asset owners.
Lemma A.8 The steady-state distributions of types satisfy Φ1 (δ) = F (δ) − Φ0 (δ) = `(F (δ)), where the
bounded function
1
1p
`(x) ≡ − (1 − s + φ − x) +
(1 − s + φ − x)2 + 4sφx
2
2

(51)

is the unique positive solution to `2 + (1 − s + φ − x)` − sφx = 0. Moreover, the function `(x) is strictly
increasing and convex, and strictly so if s ∈ (0, 1).
Proof of Lemma A.8. It is obvious that `(x) is the unique positive solution of the second-order polynomial
shown above. The function `(x) is strictly increasing by an application of the implicit function theorem:
when x > 0, `(x) > 0, so that the second-order polynomial must be strictly increasing in ` and strictly
decreasing in x. Convexity follows from the fact that
`00 (x) = p
3

2s(1 − s)φ (1 + φ)
4sφx + (1 − s + φ − x)2

≥ 0,

with a strict inequality if s ∈ (0, 1).



Proof of Lemma 1. Let A denote the set of atoms of the distribution F (δ). With this definition, we have
that the Radon-Nikodym density is given by

(δ))
1{δ∈A}
`0 (F (δ)) + 1{δ∈A} ∆`(F
if δ < δ ? ,
/
dM
∆F (δ) ,

(52)
m(δ) =
(δ) ≡
(δ))
1{δ∈A}
dF
(1 − `0 (F (δ))) + 1{δ∈A} 1 − ∆`(F
, otherwise.
/
∆F (δ)
To establish the result, we need to show that m(δ) is increasing on [0, δ ? ) and decreasing on [δ ? , 1]. As shown
in the proof of Lemma A.8, we have that the function `(x) is strictly convex on [0, 1]. This immediately
implies that the functions `0 (x) and (`(x) − `(y))/(x − y) are, respectively, increasing in x ∈ [0, 1] and
increasing in x ∈ [0, 1] and y ∈ [0, 1], and the desired result now follows from (52).


56

Assuming that a meeting between a buyer and a seller with the same utility results in trade with some
constant probability π ∈ [0, 1] we can express the steady state trading volume as
Z
X
∆Φ0 (δ)∆Φ1 (δ),
ϑ(π) = λ
1{δ0 >δ1 } dΦ0 (δ0 )dΦ1 (δ1 ) + πλ
[0,1]2

δ∈[0,1]

where ∆Φq (δ) = Φq (δ) − Φq (δ− ) ≥ 0 denotes the discrete mass of investors who hold q ∈ {0, 1} units of
the asset and have a utility type exactly equal to δ.
Lemma 4 If the distribution of utility types is continuous then




λ
ϑ(π) = ϑc ≡ γs(1 − s) (1 + γ/λ) log 1 +
−1
γ

(53)

for all π ∈ [0, 1] and is strictly increasing in both the meeting rate λ and the arrival rate of preference
shocks γ. Otherwise, if the distribution of utility types has atoms, then the steady-state trading volume is
strictly increasing in π ∈ [0, 1] with ϑ(0) < ϑc < ϑ(1).
Proof of Proposition 4. Consider the continuous functions defined by
G1 (x) =

`(x)
s

and

G0 (x) =

x − `(x)
.
1−s

Rearranging the quadratic equation for `(x) given in Lemma A.8, it can be shown that these functions satisfy
the identity
G1 (x) =

φG0 (x)
,
1 + φ − G0 (x)

(54)

where φ = γ/λ. Since the functions Gq (x) are continuous, strictly increasing, and map [0, 1] onto itself, we
have that they each admit a continuous and strictly increasing inverse G−1
q (y), and it follows that identity
(54) can be written equivalently as
G1 (G−1
0 (y)) =

φy
.
1+φ−y

(55)

Consider the class of tie-breaking rules whereby a fraction π ∈ [0, 1] of the meetings between an owner and
a non-owner of the same utility type lead to a trade. By definition, the trading volume associated with such
a tie breaking rule can be computed as
ϑ(π) = λs(1 − s) (P[δ0 > δ1 ] + πP[δ0 = δ1 ]) ,
where the random variables (δ0 , δ1 ) ∈ [0, 1]2 are distributed according to Φ0 (δ)/(1 − s) = G0 (F (δ)) and
Φ1 (δ)/s = G1 (F (δ)) independently of each other. A direct calculation shows that the quantile functions of
these random variables are given by
−1
inf{x ∈ [0, 1] : Gq (F (x)) ≥ u} = inf{x ∈ [0, 1] : F (x) ≥ G−1
q (u)} = ∆(Gq (u))

where ∆(y) denotes the quantile function of the underlying distribution of utility types, and it thus follows

57

from Lemma A.9 below that the trading volume satisfies




ϑ(π)
−1
−1
−1
= P ∆(G−1
0 (u0 )) > ∆(G1 (u1 )) + πP ∆(G0 (u0 )) = ∆(G1 (u1 )) ,
λs(1 − s)
where u0 and u1 denote a pair of iid uniform random variables. If the distribution is continuous, then its
quantile function is strictly increasing, and the above identity simplifies to




ϑ(π)
−1
−1
= P G−1
0 (u0 ) > G1 (u1 ) = P u1 < G1 (G0 (u0 ))
λs(1 − s)
Z 1
Z 1


φx
ϑ?
−1
−1
G1 (G0 (x))dx =
= E G1 (G0 (u0 )) =
dx =
,
λs(1 − s)
0 1+φ−x
0
where we used formula (55) for G1 (G−1
0 (y)), and the last equality follows from the calculation of the integral. If the distribution fails to be continuous, then its quantile function will have flat spots that correspond
to the levels across which the distribution jumps, but it will nonetheless be weakly increasing. As a result,
we have the strict inclusions

 −1

−1
−1
−1
−1
∆(G−1
0 (u0 )) > ∆(G1 (u1 )) ⊂ G0 (u0 ) > G1 (u1 ) ⊂ ∆(G0 (u0 )) ≥ ∆(G1 (u1 )) ,
and it follows that


ϑ(0)
−1
= P ∆(G−1
0 (u0 )) > ∆(G1 (u1 ))
λs(1 − s)


ϑ?
−1
< P G−1
0 (u0 ) > G1 (u1 ) =
λs(1 − s)




−1
−1
−1
= P G−1
0 (u0 ) ≥ G1 (u1 ) < P ∆(G0 (u0 )) ≥ ∆(G1 (u1 )) =

ϑ(1)
.
λs(1 − s)

Since the function ϑ(π) is continuous and strictly increasing in π, this further implies that there exists a
unique tie-breaking probability π ? such that ϑ? = ϑ(π ? ) and the proof is complete.

Lemma A.9 Let H(x) be a cumulative probability distribution function on [0, 1]. If the random variable
U is uniformly distributed on [0, 1], then the random variable inf{x ∈ [0, 1] : H(x) ≥ U } is distributed
according to H(x).
Proof. Let X (q) ≡ {x0 ∈ [0, 1] : H(x0 ) ≥ q} and X(q) ≡ inf X (q). We show that X(q) ≤ x if and
only if H(x) ≥ q. For the “if” part, suppose that H(x) ≥ q, then x belongs to X (q) and is therefore larger
than its infimum, which is X(q) ≤ x. For the “only if” part, let (xn )∞
n=1 ⊆ X (q) be a decreasing sequence
converging toward X(q). For each n, we have that H(xn ) ≥ q. Going to the limit and using the fact that
H(x) is right continuous, we obtain that H(X(q)) ≥ q, which implies H(x) ≥ q since H(x) is increasing
and X(q) ≤ x for all x ∈ X (q).

Proof of Proposition 5. The first part of the result follows directly from Lemma 4. To establish the second
part Let ε be as in the statement and assume that the distribution of utility types is continuous. In this case

58

the equilibrium trading volume can be decomposed as
ϑc = λΦ1 (δ ? )(1 − s − Φ0 (δ ? )) + λ
Z

δ?

+λ

Z

Z

δ ? −ε

Z

1

(1 − s − Φ0 (δ))dΦ1 (δ)

Φ1 (δ)dΦ0 (δ) + λ
δ ? +ε

0
δ ? +ε

(1 − s − Φ0 (δ)) dΦ1 (δ).

Φ1 (δ)dΦ0 (δ) + λ

(56)

δ?

δ ? −ε

We show that all the terms on the first line remain bounded as λ → ∞. Since F (δ ? ) = 1 − s when the
distribution of type is continuous we have that the first term is equal to
λΦ1 (δ ? ) (1 − s − F (δ ? ) + Φ1 (δ ? )) = λΦ1 (δ ? )2 .
and we know from Lemma A.8 that the measure Φ1 (δ ? ) of owners below the marginal type solves
λΦ1 (δ ? )2 + γΦ1 (δ ? ) − γs(1 − s) = 0.
This immediately implies that
λΦ1 (δ ? )2 ≤ γs(1 − s)
and it follows that the first term on the first line of (56) remains bounded as λ → ∞. Turning to the second
term, we note that
Z δ? −ε
λ
Φ1 (δ)dΦ0 (δ) ≤ λΦ1 (δ ? − ε)F (δ ? − ε),
(57)
0

where the inequality follows (1) and the increases of Φ1 (δ). From Lemma A.8, we have that the steady-state
measure of owners with valuations below δ ? − ε solves

γ
λΦ1 (δ ? − ε)2 + 1 − s − F (δ ? − ε) +
λΦ1 (δ ? − ε) − γsF (δ ? − ε) = 0.
λ
This immediately implies that
λΦ1 (δ ? − ε) ≤

γsF (δ ? − ε)
.
1 − s − F (δ ? − ε)

and combining this inequality with (57) shows that the second term on the first line of (56) remains bounded
as λ → ∞. Proceeding similarly, one can show that the third term also remains bounded as frictions vanish,
and the desired result now follows by observing that limλ→∞ ϑc = ∞.

Proof of Lemma 2. Relying on (26) we have that

(π (δ)π (δ)) 1+k
2 ,
0
1
h
i k is odd
P [ {d > k}| {δ0 = δ}] =
k
dΦ
(δ)
dΦ
(δ)
(π0 (δ)π1 (δ)) 2 π0 (δ) 0 + π1 (δ) 1
dF (δ)
dF (δ) , otherwise.

(58)

On the other hand, combining (70) with the result of Proposition 10 we deduce that for all utility types below

59

the marginal type we have
lim π1 (δ) = 1,

λ→∞

lim π0 (δ) =

λ→∞

sF (δ)
,
(1 − s)(1 − F (δ))

and
dΦq (δ)
= 1 − q.
λ→∞ dF (δ)
lim

Therefore, the limit distribution is given by

lim P [ {d > k}| {δ0 = δ}] = a(δ, k) ≡

λ→∞

sF (δ)
(1 − s)(1 − F (δ))

1+[[ k ]]
2

,

∀δ < δ ? ,

(59)

where [[x]] denotes the integer part of a real number x. Now fix two arbitrary utility types (δ, δ 0 ) as in the
statement. Since F (δ) < F (δ 0 ) we have that
a(δ, k) < a(δ 0 , k),

k ∈ {0, 1},

and, because all the terms on the right hand side of (58) are continuous in λ, it follows from (59) that there
exists a threshold λ such that


P [ {d > k}| {δ0 = δ}] < P {d > k}| {δ0 = δ 0 } ,
(λ, k) ∈ (λ, ∞) × {0, 1}.
(60)
Using this inequality with k = 1 we deduce that
π0 (δ)π1 (δ) < π0 (δ 0 )π1 (δ 0 ),

λ ∈ (λ, ∞),

(61)

and it now follows from (58) that (60) holds not only for k = 1 but for all odd values of k ∈ N. On the other
hand, using (60) with k = 0 in conjunction with (61) we deduce that


π0 (δ)π1 (δ)
π0 (δ 0 )π1 (δ 0 )

0

k
2

<1<

0

0 (δ )
0 dΦ1 (δ )
π0 (δ 0 ) dΦ
dF (δ 0 ) + π1 (δ ) dF (δ 0 )

dΦ1 (δ)
0 (δ)
π0 (δ) dΦ
dF (δ) + π1 (δ) dF (δ)

,

(λ, k) ∈ (λ, ∞) × N,

and rearranging this inequality shows that (60) holds for all even values of k ∈ N



Proof of Lemma 3. The result follows directly from the properties listed above the statement.




Lemma A.10 If the distribution of utility types is continuous then the distribution of n, δ (n) conditional
on the event Sδ = S ∩ {δ (1) = δ} is given by


h
i
Λ(δ, x)k−1
Λ(δ,δ ? )
(n)
e
P {n = k} ∩ {δ ∈ dx} |Sδ = 1{k=1} ε{δ} (dx) + 1{k>1} dx
(k − 1)!
where ε{δ} (dx) denotes the Dirac measure at the point δ ∈ (δ, δ ? ] and dx (·) indicates a differential with
respect to the variable x.

60

Proof of Lemma A.10. By Bayes’ rule we have that the Fourier transform of the desired distribution can
be computed as
h
i h (δ)
(n)
α,β
E e−βn−αδ
Sδ =
,
h0,0 (δ)

(δ, α, β) ∈ (δ, δ ? ] × C2

(62)

with the function
h
i
(n)
hα,β (δ) = E e−βn−αδ 1{S} {δ (1) = δ} .
By application of the law of iterated expectations we have that this function satisfies the recursive integral
equation given by
"
Φ0 (δ)
λΦ0 (1)
hα,β (δ)
hα,β (δ) =
(63)
γ + λΦ0 (1)
Φ0 (1)

#
Z δ?
Φ0 (δ ? )
dΦ0 (x)
−β−αδ
−β
+e
1−
+
e hα,β (x)
Φ0 (1)
Φ0 (1)
δ
and evaluating both sides of this equation at the marginal type shows that
?

?

hα,β (δ ? ) = e−β−αδ h0,0 (δ ? ) = e−β−αδ π1 (δ ? ).

(64)

When the distribution of utility types is continuous, (63) and (64) can be solved as an ordinary differential
equation. Indeed, differentiating (63) and solving the resulting equation for the differential of the unknown
functions gives


?
?
dhα,β (δ) = hα,β (δ) e−β − 1 d log(γ + λ1 (δ)) − αeα(δ −δ)−Λ(δ,δ ) hα,β (δ ? )dδ
which is a first order linear differential equation. Integrating this differential equation subject to the boundary
condition (64) we obtain
!
Z δ?


?
?
?
hα,β (δ) = e−Λ(δ,δ ) hα,β (δ ? ) eα(δ −δ) +
eα(δ −x) dx eaβ Λ(δ,x)
(65)
δ

with the constant defined by aβ = e−β . Evaluating this expression at the point (α, β) = (0, 0) and
simplifying the result then shows that


δ?
−Λ(δ,δ ? )
?
Λ(δ,x)
h0,0 (δ) = e
h0,0 (δ ) 1 + e
= h0,0 (δ ? )
x=δ

does not depend on the utility type of the first dealer, and it now follows from (62), (64) and (65) that the
Fourier transform of the desired distribution is explicitly given by
!
Z δ?
h
i
(n)
?
E e−βn−αδ
Sδ = e−Λ(δ,δ ) e−αδ aβ +
a2β e−αx+aβ Λ(δ,x) dx (Λ(δ, x)) .
δ

61

Using the chain rule and the fact that
a2β eaβ Λ(δ,x)

=

∞
X

e−βk

k=2

Λ(δ, x)k−2
(k − 2)!

to invert the transform with respect to β shows that we have
Λ(δ,δ ? )

e

h

−αδ (n)

E e

i

1{n=k} Sδ = 1{k=1} e

Z

−αδ

δ?

+ 1{k>1}

−αx

e
δ


dx

Λ(δ, x)k−1
(k − 1)!





and the desired result now follows by inspection.

Proof of Proposition 6. The first part of the statement follows by integrating the joint distribution of Lemma
A.10 with respect to x ∈ [δ, δ ? ]. Since λ1 (δ) is decreasing in δ we have that Λ(δ, δ ? ) is decreasing in δ and
the second part of the statement follows by noting that the tail probability
Z ∞
?
∞
X
e−Λ(δ,δ ) Λ(δ, δ ? )n−1
1
P [{n > k} |Sδ ] =
=1−
tk−1 e−t dt
(n − 1)!
Γ(k) Λ(δ,δ? )
n=k+1

is an increasing function of Λ(δ, δ ? ).



Proof of Corollary 3. By virtue of random matching we have that the distribution of the utility type of the
first dealer in a chain is given by
h
i
P {δ (1) ∈ dδ} S =

dΦ0 (δ)
,
Φ0 (δ ? ) − Φ0 (δ)

(66)

and integrating this expression against the conditional distribution of the chain length derived in Proposition
6 shows that we have
Z δ? h
i h
i
P [ {n = k}| S] =
P {n = k} S ∩ {δ (1) = δ} P {δ (1) ∈ dδ} S
δ
δ?

Z
=
δ

?

−1
Λ(δ, δ ? )k−1 e−Λ(δ,δ )
dΦ0 (δ)
1  Λ(δ,δ? )
=
e
−
1
Λ(δ, δ ? )k
(k − 1)!
Φ0 (δ ? ) − Φ0 (δ)
k!

where the last two equalities follow from (27). The tail probability function associated with this zerotruncated Poisson distribution is given by
P [ {n > k}| S] =

Z

1
1−

e−Λ(δ,δ? )



Γ(1 + k)

Λ(δ,δ ? )

tk e−t dt ≡ H(Λ(δ, δ ? ))

0

and, since
1
H (x) =
−x
(1 − e )2 Γ(1 + k)
0

Z

x

e

x−t



k

x −t

k



dt > 0,

0

the proof will be complete once we show that Λ(δ, δ ? ) is decreasing with respect to the parameter γ and

62

increasing with respect to the parameter λ. To this end we start by observing that


φ + 1 − s − F (δ) + `(F (δ); φ)
?
Λ(δ, δ ) = log
φ + `(1 − s; φ)
depends on the parameters γ and λ only through their ratio φ = γ/λ. Differentiating both sides with respect
to φ and simplifying the result shows that


∂Λ(δ, δ ? )
= sign (G(F (δ); φ) − G(F (δ ? ); φ))
sign
∂φ
where we have set
G(x; φ) =

1+

∂`
∂φ (x; φ)

1 − s − x + φ + `(x; φ)

.

Now, a direct calculation using the definition of the function `(x, φ) shows that the derivative of this function
with respect to x ∈ [0, 1] is explicitly given by
∂G
(1 − s)(1 + s − x + φ)
(x; φ) =
>0
∂x
((1 − s + φ − x)2 + 4sφx)3/2


and the desired result follows.

Proof of Proposition 7. Consider the utility type of the first dealer in the chain. By application of Bayes’
rule we have that the distribution that underlies the desired tail probability can be computed as
h
i P  {δ (1) ∈ dδ} ∩ {n = k} S 
(1)
P {δ ∈ dδ} S ∩ {n = k} =
P [ {n = k}| S]


 
P {n = k}| S ∩ {δ (1) = δ} P {δ (1) ∈ dδ} S
.
=
P [ {n = k}| S]
Substituting (66) and the results of Proposition 6 and Corollary 3 into the right hand side of this expression
and simplifying the result shows that
h

P {δ

(1)

i e−Λ(δ,δ? ) 
  Λ(δ, δ ? ) k
kdΦ0 (δ)
Λ(δ,δ ? )
∈ dδ} S ∩ {n = k} =
e
−1
?
?
Λ(δ, δ )
Λ(δ, δ )
Φ0 (δ ? ) − Φ0 (δ)
"
#

Λ(δ, δ ? ) k
= −dδ
,
Λ(δ, δ ? )

(67)

where the second equality follows from the chain rule and the fact that


 γ + λ (δ ? )  γ + λ (δ)
1
1
−Λ(δ,δ ? )
Λ(δ,δ ? )
e
e
−1 =
−1
γ + λ1 (δ) γ + λ1 (δ ? )


γ + λ1 (δ ? ) λ1 (δ) − λ1 (δ ? )
λ(Φ0 (δ ? ) − Φ0 (δ))
=
=
?
γ + λ1 (δ)
γ + λ1 (δ )
γ + λ1 (δ)
by definition of the functions λ1 (δ) and Λ(x, y). Integrating both sides of (67) with respect to δ over the

63

interval (x, δ ? ] then gives
h

P {δ

(1)

i



> x} S ∩ {n = k} =

Λ(x, δ ? )
Λ(δ, δ ? )

k

and the required monotonicity follows by observing that, because the function Λ(x, y) is decreasing in its
first argument, the term inside the bracket on the right hand side is smaller than unity.
Let us now turn to the utility type of the last dealer in the chain. Proceeding in the same way we have
that the distribution that underlies the desired tail probability can be computed as
h
i P  {δ (n) ∈ dx} ∩ {n = k} S 
(n)
P {δ ∈ dx} S ∩ {n = k} =
P [ {n = k}| S]
Z x h
i h
i
1
=
P {δ (n) ∈ dx} ∩ {n = k} Sδ P {δ (1) ∈ dδ} S .
P [ {n = k}| S] δ
Substituting (66) and the results of Lemma A.10 and Corollary 3 into the right hand side of this expression
shows that
"
 #
h
i
Λ(δ, x) k
(n)
,
P {δ ∈ dx} S ∩ {n = k} = dx
Λ(δ, δ ? )
and the desired results now follow by integrating this expression with respect to x on the interval (y, δ ? ] and
noting that the function Λ(x, y) is increasing in its second argument.

Proof of Proposition 8. Using the result of Lemma A.10, we have that the distribution that underlies the
required tail probability is given by
∞
h
i X
h
i
(n)
P {δ ∈ dx} Sδ =
P {δ (n) ∈ dx} ∩ {n = k} Sδ
k=1
∞
X

Λ(δ, x)k−2
dx (Λ(δ, x))
(k − 2)!
k=2




?
?
?
= e−Λ(δ,δ ) ε{δ} (dx) + eΛ(δ,x) dx (Λ(δ, x)) = e−Λ(δ,δ ) ε{δ} (dx) + dx e−Λ(x,δ )

=e

−Λ(δ,δ ? )

ε{δ} (dx) +

e−Λ(δ,δ

?)

for all x ∈ [δ, δ ? ] where the third equality follows from the calculation of the infinite sum and the last
equality follows from the chain rule and the definition of Λ(x, y). Integrating this expression with respect
to x on the interval (y, δ ? ] ∩ [δ, δ ? ] then gives
h
i
?
P {δ (n) > y} Sδ = 1 − 1{δ≤y} e−Λ(y,δ )
and the required monotonicity follows by observing that the function Λ(x, y) is monotone decreasing in its
first argument.

Proof of Proposition 9. From (20) we deduce that the reservation value function ∆V (δ; θ0 ) is continuous
in θ0 ∈ (0, 1) and can be extended by continuity to a function that is strictly increasing with respect to

64

δ ∈ [0, 1] for all bargaining powers θ0 ∈ [0, 1] and such that
0 < V0 ≤

inf

(δ,θ0 )∈[0,1]2

∆V (δ; θ0 ) ≤

∆V (δ; θ0 ) ≤ V1 < ∞

sup

(68)

(δ,θ0 )∈[0,1]2

for some constants V0 and V1 . Using these properties in conjunction with Proposition 8, the dominated
convergence theorem, the integration by parts formula and the fact that δ (0) and δ (n)+1 are both independent
from δ (1) , δ (n) and S shows that the function
h
i
h(δ; θ0 ) = 1 + E m {δ (1) = δ} ∩ S
"
#
θ0 ∆V (δ (n) ; θ0 ) + (1 − θ0 )∆V (δ (n+1) ; θ0 )
(1)
=E
{δ = δ} ∩ S
θ0 ∆V (δ (0) ; θ0 ) + (1 − θ0 )∆V (δ; θ0 )
is continuous in θ0 ∈ [0, 1] and satisfies
h
i
1
E ∆V (δ (n+1) ; 0) ,
θ0 →0
∆V (δ; 0)
!


Z δ?
1
?
−Λ(x,δ ? )
lim h(δ; θ0 ) = h1 (δ) = E
∆V (δ ; 1) −
σ(x; 1)e
dx .
θ0 →1
∆V (δ (0) ; 1)
δ
lim h(δ; θ0 ) = h0 (δ) =

Since reservation values are strictly increasing in δ we deduce that the functions h0 (δ) and −h1 (δ) are both
strictly decreasing and the existence of thresholds such that (30) holds now follows by continuity.
Similarly, using (68) and the dominated convergence theorem in conjunction with Proposition 7, the
integration by parts formula and the fact that δ (0) and δ (n)+1 are both independent from δ (1) , δ (n) and S we
obtain that the function
f (k; θ0 ) = 1 + E [m |{n = k} ∩ S ]
is continuous in θ0 and satisfies
"

#
∆V (δ (n) ; 1)
lim f (k; θ0 ) = f1 (k) = E
{n = k} ∩ S
θ0 →1
∆V (δ (0) ; 1)
!




Z δ?
Λ(δ, x) k
1
=E
∆V (δ; 1) −
σ(x; 1)
dx ,
Λ(δ, δ ? )
∆V (δ (0) ; 1)
δ
"
#
∆V (δ (n+1) ; 0)
lim f (k; θ0 ) = f0 (k) = E
{n = k} ∩ S
θ0 →0
∆V (δ (1) ; 0)
!


Z δ?
h
i
1
σ(x; 0)
Λ(x, δ ? ) k
(n+1)
= E ∆V (δ
; 1)
−
dx .
∆V (δ; 0)
∆V (x; 0)2 Λ(δ, δ ? )
δ
Since reservation values are strictly increasing in δ and Λ(x, y) is increasing in its first argument we deduce
that the functions f0 (k) and f1 (k) are both increasing and the existence of thresholds such that (31) holds
now follows by continuity.


65

A.4

Proofs omitted in Section 5

Proof of Proposition 10. From equation (18), it follows that we have
lim Φ1 (δ) =

λ→∞

|1 − s − F (δ)| 1 − s − F (δ)
−
= (1 − s − F (δ))− = Φ?1 (δ)
2
2

and therefore limλ→∞ Φ0 (δ) = Φ?0 (δ) for all δ ∈ [0, 1]. By Theorem 1, we have that the steady state
reservation value function is explicitly given by
Z
r∆V (δ) = δ −

δ

0

0

Z

k0 (δ )dδ +
0

1

k1 (δ 0 )dδ 0

δ

with the uniformly bounded functions defined by
γF (δ 0 ) + λθ0 Φ1 (δ 0 )
r + γ + λθ1 (1 − s − Φ0 (δ 0 )) + λθ0 Φ1 (δ 0 )
γ(1 − F (δ 0 )) + λθ1 (1 − s − Φ0 (δ 0 ))
k1 (δ 0 ) =
.
r + γ + λθ1 (1 − s − Φ0 (δ 0 )) + λθ0 Φ1 (δ 0 )

k0 (δ 0 ) =

Using the first part of the proof and the assumption that θq > 0, we obtain
lim kq (δ 0 ) =

λ→∞

θq Φ?1−q (δ 0 )
= 1{q=0} 1{δ≥δ? } + 1{q=1} 1{δ<δ? } ,
θ0 Φ?1 (δ 0 ) + θ1 Φ?0 (δ 0 )

and the required result now follows from an application of the dominated convergence theorem because the
functions kq (δ 0 ) take values in [0, 1].

Convergence rates of the distributions. To derive the rates at which the equilibrium distributions converge to their frictionless counterparts, recall the inflow-outflow equation that characterizes the steady-state
equilibrium distributions:
γF (δ) (s − Φ1 (δ)) = γΦ1 (δ) (1 − F (δ)) + λΦ1 (δ) (1 − s − Φ0 (δ)) .

(69)

By Proposition 10 we have that Φ1 (δ) → 0 and Φ0 (δ) → F (δ) < 1 − s for all utility types δ < δ ? as the
meeting frequency becomes infinite, and it thus follows from (69) that for δ < δ ? the distribution of utility
types among asset owners admits the approximation
 
 
γF (δ)s
1
1
Φ1 (δ) =
+o
.
(70)
1 − s − F (δ) λ
λ
Similarly, by Proposition 10 we have that Φ1 (δ) → F (δ) − 1 + s > 0 and Φ0 (δ) → 1 − s for all utility
types δ > δ ? as the meeting frequency becomes infinite, and it thus follows from (69) that for δ > δ ? the
distribution of utility types among non-owners admits the approximation
 
 
γ(1 − s)(1 − F (δ)) 1
1
1 − s − Φ0 (δ) =
+o
.
(71)
F (δ) − (1 − s)
λ
λ
To derive the convergence rate at the point δ = δ ? , assume first that the distribution of utility types crosses

66

the level 1 − s continuously and observe that in this case we have
1 − s − Φ0 (δ ? ) = 1 − s − F (δ ? ) + Φ1 (δ ? ) = Φ1 (δ ? ).
Substituting these identities into (69) evaluated at the marginal type and letting λ → ∞ on both sides shows
that the equilibrium distributions admit the approximation given by




p
1
1
?
?
+o √
.
(72)
Φ1 (δ ) = 1 − s − Φ0 (δ ) = γs(1 − s) √
λ
λ
If the distribution of utility types crosses 1 − s by a jump, we have F (δ ? ) > 1 − s, and it follows that the
approximation (71) also holds at the marginal type.

Proof of Proposition 11. Assume without loss of generality that the support of the distribution
of utility
√ 0
?
types is the interval [0, 1]. Evaluating (20) at δ and making the change of variable x = λ(δ − δ ? ) in the
two integrals shows that
√
r λ (∆V (δ ? ) − p? ) = P (λ) − D(λ),
(73)
where the functions on the right-hand side are defined by
√
√
Z 0
? + x/ λ) + θ
γF
(δ
λg (x)
0
√
√ 1
D(λ) ≡
1{x+δ? √λ≥0}
dx
r + γ + θ0 λg1 (x) + θ1 λg0 (x)
−∞
and
Z

∞

P (λ) ≡
0

1{x+δ?

√

√
√
γ(1 − F (δ ? + x/ λ)) + θ1 λg0 (x)
√
√
dx
λ≤1}
r + γ + θ0 λg1 (x) + θ1 λg0 (x)

with the functions
√
√
√
√
λ1−q (δ ? + x/ λ) √
√
gq (x) ≡
= λ(1 − q)(1 − s − F (δ ? + x/ λ)) + λΦ1 (δ ? + x/ λ).
λ
Letting the meeting rate λ → ∞ on both sides of equation (73) and using the convergence result established
by Lemma A.13 below we obtain that
Z ∞
Z 0
√
θ1 g(−x)dx
θ0 g(z)dz
?
?
lim r λ(∆V (δ ) − p ) =
−
λ→∞
θ0 g(x) + θ1 g(−x)
0
−∞ θ0 g(z) + θ1 g(−z)
Z ∞
(1 − 2θ0 )g(x)g(−x)dx
=
dx
(θ0 g(x) + θ1 g(−x))(θ0 g(−x) + θ1 g(x))
0


1
Z ∞
γs(1 − s)(1 − 2θ0 )dx
1
γs(1 − s) 2
π
=
= 0 ?
− θ0
,
γs(1 − s) + θ0 θ1 (xF 0 (δ ? ))2
F (δ ) 2
θ0 θ1
0
where the function
1
1p
g(x) = xF 0 (δ ? ) +
(xF 0 (δ ? ))2 + 4γs(1 − s)
2
2

67

is the unique positive solution to (74), the second equality follows by making the change of variable −z = x
in the second integral, the third equality follows from the definition of the function g(x), and the last equality
follows from the fact that

√ ∞
Z ∞
dx
arctan (x/ a)
π
√
=
= √ ,
a > 0.
2
a
+
x
a
2
a
0
0
This shows that the asymptotic expansion of the statement√holds at the marginal type and the desired result
now follows from the fact that ∆V (δ) = ∆V (δ ? ) + o(1/ λ) by Proposition 13.

Lemma A.11 Assume that the conditions of Proposition 11 hold and denote by g(x) the positive solution
to the quadratic equation
g 2 − gF 0 (δ ? )x − γs(1 − s) = 0.

(74)

Then we have that g1 (x) → g(x) and g0 (x) → g(−x) for all x ∈ R as λ → ∞.
Proof. Evaluating (17) at the steady-state shows that the function g1 (x) is the unique positive solution to
the quadratic equation given by


√ 
√ 
√
γ
2
?
?
g + √ + λ F (δ ) − F (δ + x/ λ) g − γsF (δ ? + x/ λ) = 0.
(75)
λ
Because the left hand side of this quadratic equation is negative at the origin and positive at g = 1 we have
that g1 (x) ∈ [0, 1]. This implies that g1 (x) has a well-defined limit as λ → ∞, and it now follows from (75)
that this limit is given by the positive solution to (74). Next, we note that
√ 
√ 
g0 (x) = g1 (x) + λ F (δ ? ) − F (δ ? + x/ λ) .
Substituting this expression into equation (75) then shows that the function g0 (x) is the unique positive
solution to the quadratic equation given by



√ 
√ 
√ 
γ
2
?
?
g + √ − λ F (δ ) − F (δ + x/ λ) g − γ(1 − s) 1 − F (δ ? + x/ λ) ,
λ
and the desired result follows from the same arguments as above.



Lemma A.12 Assume that the conditions of Proposition 11 hold. Then
(a) There exists a finite K ≥ 0 such that
g1 (x) ≤ K/|x|,
g0 (x) ≤ K/|x|,

√
λ
x ∈ I−
≡ [−δ ? λ, 0],
√
λ
x ∈ I+
≡ [0, (1 − δ ? ) λ].

(76)

λ ∩ (−I λ ), there exists a strictly positive k such that
(b) For any given x̄ ∈ I+
−

g1 (x) ≥ k|x|,

λ
x ∈ I+
∩ [x̄, ∞),

g0 (x) ≥ k|x|,

λ
x ∈ I−
∩ (−∞, −x̄]

(77)

68

for all sufficiently large λ.
Proof. Because g1 (x) is the positive root of (75) we have that (76) holds if and only if

 2


√
√ h
√ i
K
γ
K
?
?
?
√ + λ F (δ ) − F (δ + x/ λ) − γsF (δ + x/ λ) ≥ 0,
min
+
λ
x2
|x|
x∈I−
λ
and a sufficient condition for this to be the case is that


√ i
K√ h
?
?
min
λ F (δ ) − F (δ + x/ λ) − γs(1 − s) ≥ 0.
λ
|x|
x∈I−

(78)

λ ∪ I λ there exists δ̂(x) ∈ [0, 1] such that
By the mean value theorem, we have that for any x ∈ I−
+

√
xF 0 (δ̂(x))
√
F (δ ? ) − F (δ ? + x/ λ) = −
,
λ

(79)

and substituting this expression into (78) shows that a sufficient condition for the validity of equation (76)
is that we have
γs(1 − s)
.
F 0 (δ)
δ∈[0,1]

K ≥ K ? ≡ max

Because the derivative of the distribution of utility types is assumed to be bounded away from zero on the
whole interval [0, 1], we have that K ? is finite and equation (76) follows. One obtains the same constant
λ.
when applying the same calculations to the function g0 (x) over the interval I+
λ ∩ (−I λ ). Because the
Now let us turn to the second part of the statement and fix an arbitrary x̄ ∈ I+
−
function g1 (x) is the positive root of (75) we have that (77) holds if and only if




√ h
√ i
√
γ
max
k 2 x2 + kx √ + λ F (δ ? ) − F (δ ? + x/ λ) − γsF (δ ? + x/ λ) ≤ 0.
λ ∩[x̄,∞)
x∈I+
λ
Combining this inequality with equation (79) then shows that a sufficient condition for the validity of
equation (77) is given by


γ
k ≤ k ? ≡ inf
F 0 (δ) − √
,
δ∈[0,1]
x̄ λ
and the desired result now follows by noting that, because the derivative of the distribution of utility types is
assumed to be strictly positive on the whole interval [0, 1], we can pick the meeting rate λ large enough for
the constant k ? to be strictly positive. One obtains the same constant when applying the same calculations
λ ∩ (−∞, −x̄].
to the function g0 (x) over the interval I−

Lemma A.13 Assume that the conditions of Proposition 11 hold. Then
Z 0
Z ∞
θ0 g(x) dx
θ1 g(−x) dx
and lim P (λ) =
,
lim D(λ) =
λ→∞
λ→∞
θ0 g(x) + θ1 g(−x)
0
−∞ θ0 g(x) + θ1 g(−x)
where the function g(x) is defined as in Lemma A.11.

69

Proof. By Lemma A.11 we have that the integrand
H(x; λ) ≡ 1{x∈I λ }
−

!
√
√
γF (δ ? + x/ λ) + θ0 λg1 (x)
√
√
r + γ + θ0 λg1 (x) + θ1 λg0 (x)

in the definition of D(λ) satisfies
lim H(x; λ) =

λ→∞

θ0 g(x)
.
θ0 g(x) + θ1 g(−x)

(80)

λ ∩ (−I λ ) and let the meeting rate λ be large enough. On the interval [−x̄, 0],
Now fix an arbitrary x̄ ∈ I+
−
λ \[−x̄, 0] we can use the
we can bound the integrand above by 1 and below by zero, while on the interval I−
bounds provided by Lemma A.12 to show that
√
γ|x| + θ0 λK
γδ ? + θ0 K
0 ≤ H(x; λ) ≤ √
≤
,
θ0 K + θ1 k|x|2
λ(θ0 K + θ1 k|x|2 )
λ . Combining these bounds shows that the integrand
where the inequality follows from the definition of I−
is bounded by a function that is integrable on R− and does not depend on λ. This allows us to apply the
dominated convergence theorem, and the result for D(λ) now follows from (80). The result for the other
integral follows from identical calculations. We omit the details.


Proof of Proposition 12. Assume that there are I ≥ 2 utility types δ1 < δ2 < . . . < δI , identify the
marginal type with the index m ∈ {1, . . . , I} such that:
1 − F (δm ) ≤ s < 1 − F (δm−1 )
and set δ0 ≡ 0 and δI+1 ≡ 1. Assume further that 1 − F (δm ) < s, which occurs generically when
the distribution of utility types is restricted to be discrete. Under these assumptions, the same algebraic
manipulations that we used to establish (70) and (71) show that we have
( γsF (δ )

1
1
i
if i < m
λ 1−s−F (δi ) + o λ

Φ1 (δ) = Φ1 (δi ) =
(81)
γ(1−F
(δ
))(1−s)
i
+ o λ1
if i ≥ m,
F (δi ) − (1 − s) + λ1 F (δi )−(1−s)
for all δ ∈ [δi , δi+1 ) and i ∈ {1, . . . , I}. Likewise, we have that the local surplus satisfies
(

1
1
if i < m
λθ1 (1−s−F (δi )) + o λ

σ(δ) = σ(δi ) =
1
1
if i ≥ m
λθ0 (F (δi )−(1−s)) + o λ
for all δ ∈ [δi , δi+1 ) and i ∈ {1, . . . , I}, and it follows that the steady-state reservation values satisfy
∆V (δm ) − ∆V (δi ) =

m−1
X

(δj+1 − δj ) σ(δj ) =

j=i

m−1
X
j=i

70

δj+1 − δj
+o
θ1 (1 − s − F (δj ))

 
1
.
λ

for every i < m, and
∆V (δi ) − ∆V (δm ) =

i−1
X

i−1
X

(δj+1 − δj ) σ(δj ) =

j=m

j=m

δj+1 − δj
+o
θ0 (F (δj ) − (1 − s))

 
1
.
λ

for every i > m. To complete the proof we calculate the steady-state reservation value ∆V (δm ) of the
marginal investor using formula (13). This gives
r∆V (δm ) = δm +
−

I
X
i=m
m−1
X

(δi+1 − δi )

γ (1 − F (δi )) + λθ1 (1 − s − Φ0 (δi ))
r + γ + λθ0 Φ1 (δi ) + λθ1 (1 − s − Φ0 (δi ))

(δi+1 − δi )

γF (δi ) + λθ0 Φ1 (δi )
r + γ + λθ0 Φ1 (δi ) + λθ1 (1 − s − Φ0 (δi ))

i=0

I
1X
γ (1 − F (δi )) (F (δi ) − (1 − s)(1 − θ1 ))
(δi+1 − δi )
λ
(F (δi ) − (1 − s))2
i=m
 
m−1
1 X
γF (δi ) (1 − F (δi ) − s(1 − θ0 ))
1
−
(δi+1 − δi )
+o
2
λ
λ
(F (δi ) − (1 − s))

= δm +

i=0

where the second equality follows from condition (1) and the asymptotic expansion of Φ1 (δ) given in
equation (81).

Proof of Proposition 13. The result follows from Lemmas A.14, A.15, and A.16. To simplify the presentation we assume without loss of generality in these lemmas that the endpoints of the support of the
distribution of utility types are given by δ = 0 and δ = 1.

Lemma A.14 Assume that the conditions of Proposition 13 hold true. Then
δ?

Z
A(λ) ≡ λ

Z

δ?

σ(δ) dδ −
0

Z

1

B(λ) ≡ λ

Z

0
1

σ(δ) dδ −
δ?

δ?

dδ
r+γ
λ

r+γ
λ

+ θ1

+ θ0

F 0 (δ ? )(δ ?

F 0 (δ ? )(δ ?

− δ) + Φ1 (δ)

= O(1)

dδ
= O(1).
− δ) + 1 − s − Φ0 (δ)

(82)
(83)

as the meeting rate λ → ∞.
Proof. To establish (82) we start by noting that
λσ(δ) =

λ
=
r + γ + λθ1 (1 − s − Φ0 (δ)) + λθ0 Φ1 (δ)

r+γ
λ

+ θ1

1
,
− F (δ)) + Φ1 (δ)

(F (δ ? )

(84)

where we used the facts that Φ0 (δ) = F (δ) − Φ1 (δ), and F (δ ? ) = 1 − s due to the assumed continuity of
the distribution. Substituting this identity into (82), we obtain:
Z
|A(λ)| ≤
0

δ?

|F 0 (δ ? )(δ ? − δ) − (F (δ ? ) − F (δ))|
dδ.
θ1 F 0 (δ ? ) (δ ? − δ) (F (δ ? ) − F (δ))

71

Under our assumption that the distribution of utility types is is twice continuously differentiable, we can use
Taylor’s Theorem to extend the integrand by continuity at δ ? , with value
lim?

δ→δ

|F 0 (δ ? )(δ ? − δ) − (F (δ ? ) − F (δ))|
|F 00 (δ ? )|
=
0
?
?
?
θ1 F (δ ) (δ − δ) (F (δ ) − F (δ))
2θ1 (F 0 (δ ? ))2

Since the derivative is bounded away from zero this shows that the integrand is bounded and (82) follows.
Turning to (83) we start by observing that because of (1) and the assumed continuity of the distribution of
utility types we have
Φ1 (δ) = F (δ) − F (δ ? ) + F (δ ? ) − Φ0 (δ) = F (δ) − F (δ ? ) + 1 − s − Φ0 (δ).
Substituting this identity into (84) shows that
λσ(δ) =

r+γ
λ

1
,
+ θ0 (F (δ) − F (δ ? )) + 1 − s − Φ0 (δ)

and the desired result now follows from the same argument as above.



Lemma A.15 Assume that the conditions of Proposition 13 hold true. Then
δ?

Z
A0 (λ) ≡

dδ
r+γ
λ

0

+ θ1

F 0 (δ ? )(δ ?

− δ) + Φ1 (δ)

=

log(λ)
+ O(1).
2θ1 F 0 (δ ? )

as the meeting rate λ → ∞.
Proof. To establish a lower bound we start by noting that Φ1 (δ) ≤ Φ1 (δ ? ) for all δ ≤ δ ? . Substituting this
into the definition of A0 (λ) and integrating we find that
δ?

Z
A0 (λ) ≥
0

dδ
r+γ
λ

+ θ1

F 0 (δ ? )(δ ?

− δ) + Φ1 (δ ? )


δ?
−1
r+γ
0 ?
?
?
log
+
θ
F
(δ
)
(δ
−
δ)
+
Φ
(δ
)
1
1
θ1 F 0 (δ ? )
λ
0



p
log(λ)
−1
1
+ O(1) =
=
log
(γ/λ)s(1 − s) + o √
+ O(1),
0
?
θ1 F (δ )
2θ1 F 0 (δ ? )
λ


=

where the second equality follows from the asymptotic expansion of Φ1 (δ ? ) given in equation (72) above.
√ To
?
establish the reverse inequality let us break√
down the integral into an integral over the interval [0, δ −1/ λ],
and an integral over the interval [δ ? − 1/ λ, δ ? ]. A direct calculation shows that the first integral can be
bounded above by:
Z
0

√
δ ? −1/ λ

 √ 
dδ
1
log(λ)
=
log
δ? λ =
+ O(1).
0
?
?
0
?
θ1 F (δ )(δ − δ)
θ1 F (δ )
2θ1 F 0 (δ ? )

On the other hand, noting that


1
g1 (−1)
?
inf√
Φ1 (δ) ≥ Φ1 δ − √
= √
λ
λ
δ∈[δ ? −1/ λ,δ ? ]

72

and integrating we find that the second integral can be bounded from above by


Z δ?
dδ
1
θ1 F 0 (δ ? )
√
=
= O(1)
log
1
+
√
0 ?
?
θ1 F 0 (δ ? )
g1 (−1)
δ ? −1/ λ θ1 F (δ )(δ − δ) + g1 (−1)/ λ


where the last equality follows Lemma A.11.
Lemma A.16 Assume that the conditions of Proposition 13 hold true. Then
Z 1
dδ
log(λ)
B0 (λ) ≡
=
+ O(1)
r+γ
0 ?
0
?
?
2θ
0 F (δ )
δ ? λ + θ0 F (δ )(δ − δ ) + 1 − s − Φ0 (δ)
as the meeting rate λ → ∞.



Proof. The proof is similar to that of Lemma A.15. We omit the details.

A.5

Additional results

Lemma A.17 The steady-state expected time to trade is given by

Z
ηq (δ) = 1 −

1

0

γdF (δ 0 )
γ + λq (δ 0 )

−1

1
.
γ + λq (δ)

The steady-state expected time to trade is decreasing in δ for non-owners, increasing in δ for owners, and
decreasing in λ for both owners and non-owners.
Proof of Lemma A.17. Consider an agent of ownership type q and denote his utility type process by δt .
The next time this agent trades is the first time %q at which he meets an agent of ownership type 1 − q whose
utility type is such that
(2q − 1)(δ 0 − δτ ) ≥ 0.
In the steady state, the arrival rate of this event is
λq (δt ) = λq(1 − s − Φ0 (δt )) + λ(1 − q)Φ1 (δt ),
and it follows that
Z

∞



−

td 1 − e

ηq (δ) = E[%q ] = E

Rt
0

λq (δs )ds



0

Z

∞

e

=E

−

Rt
0

λq (δs )ds


dt .

0

Let σ denote the first time that the agent’s utility type changes. Combining the above expression with the
law of iterated expectations gives
Z σ R

R
− 0t λq (δs )ds
− 0σ λq (δs )ds
e
dt + e
ηq (δσ )
(85)
ηq (δ) = E
0
Z σ



Z 1
1
0
0
−λq (δ)t
−λq (δ)σ
=E
e
dt + e
ηq (δσ ) =
1+γ
ηq (δ )dF (δ ) ,
γ + λq (δ)
0
0

73

where the second equality follows from the fact that the agent’s utility type rate is constant over [[0, σ]], and
the third equality follows from the fact that

P {σ ∈ dt} ∪ {δσ ≤ δ 0 } = γe−γt F (δ 0 )dt.
Integrating both sides of (85) against the cumulative distribution function F (δ) and solving the resulting
equation gives
Z

1

0

0



ηq (δ )dF (δ ) =

1+γ

Z
1−γ
0

0

1

dF (δ 0 )
γ + λq (δ 0 )

−1
,

and substituting back into (85) gives
1
ηq (δ) =
γ + λq (δ)



Z
1−γ
0

1

dF (δ 0 )
γ + λq (δ 0 )

−1
.

(86)

Now assume that the cumulative distribution function F (δ) is continuous. Combining Proposition 4 with
Lemma A.8 and the change of variable formula for Stieltjes integrals shows that the integral on the righthand side can be calculated as
Z 1
Z 1
dF (δ 0 )
γdx
γ
=
= κ(γ/λ, Φq (1)),
0
0 γ + λq (δ )
0 γ + λq(1 − s − x) + λ`(x)
where the function `(x) is in (51) and we have set

 



1+a
1+a
1+a
κ(a, x) = 1 + a log
+ 1−
log
.
a
x
1+a−x
Substituting this expression back into (86) and simplifying the result gives the explicit formula for the
waiting time reported in the statement.
The comparative statics with respect to δ follow from (86) and the fact that λq (δ) is increasing in δ for
owners and decreasing for non-owners. On the other hand, a direct calculation shows that
λ

2
∂ 2 λq (δ)
2 ∂ Φ1 (δ)
=
φ
,
∂λ2
∂φ2

where we have set φ = γ/λ. Since Φ1 (δ) is concave in φ (see the proof of Lemma A.7 below), this shows
that λq (δ) is concave in the meeting rate, and it follows that
∂λq (δ)
∂λq (δ)
∂Φ1 (δ)
≥ lim
= lim q(1 − s − Φ0 (δ)) + lim (1 − q)Φ1 (δ) + lim λ
λ→∞
λ→∞
λ→∞
λ→∞
∂λ
∂λ
∂λ
+
−
= q(1 − s − F (m)) + (1 − q)(1 − s − F (m)) ≥ 0,

74

where the second equality results from Lemma A.7 and the fact that
lim λ

λ→∞

∂Φ1 (δ)
∂Φ1 (δ)
= − lim φ
φ→0
∂λ
∂φ
φs(1 − s)F (δ)(1 − F (δ))
= − lim
=0
φ→0 (φ + Φ1 (δ) + (1 − s)(1 − F (δ)))Λ(δ)

due to (50). This shows that λq (δ) is an increasing function of λ, and the desired result now follows from
(86) by noting that the distribution function F (δ) does not depend on the meeting intensity.
To complete the proof, it remains to establish the comparative statics with respect to the asset supply.
An immediate calculation shows that


∂λq (δ)
∂Φ1 (δ)
=λ
−q
∂s
∂s
and the result for non-owners follows from Lemma A.7 below. Now consider asset owners. Since
∂ 2 Φ1 (δ)
2γ(1 + φ)F (δ)(1 − F (δ))
∂ 2 λ1 (δ)
=
=
≥ 0,
2
2
∂s
∂s
Λ(m)3
we have that λ1 (δ) is convex in s, and it now follows from (49) that


∂λ1 (δ)
∂λ1 (δ)
(1 + φ)F (δ)
≤
=λ
− 1 ≤ 0.
∂s
∂s s=1
φ + F (δ)
This shows that λ1 (δ) is decreasing in s, and the desired result now follows from (86) by noting that the
function F (δ) does not depend on s.

Because a non-owner with utility type δ ∈ [0, 1] only buys from owners with utility types δ 0 ≤ δ, we
have that the expected buying price is given by
Z
p0 (δ) = θ1 ∆V (δ) + θ0
0

δ

∆V (δ 0 )

dΦ1 (δ 0 )
.
Φ1 (δ)

Similarly, because an owner with utility type δ only sells to non-owners with utility types δ 0 ≥ δ, we have
that the expected selling price is given by
Z 1
dΦ0 (δ 0 )
p1 (δ) = θ0 ∆V (δ) + θ1
∆V (δ 0 )
.
1 − s − Φ0 (δ− )
δ−
Our next result establishes formally that the expected buying and selling prices are both increasing in utility
type, while the effect of increasing the meeting rate is ambiguous.
Lemma A.18 The expected trading price pq (δ) is increasing in δ ∈ [0, 1] for q ∈ {0, 1}, but can be nonmonotonic in λ.
Proof of Lemma A.18. Because the reservation value function is absolutely continuous in δ ∈ [0, 1], it

75

follows from an integration by parts that the expected buyer price can be written as


Z δ
Φ1 (δ 0 )
σ(δ 0 ) 1 −
dδ 0
p0 (δ) = θ1 ∆V (δ) + θ0 ∆V (0) + θ0
Φ
(δ)
1
0


Z δ
Z δ
0)
Φ
(δ
Φ1 (δ 0 )
1
0
0
0
σ(δ )
= ∆V (δ) − θ0
σ(δ ) 1 − θ0
dδ 0 .
dδ = ∆V (0) +
Φ
(δ)
Φ
(δ)
1
1
0
0
The required monotonicity now follows by observing that σ(δ 0 ) is nonnegative and that the function in the
bracket under the integral sign is increasing in δ. Similarly, the expected seller price can be written as


Z 1
1 − s − Φ0 (δ 0 )
0
σ(δ ) 1 − θ1
p1 (δ) = ∆V (1) −
dδ 0 ,
1
−
s
−
Φ
(δ−)
0
δ
and the required monotonicity follows by observing that the function in the bracket under the integral sign
is decreasing in δ.

Lemma A.19 The spread between the highest and lowest realized price is
Z
∆V (δ) − ∆V (δ) =
δ

δ

dδ
.
r + γ + λθ1 (1 − s − Φ0 (δ)) + λθ0 Φ1 (δ)

where the constants 0 < δ ≤ δ < 1 denote the endpoints of the support of the distribution of utility types.
The spread between the highest and lowest realized price is decreasing in both the meeting rate, λ, and the
arrival rate of preference shocks, γ.
Proof of Lemma A.19. The expression for the spread follows directly from the explicit expression for the
steady state reservation values in (20). To establish the second part we write
1
= r + γ + λ(1 − s − F (δ)) + λΦ1 (δ) = r + γ + θ1 λ0 (δ) + θ0 λ1 (δ)
σ(δ)
and observe that the steady state distribution Φ1 (δ) is increasing in γ by Corollary 2, and that λq (δ) is
increasing in λ as shown in the proof of Lemma A.17.


B

The welfare cost of frictions

In this appendix, we briefly study the asymptotic impact of frictions on welfare. To this end we start by
noting that in the context of our model the welfare cost of misallocation can be defined as
Z
C(λ) ≡ −

δ?

Z

1

δdΦ1 (δ) +
0

δ?

Z
δdΦ0 (δ) =

δ?

Z

1

(1 − s − Φ0 (δ))dδ

Φ1 (δ)dδ +
0

δ?

where the second equality follows from an integration by parts. The two terms on the right-hand side of this
definition capture the two types of misallocation arising in our model. The first term accounts for the utility
derived by investors who hold an asset when they should not, and the second term account for the utility not
derived by investors who should hold an asset.

76

Proposition B.1 Assume that the distribution of utility types is twice continuously differentiable with a
derivative that is bounded away from zero. Then
 
γs(1 − s) log(λ)
1
C(λ) =
+
O
.
F 0 (δ ? )
λ
λ
By contrast, with a discrete distribution of utility types, the convergence rate of the welfare cost to zero is
generically equal to 1/λ.
Proof. The quadratic equation for the equilibrium distribution and the assumed continuity of the distribution
of utility types jointly imply that
λΦ1 (δ) =

γsF (δ)
,
γ/λ + Φ1 (δ) + F (δ ? ) − F (δ)

and combining this identity with arguments similar to those we used in the proof of Lemma A.14 shows that
the first integral in the definition of the welfare cost satisfies
δ?

Z


λΦ1 (δ) −

0

γsF (δ ? )
γ/λ + Φ1 (δ) + F 0 (δ ? ) (δ ? − δ)


dδ = O(1).

(87)

On the other hand, the same arguments as in the proof of Lemma A.15 imply that


Z δ?
γsF (δ ? )dδ
γsF (δ ? )
F 0 (δ ? )
≤
log 1 +
= O(1)
√
0 ?
?
F 0 (δ ? )
g1 (−1)
δ ? −1/ λ γ/λ + Φ1 (δ) + F (δ ) (δ − δ)
and combining this inequality with (87) gives
Z

δ?

Z
λΦ1 (δ)dδ =

0

0

√
δ ? −1/ λ

γsF (δ ? )
dδ + O(1).
γ/λ + Φ1 (δ) + F 0 (δ ? ) (δ ? − δ)

√
To obtain a lower bound for the integral, we can bound Φ1 (δ) above by Φ1 (δ ? − 1/ λ), and to obtain an
upper bound, we can bound Φ1 (δ) below by zero. In both cases, we can compute the resulting integral
explicitly and we find that the upper and the lower bound can both be written as
γsF (δ ? )
γs(1 − s)
log(λ) + O(1) =
log(λ) + O(1).
2F 0 (δ ? )
2F 0 (δ ? )
Going through the same steps shows that the second integral satisfies
Z 1
γs(1 − s)
λ (1 − s − Φ0 (δ)) dδ =
log(λ) + O(1)
2F 0 (δ ? )
δ?
and the desired result now follows by adding up the asymptotic expansions of the two integrals. In order to
complete the proof assume that the distribution of utility types is discrete. Using the same notation as in the

77

proof of Proposition 12 we find that
C(λ) =

m−1
X

(δi+1 − δi )Φ1 (δi ) +

i=0

I
X

(δi+1 − δi )(1 − s − F (δi ) + Φ1 (δi ))

i=m

and the desired conclusion follows from the expansion of Φ1 (δi ) given in equation (81).



The proposition shows that, as was the case for price levels and price dispersion, search frictions have a larger
welfare impact when the distribution of utility types is continuous, than when it is discrete. It also shows
that the welfare cost of frictions may be accurately measured by the observed amount of price dispersion
because the two quantities converge to their frictionless counterparts at the same speed.

C

Non-stationary initial conditions

Assume that the initial distribution of utility types in the population is given by an arbitrary cumulative
distribution function F0 (δ), which need not even be absolutely continuous with respect to F (δ). Since the
reservation values of Proposition 2 are valid for any joint distribution of types and asset holdings, we need
only to determine the evolution of the equilibrium distributions in order to derive the unique equilibrium.
Consider first the distribution of utility types in the whole population. Since upon a preference shock
each agent draws a new utility type from F (δ) with intensity γ, we have that
Ḟt (δ) = γ(F (δ) − Ft (δ)).
Solving this ordinary differential equation shows that the cumulative distribution of utility types in the whole
population is explicitly given by
Ft (δ) = F (δ) + e−γt (F0 (δ) − F (δ))
and converges to the long-run distribution F (δ) in infinite time. On the other hand, the same arguments as
in Section 3.2 show that in equilibrium the distributions of perceived growth rate among the population of
asset owners solves the differential equation
Φ̇1,t (δ) = −λΦ1,t (δ)2 − λ(1 − s − Ft (m) + Φ1,t (δ)) + γ(sF (δ) − Φ1,t (δ)).
Given an initial condition satisfying the accounting identity
Φ0,0 (δ) + Φ1,0 (δ) = F0 (δ)
this Riccati equation admits a unique solution that can be expressed in terms of the confluent hypergeometric
function of the first kind M1 (a, b; x) (see Abramowitz and Stegun (1964)) as
λΦ1,t (δ) = λ(Ft (m) − Φ0,t (δ)) =

Ẏ+,t (δ) − A(δ)Ẏ−,t (δ)
Y+,t (δ) − A(δ)Y−,t (δ)

78

(88)

with
Y±,t (δ) = e−λZ± (δ)t W±,t (δ)
1
1
Z± (δ) = (1 − s + γ/λ − F (δ)) ± Λ(δ)
2 
2

λ
λ
−γt λ
W±,t (δ) = M1
Z± (δ), 1 ± Λ(m); e
(F (δ) − F0 (δ))
γ
γ
γ

(89)

and
A(δ) =

Ẏ+,0 (δ) − λΦ1,0 (δ)Y+,0 (δ)
.
Ẏ−,0 (δ) − λΦ1,0 (δ)Y−,0 (δ)

The following lemma relies on standard properties of confluent hypergeometric functions to show that the
above cumulative distribution function converges to the same steady-state distribution as in the case with
stationary initial condition.
Lemma C.1 The equilibrium distributions defined by (88) satisfy limt→∞ Φq,t (δ) = Φq (δ) for any initial
distributions F0 (δ) and F1,0 (δ).
Proof. Straightforward algebra shows that (88) can be rewritten as
λΦ1,t (δ) =

λZ+ (δ)W+,t (δ) − Ẇ−,t (δ) + eλΛ(δ)t A(δ)(Ẇ+,t (δ) − λZ− (δ)W−,t (δ))
.
eλΛ(δ)t A(δ)W−,t (δ) − W+,t (δ)

On the other hand, using standard properties of the confluent hypergeometric function of the first kind it can
be shown that we have
lim Ẇ±,t (δ) = lim (1 − W±,t (δ)) = 0

δ→∞

δ→∞

and combining these identities we deduce that
lim λΦ1,t (δ) = −λZ− (δ) + lim

δ→∞

δ→∞

Ẇ+,t (δ)
= −λZ− (δ) = λΦ1 (δ),
W−,t (δ)

where the last equality follows from (89) and the definition of the steady-state distribution Φ1 (δ).



Given the joint distribution of types and asset holdings the equilibrium can be computed by substituting the
equilibrium distributions into (12) and (13), and the same arguments as in the stationary case show that this
equilibrium converges to the same steady-state equilibrium as in Theorem 1.

D

Marketmakers

Assume that in addition to a continuum of agents, the market also includes a unit mass of competitive
marketmakers who have access to a frictionless interdealer market and keep no inventory. An agent contacts
marketmakers with intensity α ≥ 0. When an agent meets a market maker, they bargain over the terms of
a potential trade, and we assume that the result of this negotiation is given by the Nash bargaining solution
with bargaining power 1 − z ∈ [0, 1] for the market maker.

79

D.1

Pricing in the interdealer market

Let Πt denote the asset price on the interdealer market and consider a meeting between a market maker and
an investor of type δ ∈ [0, 1] who owns q ∈ {0, 1} units of the asset. Such a meeting results in a trade if and
only if the trade surplus
Sq,t (δt ) = (2q − 1)(Πt − ∆Vt (δ)) = (2q − 1)(Πt − V1,t (δ) + V0,t (δ))
is nonnegative, in which case the assumption of Nash bargaining implies that the realized price is
P̂t (δ) = (1 − z)∆Vt (δ) + zΠt .
If reservation values are increasing in type, which we show is the case below, then there must be a cutoff
wt ∈ [0, 1] such that only owners of type δ ≤ wt are willing to sell, while only those non-owners of type
δ ≥ wt are willing to buy. Since marketmakers must be indifferent to trading with marginal agents this, in
turn, implies that the price on the interdealer market is Πt = ∆Vt (wt )
To determine the cutoff we use the fact that the positions of marketmakers must net out to zero because
they keep no inventory. The total mass of owners who contact marketmakers to sell is αΦ1,t (wt ). On the
other hand, the total mass of non-owners who contact marketmakers to buy is
α(1 − s − Φ0,t (wt ) + ∆Φ0,t (wt )).
Because the distribution of utility types can have atoms, some randomization may be required at the margin.
Taking this into account shows that the interdealer market clearing condition is
Φ1,t (wt ) − (1 − π1,t )∆Φ1,t (wt ) = 1 − s − Φ0,t (wt ) + π0,t ∆Φ0,t (wt )

(90)

where πq,t ∈ [0, 1] denotes the probability with which marketmakers execute orders from marginal agents.
Since the distribution is by assumption not flat at the supply level, this condition implies that the cutoff
is uniquely given by wt ≡ δ ? for all t ≥ 0, and it now remains to determine the execution probabilities.
Two cases may arise depending on the properties of the distribution. If F (δ ? ) = 1 − s, then the execution
probabilities are uniquely defined by πq,t = q, and only marginal buyers get rationed in equilibrium. On the
contrary, if the cutoff is an atom, then the execution probabilities are not uniquely defined. In this case, one
may, for example, take
π0,t = 1 − π1,t =

F (δ ? ) − (1 − s)
∆F (δ ? )

so that a fraction of both marginal buyers and marginal sellers get rationed in equilibrium, but many
other choices are also compatible with market clearing. By construction, this choice has no influence on
the welfare of agents, and we verify below but it also does not have any impact on the evolution of the
equilibrium distribution of utility types.

80

D.2

Equilibrium value functions

Taking as given the evolution of the joint distribution of types and asset holdings, and proceeding as in
Section 3.1 shows that the reservation value function solves

Z σ
−r(u−t)
−r(σ−t)
∆Vσ (δ) + 1{σ=τα } z (∆Vσ (δ ? ) − ∆Vσ (δ))
(91)
e
δdu + e
∆Vt (δ) = Et
t
Z 1
+ 1{σ=τγ }
(∆Vσ (δ 0 ) − ∆Vσ (δ))dF (δ 0 )
0
Z 1
+ dΦ0,σ (δ 0 )
∆Vσ (δ 0 ) − ∆Vσ (δ)
+ 1{σ=τ0 } θ1
1−s
0
Z 1
0 

0 + dΦ1,σ (δ )
∆Vσ (δ) − ∆Vσ (δ )
− 1{σ=τ1 } θ0
s
0
subject to (8), where τα is an exponentially distributed random variable with parameter α that represents a
meeting with a market maker, and σ = min{τ0 , τ1 , τγ , τα }. Comparing this equation with (7) shows that the
reservation value function in an environment with marketmakers is isomorphic to that which would prevail
in an environment where there are no marketmakers, the distribution of types is


γ
γ
F̂ (δ) ≡
F (δ) + 1 −
1{δ≥δ? } ,
δ ∈ [0, 1],
γ + αz
γ + αz
and the arrival rate of type changes is γ̂ = γ + αz. Combining this observation with Proposition 1 delivers
the following characterization of reservation values in the model with marketmakers.
Lemma D.1 There exists a unique function that satisfies (91) subject to (8). This function is uniformly
bounded, strictly increasing in space, and given by

Z ∞
Z δ


∆Vt (δ) =
e−r(u−t) δ −
σ̂u (δ 0 ) γ̂ F̂ (δ 0 ) + λθ0 Φ1,u (δ 0 ) dδ 0
t
0
Z 1

 
0
0
0
+
σ̂u (δ ) γ̂(1 − F̂ (δ )) + λθ1 (1 − s − Φ0,u (δ )) dδ 0 du,
δ

where the local surplus σ̂t (δ) is defined as in (12) albeit with γ̂ in place of γ.

D.3

Equilibrium distribution of types

Because agents can trade both among themselves and with marketmakers, the evolution of the equilibrium
distributions must include additional terms to reflect the new trading opportunities.
Consider the group of asset owners with utility type δ 0 ≤ δ. In addition to the entry channels of the
benchmark model, an agent may enter this group because he is a non-owner with δ 00 ≤ δ who buys one unit
of the asset from a market maker. The contribution of such entries is

Et (δ) = α (Φ0,t (δ) − Φ0,t (δ ? ))+ + 1{δ? ≤δ} π0,t ∆Φ0,t (δ ? )
where the last term takes into account the fact that not all meetings with marginal buyers result in a trade.
On the other hand, an agent may exit this group because he is an asset owner with δ 00 ≤ δ who sells to a

81

market maker. The contribution of such exits is

Xt (δ) = α Φ1,t (δ ∧ δ ? ) − 1{δ? ≤δ} (1 − π1,t )∆Φ1,t (δ ? ) .
Gathering these contributions and using (90) shows that the total contribution of intermediated trades is
explicitly given by
Et (δ) − Xt (δ) = −αΦ1,t (δ) + α(1 − s − F (δ))− .
Finally, combining this with (17) shows that the rate of change is given by
Φ̇1,t (δ) = −λΦ1,t (δ)2 − Φ1,t (δ) (γ + λ(1 − s − F (δ)))
− αΦ1,t (m) + γsF (δ) + α(1 − s − F (m))−
and does not depends on the choice of the probabilities π0,t and π1,t with which marketmakers execute
orders from marginal agents. To solve this Riccati differential equation, let
1
1
Φ1 (δ) = − (1 − s + γ/λ + α/λ − F (δ)) + Ψ(δ)
2
2

(92)

with
q
Ψ(δ) =

(1 − s + γ/λ + α/λ − F (δ))2 + 4s(γ/λ)F (δ) + 4(α/λ)(1 − s − F (δ))−

denote the steady-state distribution of owners with utility type less than δ, i.e., the unique strictly positive
solution to Φ̇1,t (δ) = 0. The following results are the direct counterparts of Proposition 4 and Corollary 2
for the model with marketmakers.
Proposition D.2 At any time t ≥ 0 the measure of the set asset owners with utility type less than or equal
to δ ∈ [0, 1] is explicitly given by
Φ1,t (δ) = Φ1 (δ) +

(Φ1,0 (δ) − Φ1 (δ)) Ψ(δ)

Ψ(δ) + (Φ1,0 (δ) − Φ1 (δ) + Ψ(δ)) eλΨ(δ)t − 1

(93)

and converges pointwise monotonically to Φ1 (δ) from any initial condition satisfying (1) and (2).
Proof. The proof is analogous to that of Proposition 4.



Corollary D.3 The steady-state measure Φ1 (δ) is increasing in γ and decreasing in λ, and it converges to
the frictionless measure Φ?1 (δ) as γ/λ → 0.
Proof. The proof is analogous to that of Corollary 2 and Proposition 10.

D.4



Equilibrium

Definition 2 An equilibrium is a reservation value function ∆Vt (δ) and a pair of distributions Φ0,t (δ) and
Φ1,t (δ)) such that: the distributions satisfy (1), (2) and (93), and the reservation value function satisfies (7)
subject to (8) given the distributions.

82

As in the benchmark model without marketmakers, a full characterization of the unique equilibrium follows
immediately from our explicit characterization of the reservation value function and the joint distribution of
types and asset holdings.
Theorem D.4 There exists a unique equilibrium with marketmakers. Moreover, given any initial conditions
satisfying (1) and (2), this equilibrium converges to the steady-state distributions of equation (92) and the
reservation value function of equation (20) albeit with (γ̂, F̂ (δ)) in place of (γ, F (δ)).
Relying on Theorem D.4, it is possible to derive the counterparts of our results regarding the expected
time to trade, the equilibrium trading volume, the equilibrium misallocation, and the asymptotic price impact
of search frictions for the model with marketmakers, and verify that the corresponding predictions are
qualitatively similar to those of the benchmark model.

83

