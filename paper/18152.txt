NBER WORKING PAPER SERIES

THE DEMAND OF LIQUID ASSETS WITH UNCERTAIN LUMPY EXPENDITURES
Fernando Alvarez
Francesco Lippi
Working Paper 18152
http://www.nber.org/papers/w18152
NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
June 2012

We thank David Andolfatto, Avner Bar-Ilan, Cyril Monnet, and Julio Rotemberg for their comments.
Alvarez thanks the Templeton foundation for financial support. We are grateful to Helmut Stix for
kindly providing us with the Austrian data, and to Luigi Guiso and Unicredit Bank for giving us access
to the Italian investors’ data. An earlier version of this paper circulated under the title “The demand
for currency with uncertain lumpy purchases”. See Alvarez personal webpage for full disclosure of
sources of finding and relevant financial relationships. The views expressed herein are those of the
authors and do not necessarily reflect the views of the National Bureau of Economic Research.
At least one co-author has disclosed a financial relationship of potential relevance for this research.
Further information is available online at http://www.nber.org/papers/w18152.ack
NBER working papers are circulated for discussion and comment purposes. They have not been peerreviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.
© 2012 by Fernando Alvarez and Francesco Lippi. All rights reserved. Short sections of text, not to
exceed two paragraphs, may be quoted without explicit permission provided that full credit, including
© notice, is given to the source.

The Demand of Liquid Assets with Uncertain Lumpy Expenditures
Fernando Alvarez and Francesco Lippi
NBER Working Paper No. 18152
June 2012
JEL No. E41
ABSTRACT
We consider an inventory model for a liquid asset where the per-period net expenditures have two
components: one that is frequent and small and another that is infrequent and large. We give a theoretical
characterization of the optimal management of liquid asset as well as of the implied observable statistics.
We use our characterization to interpret some aspects of households’ currency management in Austria,
as well as the management of demand deposits by a large sample of Italian investors.
Fernando Alvarez
University of Chicago
Department of Economics
1126 East 59th Street
Chicago, IL 60637
and NBER
f-alvarez1@uchicago.edu
Francesco Lippi
University of Sassari
Department of Economics
and EIEF
via Sallustiana, 62
00184 Rome - Italy
and CEPR
flippi@uniss.it

1

Introduction

This paper studies some implications of uncertain lumpy purchases for the management of
liquid assets in the context of inventory theoretical models. By lumpy purchases we mean
large-sized expenditures that must be paid with a liquid asset. The paper accomplishes
three objectives. First, it shows that some of the theoretical predictions of this problem are
in stark contrast compared to those of canonical inventory models. In particular, a novel
feature introduced by the lumpy purchases is the possibility that liquidity gets withdrawn
and spent immediately. This feature changes the relationship between the size of liquidity
withdrawals and the average liquidity holdings compared to canonical models. Equivalently,
this affects the relationship between the average cash holdings and its “scale variable”, e.g.
the average expenditures in a period. Second, our analysis of the optimal policy breaks
some new ground on the mathematical analysis of inventory models, as the solution of the
model with jumps turns out to be non-trivial. For instance, we show that the standard
boundary conditions used to characterize the optimal policy are necessary but not sufficient,
for an optimum. Third, the paper brings new evidence to bear on the model predictions
concerning households’ liquidity management. We use two novel datasets of Austrian and
Italian households to summarize the main patterns in the data concerning the management
of currency and of broader liquid assets. We show that our model can explain some empirical
regularities that traditional models cannot account for. Although this paper focuses on
households, mostly because of data availability, our model has clear implications for the
management of liquid assets by firms, and reserve management by banks, which we discuss
in the concluding section.
The standard inventory model solves the problem of an agent trading off the holding cost
of an inventory with the cost of adjusting the inventory. In simple models the inventories
are assumed to be needed to finance an exogenous consumption flow (for households), or net
sales (for firms). These models are typically set up in continuous time and the uncontrolled
dynamics of inventories is described by a process with continuous paths. The classic examples
1

of this setup when applied to households are Baumol (1952), Tobin (1956), where the process
describes the household’s consumption that needs to be paid with currency. When applied
to firms, as in Miller and Orr (1966), the process is the firm’s net cash revenue. In this case
one of the inventory cost is given by the low return the liquid asset. This paper studies the
implications for cash-management of having lumpy uncertain purchases: thus we explore the
consequences of departing from the assumption that net cash consumption has continuous
paths, allowing the unregulated inventories to follow a jump process.
The ideas in this paper can be sketched in the context of a simple model. Suppose that
in each period the agent must finance a consumption in cash of size c per unit of time and
also that with a probability κ per unit of time the agent must make a cash payment of
size z. In this case the expected consumption to be financed with cash is e = c + κz per
unit of time. One strategy for the agent is to withdraw enough money so that, at least if
this happens soon after the time of the withdrawal, all payments can be financed with the
cash at hand. This strategy has the advantage of saving on the adjustment cost, but it
has the disadvantage of incurring a holding cost on the inventory of cash. The inventory
cost increases with the purchase size z, since the agent has to withdraw more money. An
alternative strategy is to withdraw money when the purchase z happens. This strategy saves
in holding cost, since the agent spends the money right away, but it involves paying the
adjustment cost more frequently. This strategy is preferred when the probability κ is small.
Thus, as the size of the large purchases z increases, and/or as they become infrequent (κ
small), the optimal policy is to withdraw every time the large purchase occurs. In this simple
extreme case the expected value of large purchases κz has no effect on the average cash
holdings. The size of the withdrawal, when triggered by a large purchase, increases by the
amount of this purchase, and an amount z of cash is spent immediately. These results, in
some sense, turn the logic of the classical model up-side down: cash is not spent slowly and
adjustment is not triggered by the crossing of some sS bands. Instead, it is the arrival of the
large purchase that triggers an adjustment and a simultaneous withdrawal and large use of

2

cash. While κz has no effect on the average cash holdings, its magnitude affects the average
size of withdrawals, and hence W/M is increasing in κz. The high value of W/M also implies
that the number of withdrawals per unit of time n is small relative to the benchmark of
the Baumol-Tobin model for an agent financing the same consumption e. The economics is
simple: the withdrawals that are triggered by large purchases account for a large share of
cash expenditures e and contribute nothing to average money holdings. Additionally, if every
random large expenditures triggers a withdrawal, agents on average hold cash at the time of
withdrawals, a behavior that can be described as “precautionary”.
There is a large literature on inventory models applied to liquid assets. Most of the
literature assumes that the cumulated net cash consumption has continuous path, hence not
allowing for lumpy purchases or sales. Examples are Baumol (1952), Tobin (1956), Miller
and Orr (1966) among many others.1 One exception is the work by Bar-Ilan, Perry, and
Stadje (2004). The set up of that paper includes lumpy purchases and sales using a more
general specification than the one in this paper. They compute the value of selected policies,
but do not characterize the nature of the optimal decision rules. In this paper, instead,
we give a characterization of the optimal policy which, from the technical point is view, is
not a trivial matter since it has to address two issues: (i) the form of the inaction set, i.e.
whether it is a single interval or the union of disjoint ones; and (ii) whether the necessary
boundary conditions are also sufficient, which turns out not to be the case for this problem.
Additionally, the focus of our paper is different, we concentrate on the implications for the
cash management statistics and on the differences with standard models.
We present two empirical applications of our model. The first one uses two surveys on
currency management, from Italian and Austrian households. Both surveys contain information on the patterns of cash management: the average consumption paid with cash per
period e, the average cash holdings M, average withdrawal size W , average number of with1

Other examples are Eppen and Fama (1969), Constantinides (1978), Constantinides and Richard (1978),
Frenkel and Jovanovic (1980), Harrison, Sellke, and Taylor (1983), Harrison and Taskar (1983), Bar-Ilan
(1990), Duffie and Sun (1990), Abel, Eberly, and Panageas (2007), Baccarin (2009), Bensoussan, Chutani,
and Sethi (2009), and Alvarez and Lippi (2009).

3

drawals per unit of time n, and average cash holdings at the time of withdrawal M. Besides
that, the Austrian data set contains information on the patterns of purchase size, recorded
in a consumption diary held by the same individuals to whom the survey was administered
(see the description in Mooslechner, Stix, and Wagner (2006)). The diary data show that,
for a non-negligible fraction of individuals, the assumption that large purchases are paid in
currency is realistic. We use the diary and survey information to investigate some of the
predictions of our model by comparing individuals that differ in the importance of the lumpy
component of their expenditures paid with currency. In Section 4.1 we present evidence on
several statistics, such as the frequency and size of withdrawal relative to the average holding
of currency holdings, that is supportive of the mechanism highlighted in the model. The
second application, in Section 4.2, focuses on a broader liquid assets, close to M2, using data
from a sample of Italian customers of a large commercial bank described in Alvarez, Guiso,
and Lippi (2011). We argue that accounting for the lumpy nature of purchases, as in the case
of e.g. durable purchases, seems important to understand the management of liquid assets.
The paper is organized as follows. Section 2 outlines the main idea of the paper using
a simple deterministic model. A stochastic version of the model is discussed in Section 3,
where various specifications are explored. Section 4 illustrates two empirical applications of
the model. Section 5 has conclusions and directions for future research.

2

A deterministic model with lumpy purchases

This section develops a simple version of the Baumol-Tobin (BT) model where the consumption paid in cash has two deterministic components, one continuous at the rate c per unit of
time and the other discontinuous, with jumps of size z, exactly every 1/κ periods of time.
Thus, total consumption per unit of time is e ≡ c + zκ, the sum of the cumulative consumption at the rate c plus the κ jumps in consumption, each of them of size z. These jumps on
the cash consumption in the model are meant to be a simple representation of the fact that

4

households’ purchases varies in size. The objective function, as in BT, is to minimize the
cost V given by V = RM + bn where M is the average cash balances, R is the opportunity
cost of the cash balances, n is the number of withdrawals per unit of time, and b is the fixed
cost paid for each withdrawal.
It turns out that the optimal policy is of one of three types, depending on parameters.
When κ is small, the agent withdraws every 1/(i κ) units of time, where i ≥ 1. In this case,
there are i withdrawals between jumps in cumulative consumption, and n > κ. One of the
withdrawals will happen just before the jump z, and hence financing the discontinuous part
of consumption is done at no cost. If κ is large, the agent makes a withdrawal every j/κ
units of time, where j ≥ 1. In this case there are j jumps in cumulated consumption between
successive withdrawals, or n < κ. Thus the agent will only “save” on the opportunity cost
of the associated consumption z once every j jumps between withdrawals. For intermediate
values of κ, withdrawals happen exactly every 1/κ periods of time, or n = κ.
We define two thresholds κ and κ̄(z), which determine the patterns of cash management:

κ≡

r

Rz +
Rc
≤ κ̄(z) ≡
2b

p

(Rz)2 + 8bRc
.
4b

Note that κ = κ̄(0) and that κ̄ is strictly increasing in z. To simplify the description we will
assume that a certain combination of parameters takes on integer values. Define u as follows:

u ≡ max

(r

Rc
,
2 b κ2

s

κ2 2 b
R (c + κz)

)

.

For the description of the optimal policy we let W be the average withdrawal size, so W/M
is the ratio of average withdrawal to average stock of money. We have:
Proposition 1.

Assume that if u > 1, then u is an integer. Then the optimal decision

5

rules and the value of the objective function V are given by:

If κ < κ
If κ ≤ κ ≤ κ̄(z)
If κ > κ̄(z)

√
W/M
Rc
c + κz
>κ,
=
, and V = 2 R b c ,
2b
2
c
W/M
Rc
c + κz
: n=κ,
=
and V =
+ bκ ,
2
c
2
r
W/M
R (c + zκ)
c + κz
: n=
<κ,
=
and
2b
2
c + z(κ − n)
p
Rz
V = 2 R b (c + κz) −
.
2

:

n=

r

Using the accounting identity W n = c + κz and the expressions in the proposition one
can find the values of W and M separately. The interpretation of this proposition is as
follows: when κ is small relative to what determines the frequency of withdrawals in BT,
then the jumps can be made coincide with one of the many withdrawals. In this case, the
agent will withdraw the extra amount z and spend it immediately. Thus the cash expenditure
associated with the jump does not incur into any opportunity cost since that cash is held
only for an instant. Also, the agent does not incur any extra fixed cost b, since it has to
withdraw to finance the continuous expenditure anyway. As a consequence, the decision for
the agent on the number of withdrawals n is exactly as in BT, but it is as if the consumption
to be financed is c, instead of c + κz. This can be seen from the expression for n and V . The
expression for W/M is larger than 2, since at the time of a jump in consumption the agent
withdraws an extra amount z, which is spent immediately and does not contribute to the
average money holdings M. On the other hand, consider the case where κ is large, so that
the agent will like to withdraw several times between jumps. In this case, only the first of
the jump, the one that occurs immediately after a withdrawal will have no opportunity cost
associated with it. Otherwise, the decisions are as if the agent has to finance c + κz in the
BT model. This can be seen in the expression for n, which is the same as in BT, and in the
one for V , which is identical, except that it subtracts the “savings” in the opportunity cost

6

for one jump per period. The ratio of W/M depends on how large this jumps are, i.e. on z.
The following extreme case may help to understand the model for large κ. Assume that κ
is very large, but z is very small, so there are very frequent jumps of small size, keeping the
product zκ = γ positive and finite. As the jumps become very small, the model is identical
to BT, with total consumption c + κz. This can be seen in the case where κ > κ̄(z), and
taken the limit to z to zero. We now develop the comparison with BT in detail.
p
Let us denote by nBT = R (c + zκ)/(2 b) the optimal decision if one were to measure

the total cash consumption c + zκ and assume that it is continuous as in BT. Also we recall
that in BT the ratio W/M = 2 since cash consumption is constant per unit of time (z = 0).
We then compute two ratios, n/nBT and (W/M)/2, as functions of κ. These are useful to

compare the prediction with BT. We have
n
If κ ≤ κ =⇒
=
nBT

r

c + κz
c
W/M
,
=
,
c + κz
2
c
s
n
κ2 2 b
W/M
c + κz
If κ < κ < κ̄(z) =⇒
=
≤ 1,
=
,
nBT
R (c + κz)
2
c
If κ ≥ κ̄(z) =⇒

n
W/M
= 1, 1 ≤
=
nBT
2

c + κz
q
c + κz − z R

(c+κz)
2 b

<

c + κz
.
c

Notice that in terms of the statistics W/M and n/nBT the implications of the model when
κ < κ depend only the value of zκ, and not separately on κ and z, a feature that will be
shared by the model in Section 3.3. There are two extreme cases that are useful to highlight.
Keeping the product zκ = γ > 0, strictly positive and finite, we have:

lim z = 0, lim κ = ∞
lim z = ∞, lim κ = 0

W/M
n
=1,
=1,
nBT
2
r
n
c
W/M
c+γ
=⇒
=
,
=
.
nBT
c+γ
2
c

=⇒

The first line describes the case of an economy in which all consumption is continuous (i.e.
no jumps ever occur). In this case the model coincides with BT. The second line describes

7

the limiting case of an economy in which the lumpy expenditures is concentrated in a single
jump (the probability of a jump per unit of time is thus zero). In this case the number of
withdrawal is smaller, and the W/M ratio higher, than in BT.
Finally, note that the money demand M as function of R/b, the interest rate relative to
the fixed cost, is decreasing (keeping the other parameters c, κ, z fixed). The shape of the
money demand as a function of R/b depends on the value of the interest rates. For this
purpose we divide the values of the interest rates R/b into three segments, using two cut-off
points defined as follows: R̄(κ) solves κ = κ(R) and R(κ, z) solves κ = κ̄(R, z), where κ
and κ̄ are the thresholds defined above, which we now write as functions of the interest rate.
Since κ(R) < κ̄(R), and since both are increasing in R, starting at 0 and going to ∞, the
thresholds R(κ) < R̄(κ) are well defined and are both decreasing in κ, and R is decreasing in
z. Using these thresholds, Proposition 1, and the accounting identity W n = c + κz we have:



−1 −


 2

∂ log M
=

∂ log R





1
zn
2 c+z(κ−n)

0
− 12

if 0 < R < R(κ, z)

where n < κ

if R(κ, z) < R < R̄(κ)

where n = κ

if R̄(κ) < R

where n > κ

(1)

Thus the elasticity of the money demand is non-monotone on R. For small values of R is
more elastic than 1/2, for intermediate values it is inelastic, and for high values of R the
elasticity is 1/2.

3

A stochastic model

We consider a model where consumption has three components: one is deterministic at a
constant rate c per unit of time, - as in our previous model. The second component represent
large purchases: we assume that the jump process occurs with probability κ per unit of
time, and that when it happens cumulated consumption increases by an amount given by
the parameter z > 0. With this parameterization, expected consumption per period, say per

8

year, equals e = c + κz. The third component, which we add mostly as a rethorical device,
are random variation is net cash consumption, with variance σ 2 per unit of time. If we denote
cumulative consumption paid in cash by C(t) we assume that dC(t) = cdt + zdN + σdB,
where N(t) is the poisson counter, and B(t) is an standard Brownian motion. If we interpret
dC as the consumption during a period of length dt, we note that, when σ > 0, it can
negative. This is to capture, as in the seminal model of cash management of firms by Miller
and Orr (1966), income that is received in cash.
We also assume that with a Poisson arrival rate p per unit of time, the agent has an opportunity to adjust her cash balances without paying the cost b. We have explored this feature
in Alvarez and Lippi (2009). The reason to include it here is that it shares some implications
with the model with large purchases. Specifically, as shown below, that cash management
data alone (such as frequency and size of withdrawals, average cash holdings, etc) cannot
identify separately p from κ. On the other hand, having data on the size distribution of cash
purchases can help identify these parameters.
The aim of this extension is to explore the implications of an alternative reason for
“precautionary” type of behavior. In this model, there are three types of withdrawals, those
that occur when m reaches zero, and those that occur at the time of a jump in consumption if
m < z, and those that occur if the agent has a free withdrawal opportunity. The idea is that
at times when cumulated consumption jumps (i.e. a large purchase occurs), if the money
balances at hand m are not large enough to pay for the sudden increase in cash consumption,
i.e. if m < z, then the agent will withdraw cash, even if cash has not reached zero. Otherwise,
the nature of the optimal policy is the same, after withdrawal agents set their cash balances
to the optimal replenishment level m∗ .
The standard inventory model has unregulated inventory following a process with continuous paths.2 Yet there are several exceptions. Milbourne’s (1983) model is set up in
2

If we let C be the cumulated unregulated process, we have that C(t) = c t for constant c > 0 as in
Baumol (1952), Tobin (1956), Jovanovic (1982), Alvarez and Lippi (2009); or C(t) = σ Bt for constant σ > 0
and Bt a standard BM in Miller and Orr (1966), Eppen and Fama (1969); or C(t) = ct + σ Bt for constants
c, σ > 0: Constantinides and Richard (1978), Constantinides (1978), Frenkel and Jovanovic (1980), Harrison,

9

discrete time and makes no special assumptions about the process for net cash-holdings. If
we let C be the cumulated unregulated process, and we let N be the counter of a Poisson
process, we have that dC(t) = zdN from state dependent F (x, z) in Song and Zipkin (1993)
(where the state x is a finite Markov chain) and in Archibald and Silver (1978). A paper
with a closely related, but more general, set up is Bar-Ilan, Perry, and Stadje (2004), which
assumes dC(t) = µdt + σdB + z u dN u − z d dN d and where B is a standard Brownian motion,
z i ≥ are the up and down jumps, and N i are the counters of two Poisson processes with
possible different constant intensities, and where the jump sizes have general distributions
which include the exponential distribution. Their paper also has a more general adjustment
cost, including fixed and variable cost, that differs for deposits and withdrawals, for which
the authors present an analytical solution for the value of following a type of sS policy.3
We show below that solving the Bellman equation is more involved than in the standard
case where the unregulated inventory (cash in this case) follows a process with continuous
path. This requires to solve a delay-differential equation, as opposed to an ordinary differential equation. While in Section 3.1 we present an algorithm to solve for the parameters
that fully characterize the Bellman equation, we do not have a simple closed form solution
for the thresholds that describe the optimal policy (m∗ , m∗∗ ), as we did for the case with no
jumps in Alvarez and Lippi (2009). Of course if the jumps were small, i.e. if z was small,
the statistics of interest would not be affected. In particular, we show that in the limit as
z → 0 while keeping κ z constant, the model reduces to the one with continuous consumption.
Thus, in Section 3.3 we will concentrate on the case of large but infrequent jumps, i.e. large
z and small κ, which echoes the deterministic case of κ < κ. We will describe the nature
of the optimal policy for this case, as well as the implications for several cash management
statistics.
Sellke, and Taylor (1983), Harrison and Taskar (1983), Bar-Ilan (1990), and dC(t) = c(x)dt + σ(x)dB in
Baccarin (2009).
3
Apparently unaware of this work, Sato and Suzuki (2011) have recently obtained a similar set of equations
for value of following an sS policy. Davis, Guo, and Wu (2010) show the smoothness of the value function in
a very general set-up.

10

3.1

Bellman Equation

We consider a trigger policy described by two thresholds: m∗ , the value of cash after and
adjustment, and m∗∗ , the value of cash that triggers a deposit. Non-negativity of cash triggers
a withdrawal at m = 0. After a deposit or a withdrawal, agents return to the value m∗ . Thus,
the Bellman equation in the interior of the range of inaction, given by 0 < m < m∗∗ , becomes:
h
i σ2
rV (m) = Rm + p min V (m̂) − V (m) + V ′′ (m)
m̂
2
h
i
+κ min b + min V (m̂) − V (m) , V (m − z) − V (m)
m̂

′

+V (m) (−c − πm)

The term min [b + minm̂ V (m̂) − V (m) , V (m − z) − V (m)] takes into account that after
the jump in consumption the agent can decide to withdraw cash, or otherwise her cash
balances becomes m − z. We let
m∗ ≡ arg min V (m̂) , and V ∗ ≡ V (m∗ ) .

(2)

m̂

If the value function is differentiable, we have that

V ′ (m∗ ) = 0 .

(3)

V (m) = V ∗ + b for m ≤ 0.

(4)

Non-negativity of cash implies that

For the range 0 ≤ m ≤ z we look for a solution of the form of an Ordinary Differential
Equation (ODE):

(r + p + κ) V (m) = Rm + (p + κ) V ∗ + κb + V ′ (m) (−c − πm) +
11

σ 2 ′′
V (m)
2

(5)

since in this range every jump triggers a withdrawal. This feature is as in Bar-Ilan, Perry,
and Stadje (2004), who refer to it as adjustment triggered by downcrosses. Instead for the
range z ≤ m ≤ m∗∗ , we have a Delay-Differential Equation (DDE):
(r + p + κ) V (m) = Rm + pV ∗ + κV (m − z) + V ′ (m) (−c − πm) +

σ 2 ′′
V (m) ,
2

(6)

since in this range after a jump cash balances are positive. If cash reaches the value of m∗∗ ,
then it triggers a deposit of size m∗∗ − m∗ after paying the fixed cost b. Thus we have:
V (m∗∗ ) = V (m∗ ) + b

and

V (m∗∗ ) = V (m) for all m ≥ m∗∗ .

(7)

If V (·) is differentiable at m = m∗∗ , then we get that

V ′ (m∗∗ ) = 0 ,

(8)

a condition typically referred as to “smooth pasting”. We notice that, in general, it will not
be differentiable at this point if σ = 0.
We can further characterize the Bellman equation for V for given policy described by
thresholds (m∗ , m∗∗ ) by splitting the range of inaction in intervals of length z. The idea is
that, at a given point m, the value function depends on the local evolution around m and
on the value that it will take after a jump, i.e. at m − z. But since cash is non-negative,
for m ∈ [0, z] any jump will lead to a withdrawal, and hence, given V ∗ , the value function
only depends on its local evolution, i.e. it is a second order (first order if σ = 0) linear
ODE described by equation (5). Then, given the solution of the value function in the lower
segment, one can construct the segments corresponding to higher values of m recursively,
which themselves solve a system of ODE’s described by equation (6). In the case of π = 0 the
ODEs have constant coefficients. The value matching equation (2), equation (4), equation (7)
provide three boundary conditions. The continuity of the level, first derivative (and second

12

if σ > 0) across each segment, provide additional boundary conditions.
Assume π = 0. Given two thresholds 0 < m∗ < m∗∗ the value of

Proposition 2.

following such a policy can be described by J functions Vj :
V (m ; m∗ , m∗∗ ) = Vj (m) for m ∈ [zj, min {z(j + 1), m∗∗ }] ,
where
Vj (m) = Aj + Dj (m − zj) +

j
XX

k
Bj,i
eλk (m−zj) (m − zj)i

k=1,2 i=0

σ2 2
λ
2

where λk is the solution of r + p + κ = −cλ +

(9)

(10)

for k = 1, 2 and where the constants

k
Aj , Dj , Bj,i
for j = 0, 1, 2, ..., J − 1, i = 1, ..., j, and k = 1, 2 solve a block recursive system of

linear equations described in the proof.
Using Proposition 2 we can write the optimality of the return point equation (3) and the
smooth pasting condition equation (8) as
∗

′

∗

∗

∗∗

0 = V (m ; m , m ) = Dj ∗ +

j
XX

∗ −zj ∗ )

Bjk∗ ,i eλk (m

k=1,2 i=0
′

∗∗

∗

∗∗

0 = V (m ; m , m ) = DJ−1 +

J−1
XX

[λk + i (m∗ − zj ∗ )i − 1] ,

∗∗ −z(J−1))

k
BJ−1,i
eλk (m

k=1,2 i=0



(11)


λk + i (m∗∗ − z(J − 1))i−1 ,

(12)

where j ∗ is the smallest integer such that m∗ < (j ∗ + 1)z, and where equation (12) applies
k
only if σ > 0. Since Proposition 2 shows that the constants {Aj , Dj , Bj,i
} are a function

of (m∗ , m∗∗ ), we can regard equation (11) and equation (12) as a system of two non-linear
equation determining (m∗ , m∗∗ ).
Notice that for given arbitrary values of the thresholds (m∗ , m∗∗ ) a stochastic process
for m is completely determined. Given this process, one can use straightforward computer
simulations to derive the statistics of interest on the cash management, such as the frequency
of withdrawals n, the average money holdings M, the withdrawal size W , the money holdings
13

at the time of a withdrawal M, which will obviously depend of the chosen thresholds. The
optimal values of (m∗ , m∗∗ ) have to satisfy two non-linear equations, namely equation (11)
and equation (12). The ultimate objective of course is to compare the statistics implied by
the optimal policy with the same statistics from actual data, such as the ones discussed in
Section 4. The one caveat, discussed below in Section 3.4, is that the conditions implied by
equation (11) and equation (12) are necessary but not sufficient, so that care must be taken
in ensuring that the values that are chosen are the ones corresponding to a global minimum
for the value function, and not just a local extreme. This can be done, for instance, by simple
inspection of the known value function evaluated at a fixed value of m, e.g. m∗ , as a function
of the (m∗ , m∗∗ ) thresholds, as we do in Figure 1.
Next we present a proposition showing that the limit of small and frequent jumps is the
case with continuous consumption.
Proposition 3.

Consider the solution of the value function as z → 0 and 0 < γ ≡

limz→0 z × κ < ∞. This solution coincides with the one without jumps, i.e. κ = z = 0 but
with continuous consumption at the rate c + γ.
The logic of the proof of this proposition is straightforward, so we only sketch the argument here. First, notice that path for the cumulative consumption accounted for jumps
zN(t) goes to γt with probability one. Second, notice that the contribution of these jumps
to the value function, given by κ(V (m − z) − V (m)) when m > z can be written as
κ (V (m) − V ′ (m) z + o (z)). Assuming that we can permute the limit of the derivative
with the derivative of the limit, we obtain that in the limit the contribution of this term
is −γV ′ (m), a term analogous to the contribution from c. The contribution of the segment
m > z is negligible as z goes to zero. This result can be useful to make contact with the
data. The issue is not whether consumption transactions occur as discrete events or not,
which of course they do. The previous result states that small frequent purchases can be
approximated by the continuous model. The issue is whether the continuous consumption
model is a good approximation given the observed size of purchases. Thus, if the purchases
14

using cash are small and frequent, the model with a continuous path may be a good idealization. On the other hand, intuitively, a model with infrequent and large purchases, will be
the most different case, a set up to which we will turn in Section 3.3.

3.2

Solving for M, W, n in the case of no Brownian shocks (σ = 0)

In this section we concentrate on the special case of the model where the net cumulated cash
consumption is the sum of a deterministic constant consumption per unit of time and random
jumps, i.e. we set the brownian component to have zero variance or σ = 0. We concentrate
on this case for two reasons. The first is that our data sets for Italy and Austria focuses on
households, which tends to have non-negative uses of cash. Related to this, notice that in this
case in the model there will be no deposits, and only withdrawals: the inaction region is given
by [0, m∗ ], and cash inside this region only moves down, either at a constant rate per unit
of time, or with jumps of size z and frequency κ. Consistent with this behavior notice that
Table 1 shows that Italian households make very few deposits relative to withdrawals: for
2002 the average ratio of the number of deposits to the number of withdrawals is less than 1%.
If we concentrate on self-employed households, whose cash movements presumably resemble
more the ones for forms, i.e. having decreases and increases in cash, we see that deposits
are more frequent than for the rest of the households, with an average ratio of number of
deposits to the number of withdrawals of about 6%. Yet, deposits are quite infrequent, so
we concentrate on the model with σ = 0 which generates the extreme case of no deposits.
The second reason is that this model is simpler. In particular, when π = σ = 0, the linear
equations for the coefficients in Proposition 2 simplify considerably, and since the range of
inaction becomes [0, m∗ ], there is one non-linear equation in one unknown (see Appendix B.1
for the relevant equations for this case).
First, and for completeness, we consider the case where the large purchases are frequent.
As in the deterministic case, if for a given size of the purchases z, the frequency κ is high
enough, it is optimal to increase the size of the withdrawal and finance -in expected value15

several purchases with each withdrawal.
Proposition 4.

Let z > 0, c ≥ 0, p ≥ 0 and b/R > 0. There exist κ̄(z), which is

increasing in z, and r̄ > 0 such that for any κ > κ̄(z) and r < r̄, the optimal threshold
satisfies m∗ (p, κ, z, c) > z.
The logic of this proposition is the same as in the deterministic case, so the proof is
omitted.4 Next, we further specialize the problem to the more tractable case in which the
primitive parameters are such that the size of the jump z is larger than m∗ , so that in this
case every jump in expenditures will trigger a withdrawal.

3.3

The case of infrequent large purchases: z > m∗

We continue with the analysis of the case of no inflation and no Brownian component, i.e.
π = σ = 0. Furthermore we solve the model and the cash holding statistics M, W, n, M for
a configuration of parameters that corresponds to the case of small κ, (i.e. smaller than κ)
in the deterministic model of Section 2 and large value of z. We found this case instructive
for two reasons: first, based on the result in Proposition 3, the case where z is large and
κ small presents some interesting differences compared to the problem with consumption
expenditures are continuous. Second we think that the parameters for which this case applies,
which concern size and frequency of the large purchases, seem to be empirically appropriate
for modeling the currency management behavior for households in Austria, as argued below.
Abusing notation, we let V (m; m′ , p, κ, z, c) denote the value function of the model analyzed in Section 3.2 when current cash is m and the return point for cash is m′ for the
parameters (p, κ, z, c). We also let m∗ (p, κ, z, c) be the value of the optimal return point
for these parameters, and let M (p, κ, z, c) , W (p, κ, z, c) , M (p, κ, z, c) and n (p, κ, z, c) be the
corresponding cash-management statistics, described in Section 3.2. For future reference we
4

We believe that the assumption that r is small is not required for the results, but it simplifies the
constructive aspect of the proof. Appendix B provides the algorithms to compute value function and several
cash management statistics of interest for the case of σ = 0 and π = 0 for any configuration of the lumpy
purchase parameters: z, k. The logic is the same one used to solve for the value function in Proposition 2.

16

let
V ∗ (m′ ; p, κ, z, c) ≡ V (m′ ; m′ , p, κ, z, c)

(13)

the value of following a policy with return threshold m′ when cash is at this value. Recall
that at the optimal threshold value V ∗ (m∗ (p, κ, z, c) ; p, κ, z, c) is the smallest value of the
value function.
The next proposition studies the effect of the presence of large purchases (i.e. whether
or not C(t) jumps) in a model with free withdrawal opportunities. We note that if z = 0 or
κ = 0 the model with no jumps corresponds to a version of Baumol-Tobin where there are
p free withdrawal opportunities per unit of time. We have characterized the solution of that
model and estimated it for a cross section of Italian households in Alvarez and Lippi (2009).
The free withdrawal opportunities of that model imply that, relative to the prediction in
Baumol-Tobin, agents makes more withdrawals (say n/(c/2M) ≡ n/nBT > 1) and they are
smaller in size (say, W/M < 2). Also differently to Baumol-Tobin, that model implies that
in average agents withdraw when they have strictly positive real balances, i.e. M > 0. We
use the notation m∗ (p′ , 0, 0, c) to denote the optimal return threshold for the model with no
jumps, with a rate of p′ free adjustment opportunities per unit of time, and with consumption
at a constant rate c.
Proposition 5.

Assume that π = σ = 0, c > 0, p ≥ 0, b/R > 0, z > 0 and r > 0. There

exists κ > 0 such that for any κ < κ and z > m∗ (p + κ, 0, 0, c) we have:

m∗ (p, κ, z, c) = m∗ (p + κ, 0, 0, c) ,
V ∗ (m∗ (p, κ, z, c) ; p, κ, z, c) = V ∗ (m∗ (p + κ, 0, 0, c) ; p + κ, 0, 0, c) +
M (p, κ, z, c) = M (p + κ, 0, 0, c) ,
W (p, κ, z, c) = W (p + κ, 0, 0, c) +
M (p, κ, z, c) = M (p + κ, 0, 0, c) ,
n (p, κ, z, c) = n (p + κ, 0, 0, c) .
17

κz
,
n

κb
,
r

Moreover, the conclusion holds for the same value of κ for all z ′ > z .
Part of the proof of the proposition is straightforward. In particular, if it is optimal to set
m∗ (p, κ, z, c) < z, then the value of the threshold equals the one in a model with no jumps,
i.e. with z = 0, but with p + κ free adjustment opportunities, i.e. m∗ (p + κ, 0, 0, c). In other
words, it is always a local minimum to set the return threshold equal to m∗ (p + κ, 0, 0, c).
In the case of no jumps at each free withdrawal opportunity, cash balances jump to m∗
right after the adjustment. The consequences of a free adjustment opportunity bear many
similarities with those that follow a jump in consumption. Both cases occur independently
of the cash balances, and in both cases cash balances go to m∗ after the adjustment. The
difference is that upon a free withdrawal opportunity the agent does it because it saves
the cost b, while upon a consumption jump the agent does it because of the binding nonnegativity of consumption. For the exact equivalence we require that the rate at which free
adjustment opportunities arrives is p + κ, so that the rate at which this type of adjustment
occurs is equally likely. The two value functions differ only by a constant term measuring
the present value of the cost saved by the free withdrawal opportunities. It follows that
the average cash holdings, average cash at withdrawals and average number of adjustments
are equal to the ones obtained in a model with z = 0, p + κ free adjustment opportunities
and consumption equal to c. The average withdrawal size differs, because the jumps creates
an extra withdrawal of size z every κ/n withdrawals. Finally, to show that the threshold
value m∗ (p + κ, 0, 0, c) < z is optimal provided that κ is small, we use an argument that is
analogous to the one of the deterministic model of Section 2.
To understand the hypothesis that z ≥ m∗ used in Proposition 5 it is useful to give a
characterization of m∗0 ≡ m∗ (p + κ, 0, 0, c). In Alvarez and Lippi (2009) we show that m∗0 is
the unique positive solution to:
b
=
cR



m∗0
c

#
2 "
i
∞  ∗
X
m0
1
1+
(r + p + κ)
c
(2 + i)!
i=1

18

(14)

which we denote by m∗0 = ϕ (b/ (Rc) , p + r). Clearly m∗0 is a strictly increasing function of
b/R, which goes from 0 to ∞ as b/R varies in the same range, and it is decreasing in p. The
p
limit as r + p + κ ↓ 0 is the familar Baumol-Tobin expression m∗0 /c = 2b/(cR). Finally,

m0 is increasing in c with and elasticity between 1/2 and 1. Thus, for a fixed z, one of the
hypothesis of Proposition 5 holds, for a small enough fixed cost relative to opportunity cost,
p
b
, r + p + κ).
i.e. small b/R. Also, since m∗0 is decreasing in p + κ + r, thus 2bc/R ≥ c ϕ( cR
p
Hence a sufficient conditions for z ≥ m∗ (p + κ, 0, 0, c) is that z ≥ 2bc/R ≥ c.

A direct implication of Proposition 5 is that data on M, W, M, n and e can not identify κ, p

and z separately. These data can only identify κz and κ + p.5 We now describe a condition
that the ratios W/M and M/M must satisfy to be consistent with the behaviour described
in the hypothesis of Proposition 5. Additionally, we describe how to identify κz/e and κ + p,
as long as the previous condition is met. To do so, we first describe all the implications of
the observable statistics M, W, M, n and e for the model’s parameters under the hypothesis
of Proposition 5.
Proposition 6.

Assume that the assumptions of Proposition 5 hold. Then model implies

the following relationship between the five observable statistics (M, W, M, n, c + κz), the four
structural parameters (c, κz, p + κ, b/R), and the threshold m∗ :
κ+p
,
∗
1 − exp (−(κ + p) mc )
κ
W + M = m∗ + z ,
n
M
n
= κ+p ,
M
n =

c + κz = nW ,


m∗
b/c
= ϕ
,r + p + κ .
c
R

(15)
(16)
(17)
(18)
(19)

5
To see this, note that for any pair of κ + p and zκ that are consistent with M, W, M, n and e, there are
several other pairs κ′ + p′ and z ′ κ′ , with κ + p = κ′ + p′ and zκ = z ′ κ′ , with z ′ > z and κ′ < κ that produce
the same observations.

19

The proof of this proposition is straightforward. Equation (15) follows by noting that the
time between withdrawals is distributed as a truncated exponential with parameter κ + p,
truncated at time t̄ ≡ m∗ /c, the time it will take to deplete money holdings with continuous
consumption. The fundamental theorem of renewal theory then implies that the frequency
is the reciprocal of the expected time between adjustments. Equation (16) follows by taking
expected values of the cash flows at time of a withdrawal. It states that on average, after a
withdrawal, an agent has balances m∗ , which is the sum of the average cash at the time of
withdrawal (M) and the withdrawal size (W ) net of the fraction κ/n of the withdrawals where
a consumption jump of size z is financed. Equation (17) follows by computing the average
cash holdings a the time of an adjustmment. A fraction 1 − (p + κ)/n of the withdrawals
the agent has reached zero cash holdings at the time of a withdrawal. A fraction (p + κ)/n
of the withdrawals the agents has strictly positive cash holdings, and since the occurrence
of these adjustment are independent of the level of cash holdings, in these cases the agents
has the average cash holdings. Equation (18) is simply the budget constraint. Up to here,
the implications follow from the form of the optimal decision rules.6 Finally, equation (19),
already presented and discussed in equation (14) ensures that the value of the threshold m∗
is optimal. Using Proposition 5 we have replaced here p by p + κ.
We use the expressions in Proposition 6 to solve for the fraction of expenditures that
corresponds to jumps, i.e. κz/(c + κz), the value of m∗ , which gives a lower bound to z in
order for the proposition to apply, and the value of p + k. We have:




κz
1 
M/M
 ,
= 1+
log(1−M/M
)
κz + c
W/M
+
1
M/M

κ≤p+κ = n

6

M
≤n,
M


z ≥ m∗ = M 



log(1 − M/M) 
1+

log(1−M/M )
M/M

.

(20)
(21)
(22)

One can also add an expression that computes the value of average value of M , using n, m∗ and parameters, namely M/c = (n m∗ /c − 1) /(κ + p). Yet, this equation is implied by equations (15)-(18).

20

The next proposition summarizes the implications for W/M and M/M of γ, b/(cR) and
p + κ in the case where m∗ ≤ z. To simplify the expressions we take the limit as r ↓ 0, in
which case, given γ all the other other parameters combine in a single index to explain the
effects on W/M and M/M.
Proposition 7.

Let r ↓ 0 and assume that z, b/(cR), and p + κ are such that m∗ ≤ z.

Define γ ≡ zκ/(zκ + c). Then
W
M

1
=
ω
1−γ



b/c
(p + κ)2
R



and

M
=µ
M



b/c
(p + κ)2
R



(23)

where ω : R+ → [0, 2] is strictly decreasing and µ : R+ → [0, 1] is strictly increasing. The
functions ω and µ depend on no other parameters.
The proof uses the equivalence results of Proposition 5. Since every jumps triggers a
withdrawal when z > m∗ then the model is equivalent to the model with continuous consumption and no jumps, except that p (the arrival rate of free adjustments opportunity) is
now p + k, and the consumption scale variable is simply c, not c + kz. Given this equivalence,
the functions ω and µ are those described in Section 4.3 (namely in proposition 6 and Figure
1) in Alvarez and Lippi (2009).

3.4

On the optimality of trigger policies

We finish this section with a brief comment on the optimality of the class of trigger policies
considered here. First, in the case where σ = 0, it is easy to show that the ergodic distribution
of m lies in [0, m∗ ], whose interior contains the inaction region. Second, in the case with no
jumps (κ = 0), σ > 0 and p = 0, it has been shown by e.g. Constantinides and Richard (1978)
that trigger policies of this type are optimal. The extension to the case of p > 0 should be
relatively straightforward. The third, more subtle, case is the combination of jumps (so that
κ > 0, z > 0) and a brownian motion (so that σ > 0) for cumulated net cash consumption.
The potential complication comes about when there are discrete changes in the unregulated
21

state, i.e. discrete changes in m in our case. This case has been studied in discrete time with
finite but arbitrary horizon by Neave (1970). He showed that the decision rule will, in general,
have an inaction region close to the optimal return point, that outside the inaction region
there is a set of intervals where either adjustment or inaction is optimal, and that for large
values there is an open ended interval for which adjustment is optimal. Bar-Ilan (1990) has
also produced a counterexample in the case of two periods two jumps, one up and one down.
More recently Chen and Simchi-Levi (2009) have a slightly fuller characterization of this case
and an analysis of a more general case. Hence, the issue in our continuous time model with
jumps, which make the model mathematically very close to a discrete time model, is whether
there could be several inaction and adjustment regions. Thus, while the form of the optimal
policy for a model where the state follows the sum of a diffusion and a more general jump
component, such as in the specification of Bar-Ilan, Perry, and Stadje (2004) has not been
characterized, our set-up is special enough so that the decision rules, in the ergodic set for
m, are of the “sS” form considered above. The features that make our problem special are
that the state the jumps are all downwards and of the same size (i.e. z > 0) and that the
state is non-negative. In our case, if the state reaches m∗∗ then it is controlled to be set at
m∗ . Importantly, since the jumps in net cash consumption are all downwards, the state can
only reach m∗∗ at time t = τ if it was below, but very close, at times arbitrary close to τ .
On the other side, the boundary at m = 0 follows from non-negativity of cash and from the
fact that the period return function attains its minimum at m = 0. Thus, the value of m∗∗ is
defined as the smallest strictly positive value of the state for which adjustment is optimal.7
We conclude with an illustration on the necessary, but not sufficient, nature of boundary
conditions (value matching and smooth pasting) in our problem. Figure 1 helps to understand
7

We can write a discrete time version of our model in the notation of Neave (1970) and Chen and SimchiLevi (2009) as follows. To simplify we write the version with p = 0. Let ∆ be the length of the time period.
The period return function is √
l(m) = +∞ if m < 0 and otherwise l(m) = ∆ R m. The i.i.d. process for
unregulated cash, ξ = −∆ c + ∆σ s − z dN , where s is a symmetric binomial with zero mean and standard
deviation one, where dN = 1 with probability κ∆ and zero otherwise, and where dN and s are independent.
The discount factor is γ = 1/(1+r∆). The cost function has K = Q = b, and no proportional cost, k = q = 0.
In term of their notation we have, as we let ∆ ↓ 0, the decision rules satisfy: U = T = m∗ , 0 = t = t+ , and
u− = m∗∗ .

22

flow costs: ρV (m ∗ ; m ∗ ) and RM (m ∗ ) + b (n(m ∗ )

Figure 1: Value function under policy threshold rule m∗ evaluated at m = m∗ .
3.8

3.6

3.4

z = 20, k = 60, c =365,

3.2

3

2.8

2.6

m ∗ ( p , 0, 0, c + z k )

m ∗ ( p + k , 0, 0, c )
2.4

opt im al m ∗
15

20

25

30

35

40

45

50

55

60

m∗

the different cases covered in Proposition 4 and Proposition 5 depending on the value of κ.
The figure plots the value of following a policy characterized by a threshold m∗ , evaluated at
m = m∗ , for different values of this threshold. The best policy is given by the value of m∗ that
minimizes V (m∗ , m∗ ). Interestingly this function is not single peaked. This example shows
that simply adding the boundary condition V ′ (m∗ ; m∗ ) = 0 does not insure the optimality
of the given policy. Note the difference with models without the jump component, such as
Constantinides (1978), where a verification theorem states that any function that solves the
relevant ODE and boundary conditions is a solution of the problem. The parameter values
considered for this figure correspond to an “intermediate” value for κ and z for which the
optimal threshold has m∗ ≈ 35 > z = 20. Note that while setting m∗ = m∗ (p + κ, 0, 0, c) =
15 < z = 20, so that every jump would trigger a withdrawal, is a local minimum of V (m∗ ; m∗ )

23

but it is not the global minimum. In other words, the values for this example do not satisfied
the hypothesis that κ < κ of Proposition 5. Notice also that setting m∗ = 51, which is the
optimal threshold for the case of no jumps, but a larger continuous consumption equal to
c + κz is also not the optimal for the case with jumps, but it is also close to a local minimum.

4

Two Empirical Applications

In this section we describe two applications of the ideas developed above. The first one
applies the model to currency management using survey and diary data from a sample of
Austrian households. In this case the relevant liquid asset is currency, and the relevant notion
of expenditures are those paid with cash. The second investigation applies the model to the
management of liquid assets using a panel of administrative records for the customers of a
large Italian bank. In this case we take liquid asset to be a concept similar to M2, and the
expenditures to include both durable and non-durable purchases.8

4.1

Currency Management of Austrian and Italian Households

In this section we present evidence on the cash management of italian and austrian households, and then concentrate on the latter for which we also have data on the nature of their
consumption paid with cash. We present evidence that there are some large expenditures
paid with cash, and that the households for which these expenditures are more important
exhibit some of the behavior predicted by the theory in terms of their frequency and size of
withdrawals.
8

While in this paper we focus on the implication of these large purchases for cash management, a related
interesting literature, both empirical and theoretical, studies the choice of means of payments, especially in
relation to the purchases size, as in e.g. Whitesell (1989), Bounie, Francois, and Houy (2007) and Mooslechner,
Stix, and Wagner (2006). The problem of the choice of means of payment differ across economies. In particular
we conjecture that for developing economies and less developed countries, where alternative to cash are less
prevalent, more people will be paying for large purchases using cash, and hence the issues discussed in this
paper are more relevant. Preliminary work using panel data from rural Thailand in Alvarez, Pawasutipaisit,
and Townsend (2011) supports this hypothesis.

24

Table 1: Currency management statistics in Italy and Austria
Expenditure share paid w. currency
Currency: M/e (e per day)
M per Household
Currency at withdrawalsd: M /M
Withdrawale : W/M
Withdrawal / Deposith,i : W/D
# of withdrawals: n (per year)f
Normalized:

n
nBT

=

n
e/(2M)

(e per year)f

# of deposits / # withdrawalsh: nD /n
Fraction of households with W/M > 2
Fraction of households with

n
nBT

≡

n
e/(2M)

<1

# of observations

ATM Card
w/o
w.
w/o
w.
w/o
w.
w/o
w.
w/o
w.
w.
w/o
w/o
w.
w/o
w.
w.
w/o
w.
w/o
w.
w/o
w.

Italy (2002)
0.65a
0.52a
17b
13b
410c
330c
0.46
0.41
2.0
1.3
0.68 [0.53]
1.13 [0.84]
23
58
1.7
3.9
0.007 [0.058]
0.25
0.13
0.50
0.19
2,275g
3,729g

Austria (2005)
0.96A
0.73A
15B
15B
332C
206C
0.22
0.26
2.4
1.6
n.a.
n.a.
21
68
1.4
5.4
n.a.
0.29
0.19
0.57
0.31
153G
895G

Entries are sample means. The unit of observation is the household for Italy; for Austria, the subject of the
survey are men and women 14 years and older, not households. Only households with a checking account (both
Austria and Italy) and whose head is not self-employed (Italy) are included, with the exception of data in square
brackets [·], which are computed only for households whose head is self-employed (approximately 17% of all
households with a bank account).
Notes for Italian data: Source: Bank of Italy - Survey of Household Income and Wealth.
-a Ratio of expenditures paid with currency to total expenditures (durables, non-durables and services). b
Average currency held by the household during the year divided by daily expenditures paid with currency. -c In
2004 euros. -d Average currency at the time of withdrawal as a ratio to average currency. -e Average withdrawal
during the year as a ratio to average currency. -f The entries with n = 0 are coded as missing values. -g Number
of respondents for whom the currency and the currency-consumption data are available in each survey. Data on
withdrawals are supplied by a smaller number of respondents. -h Sample average over 1993-2000. -i Computed
for households reporting D > 0.
Notes for Austrian data. Source: Austrian National Bank - OeNB.
-A Numerator and denominator of the ratio are based on transactions collected in a diary kept for 7 days.
The diary excludes automatic payments and likely misses large transactions (a broader measurement would
produce smaller values for the ratio). -B Average currency carried by the individual (sum of currency with them
and currency available at home; items 18 and 18a in questionnaire), divided by daily expenditures paid with
currency. Respondents keep a large fraction of currency balances at home; The average of the ratio of currency
at home to total currency held is about 60%. - C In 2005 Euros; - G Number of respondents with a bank deposit
account and non-zero values for M , W , e, n. This accounts for about 87% of the sample.

25

Table 1 displays some statistics from two households surveys, one from Italy and one from
Austria. We present all statistics splitting the sample between households with an ATM card
and those without, as a rough way to control for the consequences of the “free withdrawals”
opportunities, namely a large number of withdrawals relative to Baumol-Tobin, as explained
above and in Alvarez and Lippi (2009). We display the mean across households (individuals
for Austria) of several statistics: share of consumption that is paid using currency for both
countries, the average amount of currency held M, the average amount of currency held
at the time of a withdrawal M, the average size of a withdrawal W , the average size of
deposits D, the number of deposits per year nD and number of withdrawals per year n.
Several of the statistics are computed as ratios, which we think help in interpreting them in
terms of the model. For instance, we use M/e, the average money to cash consumption, at
daily frequencies, W/M the average withdrawal size to average currency held, the ratio of
the average size of deposits to withdrawals W/D, the ratio of n to the deposits implied by
accounting identity W n = e and the assumption that withdrawals occur when cash it zero
and replenish that amount, W = 2M, so nBT = e/(2M). The statistics displayed in Table 1
show that in several dimensions the Austrian and Italian households cash management is
similar. The Italian survey data have been used in several paper studying cash management,
such as Attanasio, Guiso, and Jappelli (2002), Lippi and Secchi (2009), Alvarez and Lippi
(2009). The Austrian dataset is smaller in size but includes some additional information
concerning the size distribution of purchases that we are going to use below.
Using the outcomes of the case in which σ = 0, analyzed in Proposition 5 and Proposition 6,
we compute some statistics to measure the degree of large infrequent cash purchases for individuals in Austria. The data comes from two related sources: a diary of daily expenditures
of the Austrian households and a retrospective survey of the same households, described in
Mooslechner, Stix, and Wagner (2006). The diary asked individuals to record all purchases
made in the following week. The survey contains several questions on cash management, as
well as on method and pattern of purchases. We split the sample between agents with and

26

without ATM cards because, at least using only the cash management statistics M, W, M, e,
the model does not identify separately p and κ. Yet the value of p should be related (positively) to the density and availability of ATMs.9 Thus, the split between those with and
without ATM cards serves as a way to “control” for the value of p.
Table 2: Currency as the usual payment method for purchases of different size

% Individuals that
Purchases between
Purchases between
Purchases between
Purchases between
Purchases between
Purchases between
Purchases between

use currencya
[0, 10] euros
[11, 30] euros
[30, 50] euros
[51, 100] euros
[100, 200] euros
[201, 400] euros
[401, ∞) euros

All
(1048 Obs.)

w/ATM card
(895 Obs.)

w/o ATM card
(153 Obs.)

95.6
83.3
70.4
58.1
47.6
43.2
45.9

94.9
80.6
65.6
51.5
39.2
24.2
27.4

100.0
99.4
98.7
97.7
97.7
96.1
96.1

Using survey of Austrian individuals described in Mooslechner, Stix, and Wagner (2006).
- a Percentage of individuals that answer that currency is the usual method of payments for purchases for each different
size. The alternatives are currency or other method. Based on 1048 responses for each purchase size.

Table 2 shows that the small size purchases are made using currency by almost all individuals, but that less than half of the individuals use currency as the usual means of payments
for the large purchases (400 euros or more). These statistics are presented separately for
those with ATM cards and for those without, which shows a clear difference. Almost all
individuals without an ATM card use cash as the usual payments regardless of the size of the
purchases, whereas the use of cash falls sharply with the size of the purchase for individuals
with an ATM card.
Table 3 displays some cash management statistics for individuals who use cash for large
purchases (top panel) and for those that do not (bottom panel). These data are useful to
compare our model with the canonical one with continuos consumption. These statistics are
also presented separately for those with ATM cards. We display the ratio of the average
size of withdrawals to the average cash holdings, W/M, as well as the ratio of the number
9

For empirical support of this hypothesis in a model with κ = z = 0 see Alvarez and Lippi (2009).

27

Table 3: Cash Management and Large Purchases (> 400 euros) in Austria
All
(1048 Obs.)
Individuals who usually make large purchases in casha
% persons that use cash for large purchases
46%
mean median
Withdrawal to Money: W/M
2.0
1.1
# withdrawals relative to BT:b n/nBT
3.5
1.2
Normalized cash at withdrawals:c nM/M
13.4
4.5
Normalized size of cash expenditures:d z/m∗
5.9
1.7
Individuals who usually do NOT make large purchases in casha
% persons that do not use cash for large purchases
54%
mean median
Withdrawal to Money: W/M
1.6
1.0
# withdrawals relative to BT:b n/nBT
5.9
1.9
Normalized cash at withdrawals:c nM/M
20.6
7.8

w/ATM card
(895 Obs.)

w/o ATM card
(153 Obs.)

mean
1.9
4.4
17.5
5.7

37%
median
1.0
1.5
6.3
1.8

mean
2.1
1.5
4.0
6.9

96%
median
1.3
0.7
2.6
1.2

mean
1.5
6.0
20.8

63%
median
1.0
1.9
8.0

mean
10.4
0.9
3.8

4%
median
2.1
0.7
2.9

Using survey of Austrian individuals described in Mooslechner, Stix, and Wagner (2006).
- a Based on a question about how individual usually paid for items that cost more than 400 euros. Two options are
available, either currency or other payment methods. Total number of respondents is 1048.
- b # of withdrawals n relative to Baumol-Tobin benchmark, nBT = e/(2 M ) Based on a diary of all transactions
during a week. This the week is right after the month corresponding to the question on large transactions above.
- c The variable nM/M is the product of the number of withdrawals n and the ratio of the average cash at the time
of withdrawal, M to the average cash holdings.
- d The statistics is computed for individuals with z > 0, measured with the diary data (see footnote a), m∗ computed
using equation (22) and the survey data on M /M .

of withdrawals relative to the one implied by Baumol-Tobin, n/nBT .10 We interpret the
model as having implications for the comparison between individuals for whom currency is
the usual means of payment for large purchases versus those for whom it is not. For those
that use currency for large purchases we expect W/M to be larger, and n/nBT to be smaller.
Comparing the top and the bottom panels of Table 3 we find some support for this prediction
for all the individuals and for those with ATM cards.11 With respect to nM/M recall that,
from equation (21), this statistic equals p + κ. So under the reasonable assumption that
individuals with ATM cards have a higher value of p, consistent with the evidence in Alvarez
10

The accounting identity W n = e implies that the product of these statistics should be 2. We present
both statistics because the identity does not hold exactly for each unit of observation. We interpret this
discrepancy as measurement error. Consistent with this interpretation we find that the patterns of violation
of the identity are symmetric and centered around zero (see Alvarez and Lippi (2009)).
11
The prediction is not verified when comparing across individuals without ATM cards. But notice that
there are only 6 individuals w/o ATM who did not use cash as the payment method, so this statistic is likely
noisy.

28

and Lippi (2009), this statistic should be larger in this group.
The last row of the first panel of Table 3 reports a statistic that shows how the threshold
of 400 euros, chosen independently by the survey designers as a threshold for large purchases,
is a reasonable approximation for the value of z which satisfies z > m∗ . The row reports
the mean and median value of z/m∗ , where the variable z is measured using the diary data,
computed for those individuals for whom z > 0 in the diary data. The value of m∗ is
computed using equation (22) and the observations on M /M. It appears that, for all the
cases considered the value is greater than one, confirming the empirical appropriateness of
the assumption z > m∗ .
Table 4: Statistics on the lumpiness of cash purchases in Austria (based on diary data)

Purchase size: average / median:a ea /em
Average purchase size / income:b ea /y
Number of purchases per week

with ATM card
mean median
1.6
1.3
2.2
1.4
10
9

without ATM card
mean
median
1.6
1.3
4.4
2.3
10
9

Based on a diary of all transactions during a week (right after the month corresponding to the question on large
transactions described in the survey).
- a The ratio uses the average and median transaction size paid with currency for each individual during the
week of the diary.
- b Value of the average purchase made with currency (ea ) divided by the monthly income of the individual (y).

In Table 4 we use the diary expenditures data (recorded during a week). We first note
that, given how infrequent are the large purchases in cash per month, there is not enough
information in a week of expenditures to measure heterogeneity across individuals by using
the 400 euros threshold. Therefore we measure the lumpiness of expenditures using the ratio
of the average cash purchase to the median cash purchase both for those with and without
ATM cards. This indicator is given by the ratio between the average and the median size
of the household purchase, denoted as ea /em . Notice that in our model this statistic is
ea /em = (c + κ z)/c so that it is increasing in the share of lumpy purchases.12 Additionally,
12

To see this it is helpful to consider a discrete-time version of the model, with a period of length 1 broken
into small subperiods of length dt, so that 1/dt is the number of subperiods. In each subperiod there is
exactly one “small” purchase of size c dt. Moreover, one large purchase of size z occurs with probability

29

Figure 2: Austria: the inventory model statistics vs. ea /em
W/M

4

n/nBT

.25

.25

W/M
1

n / n_BT
1
4

Regr. coeff. −1.01, t−stat −10.0

Regr. coeff. 0.17 , t−stat 2.4

1

2
5
10
Ratio between average and median purchases in cash
Number of withdrawals relative to BT

1

regression

2
5
10
Ratio between average and median purchases in cash
Avg Withdrawal to Avg cash holdings

regression

M_low / M
.05
.2 .5

1

2

M /M

.01

Regr. coeff. 0.001 , t−stat 0.001

1

2
5
8
Ratio between average and median purchases in cash

Cash at withdrawals relative to Avg cash holdings

regression

we report a statistic for the number of purchases made with cash during a week. The table
shows that the measure of lumpy purchases are essentially constant across ATM ownership.
Next we use our proxy for the lumpiness of purchases, ea /em , and correlate it to patterns
of cash-management statistics. We first present cash management statistics pooling all Austrian individuals. We find some patterns that are broadly consistent with what the model
predicts as a consequence of variation of z across agents. Recall that, using the discrete time
interpretation of the model outlined above, the skewness in the size distribution of purchases
is increasing in z, so that we interpret ea /em as a proxy for z. We find that ea /em is negatively correlated with n/nBT and positively with W/M (see Figure 2). We did not find any
κ dt and no large purchase occurs with probability 1 − κ dt. Large purchases are independently distributed
across subperiods. In this discrete-time model there are exactly 1/dt purchases of size c dt in a period of
length 1, and a number between 0 and 1/dt purchases of size z, with a binomial distribution. (There are
1/dt purchases of size c dt and a probability (κ dt)j (1 − κ dt)1/dt−j j! (1/dt − j)! /(1/dt!) of having exactly j
“large purchases” of size z for j = 0, ..., 1/dt). The average number of large purchases over a period of length
1 is κ, so that for sufficiently small time periods (i.e. 1/dt > κ) the median purchase size is em ≡ c dt while
the average purchase size per period is ea = (c + κ z) dt, so that ea /em = (c + κ z)/c gives a measure of the
skewness of the size distribution of expenditures.

30

correlation between ea /em and M/M, which is consistent with the hypothesis that the ratio
is determined by the variation of p + κ rather than that of z, and that it is dominated by the
variation on p.
We now turn to a comparison of the cash management statistics across ATM ownership
groups. Figure 3 plots the normalized number of withdrawals, n/nBT against the skewness
measure ea /em . The negative correlation displayed is consistent with what the model predicts
as a consequence of variation of z across agents.
Figure 3: Austria: normalized withdrawal frequency, n/nBT , vs. lumpiness, ea /em
w/o ATM Card

w. ATM card

Regr. coeff. −0.97, t−stat −9.1

.25

n / n_BT
1
4

n / n_BT
.25

1

4

Regr. coeff. −1.03, t−stat −3.7

1

2
5
10
Ratio between average and median purchases in cash
Number of withdrawals relative to BT

1

regression

2
5
10
Ratio between average and median purchases in cash
Number of withdrawals relative to BT

regression

Note: Log scale. The vertical axis reports the normalized number of withdrawals n/nBT .

4.2

Management of Liquid Assets by Italian Investors

This section applies the lumpy-purchases hypothesis to the modeling of the household management of a broad liquid asset, close to M2, using data from a sample of Italian households.
The information source is a panel of Italian households (investors), whose transactions were
recorded in the administrative data of a large commercial bank. We document that following
liquidations of high return asset into liquid asset, a disproportionate amount (relative to the
frequency of adjustments) is spent early on, a pattern that is predicted by our model where
lumpy expenditures triggers withdrawals.
31

In Alvarez, Guiso, and Lippi (2011) we analyze a class of models where households must
use a liquid asset to pay for all their expenditures and they face information and/or transaction cost to transfer money from high-yield illiquid assets to the low-yield liquid asset. In that
paper we consider specifications with either non-durable consumption or durable consumption. In the specification where all the expenditures are in non-durable goods − a version of
Duffie and Sun (1990) or Abel, Eberly, and Panageas (2007) − then the expenditures occur
at a constant rate between the adjustments of liquid assets. This implies an average holding
of liquid asset similar to the one in Tobin (1956)-Baumol (1952). Indeed in Alvarez, Guiso,
and Lippi (2011) we found that the cross section distribution of the ratio of M2 times the
frequency of financial trades relative to the rate of consumption of non-durables is totally at
odds with this prediction. On the other hand, in the specification where all the expenditures
are in durable goods − a variation of Grossman and Laroque (1990) − then the expenditures
are lumpy and occur infrequently, implying that they can be paid without holding any liquid
asset between adjustments. This implies that the average holdings of liquid assets tend to
zero as the model time period shrinks. A more realistic model will have expenditures both
in non-durable goods − so that they are continuous − as well as on durable goods -which
with either transaction cost of indivisibilities, becomes lumpy and infrequent. The model in
this paper analyzes such a set up. Hence while the model generalizes the one considered in
Alvarez, Guiso, and Lippi (2011) by having both type of expenditures, it simplifies the set up
in two dimensions: the process for expenditures is exogenous and the adjustment cost does
not include observation costs.
The analysis uses a panel data of administrative records from Unicredit, one of the largest
Italian commercial banks. The administrative data contain information on the stocks and the
net flows of 26 assets categories that investors have at Unicredit. These data are available at
a monthly frequency for 35 months beginning in December 2006.13 Since the administrative
13

See Appendix F in Alvarez, Guiso, and Lippi (2011) for a detailed description of the data. There are two
samples. The first is a sample of about 40,000 investors that were randomly drawn from the population of
investors at Unicredit and that served as a reference sample from extracting the investors to be interviewed
in the 2007 survey. We refer to this as the large sample. We do not have direct access to the administrative

32

record registers both the stock of each asset category at the end of the period as well as the
net trading flow into that category, we can directly identify trading decisions, which would
not be possible if only assets valuation at the end of period were available. One of the 26
assets is the checking account. In what follows we distinguish assets into two categories:
liquid assets, which we identify with the checking account, and investments the sum of the
remaining 25 assets classes. We also experimented, with no change on the results, with a
broader definition of liquid assets, and hence a narrower definition of financial assets.
The data we are interested in concern the household flows of financial investment liquidations and purchases, and the changes in the liquid asset holdings (i.e. checking account). The
key hypothesis to be explored is whether expenditures occur at a constant rate between liquidations, i.e. whether the liquid assets are depleted at a roughly constant rate, as implicit
in inventory models with a continuos consumption process. For this we use the temporal
patterns of asset sales and liquid asset changes in our panel data to show that the spending
rate of liquid assets that comes from asset sales is at least twice as fast as the one consistent
with a model with steady expenditure financed with cash and the observed frequency of asset
liquidations.
Next we illustrate the empirical exercise. We run a regression between Cjt -the net euroflow of the checking account of investor j in month t, and the net investments flows Fjt
distinguishing between the net flow of investment sales FjtS and investment purchases FjtP ,
also in euro amounts during the same month, as well as with lags. Empirically four lags are
sufficient to characterize the dynamics. We notice that by construction FjtS and FjtP are either
zero or positive. So for instance FjtS = 100 (or FjtP = 100) means that over that month there
is a net investment sale (or purchase) of 100 euros. Thus FjtS and FjtP are never positive (at
records for the large sample; calculations and estimates on this sample were kindly done at Unicredit. The
second which we call the survey sample has the same administrative information for the investors that actually
participated in the 2007 survey. We do have access to the survey-sample data which can additionally be
matched with the information from the 2007 survey. A description of the merged data is in Guiso, Sapienza
and Zingales (2010). Since some households left Unicredit after the interview the administrative data are
available for 1,541 households instead on the 1,686 in the 2007 survey. Notice that both the large sample
and the survey sample are balanced panel data.

33

Table 5: Liquidity and portfolio transactions by Italian investors
Dependent variable: Change in the checking account in the month of the transaction
Regressors

Coefficient

Standard
Error

Flow of investment sales:
β0 : current
β1 : lag 1
β2 : lag 2
β3 : lag 3
β4 : lag 4

0.703***
-0.23***
-0.16***
0.002
-0.03

0.0057
0.0062
0.0065
0.006
0.0065

Flow of investment purchases:
γ0 : current
γ1 : lag 1
γ2 : lag 2
γ3 : lag 3
γ4 : lag 4

-0.65***
0.020***
-0.076***
0.056***
-0.011**

0.0065
0.007
0.007
0.007
0.006

Investor total assets:
δ:

0.092***

0.0025

N. observations
R2

31,622
0.47

OLS regressions of the net flow into the checking account on the net flow of investments sales and
purchases. Estimates include investors fixed effects. Three or two asterisks denote that the coefficients
are significant at the 1% or less and 5% confidence level, respectively. Source: Unicredit survey sample,
monthly administrative records (35 months) of 26 accounts for each of 1,541 investors.

the same time) for investor j and are both zero if there are no trades with a net cash flow.
The regression we run is

Cjt =

4
X
k=0

S
βk Fjt−k
+

4
X

P
γk Fjt−k
+ δ Wjt + hj + ujt

k=0

where Wjt is investor j total financial assets, hj is an investor j fixed effect and ujt an error
term. We use the estimated coefficients, shown in Table 5, to characterize the pattern of
liquidity management by a household who sells an asset. The implied impulse response is

34

readily computed using the point estimates of the βk coefficients. Following an investment
sale, about 30 cents per dollar are spent in the same month. In the two months following the
sale, approximately 60 cents per dollar are spent (the sum of (1-0.703)+0.23+0.16).14
Table 6: Summary statistics for the average annual number of asset sales trades
All Asset Sales NSj
Median Mean (sd)
Total sample
Stockholders (total)
Stockholders (direct)

1.03
1.71
1.71

Asset sales ≥ 500
Median Mean (sd )

1.40 (1.29)
1.81 (1.28)
1.97 (1.30)

1.03
1.37
1.37

1.17 (1.11)
1.53 (1.13)
1.69 (1.19)

Asset sales ≥ 1000
Median Mean (sd )
0.70
1.02
1.37

1.06 (1.03)
1.40 (1.07)
1.55 (1.12)

Source: Unicredit survey sample, monthly administrative records (35 months) of 26 accounts for each of
1,541 investors.

To assess whether these patterns are consistent with a steady depletion of the liquid asset,
such as the one implied by the models with continuos consumption described above, we need
to use the information on the frequency of asset sales computed in our dataset, reported in
Table 6. The table shows that the annual frequency of asset sales for the median household
is around one sale per year. Hence, if assets sales were used mostly to finance a steady flow
of consumption expenditures, one would expect that the liquidity obtained from the asset
sale should be spent out at a rate of roughly 1/12 per month.15 This would imply that in
the first month one should see an increase in the checking account of about 0.92 cents per
euro of investments liquidation, and a negative effect of about 0.08 cents in the subsequent
months. Instead, the estimated pattern indicates a much larger liquidity reduction in the
first month (0.7 vs 0.9) than is implied by the steady consumption hypothesis. Likewise,
14

For comparison if we use a broader definition of liquid asset that includes time deposits (hence excludes
them from financial investments) we obtain that the results are essentially the same. In particular the pattern
of coefficients of the lags of investments sales on change in liquid asset account, i.e. of the coefficients βk for
k = 0, 1..., 4 are 0.70, −0.22, −0.16, 0.002 and −0.03 respectively.
15
An even 1/12 is an upper bound since our statistics are based on records of the balance of the investor’s
accounts at the end of every month. Thus, for example, if the sale of assets happens during the middle of
the month the fraction of the sale of asset that should be consumed during the remaining period of the first
month should be 1/24. This would imply an increase during the first month in the checking account of about
0.96.

35

the rate at which liquidity further decrease in the following two months is faster than the
one predicted by the steady consumption hypothesis. Considering the mean frequency of
asset sales, as opposed to the median, makes the picture a bit less striking, since the mean
frequency of asset sales is higher (about 1.4 trades per year), though the observed dynamics
of the checking account remain inconsistent with the steady consumption hypothesis (as e.g.
the observed value of 0.7 is smaller than 1-1.4 /12 = 0.88).

5

Concluding remarks

We presented an inventory model for the demand of liquid assets that allows for the possibility
that, in addition to a continuous (deterministic or random) component, the law of motion
for the liquid assets might record a jump when left controlled. These jumps may be caused
by lumpy expenditures, such as the purchase of durable goods by households. We showed
that a key difference compared to canonical inventory models is that, since the liquidity used
to finance these jumps has infinite velocity, then the lumpy expenditure component does
not enter as the “scale variable” for the average demand of liquidity and only affects some
cash managements statistics, such as size and frequency of withdrawals. We showed that
accounting this phenomenon is useful to interpret cash management patterns in Austria and
in Italy.
Other applications of the ideas in this paper concerns models of liquidity management
by firms and by banks. First, consider the case of firms which have large expenditures that
must be paid with a liquid asset. Our model predicts that these expenditures will not affect
the average firm holdings of liquid assets, for exactly the same reasons discussed in the model
for households: these expenditures have an infinite velocity. This prediction is potentially
testable by examining a panel data of liquid asset holding. We find some confirmation of our
hypothesis in the existing literature. Bates, Kahle, and Stulz (2009) run several specifications
of panel regressions to explain the ratio of liquid asset to total asset for of U.S. manufacturing

36

firms from 1980 to 2006. After controlling for other determinants of liquid asset holding, they
find a negative coefficient on the ratio of acquisitions to assets, which can be interpreted as
a measure of large and infrequent disbursement of liquid assets. The second application is
the management of reserves of banks in accounts at the Federal Reserve System. It has been
documented that the distribution of payments made through Fedwire is highly skewed.16
Thus our framework, adapted to take into account some specific features of this market,
would be suitable to study and interpret this data. We leave the investigation of these topics
for future work.

References
Abel, Andrew B., Janice C. Eberly, and Stavros Panageas. 2007. “Optimal Inattention to
the Stock Market.” American Economic Review 97 (2):244–249.
Alvarez, F., A. Pawasutipaisit, and R. Townsend. 2011. “Household as Firms: Cash Management in Thai Villages.” In preparation, University of Chicago.
Alvarez, Fernando, Luigi Guiso, and Francesco Lippi. 2011. “Durable Consumption and
Asset Management with Transaction and Observation Costs.” American Economic Review
forthcoming.
Alvarez, Fernando E. and Francesco Lippi. 2009. “Financial Innovation and the Transactions
Demand for Cash.” Econometrica 77 (2):363–402.
Archibald, Blyth C. and Edward A. Silver. 1978. “(s,S) Policies under Continuous Review
and Discrete Compound Poisson Demand.” Management Science 24 (9):899–909.
Attanasio, Orazio, Luigi Guiso, and Tullio Jappelli. 2002. “The Demand for Money, Financial
Innovation and the Welfare Cost of Inflation: An Analysis with Household Data.” Journal
of Political Economy 110 (2):318–351.
Baccarin, Stefano. 2009. “Optimal impulse control for a multidimensional cash management system with generalized cost functions.” European Journal of Operational Research
196 (1):198–206.
Bar-Ilan, A. 1990. “Overdrafts and the Demand for Money.” The American Economic Review
80 (5):1201–1216.
16

In 2008 the median value Fedwire payments was about $24, 000 and its average about $5.8 millions, see
Board of Governors of the Federal Reserve System (2012).

37

Bar-Ilan, A., D. Perry, and W. Stadje. 2004. “A generalized impulse control model of cash
management.” Journal of Economic Dynamics and Control 28 (6):1013–1033.
Bates, T.W., K.M. Kahle, and R.M. Stulz. 2009. “Why do US firms hold so much more cash
than they used to?” The Journal of Finance 64 (5):1985–2021.
Baumol, William J. 1952. “The transactions demand for cash: An inventory theoretic model.”
Quarterly Journal of Economics 66 (4):545–556.
Bensoussan, A., A. Chutani, and S.P. Sethi. 2009. “Optimal cash management under uncertainty.” Operations Research Letters 37 (6):425–429.
Board of Governors of the Federal Reserve System. 2012. “Payment System Statistics, Fedwire Funds Services.”
Bounie, D., A. Francois, and N. Houy. 2007. “The Demand for Currency Versus Debitable
Accounts: A Reconsideration.” SSRN eLibrary http://ssrn. com/paper 987375.
Chen, X. and D. Simchi-Levi. 2009. “A new approach for the stochastic cash balance problem
with fixed costs.” Probability in the Engineering and Informational Sciences 23 (04):545–
562.
Constantinides, George. 1978. “Stochatic Cash Management with Fixed and Proportional
Transaction Costs.” Mangement Science 26 (4):620–636.
Constantinides, George and Scott F. Richard. 1978. “Existence of Optimal Simple Policies Discounted-Cost Inventory and Cash Management in Continuous Time.” Operations
Research 26 (4):620–636.
Davis, M.H.A., X. Guo, and G. Wu. 2010. “Impulse Control of Multidimensional Jump
Diffusions.” SIAM Journal on Control and Optimization 48:5276.
Duffie, Darrell and Tong-sheng Sun. 1990. “Transactions costs and portfolio choice in a
discrete-continuous-time setting.” Journal of Economic Dynamics and Control 14 (1):35–
51.
Eppen, Gary D and Eugene F Fama. 1969. “Cash Balance and Simple Dynamic Portfolio
Problems with Proportional Costs.” International Economic Review 10 (2):119–33.
Frenkel, Jacob A. and Boyan Jovanovic. 1980. “On transactions and precautionary demand
for money.” The Quarterly Journal of Economics 95 (1):25–43.
Grossman, Sanford J. and Guy Laroque. 1990. “Asset pricing and optimal portfolio choice
in the presence of illiquid durable consumption goods.” Econometrica 58 (1):25–51.
Harrison, Michael and Michael I. Taskar. 1983. “Instantaneous control of Brownian motion.”
Mathematics of Operations Research 8 (2):439–453.
Harrison, Michael J., Thomas M. Sellke, and Allison J. Taylor. 1983. “Impulse Control of
Brownian Motion.” Mathematics of Operations Research 8 (3):454–466.
38

Jovanovic, Boyan. 1982. “Inflation and Welfare in the Steady State.” Journal of Political
Economy 90 (3):561–77.
Lippi, Francesco and Alessandro Secchi. 2009. “Technological change and the households’
demand for currency.” Journal of Monetary Economics 56 (2):222–230.
Milbourne, Ross. 1983. “Optimal Money Holding under Uncertainty.” International Economic Review 24 (3):685–698.
Miller, Merton and Daniel Orr. 1966. “A model of the demand for money by firms.” Quarterly
Journal of Economics 80 (3):413–435.
Mooslechner, Peter, Helmut Stix, and Karin Wagner. 2006. “How Are Payments Made in
Austria? Results of a Survey on the Structure of Austrian Households Use of Payment
Means in the Context of Monetary Policy Analysis.” Monetary Policy & the Economy
2006 (Q2):111–134.
Neave, E.H. 1970. “The stochastic cash balance problem with fixed costs for increases and
decreases.” Management Science 16 (7):472–490.
Sato, K. and A. Suzuki. 2011. “Stochastic Cash Management Problem with Double Exponential Jump Diffusion Processes.” Operations Research and Its Applications .
Song, Jing-Sheng and Paul Zipkin. 1993. “Inventory Control in a Fluctuating Demand
Environment.” Operations Research 41 (2):351–370.
Tobin, James. 1956. “The interest elasticity of transactions demand for money.” Review of
Economics and Statistics 38 (3):241–247.
Whitesell, William C. 1989. “The Demand for Currency versus Debitable Accounts: Note.”
Journal of Money, Credit and Banking 21 (2):246–251.

A
A.1

Proofs
Proof of Proposition 1.

Proof. We consider two possible patterns for cash management, depending of the relative
frequencies of withdrawals and jumps in cumulative consumption. In the first, the agent
makes a withdrawal every j/κ units of time, where j ≥ 1. In this case there are j jumps
in cumulated consumption between withdrawals. In the second, the agent withdraws every
1/(i κ) units of time, where i ≥ 1. In this case, there are i withdrawals between jumps in
cumulative consumption.
Case I: withdrawals every j/κ units of time (j jumps between withdrawals)
We consider policies where agents make a withdrawal every j/κ units of time, and thus
there are j ≥ 1 jumps in cumulated consumption between two withdrawals. Thus the number
39

of withdrawals per unit of time, the size of the withdrawal, and the average cash balances
per unit of time:
κ
,
j
j
c
κz
W (j) = c + z j = +
,
κ
n
n
1 j
(c + zκ) 1
1
M(j) =
c
+
z (j − 1) =
− z.
2 κ
2
2n
2
n(j) =

for and integer j ≥ 1. the number of withdrawals per unit of time n is the reciprocal of
the time between withdrawals. The expression for withdrawal size W accounts for flow of c
during the time period of length j/κ. In this case the cash balances between two withdrawals
decrease continuously with consumption c and discontinuously at times that are multiplies of
1/κ by the amount z. The first part of the expression for average cash balances M contains
the contribution to required average cash balances from the continuous consumption c, an
expression identical to the one in Baumol-Tobin. The second part contains the contribution
due to the “jumps”, or discontinuous consumption. The last part of the expression contains
only (j − 1) because the last consumption jump is financed by the corresponding withdrawal.
The objective function is then
CI ≡ min RM(j) + b n(j) ≡ min R
j≥1

κ/n∈I+

Rz
(c + zκ)
+b n−
2n
2

Notice that, except for the constraint on n the relevant problem to decide n is as in BaumolTobin, but with total consumption equal to c + κz. Thus the optimal decision rule and
objective function, ignoring integer constraint on j, but imposing that j ≥ 1, or equivalently
n ≤ κ, can be written as
r
p
Rz
R (c + zκ)
2
If 2 b κ ≥ R (c + zκ) =⇒ nI =
and CI = 2 R b (c + κz) −
2b
2
R
c
+ bκ
If 2 b κ2 < R (c + zκ) =⇒ nI = κ and CI =
2
The ratio of average withdrawal to average money stock is given by:
W
c + κz
=2
≥2.
M
c + z(κ − n)
If 2 b κ2 < R (c + zκ) =⇒ 1 <
If 2 b κ2 ≥ R (c + zκ) =⇒

W/M
=
2

c + κz
q
c + κz − z R

(c+κz)
2 b

<

c + κz
c

W/M
c + κz
=
2
c

Case II: withdrawals every 1/(iκ) units of time (i withdrawals between jumps)
Consider policies where agents make i withdrawals in a period of length 1/κ, where i is an
40

integer. Thus, the time between withdrawals is 1/(iκ). In this case the number of withdrawals
per unit of time is iκ. The size of withdrawals varies, since 1 every i withdrawals includes the
amount for a consumption jump. Finally, the average average money holdings are identical to
those of the Baumol Tobin model where consumption is given by the continuous component
only. Hence we have:
n(i) = iκ ,
z
c
κz
c
W (i) =
+
=
+ ,
i iκ
n
n
c
c
=
.
M(i) =
2iκ
2n
The agent solves:
CII = min RM(i) + b n(i) = min R
i≥1

n/κ∈I+

h c i
+b n .
2n

Notice that, except for the constraint on n the relevant problem to decide n is as in
Baumol-Tobin, but with total consumption equal to c. Thus the optimal decision rule and
objective function, ignoring the integer constraints on n, but imposing that n ≥ κ can be
written as
r
√
Rc
2
and CII = 2 R b c
If 2 b κ ≤ R c =⇒ nII =
2b
Rc
If 2 b κ2 > R c =⇒ nII = κ and CII =
+ bκ
2
The ratio of average withdrawal to average money stock is given by:
W
c + κz
=2
≥2.
M
c
Optimal Policy: combining Case I and Case II
Now we can obtain the decision rule, combining the case where there are multiple jumps
between withdrawals (case I) and there are multiple withdrawals between jumps (case II).
We first find an expression for the thresholds (κ, κ̄(z)) for which the constraint on i ≥ 1 and
j ≥ 1 binds, for case II and I respectively.
r
p
Rz + (Rz)2 + 8bRc
Rc
κ=
≤ κ̄(z) =
.
2b
4b

41

Note that κ = κ̄(0) and that κ̄ is strictly increasing in z. We can then write:
r
√
Rc
If κ ≤ κ =⇒ n = nII =
and C = CII = 2 R b c
2b
Rc
If κ < κ < κ̄(z) =⇒ n = κ and C = CI = CII =
+ bκ
2
r
p
Rz
R (c + zκ)
If κ ≥ κ̄(z) =⇒ n = nI =
and C = CI = 2 R b (c + κz) −
2b
2

For simplicity, in the characterization of the optimal policies, we disregarded the constraint that either j or i are integers. A necessary and sufficient conditions to disregard that
constraint is the following. Define u as follows:
s
(r
)
Rc
κ2 2 b
u ≡ max
,
.
2 b κ2
R (c + κz)
The condition is that if u > 1, then u is an integer. In this case the constraint that n is an
integer is not binding.

A.2

Proof of Proposition 2.

Proof. Step 1: Deriving a system of ODE’s
Taking as given the values of m∗ and m∗∗ . Using these values, we split the range of inaction
for V , given by [0, m∗∗ ], into J intervals. The first J − 1 intervals are of width z and are given
by [jz, (j + 1) z] for j = 0, 1, ..., J −1. The last interval is given by [Jz, min {m∗∗ , (J + 1) z}].
We also define j ∗ as the smallest integer such that z(j ∗ + 1) ≥ m∗ , so that zj ∗ m∗ < z(j ∗ + 1).
We index the solution of each of the ODE’s by j. We start with V0 : [0z] → R which solves
the linear second order (first order if σ = 0) ODE:
(r + p + κ) V0 (m) = Rm + (p + κ) V ∗ + κb + V0′ (m) (−c − πm) +

σ 2 ′′
V (m)
2 0

(A-1)

for 0 ≤ m ≤ z. For 1 ≤ j ≤ J, taking as given the function Vj−1(·), we have the following
linear second order (first order if σ = 0) ODE for Vj : [jz , min {(j + 1) z , m∗∗ }] → R:
(r + p + κ) Vj (m) = Rm + pV ∗ + κVj−1 (m − z) + Vj′ (m) (−c − πm) +

σ 2 ′′
V (m)
2 j

(A-2)

for j = 1, ..., J − 1. We also have the following value matching at m = 0, m = m∗∗ and
m = m∗ :
V0 (0) = V ∗ + b ,
VJ−1 (m∗∗ ) = V ∗ + b ,
Vj∗(m∗ ) = V ∗ .

42

(A-3)
(A-4)
(A-5)

Since V is twice differentiable for σ > 0, (once if σ = 0) we require that
′
Vj (zj) = Vj−1 (zj) and if σ > 0, Vj′ (zj) = Vj−1
(zj) ,

for j = 1, 2, ..., J − 1. Notice that for σ > 0, if the Vj solve their corresponding ODE,
then these pair of equalities implies that the second derivatives of Vj and Vj−1 agree at each
point for j ≥ 1. This can be shown, recursively, starting from j = 1. Instead if σ = 0, if
Vj (zj) = Vj−1 (zj), then the first derivative agrees on these points.
Step 2: Solving the system of ODEs
Up to here, given (m∗ , m∗∗ ) we have a system of second order (first order if σ = 0) linear
differential equations, with exactly as many boundary conditions to find a unique solution,
which we denote by V (·; m∗ , m∗∗ ) on the range [0, m∗∗ ]. The function V (·; m∗ , m∗∗ ) is the
value of following a policy indexed by (m∗ , m∗∗ ). In particular, for any given V ∗ , there is a
two parameter family (one parameter if σ = 0) that solves V0 in [0, z]. Thus, fixing V ∗ and
these two parameters (one if σ = 0) we can use V0 to solve for V1 in the range, [z, 2z]. These
second order (first order if σ = 0) ODE uses the two (one if σ = 0) boundary conditions:
V0 (z) = V1 (z) and (if σ > 0) V0′ (z) = V1′ (z). We continue recursively, solving for Vj on
[jz, (j + 1)z] for j = 1, ..., J −1, using the previously found solution for Vj−1 on [(j −1)z, jz],
each time using the two (one if σ = 0) boundary conditions Vj−1 (jz) = Vj (jz) and (if σ > 0)
′
Vj−1
(jz) = Vj′ (jz). At the end of this procedure we have functions V0 , V1 , ..., VJ−1 depending
on V ∗ and two parameters (one if σ > 0). We can solve for these three numbers (two if
σ = 0) imposing the value matching conditions equations (A-3)-(A-4)-(A-5).
We note that in the case in which π = 0, the homogeneous linear second order (first order
if σ = 0) ODE have constant coefficients. Hence the solution of the homogenous is given by
the linear combination of two exponential functions. The solution of the non-homogenous
solution is given by sum of the product of each of the solution of the homogeneous and other
function. This can be computed recursively, starting from j = 0. This gives the following
solution in equation (10).
Step 3: Deriving the linear equations for the coefficients of the solution of equation (10)
k
First we will take as given the two values of B00
for k = 1, 2 and develop a system of
k
equation for {Aj , Dj } and the remaining {Bj,i}.
The variable V ∗ can be eliminated of the system using the value matching at m = 0,
equation (A-3) and the form of V0 , namely
X
k
V ∗ = A0 +
B0,0
−b .
(A-6)
k=1,2

We solve for the coefficients of V0 on the constant and multiplying m on both sides of the
ODE We have
R
(p + κ)V ∗ + κ b − c D0
D0 =
, A0 =
(A-7)
(r + p + κ)
r+p+κ
Replacing the conjectured form of Vj in equation (10) on both sides of the ODE equation (A.2)

43

for j = 1, 2, ..., J − 1:
(r + p + κ) Aj + Dj (m − zj) +
= Rm + pV ∗ − c Dj +

j
XX

k=1,2 i=0

+ κ Aj−1 + Dj−1(m − zj) +
2

+

σ
2

j
XX

k
Bj,i

k=1,2 i=0

j
XX

k=1,2 i=0

k
Bj,i
eλk (m−zj) (m − zj)i



!

k
Bj,i
eλk (m−zj) λk (m − zj)i + i (m − zj)i−1

j−1
XX

k=1,2 i=0

k
Bj−1,i
eλk (m−zj) (m − zj)

i

!

(A-8)
!


!


eλk (m−zj) λ2k (m − zj)i + 2λk i (m − zj)i−1 + i(i − 1) (m − zj)i−2

For 1 ≤ j ≤ J − 1 : matching the constant and coefficients on m on both sides of the ODE
for Vj equation (A-8) we have:
R
κ
pV ∗ − c Dj − κz j Dj−1 + κAj−1
+
Dj−1 , Aj =
+ Dj zj .
(r + p + κ) (r + p + κ)
r+p+κ
(A-9)
Thus, using equation (A-6), equation (A-7) and equation (A-9) we can solve for all {Dj , Aj }j=1,...,J−1
k
as a functions of B00
for k = 1, 2.
Now we match the coefficients of the terms involving eλk (m−zj) (m − zj)i in both sides of
equation (A-8), the ODE for Vj . Fixing an ODE j = 1, ..., J − 1, we have coefficients for
i = 0, 1, ..., j. Matching the coefficient for eλk (m−zj) (m − zj)j gives no additional restrictions,
given the expression for λk . The coefficient for eλk (m−zj) (m − zj)j−1 gives the following
k
difference equation for Bj,j
:
Dj =

k
Bj,j
j c − σ 2 λk



k
= κBj−1,j−1
for j = 1, ..., J − 1, k = 1, 2 .

(A-10)

k
k
Thus using equation (A-6) we can solve for {Bj,j
}j=1,...,J−1 given B00
for k = 1, 2.
λk (m−zj)
i
Likewise matching the coefficients for e
(m − zj) for i = 0, 1, ..., j − 2, canceling
some terms due to the expression for λk , gives

σ2 k
B
(i+1)(i+2) for j = 2, ..., J−1, i = 0, ..., j−2, k = 1, 2 .
2 j,i+2
(A-11)
Imposing that the level and the first derivative of the functions Vj−1 and Vj agree when
evaluated at zj we obtain:
k
k
(c−σ 2 λk )(i+1)Bj,i+1
= κBj−1,i
+

Aj + Dj +

X

k
Bj,0

= Aj−1 + Dj−1 z +

X

k=1,2

k
Bj,0
λk = Dj−1 +

k
Bj−1,i
eλk z z i

(A-12)

k=1,2 i=0

k=1,2

Dj +

j−1
XX

j−1
XX

k=1,2 i=0

44

k
Bj−1,i
eλk

z




λk z i + i z i−1 ,

(A-13)

for j = 1, 2, ..., J − 1.
k
We will now solve for {Bj,i
} for j = 1, ..., J − 1 and i = 0, ..., j − 1, for each k = 1, 2.
k
First, we can use equation (A-12) and equation (A-13) for j = 1 to solve for B1,0
. Using
k
these values and {B2,2 } we can use equation (A-11) and equation (A-12)-equation (A-13) for
k
k
j = 2 to solve for {B2,1
, B2,0
}. In general, on one hand, fixing k = 1, 2 and j = 2, ..., J − 1
k
k
if {Bj−1 }i=0,...,j−2 are known, equation (A-11) can be solve for {Bj,i
}i = 0, ..., j − 1 using
k
Bj,j as a known boundary condition. On the other hand, we can use equation (A-12) and
k
equation (A-13) for j = 2, ..., J − 1 to obtain two extra linear equations for {Bj,0
}i=0,...,j,k=1,2,
k
given the values of {Bj−1,i}i=0,...,j−1.
k
k
At this point we have solved for {Dj , Aj , Bj,i
} as functions of B0,0
. We can now solve
k
∗
for B0,0 using two more linear equations: the value at Vj ∗ at m and of VJ−1 at m∗∗ has to
satisfy:
∗

∗

∗

∗

V = Aj ∗ + Dj ∗ (m − zj ) +
∗

j
XX

∗ −zj ∗ )

Bjk∗ ,i eλk (m

k=1,2 i=0

∗∗

V + b = AJ−1 + DJ−1 (m − z(J − 1)) +

J−1
XX

(m∗ − zj ∗ )i ,
∗∗ −z(J−1))

k
BJ−1,i
eλk (m

k=1,2 i=0

(A-14)
(m∗∗ − z(J − 1))i
(A-15)

We note that while V ∗ appears in these equation, it can be replaced by using equation (A-6)
k
.
in terms of A0 , B00

A.3

Proof of Proposition 3.

Proof. Consider the Bellman equation for the case of continuous consumption at the rate
γ + c and no jumps, so z = 0. If 0 < m < m∗∗ it reads:
(r + p)V (m) = Rm + pV ∗ − V ′ (m)(c + γ).
Instead he Bellman equation for the case of jumps, when z < m < m∗∗ is
(r + p)V (m; z) = Rm + pV ∗ (z) − V ′ (m; z)c + κ (V (m; z) − V (m − z; z)) .
Where the z as a second argument is included to emphasize that it is the problem with
jumps. We want to show that as z → 0 boh Bellman equations coincide, which is the same
than showing that:
V ′ (m)γ = lim κ (V (m; z) − V (m − z; z)) .
z→0

This instead holds by writing V (m − z; z) = V (m; z) − V ′ (m; z)z + o(z). Taking the limit as
z → 0 and using that κz = γ. QED

A.4

Proof of Proposition 5.

Proof. Consider the function V (m; m′ , p, κ, z, c), the value of following a policy with an
upper threshold m′ at the current value m. This function has been characterized fully in
45

Proposition 8 in Appendix B for the appropriate setting of θ. Recall that the solution of
the agent’s problem V (·; m∗ , p, κ, z, c) is minimized at m∗ . Thus, we can find the optimal
threshold m∗ by minimizing V ∗ (m′ ; p, κ, z, c) ≡ V (m′ ; m′ , p, κ, z, c).
The condition that m∗ (p + κ, 0, 0, c) < z ensures that
V ∗ (m′ , p, κ, z, c) ≥ V ∗ (m∗ (p + κ, 0, 0, c0) ; p, κ, z, c) +

κb
r

for all m′ ≤ z every jump triggers a withdrawal, and hence, apart from the cost b, the jumps
behaves exactly as free withdrawal opportunities. Thus in this range the value function
satisfies
V ∗ (m′ ; p, κ, z, c) = V ∗ (m′ , p + κ, 0, 0, c) + κb/r .
The value function V (·; ·, p, 0, 0, c) is the value function for the problem studied in Alvarez
and Lippi (2009), with no jumps. Either using the results in Alvarez and Lippi (2009), or
solving the relevant ODE and boundary condition in Proposition 8 for the case where m′ < z
we have the following explicit solution
"
#
′ R
m
+
b
r+p+κ
r+p+κ
V ∗ (m′ , p + κ, 0, 0, c) =
+b
r
1 − e−(r+p+κ)m′ /c
This function is single peaked, attains its minimum at m∗ (p + κ, 0, 0, c) and is strictly increasing in m′ for values m′ > m∗ (p + κ, 0, 0, c).
The argument for values m′ > z uses that for any ǫ > 0, we can find κ such that for
κ < κ:
V ∗ (m∗ (p, κ, z, c) ; p, κ, z, c) − V ∗ (m∗ (p + κ, 0, 0, c) ; p + κ, 0, 0, c) −

bκ
<ǫ
r

The result will follow by choosing ǫ to be
ǫ(z) = V ∗ (z; p, κ, z, c) − V ∗ (m∗ (p + κ, 0, 0, c); p + κ, 0, 0, c) − κb/r .
That ǫ > 0 follows from the assumption that m∗ (p + κ, 0, 0, c) < z. Since V ∗ (z; p, κ, z, c) is
increasing in z, then so is ǫ(z).
Now we show the required continuity. Consider a policy where, regardless of whether
m < z or not, if a jump takes place the agent makes a withdrawal. The expected discounted
cost of this policy equals V ∗ (m′ ; p+κ, 0, 0, c)+κb/r. The first term is the expected discounted
cost of financing a constant cash consumption of c and having free withdrawal opportunities
at the rate p + κ. The second term is the expected discounted cost of all the withdrawals
that occur every time a jump occur. Since withdrawals occur even if m ≥ z we have for all
m′ :
V ∗ (m′ ; p, κ, z, c) ≤ V ∗ (m′ ; p + κ, 0, 0, c) + κb/r .

46

From the optimality of m∗ (p + κ, 0, 0, c) and m∗ (p, 0, 0, c) we have that for all m′ :
V ∗ (m′ ; p + κ, 0, 0, c) ≥ V ∗ (m∗ (p + κ, 0, 0, c); p + κ, 0, 0, c)
V ∗ (m′ ; p, 0, 0, c) ≥ V ∗ (m∗ (p, 0, 0, c); p, 0, 0, c) .
Since the cost is increasing in each component of the cash expenditures:
V ∗ (m′ ; p, κ, z, c) ≥ V ∗ (m′ ; p, 0, 0, c) ≥ V ∗ (m∗ (p, 0, 0, c); p, 0, 0, c) .
Collecting these inequalities we have that for any m′ :
V ∗ (m∗ (p, 0, 0, c); p, 0, 0, c) ≤ V ∗ (m′ ; p, 0, 0, c) ≤ V ∗ (m′ ; p, κ, z, c)
≤ V ∗ (m∗ (p + κ, 0, 0); p + κ, 0, 0, c) +

κb
r

Finally since we show in Alvarez and Lippi (2009) that V ∗ (m∗ (·, 0, 0, c); ·, 0, 0, z) is continuous and κb/r is continuous on κ, we have that for any c, b/R, and p, there exist a κ such
that for all κ < κ,
V ∗ (m∗ (p + κ, 0, 0); p + κ, 0, 0, c) +

κb
− V ∗ (m∗ (p, 0, 0, c); p, 0, 0, c) < ǫ(z) .
r

We note that the absolute value in the previous expression is independent of z. Hence for all
κ < κ:
V ∗ (m∗ (p + κ, 0, 0); p + κ, 0, 0, c) +

κb
− V ∗ (m∗ (p, κ, c, z); p, κ, z, c) < ǫ(z) .
r

Finally, since ǫ(z) is increasing in z, but the upper and lower bounds on V ∗ (m∗ (p, κ, c, z); p, κ, z, c)
are not, we have that the conclusion of the proposition holds also for z ′ > z.

47

Online Appendices - Not for publication

The demand for liquid assets with uncertain lumpy
expenditures
Fernando Alvarez (U. Chicago)
Francesco Lippi (U. Sassari, EIEF )

B

The model with π = σ = 0

B.1

Solution of the Bellman equation for the π = σ = 0 case.

In this case the linear system described in the proof of Proposition 2 further simplifies. In
particular we have that there is only one root λ so we omit k from all the expression.
Since σ = 0, the range of inaction is [0, m∗ ]. Let j ∗ the smallest integer such that
(j ∗ + 1)z ≥ m∗ . The value function in each segment Vj : [zj, z (j + 1)] → R for j = 0, ..., j ∗ :
Vj (m) = Aj + Dj (m − z j) + exp (λ (m − zj))

j
X
i=0

Bj,i (m − z j)i

where the constants V ∗ , λ, Aj , Dj and Bj,i satisfy the following set of linear equations:
r+p+κ
R
, D0 =
,
−c
(r + p + κ)
c
= (p + κ) V ∗ + κb −
, B0,0 = b + V ∗ − A0 .
r+p+κ

λ =
(r + p + κ) A0

and for j = 0, 1, ..., j ∗ − 1 :




1
pV ∗ κ
−1 R κ
+ Dj , Aj+1 =
Dj+1 −
− [Aj − Dj z (j + 1)] + Dj+1 z (j + 1) ,
Dj+1 =
λ c
c
λ
c
c
j
X
1 κ
Bj,i for i = 0, 1, 2, ..., j and
Bj+1,0 = Aj + Dj z + eλz
Bj,i z i − Aj+1 , Bj+1,i+1 =
i
+
1
c
i=0
∗

V

∗

∗

∗

λ(m∗ −zj ∗ )

= Aj ∗ + Dj ∗ (m − z j ) + e

j
X
i=0

Bj ∗ ,i (m∗ − z j ∗ )i

Finally, the optimality of the threshold m∗ implies that:
" j∗
#


X
∗
∗
0 = Dj ∗ + eλ(m −zj )
Bj ∗ ,i λ (m∗ − z (j ∗ ))i + i (m∗ − zj ∗ )i−1

(A-16)

i=0

B.2

Computing M, W, n for any z, k when π = σ = 0

This section computes the value function and several cash management statistics of interest
for the case of σ = 0 and π = 0 for any configuration of the lumpy purchase parameters: z, k.
Besides the value function V (m) we also define the functions M(m), w(m), m(m) and n(m)
as the expected discounted (at rate ρ) integral of the respective quantities (cash balances,
withdrawals size, cash-at-withdrawal and deposit indicator), conditional on the current value
of m, where cash holding follow the law of motion that corresponds to the optimal decision
rule of the model with σ = π = 0 and optimal return m∗ . If there is no free withdrawal

1

opportunity, cash balances evolve as
dm(t) = −c dt − z dN(t) for m(t) ∈ (0, m∗ ]

(A-17)

where N(t) is the counter of a Poisson process with arrival at the rate κ. If there is a free
adjustment, which occurs with Poisson arrival rate p per unit of time. We let mt the cash at
the time of a withdrawal, and wt the amount of the withdrawal. In an instant an adjustment
(withdrawal) can happen in either of the following three cases:i) m(t) reaches zero in which
case, mt = 0 and wt = m∗ , ii) a jump in cash consumption occurs when m(t) < z, then
mt = m(t) and w(t) = z + m∗ − m(t), iii) a free withdrawal opportunity takes place, then
mt = m(t) and wt = m∗ − m(t). We use the functions M(m), w(m), m(m) and n(m) to
compute the expected value under the invariant distribution of the money holdings M, the
average withdrawal size W , the average cash holdings at the time of withdrawal M/M, and
the average number of withdrawals per unit of time n. We define the unconditional expected
values (M, W, M, n) by multiplying the expected discounted value by the discount rate ρ.
This adjustment converts these quantities in a flow. For these cash holding statistics we take
the discount rate to zero, to obtain the corresponding expected value under the invariant
distribution of the process for {m(t)}, as explained below.17 In particular let:
 Z ∞

−ρt
e m (t) dt | m0 = m
M (m) = E ρ
0
#
" ∞
X



+
−
w (m) = E ρ
e−ρτj m τj − m τj + z Iτj | m0 = m
j=0

"

m (m) = E ρ
"

n (m) = E ρ
V (m) =

∞
X
j=0

∞
X
j=0


−

e−ρτj m τj

#

| m0 = m
#

e−ρτj | m0 = m

1
[R M (m) + b (n (m) − p)] ,
ρ

where τj are the times at which a withdrawal happens (which may coincide with a free
withdrawal opportunity or with a jump in consumption or not) and where It is an indicator
that a cash consumption jump has occurred at time τj when m(τj− ) ≤ z. The expectations
are taken with respect to the process for {m(t)} generated by equation (A-17). Notice that
the value function V is the sum of the expected discounted cost of holding cash plus the
expected discounted cost of the adjustments. The factor 1/ρ corrects the flow nature of the
definitions for M and n. Since the adjustments n include those that are free, the last terms
subtracts the expected discounted value of them. In the case of the value function we let
17

Alternatively, the limits of M, W, M and n can be computed by solving for the invariant distribution
of m, say h, and the expected number of withdrawals, n and using them to define the remaining statistics
(M, M and W ). We do so in the Online Appendix C, but the derivation and calculations of n and h are
more involved and specialized.

2

ρ = r. For the cash holding statistics we are interested in
M = lim M (m) , w = lim w (m) , m = lim m (m) , n = lim n (m) .
ρ→0

ρ→0

ρ→0

ρ→0

As implicit in the notation, as ρ ↓ 0 the functions do not depend on m. Note that w is the
expected value of the total amount of withdrawals during a period of length 1, and hence
the average withdrawal size is W = wn . Likewise, m is the expected value of the total amount
of cash at the time of withdrawal in a period of length 1, and hence the average cash at the
time of a withdrawal is M = m
.
n
These functions satisfy the following system of ODE equations, which, in order to simplify
the solution, we only write for the case of π = 0. The logic for them is the same as the one
for the value function in the general case discussed in Section 3.1. We let j ∗ be the smallest
integer for which m ≤ (j ∗ + 1)z. Thus, all these functions will be defined in segments of the
form [zj, z (j + 1)]. For m ∈ [0, z] we have:
(ρ + κ + p) F0 (m) = ρ ν0 m + ρ α0 − F0′ (m) c + (κ + p) F ∗
for suitable choices of the constants ν0 and α0 (see the Appendix B.4 for details). We follow
the notational convention that the function evaluated right after hitting the barrier m∗ , i.e.
at m(t+ ) = m∗ , is denoted with a ∗ , say for instance M(m∗ ) = M ∗ . For m ∈ [zj, z (j + 1)] for
j = 1, 2, ..., j ∗
(ρ + κ + p) Fj (m) = ρ ν m + ρ α − Fj′ (m) c + κFj−1 (m − z) + p F ∗ ,
for some suitable choices of α and ν (see Appendix B.4 for details). Continuity at m = zj
for j = 1, .., j ∗
Fj (zj) = Fj−1 (zj)
for j = 1, 2, ..., j ∗. The conditions at m = 0 are
F0 (0) = ρ α∗ + F ∗ ,
for a suitable choice of α∗ (see the Appendix B.4 for details). Now we can write the solution
for F as a function of m∗ , ν, ν0 , α, α0 and α∗ .
Proposition 8. Assume that c > 0, ρ > 0, and ρ + p + κ > 0. The ODE-DDE for F has
the following solution. Let m∗ and θ ≡ (ν, ν0 , α, α0 , α∗ ) be given. Define j ∗ as the smallest
integer so that (j ∗ + 1)z ≥ m∗ . Then Fj (·; m∗ , θ) : [zj, z (j + 1)] → R has the form:
∗

Fj (m; m , θ) = Gj + Sj (m − zj) +

j
X
i=0

Hj,i eλ(m−zj) (m − zj)i

, and the values for Gj , Sj , Hij for j = 1, ..., j ∗ and
where given the constant λ = ρ+κ+p
−c
i = 1, .., j solve a block recursive system of linear equations described in the proof.
We use this general set-up to develop a non-linear equation to find the value of the optimal
return point m∗ . This equation reflects that m∗ is chosen optimally, and hence it must satisfy
3

that V ′ (m∗ ) = Vj′∗ (m∗ ) = 0. This can be written as:
∗

0 = Sj ∗ +

j
X

∗

λ(m∗ −zj ∗ )

Hj ∗ i e

i=0

B.3

∗ i−1

∗

i (m − zj )

+λ

j
X

∗ −zj ∗ )

Hj ∗ i eλ(m

i=0

(m∗ − zj ∗ )i

Proof of Proposition 8

First we describe the system of linear equations that the coefficients for Gj , Sj , Hij for
j = 1, ..., j ∗ and i = 1, .., j and F ∗ solve:
ρ
ν0 ,
ρ+κ+p
ρ
c
(κ + p) ∗
=
α0 −
S0 +
F ,
ρ+κ+p
ρ+κ+p
ρ+κ+p
= ρα∗ + F ∗ − G0 ,

S0 =
G0
H00
for j = 0, 1, 2, ..., j ∗ − 1 :

κ
ρ
ν +
Sj ,
ρ+κ+p
ρ+κ+p
κ
ρα + pF ∗
c
+
[Gj − Sj z (j + 1)] −
Sj+1 + Sj+1 z (j + 1) ,
=
ρ+κ+p ρ+κ+p
ρ+κ+p
j
X
= G j + Sj z +
Hj,i eλz z i − Gj+1 where

Sj+1 =
Gj+1
Hj+1,0

i=0

Hj+1, i =

1κ
Hj,i−1 for i = 1, 2, ..., j + 1, and
ic
∗

∗

∗

∗

F = Gj ∗ + Sj ∗ (m − zj ) +

j
X

∗ −zj ∗ )

Hj ∗ i eλ(m

i=0

(m∗ − zj ∗ )i

Second, we derive this equations. We do this in two steps.
Step I. Solution for j = 0.
We have
F0 (m) = G0 + S0 m + H00 exp (λm)
and
F0′ (m) = S0 + λH00 exp (λm)
or




(ρ + κ + p) G0 + S0 m + H00 eλm = ρ ν0 m + ρ α0 − c S0 + λH00 eλm + (κ + p) F ∗

Now we solve for λ, S0 , G0 and H00 .
For λ we have:
(ρ + κ + p) exp (λm) = −cλH00 exp (λm)
4

or
λ=
For S0 :

ρ+κ+p
,
−c

(ρ + κ + p) S0 = ρ ν0
or
S0 =

ρ
ν0 .
ρ+κ+p

For G0
(ρ + κ + p) G0 = ρ α0 − cS0 + (κ + p) F ∗
or
G0 =

ρ
c
(κ + p) ∗
α0 −
S0 +
F
ρ+κ+p
ρ+κ+p
ρ+κ+p

Using the boundary condition F0 (0) = ρ α∗ + F ∗ ,
F0 (0) = G0 + H00 = ρα∗ + F ∗
or
H00 = ρα∗ + F ∗ − G0 .

Step II. Solution for 1 ≤ j ≤ j ∗ .
We have
Fj′

λ(m−zj)

(m) = Sj + e

j
X
i=0

h
i
Hj,i λ (m − zj)i + i (m − zj)i−1

so that
"

(ρ + κ + p) Gj+1 + Sj+1 (m − z (j + 1)) +
= ρ ν m + ρα + pF ∗
"

+κ Gj + Sj (m − z (j + 1)) +
"

j
X
i=0

−c Sj+1 + exp (λ (m − z (j + 1)))

j+1
X
i=0

i

Hj+1,i exp (λ (m − z (j + 1))) (m − z (j + 1))

i

Hj,i exp (λ (m − z (j + 1))) (m − z (j + 1))
j+1
X
i=0

h

i

#
i−1

Hj+1,i λ (m − z (j + 1)) + i (m − z (j + 1))

5

#
i

#

Matching the coefficients for exp (λ (m − z (j + 1))) requires:
(ρ + κ + p)

j+1
X
i=0

j

= κ

X

Hj,i (m − z (j + 1))i

i=0
j+1

−c

Hj+1,i (m − z (j + 1))i

X
i=0

h
i
Hj+1,i λ (m − z (j + 1))i + i (m − z (j + 1))i−1

and using the expression for λ
0=κ

j
X

i=0
j+1

−c

X
i=0

Hj,i (m − z (j + 1))i

Hj+1,i i (m − z (j + 1))i−1

and matching the coefficients for (m − z (j + 1))i−1 :
0 = κ Hj

i−1

so that

− c i Hj+1

i

1κ
Hj,i−1
ic

Hj+1, i =
for i = 1, 2, ..., j + 1.
Matching the coeffcients of m :

(ρ + κ + p) Sj+1 = ρ ν + κSj
or
Sj+1 =

κ
ρ
ν +
Sj
ρ+κ+p
ρ+κ+p

Matching the coefficient for the constants:
(ρ + κ + p) [Gj+1 − Sj+1 z (j + 1)]
= ρα + pF ∗ + κ [Gj − Sj z (j + 1)] − cSj+1
or
Gj+1 =

ρα + pF ∗
κ
c
+
[Gj − Sj z (j + 1)] −
Sj+1 + Sj+1 z (j + 1)
(ρ + κ + p) ρ + κ + p
(ρ + κ + p)

6

Finally using the continuity at zj :
Fj+1 (z (j + 1)) = Gj+1 + Sj+1 +

j+1
X

Hj+1, i (0)i = Gj+1 + Hj+1,0

i=0

Fj (z (j + 1)) = Gj + Sj z +

j
X

Hj,i exp (λz) (z)i

i=0

so that
Gj+1 + Hj+1,0 = Gj + Sj z +

j
X

Hj,i exp (λz) (z)i

i=0

or
Hj+1,0 = Gj + Sj z +

j
X
i=0

Hj,i exp (λz) (z)i − Gj+1 .

Finally we require that
F ∗ = Fj ∗ (m∗ ) or
∗

F

∗

∗

∗

= Gj ∗ + Sj ∗ (m − zj ) +

j
X
i=0

Hj ∗ i exp (λ (m∗ − zj ∗ )) (m∗ − zj ∗ )i

QED

B.4

Bellman equations for V, M, M, W, n and its coefficients

In the range [0, z] we have:
(ρ + κ + p) M0 (m)
(ρ + κ + p) w0 (m)
(ρ + κ + p) m0 (m)
(ρ + κ + p) n0 (m)
(ρ + κ + p) V0 (m)

=
=
=
=
=

ρ m − M0′ (m) c + (κ + p) M ∗
ρ (κ + p) (m∗ − m) + ρκz − w0′ (m) c + (κ + p) w ∗
ρ (κ + p) m − m′0 (m) c + (κ + p) m0∗
ρ (κ + p) − n′0 (m) c + (κ + p) n∗
Rm + κb − V0′ (m) c + (κ + p) V ∗

We follow the notational convention that the function evaluated right after hitting the barrier
m∗ , i.e. at m(t+ ) = m∗ , is denoted with a ∗ , say for instance M(m∗ ) = M ∗ . For m ∈
[zj, z (j + 1)] for j = 1, 2, ..., j ∗
(ρ + κ + p) Mj (m)
(ρ + κ + p) wj (m)
(ρ + κ + p) mj (m)
(ρ + κ + p) nj (m)
(ρ + κ + p) Vj (m)

=
=
=
=
=

ρ m − Mj′ (m) c + κMj−1 (m − z) + pM ∗
ρp (m∗ − m) − wj′ (m) c + κ wj−1 (m − z) + p w ∗
ρ pm − m′j (m) c + κ mj−1 (m − z) + pm∗
ρp − n′j (m) c + κnj−1 (m − z) + pn∗
Rm − Vj′ (m) c + κVj−1 (m − z) + pV ∗
7

Continuity of these function across the segments gives:
Mj (zj)
wj (zj)
mj (zj)
nj (zj)
Vj (zj)

=
=
=
=
=

Mj−1 (zj) ,
wj−1 (zj) ,
M j−1 (zj) ,
nj−1 (zj) ,
Vj−1 (zj) ,

=
=
=
=
=

M ∗,
ρ m∗ + w ∗,
m∗ ,
ρ + n∗ ,
V∗+b ,

The boundary conditions at m = 0 : are
M0 (0)
w0 (0)
m0 (0)
n0 (0)
V0 (0)

We display the expressions to map the equations for the general formulation F to each
of the 4 variables: M, w, m, and n. They are
M0
w0
m0
n0
V0

: ν0 = 1, α0 = 0,
: ν0 = − (κ + p) , α0 = (κ + p) m∗ + κz,
: ν0 = κ + p, α0 = 0,
: ν0 = 0, α0 = (κ + p) ,
: ν0 = R/ρ, α0 = κb/ρ,
Mj
wj
mj
nj
Vj

:
:
:
:
:

ν
ν
ν
ν
ν

= 1, α = 0,
= −p, α = pm∗
= p, α = 0,
= 0, α = p,
= R/ρ, α = 0,

and
M0
w0
m0
n0
V0

: α∗ = 0,
: α∗ = m∗
: α∗ = 0,
: α∗ = 1,
: α∗ = b/ρ.

8

C

Invariant distribution of cash holdings h

We derive analytically the stationary distribution of cash holdings. The pdf of the invariant
distribution h solves the ODE
h (m) (p + κ) = h′ (m) (c + πm)
for m∗ ≥ m ≥ m∗ − z and the DDE
h (m) (p + κ) = h′ (m) (c + πm) + κ h (m + z)
for 0 ≤ m ≤ m∗ − z.
Proof of the ODE-DDE for h.
Take a discrete time version of the law motion with time period of length ∆. For m∗ ≥
m ≥ m∗ − z − (c + m∗ π) ∆ we have:
h (m, t + ∆) = (1 − (p + κ) ∆) h (m + (c + mπ) ∆, t)
and for 0 ≤ m < m∗ − z − (c + m∗ π) ∆ we have:
h (m, t + ∆) = (1 − (p + κ) ∆) h (m + (c + mπ) ∆, t) + κ∆ h (m + z + (c + mπ) ∆, t)
This gives:
h (m) (p + κ) = h′ (m) (c + πm)
In steady state,
h (m) = (1 − (p + κ) ∆) h (m + (c + mπ) ∆)
and
h (m) = (1 − (p + κ) ∆) h (m + (c + mπ) ∆) + κ∆ h (m + z + (c + mπ) ∆)
or
h (m) = (1 − (p + κ) ∆) [h (m) + h′ (m) ∆ (c + πm) + o (∆)]
and
h (m) = (1 − (p + κ) ∆) [h (m) + h′ (m) ∆ (c + πm) + o (∆)] + κ∆ h (m + z + (c + mπ) ∆)
or

and



o (∆)
′
h (m) ((p + κ)) = (1 − (p + κ) ∆) h (m) (c + πm) +
∆

h (m) (p + κ) = (1 − (p + κ) ∆) h′ (m) (c + πm) +
and taking ∆ → 0 :

o (∆)
+ κ h (m + z + (c + mπ) ∆)
∆

h (m) (p + κ) = h′ (m) (c + πm)

9

for m∗ ≤ m ≤ m − z and
h (m) (p + κ) = h′ (m) (c + πm) + κ h (m + z)
for 0 ≤ m ≤ m∗ − z.QED.
Characterization of h
As in the case of the value function, we can further characterize h by splitting its support
[0, m∗ ] into J intervals, where J is the smallest integer for which Jz ≥ m∗ . The first J −
1 intervals have width z, and are given by [m∗ − (j + 1) z, m∗ − zj] , for j = 0, 1, ..., J − 2, so
that
hj : [m∗ − (j + 1) z, m∗ − zj] → R+

for j = 0, ..., J − 2. The last one may be smaller, and is given by [0, m∗ − z (J − 1)] , so that
hJ−1 : [0, m∗ − z (J − 1)] → R+
For the first interval we have an ODE
h0 (m) (p + κ) = h′0 (m) (c + πm)
for m ∈ [m∗ − z, m∗ ] . Notice that, except for a multiplicative constant of integration,
h0 can be solved for in this interval. For the next intervals we take as given hj−1 and solve
for hj solving the following ode:
hj (m) (p + κ) = h′j (m) (c + πm) + κ hj−1 (m + z)
for m ∈ [max {m∗ − z (j + 1) , 0} , m∗ − zj] .
We impose that the function h is continuous everwhere, so that
hj (m∗ − zj) = hj−1 (m∗ − zj)
for j = 1, 2, ..., J − 1. Notice that this implies that the derivatives of hj and hj−1 agree at
these points for j ≥ 2.
Hence, by splitting the domain in this way we turn the DDE into the solution of several
ODE’s.
Finally, since h is a density we have:
1=

Z

0

m∗

h (m) dm =

J−1 Z
X
j=0

m∗ −zj

hj (m) dm +

m∗ −z(j+1)

Z

Solution of h for the case of π = 0.
The solution for h is of the following form:


p+κ
h (m)
= h′ (m)
c
10

m∗ −z(J−1)

hJ−1 (m) dm.
0

for m∗ ≥ m ≥ m∗ − z and otherwise

c
κ
h′ (m) +
h (m + z)
p+κ
p+κ

h (m) =
We have that

h0 (m) = K00 exp (µ (m + z − m∗ ))
since
h′0 (m) = µ K00 exp (µ (m + z − m∗ ))
Thus the ODE is satisfied setting
µ=
for any value of K00 .
For j = 1, 2, ..., J − 1we have
hj (m) =

p+κ
.
c

κ
c
h′j (m) +
hj−1 (m + z)
p+κ
p+κ

for m ∈ [max {m∗ − z (j + 1) , 0} , m∗ − zj] .
We guess the solution of the form:
∗

hj (m) = exp (µ [m + z (j + 1) − m ])

j
X
i=0

Kj,i (m + z (j + 1) − m∗ )i

and thus
h′j

∗

(m) = exp (µ [m + z (j + 1) − m ])

j
X
i=0

h
i
Kj,i µ (m + z (j + 1) − m∗ )i + i (m + z (j + 1) − m∗ )i−1

Replacing our guess in the ode:
∗

exp (µ [m + z (j + 2) − m ])
=

j+1
X
i=0

Kj+1,i (m − z (j + 2) − m∗ )i
j+1

h
X
c
exp (µ [m + z (j + 2) − m∗ ])
Kj+1,i µ (m + z (j + 2) − m∗ )i + i (m + z (j + 1) − m∗ )i−
p+κ
i=0
j

X
κ
+
exp (µ [m + z (j + 2) − m∗ ])
Kj,i (m − z (j + 2) − m∗ )i
p+κ
i=0

11

Simplifying:
j+1
X
i=0

Kj+1,i (m − z (j + 2) − m∗ )i

j+1
h
i
X
c
∗ i
∗ i−1
=
Kj+1,i µ (m + z (j + 2) − m ) + i (m + z (j + 2) − m )
p + κ i=0
j

κ X
+
Kj,i (m − z (j + 2) − m∗ )i
p + κ i=0

or using µ = (p + κ) /c :
j+1
X
c
0=
Kj+1,i i (m + z (j + 2) − m∗ )i−1
p + κ i=0
j

κ X
+
Kj,i (m − z (j + 2) − m∗ )i
p + κ i=0

Matching the coefficients of term with (m − z (j + 1) − m∗ )i−1 for i = 1, 2, ..., j + 1
c
κ
Kj+1,i i = −
Kj,i−1
p+κ
p+κ
or

1κ
Kj,i−1
ic

Kj+1,i = −
for i = 1, 2, ..., j + 1.
For Kj+1,0 we use that

hj+1 (m∗ − z (j + 1)) = hj (m∗ − z (j + 1))
or
∗

hj (m − z (j + 1)) = exp (µ 0)
hj+1 (m∗ − z (j + 1)) = exp (µ z)
Kj,0 = exp (µ z)

j+1
X

j
X

Kj,i 0 i = Kj,0

i=0
j+1

X

Kj+1,i (z)i

i=0

Kj+1,i (z)i

i=0

or

j+1

Kj+1,0

X
Kj,0
=
−
Kj+1,i (z)i
exp (µz) i=1
12

Finally K00 is obtained by requiring that
1=

m∗

Z

h (m) dm =

0

J−1 Z
X

m∗ −zj

hj (m) dm +

m∗ −z(j+1)

j=0

Z

m∗ −z(J−1)

hJ−1 (m) dm.
0

We use that for 0 ≤ j < J − 1,
Z m∗ −zj
hj (m) dm
m∗ −z(j+1)

Z

=

j 

X
exp (µ [m + z (j + 1) − m∗ ]) Kj,i (m + z (j + 1) − m∗ )i dm

m∗ −zj

m∗ −z(j+1) i=0
Z m∗ −zj
j

X

=

Kj,i

m∗ −z(j+1)

i=0
j

X

=

Kj,i

i=0

Z

z



exp (µ [m + z (j + 1) − m∗ ]) (m + z (j + 1) − m∗ )i dm

exp (µm̂) (m̂)i dm̂

0

and
Z
=
=
=

Z

m∗ −z(J−1)

hJ−1 (m) dm
0
J−1
X

m∗ −z(J−1)
0

J−1
X

i=0
J−1
X

i=0

exp (µ [m + z (J − 2) − m ]) KJ−1,i (m + z (J − 2) − m )

m∗ −z(J−1)

KJ−1,i

Z

m∗ −z(J−1)

KJ−1,i

Z

0

0

i=0

∗ i

∗

!

dm

exp (µ [m + z (J − 2) − m∗ ]) (m + z (J − 2) − m∗ )i dm
exp (µ [m + z (J − 2) − m∗ ]) (m + z (J − 2) − m∗ )i dm

we have
1 =

j
J−2 X
X

Kj,i

+

exp (µm̂) (m̂)i dm̂

0

j=0 i=0
J−1
X

z

Z

KJ−1,i

Z

0

i=0

m∗ −z(J−1)

exp (µ [m + z (J − 2) − m∗ ]) (m + z (J − 2) − m∗ )i dm

Letting
z

i
exp (µm) mi z
|0 −
L (i) =
exp (µm) m dm =
µ
µ
0
i
exp (µz) z
i
=
− L (i − 1)
µ
µ
Z

i

13

Z

0

z

exp (µm) mi−1 dm

so that
L (i) =
for i = 1, 2, ..., with
L (0) =

Z

exp (µz) z i
i
− L (i − 1)
µ
µ
z

exp (µm) dm =

0

Likewise letting
G (i) =

Z

m∗ −z(J−1)
0

exp (µz)
.
µ

exp (µ [m + z (J − 2) − m∗ ]) (m + z (J − 2) − m∗ )i dm

exp (µ [m + z (J − 2) − m∗ ]) (m + z (J − 2) − m∗ )i m∗ −z(J−1)
|0
µ
Z
i z
−
exp (µ [m + z (J − 2) − m∗ ]) (m + z (J − 2) − m∗ )i−1 dm
µ 0
exp (µz) (z)i exp (µ [z (J − 2) − m∗ ]) (z (J − 2) − m∗ )i
=
−
µ
µ
i
− G (i − 1)
µ

=

with
G (0) =

Z

m∗ −z(J−1)

0

exp (µ [m + z (J − 2) − m∗ ]) dm

exp (µz) exp (µ [z (J − 2) − m∗ ])
−
=
µ
µ
Now we can write
1=

j
J−2 X
X

Kj,i L (i) +

j=0 i=0

J−1
X

KJ−1,iG (i)

i=0

Expected number of withdrawals n
The expected number of withdrawals n is obtained by computing the reciprocal of the
expected time between withdrawals. To to do we first compute the expected time until the
next withdrawal, as a function of the current level of cash m. We denote such a function as
t (m) . Below we show that this function solves the following DDE:
t (m) (p + κ) = 1 + t′ (m) (c + πm) + κ t (m − z)
for m∗ ≥ m > z and the ODE
t (m) (p + κ) = 1 + t′ (m) (c + πm)
for 0 ≤ m < z, with t (0) = 0. Since after any withdrawal real balances go to m∗ , the
expected time between succesive withdrawals is t (m∗ ) and by the fundamental theorem of
14

renewal theory the average number of withdrawals is:
n=

1
t (m∗ )

Proof. Consider a discrete time version with periods of length ∆ of the system. In this
case the time until adustment solves
t (m) = (1 − (p + κ) ∆) [∆ + t (m − ∆c − πm∆)] + κ∆ t (m − ∆c − πm∆ − z)
for m > z and
t (m) = (1 − (p + κ) ∆) [∆ + t (m − ∆c − πm∆)]
for m < z, with boundary condition
t (0) = 0.
This law of motion gives:
t (m) (1 − [1 − (p + κ) ∆]) = (1 − (p + κ) ∆) [∆ + t′ (m) (c + πm) ∆ + o (∆)]+κ∆ t (m − ∆c − πm∆ − z)
or
t (m) (p + κ) = (1 − (p + κ) ∆)




o (∆)
+ κ t (m − ∆c − πm∆ − z)
1 + t (m) (c + πm) +
∆
′

and taking ∆ → 0 :
t (m) (p + κ) = 1 + t′ (m) (c + πm) + κ t (m − z)
for m∗ ≥ m > z and

t (m) (p + κ) = 1 + t′ (m) (c + πm)

for 0 ≤ m < z.
Characterization of the solution for t
As in the case of the value function, we solve for t (·) by dividing the domain in J intervals,
where again J is the smallest integer for which Jz ≥ m∗ . The first J − 1 intervals are
of length z, denoted them by [zj, z (j + 1)] for j = 0, 1, ...., J − 2. The last interval is
[z (J − 1) , m∗ ] . We then find t0 : [0, z] → R++ that solves the ODE:


c + πm
1
′
+ t0 (m)
t0 (m) =
p+κ
p+κ
for m ∈ [0, z] , and given tj−1 we solve for tj : [zj, z (j + 1)] → R++


1
c + πm
κ
′
tj (m) =
+ tj (m)
+
tj−1 (m − z)
p+κ
p+κ
p+κ
15

for m ∈ [zj, z (j + 1)] for j = 0, 1, ..., J −2. For j = J −1, the function tJ−1 : [z (J − 1) , m∗ ] →
R+ solves the same ode than for the other j ≥ 1. Finally the continuity of t requires that
tj+1 (z (j + 1)) = tj (z (j + 1))
for j = 0, 1, ..., J − 2. Hence, by splitting the domain in this way we turn the solution of a
DDE into the solution of several ODE’s.
Solving t (m) for π = 0.
In this case we have:



1
t0 (m) =
+ t′0 (m)
p+κ

c
p+κ



for m ∈ [0, z] , and given tj−1 we solve for tj


1
c
κ
′
tj (m) =
+ tj (m)
tj−1 (m − z)
+
p+κ
p+κ
p+κ
for m ∈ [zj, z (j + 1)] for j = 0, 1, ..., J − 2 , and for j = J − 2, then m ∈ [z (J − 1) , m∗ ] .
I. Solutioin for j = 0. We guess a solution for t0 of the form:
t0 (m) = C0 + T0,0 exp (µ m)
so that

1
C0 + T0,0 exp (µ m) =
+ T0,0 µ exp (µ m)
p+κ

and hence:



c
p+κ



p+κ
,
c
1
=
.
p+κ

µ =
C0
We impose that t (0) = 0 obtaining

1
+ T00 exp
p+κ



or
T00 = −

p+κ
0
c



=0

1
.
p+κ

II. Solution for j ≥ 1. For m ∈ [zj, z (j + 1)] and 1 ≤ j ≤ J −2 or m ∈ [m (J − 1) , m∗ ] we
guess
j
X
tj (m) = Cj + exp (µ (m − zj))
Tj,i (m − zj)i
i=0

16

and hence:
t′j

(m) = exp (µ (m − zj))

j
X
i=0

h
i
Tj,i µ (m − zj)i + i (m − zj)i−1

Substituting in the ode we have:
Cj+1 +

j+1
X
i=0

1
=
+
p+κ



Tj+1,i exp (µ (m − z (j + 1))) (m − z (j + 1))i

c
p+κ



exp (µ (m − zj))

"

κ
+
p+κ

j+1
X
i=0

Cj + exp (µ (m − z (j + 1)))

h
i
i
i−1
Tj+1,i µ (m − z (j + 1)) + i (m − z (j + 1))

j
X
i=0

i

Tj,i (m − z (j + 1))

#

Matching coeeficcients we have the following conditions. For the cosntant:
Cj+1 =

1
κ
+
Cj
p+κ p+κ

For exp (µ (m − z (j + 1)))
j+1
X
i=0

=



+
and using µ =

Tj+1,i (m − z (j + 1))i

c
p+κ

X
j+1
i=0
j

h
i
Tj+1,i µ (m − z (j + 1))i + i (m − z (j + 1))i−1

κ X
Tj,i (m − z (j + 1))i
p + κ i=0

p+κ
,
c

0 =


+

c
p+κ

X
j+1
i=0
j

Tj+1,i i (m − z (j + 1))i−1

κ X
Tj,i (m − z (j + 1))i
p + κ i=0

Matching the coefficients of (m − z (j + 1))i :


c
κ
Tj+1,i+1 (i + 1) = −
Tj,i
p+κ
p+κ

17

or
Tj+1,i+1 =

1 κ
Tj,i
(i + 1) c

for i = 0, 1, ..., j.
Finally we use the continuity of t at the edges of the intervals
tj+1 (z (j + 1)) = tj (z (j + 1))
for all j = 0, 1, ..., J − 2. This gives
tj (z (j + 1)) = Cj + exp (µz)

j
X

Tj,i (z)i

i=0
j+1

tj+1 (z (j + 1)) = Cj+1 + exp (µ0)

X

Tj+1,i (0)i = Cj+1 + Tj+1,0

i=0

thus
Cj + exp (µz)

j
X

Tj,i (z)i = Cj+1 + Tj+1,0

i=0

or

Tj+1,0 = Cj + exp (µz)

j
X
i=0

Tj,i (z)i − Cj+1

Finally evaluating tJ−1 (·) at m∗ gives the desired quantity.
Average Withdrawals W
We characterize the average withdrawal size W. To do so, notice that we can divide the
withdrawals in three types: i) those that happens when m = 0, ii) those that happens because
a jump in consumption, i.e. the arrival of a consumption jump when m ≤ z and iii) those
that happens because the arrival of a free opportunity to withdraw.
In average ther are
Rz
n withdrawals per
R zunit of time, out of which p are of type iii), κ 0 h (m) dm of type ii) and
hence n − p − κ 0 h (m) dm are of type i. The size of the withdrawals is different in each
case, so the average withdrawal is given by:
Rz


Z
n − p − κ 0 h (m) dm
p m∗ ∗
∗
W =
m +
(m − m) h (m) dm
n
n 0
 Rz
 Rz
κ 0 h (m) dm 0 (m∗ + z − m) h (m) dm
Rz
+
n
h (m) dm
0

or

W =



n−p−κ

+

hκi Z
n

z
0

Rz
0

n

h (m) dm



p
m +
n
∗

Z

(m∗ + z − m) h (m) dm
18

m∗
0

(m∗ − m) h (m) dm

C.1

Supplemental Material
Table 7: Cash management statistics across payment technology - Italy
Stats:
Share of cash expenditure
HH w. Demand deposit - No card

1993

1995

1998

2000

2002

2004

70

68

66

68

67

64

HH w. Debit / ATM card - No credit

65

63

60

57

54

50

HH w. Credit card

57

57

55

52

50

44

W/M
HH w. Demand deposit - No card

2.3

1.7

1.9

2.1

2.0

1.9

HH w. Debit / ATM card - No credit

1.6

1.2

1.4

1.4

1.3

1.5

HH w. Credit card

1.3

1.0

1.2

1.3

1.2

1.3

n / nBT = 2 M n / e
HH w. Demand deposit - No card

1.2

1.4

2.6

2.0

1.7

2.0

HH w. Debit / ATM card - No credit

2.1

2.5

3.7

3.4

3.6

4.0

HH w. Credit card

3.3

3.1

4.1

4.5

4.2

4.4

M/M
HH w. Demand deposit - No card

.41

.31

.47

.47

.45

HH w. Debit / ATM card - No credit

.41

.30

.37

.43

.40

HH w. Credit card

.47

.32

.41

.48

.44

Source SHIW. Entries are sample means. The unit of observation is the household whose head is not
self-employed.

19

