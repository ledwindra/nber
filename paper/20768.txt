NBER WORKING PAPER SERIES

BEST PRICES: PRICE DISCRIMINATION AND CONSUMER SUBSTITUTION
Judith A. Chevalier
Anil K. Kashyap
Working Paper 20768
http://www.nber.org/papers/w20768

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
December 2014, Revised January 2018

The views expressed here are ours and not those of any institutions with which we are affiliated
nor of the National Bureau of Economic Research. We acknowledge support from the NSF
through a grant administered by the NBER. Kashyap thanks the Chicago Booth Initiative on
Global Markets and the Center for Research on Securities Prices for research support. We thank
David Argente, Conor Devitt, Cecilia Gamba, Aaron Jones, Bruno Pellegrino, Ashish Shenoy,
and Rasool Zandvakil for research assistance and many seminar participants for comments. We
are grateful to the SymphonyIRI Group for data. As a condition of use, SymphonyIRI reviews all
papers using their data to check that the data are not described misleadingly. All analyses in this
paper based on SymphonyIRI data are the work of Chevalier and Kashyap, not SymphonyIRI
Group Inc. For information on Kashyap's outside compensated activities see http://
faculty.chicagobooth.edu/anil.kashyap/.
At least one co-author has disclosed a financial relationship of potential relevance for this
research. Further information is available online at http://www.nber.org/papers/w20768.ack
NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.
© 2014 by Judith A. Chevalier and Anil K. Kashyap. All rights reserved. Short sections of text,
not to exceed two paragraphs, may be quoted without explicit permission provided that full
credit, including © notice, is given to the source.

Best Prices: Price Discrimination and Consumer Substitution
Judith A. Chevalier and Anil K. Kashyap
NBER Working Paper No. 20768
December 2014, Revised January 2018
JEL No. C43,D11,D12,D4,L81
ABSTRACT
We propose a method for aggregating prices when retailers use periodic sales to pricediscriminate amongst heterogeneous customers. To do so, we introduce a model in which Loyal
customers buy one brand and do not strategically time purchases, while Bargain Hunters always
pay the lowest price available, the “best price”. We derive the exact price index and demonstrate
empirically that accounting for our best price construct substantially improves the match between
conventional price aggregation strategies and actual prices paid by consumers. We demonstrate
that our methodology improves inflation measurement without imposing an unrealistically large
burden on the data-collection agency.

Judith A. Chevalier
Yale School of Management
135 Prospect Street
New Haven, CT 06520
and NBER
judith.chevalier@yale.edu
Anil K. Kashyap
Booth School of Business
University of Chicago
5807 S. Woodlawn Avenue
Chicago, IL 60637
and NBER
anil.kashyap@chicagobooth.edu

Best Prices: Price Discrimination and Consumer
Substitution
By Judith A. Chevalier and Anil K Kashyap∗

Draft: June 5, 2017

We propose a method for aggregating prices when retailers use
periodic sales to price-discriminate amongst heterogeneous customers. To do so, we introduce a model in which Loyal customers
buy one brand and do not strategically time purchases, while Bargain Hunters always pay the lowest price available, the “best price”.
We derive the exact price index and demonstrate empirically that
accounting for our best price construct substantially improves the
match between conventional price aggregation strategies and actual
prices paid by consumers. We demonstrate that our methodology
improves inflation measurement without imposing an unrealistically large burden on the data-collection agency.

I.

Introduction

Official price indexes provide a crucial input to both public and private decisionmaking. However, the modern retail environment creates a challenge for defining
and computing cost of living metrics due to existence of a large number of sub∗ Chevalier: Yale School of Management and NBER. Kashyap: University of Chicago Booth School of
Business, Federal Reserve Bank of Chicago, Bank of England and NBER. The views expressed here are
ours and not those of any institutions with which we are affiliated. We acknowledge support from the
NSF through a grant administered by the NBER. Kashyap thanks the Chicago Booth Initiative on Global
Markets and the Center for Research on Securities Prices for research support. We thank David Argente,
Conor Devitt, Cecilia Gamba, Aaron Jones, Bruno Pellegrino, Ashish Shenoy, and Rasool Zandvakil for
research assistance and many seminar participants for comments. We are grateful to the SymphonyIRI
Group for data. As a condition of use, SymphonyIRI reviews all papers using their data to check that
the data are not described misleadingly. All analyses in this paper based on SymphonyIRI data are the
work of Chevalier and Kashyap, not SymphonyIRI Group Inc. For information on Kashyap’s outside
compensated activities see http://faculty.chicagobooth.edu/anil.kashyap/.

1

stitute products offered at rapidly changing prices. Retail firms are continually
innovating in their attempts to exploit consumer data in order to improve promotion strategies and facilitate price discrimination between different groups of
consumers.1 Our focus in this paper is on a particular price discrimination strategy, temporary discounts. Temporary discounts create a challenge for price measurement when goods are close substitutes. When retailers stock a large number
of varieties and strategically set prices for price discrimination purposes, the relative prices of close substitutes can be quite volatile. Thus, the price aggregation
methodology will have important implications for price measurement.
Most cost-of-living discussions take an exact index as a benchmark. An exact
index tracks the relative cost of obtaining a given level of utility at different points
in time. Constructing an exact index in an environment with high frequency price
variation due to sales is challenging. First, it is commonly understood that the
observed phenomenon of frequent temporary discounts reverting to a regular price
is likely the result of price discrimination. Price discrimination occurs when there
are different types of consumers to discriminate among. But, different consumer
types imply that the price of maintaining a given level of utility over a specific period of time is not well-specified without aggregating utilities across heterogeneous
consumers. Further, if goods are imperfect substitutes and the relative prices of
the goods are volatile due to discounting behavior, aggregation methodologies will
be very sensitive to the weight of each good in the price index. Finally, if consumers respond to price discounts by stockpiling goods, the appropriate period
of time over which to measure prices and construct a price index is not obvious.
An important conceptual question, then, is how to weight discounted prices vs.
regular prices in constructing price aggregates both across products and through
time.
In order to examine these issues, we present a very simple model of sales mo1 In a series of papers (Nakamura (1998), Nakamura (1999)), Leonard Nakamura refers to innovations
that enable firms to charge different prices for identical or similar products as the “retail revolution”.
Nakamura et al. (2016) show that, in sectors of the economy where discounts are routinely employed,
discounting has increased over the last 40 years.

2

tivated by price discrimination. Our model of sales is similar in spirit to Varian
(1980), Salop and Stiglitz (1982), Sobel (1984) and Pesendorfer (2002). In particular, in our model, we posit that some consumers are active shoppers who chase
discounts, substitute across products in a narrowly defined product category, and
potentially use storage to maintain smooth consumption whilst concentrating
their purchases to take advantage of discounts. Other customers are passive and
brand loyal, and retailers will employ strategies to charge these two groups different prices. The model predicts frequent temporary discounts and long periods
of constant regular prices, as observed empirically in many retail settings.
Our model implies that changes in unit values (the quantity-weighted average price of goods purchased), measured over time are, or approach, the exact
index. The intuition behind this result is simple. The retailer’s second degree
price discrimination motive induces the retailer to charge prices such that only
consumers with very weak brand preferences switch amongst products to save
money while consumers consumers with strong brand preferences buy their most
preferred goods. Thus, substitution between brands, when it is actually observed,
is not associated with substantial utility consequences. The strategic behavior of
retailers with some second degree price discrimination ability renders changes in
unit values closer to an exact index than it would be absent strategic retailer
behavior.
We introduce the concept of a “best price”, defined as the lowest price charged
for any good in the narrow product category during a short multi-week time window. The model predicts that “best prices” should be the relevant prices for
discount-chasing consumers. As we describe below, while these specific predictions are particular to our model, the general ideas are quite durable. This leads
to our price measurement proposal.
While changes in unit values would appropriately track the cost of achieving a
given level of utility in our model, a real-time variable weight series is impractical
for a statistical agency to construct. We demonstrate that our structural model
3

implies a simple methodology to approximate unit values without the need for
high frequency quantity data. In our model, the level of the unit value can be
approximated by a weighted average of a fixed weight price aggregate and the
“best price”.
We examine the empirical validity of our model using detailed store-level data.
We use a national dataset of supermarket prices for 2001 to 2011 provided by
Symphony IRI. The IRI dataset covers stores in 50 markets around the country. Prices for individual products at many of the IRI stores display the nowfamiliar pattern of very infrequent regular price changes combined with frequent
temporary discounts. We show that first, consistent with our model, a disproportionate fraction of goods are sold at temporary discounts. Second, unit values
are well-approximated by a linear combination of a conventional fixed weight
price aggregate and the best available price within the group of close substitutes.
At this lowest level of aggregation, the United States Bureau of Labor Statistics
(BLS) samples one price per outlet and does not attempt to address within-outlet
substitution at all. The degree of substitution embedded in existing BLS-style
price aggregates will not adequately account for migration of customers to the
“best price”. Finally, we demonstrate that inflation for the prices paid by consumers between 2001 and 2011 differs systematically from the inflation rate that
is implied by a BLS-type methodology for estimating inflation. Importantly, we
find that inflation in unit values (the prices actually paid by consumers) is wellapproximated by a combination of inflation as measured by a fixed weight index
and best price inflation. We demonstrate that this is not captured by current US
price aggregation methodologies.
As noted above, US statistical agencies cannot (or at least have not) made use of
high frequency quantity data. This makes direct construction of any index relying
on contemporaneous quantity data (such as the Tornqvist or unit value index)
impossible. However, in theory, the adoption of a model-driven weighting scheme
that well-approximated substitution patterns would lead to a price index that
4

more closely approximates an exact index. Our paper proposes such a weighting
scheme to aggregate prices in a way that accounts for the specific (and important)
issue of what to do about temporary discounts.
Our paper proceeds as follows. Section 2 briefly reviews some of the relevant
literature. Section 3 presents our simple model of a price-discriminating retailer
facing two types of customers. We derive testable empirical implications of the
model. Section 4 describes the data. Section 5 establishes a number of new facts
about pricing and purchase patterns that are consistent with the model. Section
6 concludes.
II.

Literature Review and Institutional Setting

During the 1990s, statistical agencies in a number of countries, including the
Bureau of Labor Statistics (BLS) in the U.S., adopted the geometric mean formula in the calculation of the most basic components of the Consumer Price Index
(CPI). The geometric mean formula is a constant elasticity of substitution aggregate that implies an elasticity of substitution of one between varieties. Changes
in the geometric mean of prices over time is a closer approximation to a true cost
of living index than the Laspeyres fixed-weight index. One undesirable feature of
the Laspeyres index is that the Laspeyres index does not reflect any substitution
in response to relative price changes.2
There are important criticisms of the geometric mean formulation for our purposes. As mentioned above, the geometric mean formulation implies a cross-price
elasticity of substitution of one across varieties. However, the BLS collects prices
using an enumerator method which collects one price in the lowest item stratum
per store (eg. one price for “peanut butter” per store, not prices for several substitute peanut butters within a store). Both our own evidence and past evidence
suggest that cross-price elasticities of substitution between different brands within
2 A very comprehensive history of BLS practices and some critiques that have been brought up in
periodic reviews of BLS practices can be found in Reinsdorf and Triplett (2009).Mismeasurement issues
(current to more recent CPI changes) are addressed comprehensively in ?.

5

an outlet are often much greater than one in absolute value. The sample of prices
obtained across outlets may bear a relationship to the distribution of substitute
variety prices within an outlet, but the empirical relationship between the assumptions implicit in the price collection methodology and actual substitution
patterns is unknown. Handbury, Weinstein and Watanabe (2013) demonstrate
that, in the Japanese context, at the lowest level of item aggregation, substitution patterns differ from those implied by the geometric mean formula, leading to
systematic bias in price indices. Feenstra and Shapiro (2003) demonstrate that
substitution is induced not only by price, but from promotion activity. They
found, in a supermarket context, that consumers substitute heavily to products
that are being promoted even when the promoted prices are not the lowest.
Such observations have led to many suggested alternatives to the BLS approach.
Caves, Christensen and Diewert (1982) show, for a representative consumer with a
fairly general form of homothetic utility, that a Tornqvist index approximates the
exact cost of living index. The Tornqvist index combines the current period expenditure weights with a base period expenditure weights. Feenstra and Shapiro
(2003) furthermore propose calculating the Tornqvist over a series of periods to
account for the tendency of shoppers to store goods.
Nakamura et al. (2014), Diewert (1995), Reinsdorf (1999), and Reinsdorf (2003)
endorse the approach suggested by Walsh (1921), Davies (1924), and Davies
(1932) who advocate the use of unit values (the current period quantity-weighted
average of prices) to aggregate prices of very similar products (such as different
brands of a consumer product). Changes in unit values over time correspond to an
exact cost of living index only when all consumers have identical preferences and
experience no disutility in substituting between alternative brands, sizes, and varieties. Nakamura (1999) demonstrates assumptions under which the unit value
representation would, even with heterogeneous consumers, more closely reflect
variations in consumer utility than would the BLS’ measurement approach.
Importantly, the approaches advocated by Diewert (1995), Reinsdorf (1999),
6

and Reinsdorf (2003) arose in part out of enthusiasm for the possibility that
statistical agencies would begin to exploit the same scanner datasets that retailers
and manufacturers were using. However, this enthusiasm appears to have waned
in recent years. While researchers routinely analyze high frequency quantity data
from scanner datasets, statistical agencies such as the BLS have chosen not to rely
on commercial provision of high frequency quantity data. The impediments to
employing commercial scanner data, some of which are detailed in Bradley et al.
(1997), Reinsdorf (1999) and Triplett (2003), have not yet been resolved. Hence,
the BLS continues to primarily obtain retail data by having BLS agents visit
stores to sample prices.3 Thus, while the suggestion of using time-varying product
weights at the lowest aggregation level (such as in constructing unit values or the
Tornqvist) is simple in theory, it is difficult to implement in practice because the
CPI data collection methodology does not involve frequently gathering quantity
or expenditure data. Any proposed alternatives to the current CPI methodology
will be more practical if they do not rely on using high-frequency quantity or
expenditure data. The fact that our price measurement proposal does not rely
on high-frequency quantity data is an important advantage of our approach.
A second important consideration that is brought to the fore by price-discriminating retailer behavior is the issue of consumer heterogeneity. The extant utility
maximization models that provide foundation for various cost of living constructions rely on representative consumer models. Neither the Tornqvist nor the
unit value construction necessarily approaches an exact index with heterogeneous
consumers. As Fisher and Griliches (1995) point out, index construction requires
data on individual willingnesses to pay that cannot be extracted from aggregate
data without resort to strong distributional assumptions. Nakamura (1999) uses
a two-type consumer model to demonstrate the poor performance of the fixed
weight index relative to usage of unit values in measuring real output.
Redding and Weinstein (2016) demonstrate that essentially all standard price
3 Scanner

data is used to construct a CPI elsewhere, as in the construction of the Dutch CPI.

7

indices can be derived as a special case of their unified price index. Moreover,
their model is able to accommodate consumer heterogeneity of some forms. For
instance, if the different types of agents in the economy have CES demand functions that differ only in the elasticity of demand, their unified index remains valid.
In our model, however, the individual consumers do not have CES preferences and
instead care about the ordinal level of prices. So our setup cannot be mapped
into their framework. Nevertheless, under certain assumptions, we show that an
exact index can be approximated in the presence of two types.
While our price proposal is a substantial departure from BLS practices in categories such as the supermarket categories we study, our proposal is quite similar
to current BLS practices in some other parts of the CPI. To guide price sampling
of air fares, the propensity of airline ticket buyers to purchase the lowest available
coach fare on a particular day from a particular airline is estimated by the BLS
using Department of Transportation data on tickets. These data are not obtained
in real time but can be used in picking the weights on various fare categories. Informed by the DOT data, price indices are constructed under the assumption
that roughly half of the discount coach tickets will be purchased at the lowest
available fare. A similar type of reasoning is used by the BLS in situations where
an online retailer features multiple sellers (such as Amazon Marketplace). There,
purchases are assumed to occur at the lowest price for a given item by any seller.
Thus, the BLS has implemented practices similar to that which we propose for
identical products sold at different prices; our results suggest that this method is
useful in measuring prices for close substitute products.4
Both our proposal and these current BLS practices save BLS labor relative
to plausible alternative collection methodologies that potentially capture withinstrata substitution. Specifically, one could imagine an alternative collection strategy in which a within-outlet within-strata cross-price elasticities of demand are
4 For a description of the airline methodology, see http://www.bls.gov/cpi/cpifacaf.htm. We thank
a referee for pointing this out to us. The authors received helpful clarification of these methodologies
through correspondence with BLS staff.

8

estimated, and prices are collected to form a CES price index. This would necessitate collecting the prices of all relevant close substitutes in the store. Instead,
our methodology, like the BLS methodology for airline prices, offers a less costly
shortcut by requiring only the lowest ordinal price in the category along with
whichever one would normally be randomly sampled.
III.

A Model of Price Discriminating Retailers and Heterogeneous
Consumers

We present a simple model that is similar in spirit to Varian (1980), Salop
and Stiglitz (1982), Sobel (1984), and Pesendorfer (2002). Consumers are heterogeneous in their brand loyalty and in their willingness to engage in product
storage. The firm knows about this heterogeneity and accounts for it in price
setting. We show that even in a stable demand environment, intermittent price
discounts arise as an optimal strategy. Although the firm bears no costs of any
kind in of changing prices and consumer preferences are stable, the firm will iterate between a small number of prices, even in the face of changing marginal costs
and some types of demand changes. The “regular” price will change infrequently
but temporary discounts will be utilized to price discriminate. We show how to
aggregate prices in this environment and discuss the robustness of our proposed
measure to alternative assumptions about consumer behavior.
A.

Model Assumptions

Consider a retailer selling two differentiated products, A and B. We will focus
on a single retailer for simplicity.5 The monopoly assumption is not necessary
and we discuss the oligopoly case as a possible extension after we have analyzed
the basic set up.
5 It would be fairly straightforward to generalize to two retailers competing in geographic space.
In models of this type such as (Lal and Matutes, 1994; Pesendorfer, 2002; Hosken and Reiffen, 2007),
consumer reservation prices would be determined by the price that would trigger consumer travel to
another store.

9

Assume that all customers have unit demand in each period but differ in their
preferences for the two goods. A fraction α/2 of the customers value product A
at V H and product B at V L , where V H > V L . We call these consumers the Loyal
A types. For convenience, we consider the symmetric case where a fraction α/2 of
the customers, the Loyal B types, value product B at V H and product A at V L .
The remaining share of consumers (1 − α), are Bargain Hunters who value both
products at V M =(V L +V H )/2. Thus, the Loyals and Bargain Hunters have the
same mean willingness to pay for the two products, but Loyals have a preference
between the two and the Bargain Hunters are willing to substitute between them
freely. We normalize the total number of consumers to be 1 and suppose that
the consumers can shop for N periods. Thus, in each period, the Loyal i types
have utility U H = max(0, V H -P i , V L -P −i ). The Bargain Hunter’s utility from
consuming is U B = max(0, maxi (V M -P i )).
We allow for the possibility that the Bargain Hunters may choose to store goods.
So their total utility consists of the utility from consuming minus any disutility
associated with storage. In Chevalier and Kashyap (2014) we solve for a complete
characterization of their optimal decision with rational expectations about future
prices, when they are subject to a generic convex storage cost function. Here,
we simplify the problem by assuming that they can store goods for free up to k ∗
periods and then face infinite storage costs.
The Loyals are assumed to be inattentive shoppers — they do not wait for
and/or stock up during bargain periods, while the Bargain Hunters are strategic.
These assumptions will deliver the empirical patterns described in Aguiar and
Hurst (2007); they document that some consumers in a local area pay systematically lower prices for the same goods than other consumers.6
The seller has a constant returns to scale technology of producing A and B and
6 As in Pesendorfer (2002), we combine Bargain-Hunting behavior with low brand preference. A more
detailed model with more types—brand Loyals who are willing to intertemporally substitute purchases,
brand Loyals who do not intertemporally substitute, non-Loyals who are willing to intertemporally
substitute and non-Loyals who do not intertemporally substitute – is also possible. Most of the interesting
implications are evident with these four types collapsed into the two extremes.

10

the marginal cost of producing either is c. We assume that the marginal cost is
below the reservation values for both types of consumers for both products.
B.

Model Results - Retailer Behavior

To understand the optimal pricing strategy we start with the observation that
total profits for the retailer over a horizon of N periods depend on the total
amount of A and B sold and the prices charged.
Each period the Loyals arrive at the retailer to shop. If the price of either good
is less than or equal to their reservation value, they purchase one unit of the good
that delivers more surplus — but, they never engage in storage.
In contrast, the Bargain Hunters engage in storage whenever it pays to do so.
Given the fixed capacity assumption that we have made about their storage costs,
their shopping strategy becomes very simple. They seek to time their purchases
so that when there is a discount on a good they buy enough of it to last until the
next time that there will be a sale.
In this simple model, it is easy to see that the retailer has only two relevant
choices to maximize profits. (a) Always charge V H , thus selling to all Loyal types
every period and never serving the Bargain Hunters or (b) Hold a sale on one (and
only one) of the products at a price of V M every k ∗th period in order to allow the
Bargain Hunters to stock up and consume every period. Notice that this follows
because there is no benefit to charging a price between V M and V H as charging
such a price would lower the profits from the Loyals without achieving a sales
gain from Bargain Hunters. Also, given the free storage technology available to
the Bargain Hunters, there is no reason for the retailer to offer a good at a price
of V M , except in the special case where k ∗ equals 1.7
Because the Bargain Hunters can store for k ∗ periods, if the retailer holds a
7 The more complex model in Chevalier and Kashyap (2014) allows the storage cost of the Bargain
Hunters to have a more general form of convexity than the simple model here. This creates a situation
in which the choice of the periodicity of sales is non-trivial. In this simple model, it is easy to show
that, if the parameters are such that it is ever profit-maximizing for the Bargain Hunters to consume,
it is profit-maximizing for the retailer to hold sales frequently enough to induce the Bargain Hunters to
consume every period.

11

sale every k ∗th period then the undiscounted total profits for this retailer over all
N periods is:
(1) N

k∗ − 1
Nα
Nα
α(V H − c) + ∗ (V M − c) + ∗ (V H − c) + N (1 − α)(V M − c)
∗
k
k 2
k 2

The four terms in (1) are very intuitive. The first piece represents the profits
from selling to the Loyals only, which will occur during all the periods with regular
prices. The second term is the profits from the Loyals during the periods where
they are able to buy their preferred good at a discount. During these sale periods
the other Loyals still pays V H so that explains the third term. The last term
is the profits from the Bargain Hunters. Notice as long as the sale price is low
enough to induce storage, the Bargain Hunters will buy enough to consume every
period, even though purchases take place only every k th period.
The optimal strategy for the retailer is to charge V H for one good every period
and to charge V M for the other good every k ∗ periods as long as:
(2)

(1 − α)k ∗ (V M − c) >

α H
(V − V M )
2

This expression shows that it is optimal to have a sale every k ∗ periods if the
incremental profits from having one sale over k ∗ periods to attract the Bargain
Hunters is greater than the one-period loss in revenues from the Loyals from
holding the sale. Notice that here, since the retailer does not discount either
good to a price below V M , and since V H > V M > V L , we need no additional
conditions to insure that the wrong-type Loyals will not substitute to the lesspreferred good to take advantage of the sale.
From the retailer’s point of view the relevant “price plan” is the full sequence of
high and low prices that prevail over the cycle of N periods. Note that even with
unchanging cost and demand parameters, for many parameter combinations, the
firm changes prices from period to period as it optimally iterates between capturing rents from Loyals and capturing the demand of the Bargain Hunters. Also
12

note that, changing marginal cost will not change the prices charged unless the
increase in marginal costs is large enough to induce a switch from a price plan
with occasional discounts to serve the Bargain Hunters to a price plan that does
not serve the Bargain Hunters. In this sense, our model is consistent with an
extensive literature that suggests that regular price changes are infrequent. Furthermore, note that, in any individual period, the quantity sold for an individual
good could be as low as α/2 and as large as α/2 + k ∗ (1 − α), if the good is on sale
and the Bargain Hunters are storing until a sale expected in k ∗ periods. Thus,
the volatility in quantity across products and periods occurs despite demand and
supply primitives that are constant through time.
It is useful to compare the outcomes of this model to the models proposed
in Kehoe and Midrigan (2012), Eichenbaum, Jaimovich and Rebelo (2011) and
Pesendorfer (2002). In all of these models, a firm will charge a fixed regular price
and sometimes offer a discount. However, in all of these papers, the decision to
discount is driven by some change in the cost or demand environment. In our
model, a sale would occur every k ∗ weeks with no change in the cost or demand
environment.
Another important distinction between all of these models and ours is that none
of the others explicitly examine a retailer managing a portfolio of close substitute
products.8 Indeed, the fact that cost changes are important in these models
implies that the prices for close substitute products would tend to be positively
8 Guimaraes and Sheedy (2011) do offer a model in which two competitors (competing brands or
competing retailers) chase a fixed pool of Bargain Hunters. Their model presumes a stationary demand
from the Bargain Hunters so that competition in each shopping period looks the same: there are some
Bargain Hunters in the market and if one store ignores them, the other store has an incentive to serve
them. Sales are thus strategic substitutes; firms do not want to have sales if their rivals have them, but
do want to have sales if rivals do not. In this model, sales are not much used as a response to shocks
because, in equilibrium, the strategic substitutability assumption keeps the total level of sales in the
economy nearly constant. This result would not hold if, for example, consumer responsiveness to sales
varied over the cycle or if sales were strategic complements, as they are in, for example, Lal and Matutes
(1994). Klenow and Willis (2007) find that sale prices are at least as responsive to shocks as regular
prices. Wong and Nevo (2014) also find that shopping intensity during the 2008/9 recession varied, so
that the effective pool of Bargain Hunters expanded. Kryvtsov and Vincent (2014) study data on CPI for
the United Kingdom from 1996 to 2012 and find that the intensity of sales is highly counter-cyclical. All
this evidence casts doubt on the force in the Guimaraes and Sheedy (2011) model that makes discounting
insensitive to economic conditions.

13

correlated. In our model, the time series of prices for close substitute products
are negatively correlated (unless a common shock leads to the change in V L and
V H ).
C.

Model Results - Implications for price measurement

We take as our objective aggregating prices such that the change in our price
aggregate over time would form an exact price index. Recall that an exact price
index is one that measures the change in the cost of achieving a given level of
utility over time. Here, we make the natural assumption that utility is properly
measured as the weighted average utility of the two types.
A perhaps surprising feature of our model is that, given the assumptions we have
made, the conditions described in Diewert (1995) and Reinsdorf (2003) hold, so
that the change in unit values over time corresponds to an exact price index. Unit
values measure the weighted average prices consumers actually pay; in general,
the change in unit values over time does not form an exact price index because,
as prices change, consumers undertake substitution and the utility achieved from
period to period is not constant. However, in our model, the change in unit values
over time does indeed form an exact price index.
This result obtains because of two important features of our environment. The
first is that the Bargain Hunters are indifferent to switching between products
and, up to the storage constraint, are indifferent to the timing of their purchases.
Second, due to the strategic behavior of the retailer, the Loyal customers never
substitute to the less-preferred product. Thus, Bargain Hunters engage in substitution, but it is without utility consequence. Substitution by the Loyal types
would have utility consequences, but it does not occur.
While these results are of course special to our model, the insight about retailer price discrimination applies more durably. Retailers have incentive to use
strategies to extract the high willingness to pay from more loyal types while encouraging substitution only among types for whom substitution has a low utility
14

cost. Thus, changes in the price paid (unit value) is a better approximation of
the exact index than it would be in the absence of strategic retailer behavior.
In our model, with optimal pricing, Bargain Hunters earn no net consumer
surplus. They pay their reservation value V M . However, the presence of Bargain
Hunters creates a surplus for the Loyal consumers. Because of the existence of
Bargain Hunters, Loyals sometimes obtain a product at a price lower than their
maximum willingness to pay.9
From (1) it is easy to see that the average revenue per unit (unit value) equals:
α + 2k ∗ (1 − α) M α(2k ∗ − 1) H
V +
V
2k ∗
2k ∗

(3)

A simple rearrangement of the above expression forms the basis of our price
measurement proposal. The expression can be rearranged to be equal to:


(4)

α

1 M 2k ∗ − 1 H
V +
V
2k ∗
2k ∗



+ (1 − α)V M

The two terms in (4) have natural interpretations.10 The second term is simply
the lowest price available to consumers. We will dub this the “best price” in our
empirical analysis. The first term is a fixed weight aggregate measuring average
price over the entire period. The coefficients in (4) represent the population shares
of the Loyals and Bargain Hunters respectively.
Thus, because temporal changes in the unit value in our model are equivalent
to the exact price index, the change in (4) represents the change in the cost of
achieving a given level of utility over time. The formula shown in (4) forms the
9 With more general costs of storage, the prices paid would have to be lowered to compensate consumers for storing goods and that would drive a wedge between prices paid and consumer utility.
10 The idea here, of thinking of the price as the average over the entire planning horizon, is closely
related to an insight first provided in Feenstra and Shapiro (2003b). They advocate for the use of the
Tornqvist index rather than unit values. Reinsdorf, in his discussion of their paper, notes that, under
the storage assumption that we make, unit values are a reasonable alternative. Of course, the Tornqvist
does not emerge as an exact index in our model. However, more generally, the primary drawback of the
Tornqvist, from our perspective, is the reliance on current period weights which cannot be collected by
BLS price collectors.

15

basis of our price measurement proposal. If the patterns of consumer and retailer
behavior sufficiently conform to our model, a price index can be constructed
by measuring the changes over time in a price aggregate formed using (i) an
estimate of the share of Bargain Hunters in the marketplace (ii) a conventional
fixed weight price aggregate and (iii) a measure of the best price. By providing
a simple functional form for product substitution, the formula does not require
time-varying quantity data or real-time expenditure weights. To summarize our
framework suggests:

(5)

unitvaluet = αf ixedweightaggt + (1 − α)bestpricet

and that changes in the unit value over time windows longer than the k ∗ sale
cycle horizon would measure changes in the cost of achieving a fixed level of utility
over time.
Note also from (5) that, as α approaches 0, the weighted average price will approach the “best price”—the lowest price posted for any of the substitute products
within the k∗ period planning cycle. If α is fairly small and V H remains constant
for a long period of time, then a time series of the weighted average price will
resemble a fixed increment over the time series of the “best price”. If α is very
large, then the weighted average price will more closely resemble the “regular”
price. For intermediate values of α, the price paid resembles a weighted average
of the “best” price and the fixed price index as illustrated in (4).
These observations also have implications for inflation measurement. If the
environment is stable, then the model only predicts that the unit value price
aggregate will be lower than a price aggregate calculated using fixed weights or
using any methodology assuming a constant and small elasticity of substitution.
The change in prices paid might be higher or lower than the change implied by any
particular index, so that conventionally measured inflation would not necessarily
16

be too low or too high. However, if there are shocks, for example to the willingness
to pay of Bargain Hunters, these shocks can shift whether sales are held and the
depth of sales; this would drive a wedge between the unit values and other price
aggregates.
We can take the log difference of (5) to compute an approximate 12 month
inflation formula. Specifically:

(6) ln(unitvaluet ) − ln(unitvaluet−12 ) = ln(αf ixedweightaggt +
(1 − α)bestpricet ) − ln(αf ixedweightaggt−12 + (1 − α)bestpricet−12 )
Both (5) and (6) suggest estimating equations that we will explore in the empirical analysis.
It is important to be clear about the constructs that we use going forward in our
empirical work. Our model suggests a way to aggregate the level of prices extant
at any given point in time to infer the level of utility for agents in the model.
Thus, we will refer to our methodology and alternative ways of aggregating prices
at a given moment in time as price aggregates. Substantial literature has explored
issues of chaining price changes over time and constructing price indexes. Here,
we simply define alternative inflation measures to be log differences in the price
aggregates.
D.

Model Extensions and Observations

The basic model demonstrates the attractiveness of a temporary discounting
strategy in the retail environment. In our model, we assume both heterogeneity
in brand preferences and heterogeneity in the willingess to engage in storage.
In an alternative simple model with no storage but brand taste heterogeneity,
the retailer would still have an incentive to put only one type of good on sale
each period, thus price-discriminating between Loyals and Bargain Hunters. In
our model, it is the difference in storage propensity between Loyals and Bargain
17

Hunters which leads to our result that sales can be held only episodically.
The model can be extended in a number of ways. Most importantly, from
a measurement perspective, one could incorporate more complex demand. In
particular, one could maintain the assumption that there is a mass of consumers
that are indifferent between the substitute products, but build a different model
of the cross-price elasticity of the Loyals. In that case, the appropriate price index
would still be the weighted average of the two types, but the Loyal type’s price
aggregate would be altered to reflect their substitution patterns.
Furthermore, there are numerous ways to expand the model to allow for additional types of consumers. In particular, as mentioned above, there may be some
consumers who inter-temporally substitute actively, but are highly brand loyal.
In these more complex cases, the formulation and intuition in (4) is particularly
helpful. In a model with more types, the pricing outcomes will be as in (4) but
the weights on the lower prices vs the higher prices will reflect the behavior of
the different consumer types.
Also, while there is a long tradition of two-type models in the literature on
temporary discounts (Varian, 1980; Sobel, 1984), the model can be extended to
allow for a continuum of consumers’ willingness to pay. As in Varian (1980),
as long as enough consumers do not move all of their purchases into sale periods, intertemporal variation in prices will enhance the retailer’s ability to price
discriminate.
Our model also abstracts from competition among multiple stores. Obviously,
a model with perfect competition would limit the opportunity to price discriminate. However, an extension of our model along the lines of Lal and Matutes
(1994) would preserve the basic insights of our model. Lal and Matutes (1994)
model multiproduct retailers with travel costs between stores. The ability of consumers to shop both stores, at a cost, disciplines the overall rents across products
that stores can extract from each consumer. However, the ability to extract different levels of rents from different consumer types and from different products
18

is preserved. Ellison (2005), in a different context, provides an extension of Lal
and Matutes (1994) in which price discrimination across consumer types emerges
in an equilibrium with spatial competition. The easiest way to understand the
effects of introducing competition into our model is to view competition as impacting consumer willingness to pay. Spatial competition opens additional scope
for price discrimination as retailers may benefit from price discriminating between
consumers who will and won’t travel to obtain a price discount.
Finally, we could derive a similar set of predictions if we assumed that all
consumers viewed all products in a category as perfect substitutes but consumers
differed in their ability to store goods. In this case, the retailer has essentially
a single brand to manage, but will still want to periodically use discounts to
sort between consumers who must buy frequently because of high storage costs
and those that can be more patient.11 A price aggregate similar to the one we
proposed would again be informative, though depending on how the storage costs
are modeled the prices that are posted might have to compensate the consumers
for the storage costs. In that case, the prices do not directly reveal the consumer
surplus that accompanies a sale.
More generally, the retailer in our set up is trying to design a pricing strategy
that induces consumers to sort towards different purchases. In this sense, the insights from the literature on self-selecting contracts triggered by the seminal work
of Mussa and Rosen (1978) also apply. While our model is very particular in its
two-type set-up, we believe that our basic insight is fairly general. A unit value
index is not in general an exact index when products are heterogeneous because
substitution induced by price changes is typically not utility-neutral. However,
whenever a retailer successfully undertakes a second degree pricing strategy between substitute brands, the unit value index becomes a closer approximation for
the exact index, as the customers with the highest utility cost of brand-switching
11 Separating between models where consumers differ in their brand preferences and their ability to
store is not easy, though if all heterogeneity was due to storage relative price movements between different
goods would be indeterminate. Empirically, it seems that discounts on competing brands, say Coke and
Pepsi, are staggered which is consistent with the basic model we propose.

19

are strategically prevented from switching.
Summing up, the model comfortably explains the familiar price pattern observed for individual goods of a regular price with intermittent sale prices. It
suggests a way to aggregate prices even without high frequency data on quantity
purchased and makes four predictions that we will test. First, at the store-level, a
disproportionate fraction of goods are sold at temporary discounts. Second, unit
values should be well-approximated by a linear combination of a conventional
fixed weight price aggregate and the best available price within the group of close
substitutes over the course of several weeks. Third, the degree of substitution
embedded in existing BLS-style price aggregates will not adequately account for
the migration of consumers to the “best price”. Fourth, inflation as experienced
by consumers will depend substantially on the inflation rate for the “best price”.
IV.

The Data

We are interested in examining both the incidence of sales and consumer responses. To accomplish this, our project requires a data set that contains both
prices and quantities. We use Symphony IRI’s “IRI Marketing Data Set”, which
is described in Bronnenberg, Kruger and Mela (2008). Since the time of that publication, IRI has released additional data so that it covers retailers in 50 market
areas for the period 2001 to 2011. We undertake two sets of analyses. First, to
explore the details of our model on micro data, we undertake a store-level analysis. For these purposes, we focus on two categories of products: ground coffee and
peanut butter. We look at substitution patterns for a single large store in each
of nine cities. Second, to more closely approximate BLS inflation measurement
procedures, we construct national indices using a broader set of products that we
sample nationally.
For the store-level analysis, we choose the peanut butter and coffee categories
for several reasons. First, the categorization of these products in the IRI data set
matches closely a product that is tracked by the BLS. This allows us to mimic
20

the BLS sampling procedures for each of them.12 The categories are reasonably
representative of all the grocery products in the IRI sample. Bronnenberg, Kruger
and Mela (2008) describe the 30 categories tracked by IRI and calculate the
percent of total volume in the category sold “on any deal”. The median category
has 37 percent of its volume sold “on any deal”. Bronnenberg et al report that
the share sold on deal is 40.8 percent for coffee and 32.9 percent for peanut
butter. In our store-level analysis of these two products, we examine results for a
sample of nine cities, one chosen randomly from each of the nine Census divisions.
In each city, we sample from the largest chain — though we discard any chain
where private label brands dominate the national brands. The details of our
rules for selecting brands and stores are discussed in the Data Appendix. Here,
we summarize the main elements of our procedures.
Whenever possible, we try to mimic BLS methodologies for examining prices.
In particular, although the IRI data are reported at a weekly frequency, the BLS
indices are constructed at a monthly frequency. Therefore, in our analyses, we
aggregate data to a monthly frequency to match CPI construction methodologies.
The exception is the summary information in Table 1.
Our store-level analysis proceeds starting with a set of specific universal product
codes (UPC) for coffee and peanut butter. An example of the most disaggregated
definition of a good that we would consider would be a “Peter Pan 18 ounce jar
of creamy peanut butter”. The IRI Symphony data set, like most scanner data
sets, contain a large number of products, many of which have a short lifespan.
To focus our analyses, first, we restrict attention to benchmark sizes (11 to 13
ounces for coffee and 15 to 18 ounces for peanut butter) and that are most typical
in the data. Next, we identify the best selling products and focus on the top
10 UPCs in each category. In calculating market shares we inspect the data
and splice together UPCs that are replacements for each other. In addition, we
consolidate all UPCs within a given brand that have very high price correlation
12 Reinsdorf

(1999) examines coffee for a similar reason – to match the BLS data to scanner data.

21

(as is typically the case for different flavors of the same product). We then retain
only UPCs for which we have at least 6 years data. Finally we convert the
prices into price per ounce and exclude any private label UPCs or super premium
UPCs. Collectively, we believe these steps create coherent categories of similar
products where the model’s assumptions about substitution are reasonable and
where sampling variation will not produce spurious price volatility.
For some of our calculations, we require definitions for “sale prices” and “regular prices”. We extend the methodology proposed by Kehoe and Midrigan (2012).
They propose measuring a sale as a price cut which is reversed within five weeks.
We adopt a similar definition. However, we note that the data contain some
miniscule apparent price changes; there are cases where the price in a week appears to be less than a cent or two lower than the price in the previous week.
As in most scanner datasets, the price series is actually constructed by dividing
total revenues by total unit sales. There may be product scanning input errors or
situations in which a consumer uses a cents off coupon or a store coupon, and any
of these would create tiny shifts in measured prices that do not reflect changes
in posted prices. We thus set a tolerance for a price change—requiring the price
change to be “large” enough to be considered either a sale price or a change in
the regular price. We set this tolerance at $0.002 per ounce. A regular price is
set equal to the actual price if the product is not determined to be on sale using
the above methodology. If the item is on sale, the regular price is defined to be
the most recent past price for the item for which the item was not on sale.
It is worth emphasizing that the theoretical construct in our model is a fixed
weight aggregation that uses quantity weights rather than expenditure weights.
Thus, in our micro analysis of coffee and peanut butter, we use within-store
quantity weights in constructing our fixed weight, geometric mean aggregates,and
CES aggregates. While our model calls for fixed weights, over the decade of our
sample, there are some changes in the UPCs and products offered. Furthermore,
some brands gain in popularity while others decline. Thus, instead of a truly
22

fixed quantity weight, we use a methodology similar to the BLS to calculate and
update weights for the fixed weight index. We start by identifying base volume
weights in a “pre-period” of our dataset. Each quarter, we construct a new weight
consisting of 15/16 of the previous weights and 1/16 of the prior quarter’s weights.
For our national index analysis, we expand our analysis to consider 21 additional
products from IRI. These represent all of the categories of products tracked in
the IRI data that we viewed as sufficiently homogeneous to allow us to identify
a “best price” and for which sufficient continuous data were available.13 Because
the BLS samples on a monthly basis, we assign each week in our database to
a month. As the BLS does, each month, we will sample from particular stores
in a particular week. As with coffee and peanut butter, we focus on the most
popular sized products. We identify a set of candidate UPCs in each store based
on historical expenditure weights, and then sample a particular UPC in each store
using these weights. The Data Appendix describes the way we approximate the
BLS procedures for rotating new stores into the sample. Most of these products
do not correspond exactly to a category that the BLS tracks in an identifiable
way.14 In order to try to mimic the BLS methodology, we need to know roughly
how many prices to collect for each product. By choosing approximately the same
number of prices as the BLS, our sampling error should be comparable to that of
the BLS. Unfortunately, even for specific products that the BLS tracks, the BLS
does not provide detailed data about the number of prices sampled. Based on
the total number of food and beverage prices collected monthly by the BLS (see
http://www.bls.gov/cpi/cpirr2011.pdf) and given the weights of peanut butter
and coffee in the total food and beverage category, we estimate that the BLS
would collect roughly 240 monthly quotes for peanut butter and 224 for coffee.
13 An example of a category that we excluded was diapers. Ounces seemed like a poor measure for
diapers and using the number of diapers in a package is also misleading since diapers are sized like
clothing and the products for larger-sized children tend to be more expensive.
14 The reasons for this are varied. For example, one of the categories that we examine is frankfurters.
This does not correspond exactly to a category that the BLS tracks. This is in part because the BLS
categorizations classify meats by animal of origin. Thus, frankfurters contribute to the pork, beef, and
turkey items, and there is no BLS item for “frankfurters”.

23

Lacking better information on exactly how many prices the BLS would sample
in our other categories, we collect 240 prices per month for all categories in our
national index analysis.
In order to make sure that our calculations are geographically representative,
we divide the US into the four US census regions and allocate our price estimates
to each region in the same proportion as they are allocated in the CPI (using
data from http://www.bls.gov/cpi/cpiri2011.pdf). Within in each region, for
each product category, in order to conduct our national analysis, we calculate
category-level store expenditures for each store in the IRI sample. Within each
store-category we calculate expenditures for each UPC. As described in more
detail in the Data Appendix, we use these measures to construct store and item
sampling weights. We use these sampling probabilities to draw the 240 items
sampled for each category. Importantly, we collect only 1 UPC per store, and use
equal weights in aggregation, consistent with BLS practices.
These choices mean that we focus on only two categories in our store-level
analysis and a broader set of 23 categories in our national analysis. There is
always a tradeoff between comprehensiveness of categories and the care that can
be paid to the details of each category. For example, Chevalier, Kashyap and
Rossi (2003) document that in some categories UPCs are discontinued only to
have the same product appear with a new UPC. Hence, splicing series by hand is
the only sure way to capture all the same sales of these types of similar items. But,
the task of splicing the data to capture UPC changes, as well as grouping UPCs
within brands, requires a substantial investment in learning about the category
and cleaning data. Of course, this could in principle be done on a large scale, but
it is very costly. The Bureau of Labor Statistics devotes some portion of its field
force to cleaning data to create consistency across categories in construction the
CPI. For our peanut butter and coffee categories for the store-level analysis, we
undertake this type of splicing. In our national analysis of 23 categories, we use
a series of rules to select the sizes and products that are included. Details can be
24

found in the Data Appendix.
V.

Results - Store-level data

Before turning to the main predictions of our model, we document that high
frequency price variation is quite important for understanding the actual prices
that consumers pay. Figures 1 and 2 show, for the 2003-2005 period in the
Charlotte store, the monthly fixed weight price aggregate for peanut butter and
coffee, respectively, along with a fixed weight aggregate of regular prices, the
unit value, a geometric mean average, and the best price. The graphs show
that both products have a substantial period of time when the regular price is
nearly constant. Movements in the fixed weight price aggregate clearly reflect the
occasional temporary discounts (captured by movements in the best price series).
The geometric mean comoves very closely with the fixed weight price aggregate,
but has a lower level (the difference being almost imperceptible at the scale of
the graph). However, as expected, unit values embody temporary discounts much
more than the fixed weight or geometric mean aggregate would imply.
Next, we explore whether our model adequately explains the pattern of temporary discounts and purchases. Recall, we identified three store-level predictions
of our model. First, a disproportionate fraction of goods should be sold while
the price is temporarily low. Second, unit values should be well-approximated
by a linear combination of a conventional fixed weight price aggregate and the
best available price within the group of close substitutes over the course of several
weeks. Third, the geometric mean price aggregate used by the BLS in constructing the price index should not adequately account for the migration of consumers
to the “best price”.
A.

Purchase Responses to Sales

We first examine the effect of sales on prices paid by consumers and quantities
purchased. Table 1 shows total weeks and ounces with temporary discounts for
25

each of the nine cities. It also shows, for weeks in which there is a discount,
the mean size of the discount in each city. It is unsurprising that quantity sold
increases substantially when a product experiences a price reduction. However,
the combination of frequent, staggered discounts along with consumers who readily switch brands and time purchases means that a substantial fraction of all of
the units sold are sold at prices below the “regular” price.15 In all of the cities,
the fraction of ounces sold at discount is substantially greater than the share of
item-weeks with discounts, suggesting ubiquitous strategic shopping behavior by
consumers for both products in all locations. For peanut butter, on average, the
fraction of units bought on sale is roughly twice the fraction of item-weeks with
sales. For coffee, responsiveness is lower, with the fraction of units sold on sale
being roughly 1.3 times the fraction of item-weeks on sale. Under the strong
assumption that sale weeks are chosen randomly, the ratio of the quantity sold
in sale vs. non sale weeks can be compared to the mean size of discounts during
sales to calculate a rough estimate of the elasticity of demand. The last column
of the table shows the resulting estimates and they are large.
There are a number of reasons why these patterns for coffee and peanut butter
may differ. For example, the demographic characteristics of peanut butter buyers
may differ from that of coffee buyers or, coffee companies may be more successful
in differentiating themselves in a way that creates brand loyalty, and people may
be more willing to store peanut butter. The greatest potential impact of sales on
price measurement occurs in Hartford for peanut butter, where, over our eleven
year sample, only 8 percent of product-weeks have sales, but 50 percent of the
total ounces sold are purchased at a sale price.

15 The large share of transactions that take place at sales prices is not surprising. Kehoe and Midrigan
(2012) mention this finding as one of their observations about the Dominick’s data that is distributed
by the University of Chicago. Bronnenberg, Kruger and Mela (2008)’s IRI data set covers 30 categories
of goods at grocery chains in 47 different geographical markets (that has since expanded to 50 markets).
Their Table 2 shows the fraction of products that are sold on any deal and the mean percentage is 36.8%;
more than 30% are sold on deal in 25 of the 30 categories they study. Griffith et al. (2009) also find that
about 29.5% of total food expenditure from a large sample of British households is on sale items. Hence,
the findings for our categories are very typical of what happens in grocery stores.

26

B.

Best Prices

We next turn to the most important prediction of our model, that the variable
weight (unit value) price aggregate can be well-approximated as an appropriately
weighted average of fixed weight price aggregate and a measure of the ”best price”,
the lowest price obtainable within a narrow item category (or stratum, to use the
BLS language). In order to test this implication, we do need to operationalize
some theoretical constructs of our model. First, we must make an assumption
about the horizon over which Bargain Hunters can be expected to look for sales
and stockpile. Given that the BLS publishes monthly data, we will assume that
shoppers operate on a monthly cycle. Second, we must define the universe of items
within the store over which to seek the best price. Here, we use all products that
meet the popularity and availability screens described above.
We conduct a simple regression of the unit value price aggregate on the fixed
weight price aggregate and the “best price” series. Note that if (5) is a good
approximation for our data, the weights on the two price series should add up to
one and the constant term should be roughly zero. These conditions are not hardwired to hold. Consumer preferences and, therefore, market shares could drift
away from the fixed weights of the fixed weight indices; or consumers’ demand
might be very different than supposed by our model that emphasizes a prominent
role for best prices.
Results are shown in Table 2 for both products in each of the cities. The first
important finding is that the best price coefficient is positive and significant in
all cases. That is, the prices actually paid by consumers (unit values), are not
well-approximated by the fixed weight aggregate. Instead, controlling for the best
price adds explanatory power. This is not surprising given our findings in Table 1.
For most of the product/city combinations, the constant term appears small and
the fixed weight and best price coefficients roughly sum to one. In about half the
cases for each product, the estimated value of the constant term is not significantly
different from zero at standard confidence levels. In about half the cases for each
27

product we also cannot reject that the hypothesis that the coefficients for best
price and the fixed weight index sum to one. In all cases, the model fits well; the
minimum R-squared among the 18 product-city specifications is 0.86.
The coefficient estimates on the best price vary between 0.2 and 0.7, suggesting
that bargain hunting tendencies differ noticeably. Interestingly there is a strong
positive (0.80) correlation between the best price coefficients for the two products
within stores. To the extent that demographic characteristics of the store customers are driving the importance of the best price, this correlation is reassuring.
Some of these patterns are easier to observe when results are depicted graphically. Figure 3 shows the best price coefficient as a dark bar with the fixed weight
coefficient as a lighter bar. The distance of the sum from one can be easily seen.
Above the coeffient estimates is a simple plot of the constant term. Following the
layout of Table 2, the left panel shows the results for peanut butter, and the right
panel coffee.
An important question to consider is whether the BLS adequately accounts for
sale-chasing behavior. The BLS constructs a fixed expenditure share geometric
mean index within item strata. This methodology, therefore, allows for a limited
amount of cross-item substitution. However, this substitution differs substantially
from that implied by our model. The BLS methodology effectively assumes a
cross-price elasticity of demand of 1 between items within the strata. Whether or
not this elasticity is sufficient to capture shopping patterns is an empirical issue,
as is the question of whether ordinal prices as stressed by our model matter.
To assess the importance of these possibilities, Figure 4 depicts an alternative
set of regression results in which a BLS-type geometric mean index and our Best
Price indicator are both allowed to account for movements in the unit values.
In all cases, the best price measure still has significant explanatory power for
the unit values. Indeed, as can be seen by comparing figures, the coefficients for
best price when using the geometric weight index in the regression are nearly
identical to the coefficients for best price when using the fixed weight index in the
28

regression. This suggests that the geometric mean does not sufficiently account
for deal-chasing behavior on the part of strategic shoppers.
There are two distinct reasons why Best Price coefficient could be positive and
significant in these regressions. First, the substitution elasticity of one that is implicit in the geometric mean may not be large enough to capture the substitution
patterns in the data. Alternatively, the CES may not be the correct functional
form to capture the substitution patterns in our data. It is well-understood that
the CES well-approximates aggregate data when the individual consumers have
logit demand. However, in both the logit and the CES, cardinal price differences
drive decisions; our model suggests that the ordinally lowest price in the category
should play an important role in driving purchasing.
To address these two alternatives, we investigate whether a CES price aggregate
would perform better if it had a higher elasticity of substitution. Recall that a
geometric mean aggregation would match actual consumer behavior if consumers
had a cross-price elasticity of one across varieties. To do this, we follow Shapiro
and Wilcox (1997) who focus on matching the assumed elasticity of substitution
to the substitution patterns present in the data. Specifically, we conduct a grid
search to find the CES price aggregate that best matches the observed unit values.
Specifically, we find the α such that the CES price aggregate best matches unit
P
 1
1−σ 1−σ
, where s, Ωst denotes
values. The CES price aggregate is:
α
p
is
i∈Ωst
ist
the set of all products i sampled in store s at time t and α are the quantity
weights.16 For each of the city-products, we search over elasticities of substitution
from 0.5 to 10 in increments of 0.5 in order to find the CES price index for that
city-product that most closely approximates the unit value aggregate. We then
use these preferred CES parameters to re-estimate regressions akin to the ones
reported in Figure 3 and Figure 4. The results are depicted in Figure 5.
16 In their study, Shapiro and Wilcox start with the proposition that the statistical agency would want
to use a superlative index, such as a Tornqvist but recognize the problem that the Torqvist requires real
time quantity data. They investigate the ability of the the CES to match the Tornqvist by conducting a
grid search for the best match CES. In our (very different) context, we extend this idea to find the CES
that best fits the unit value and then measure whether the best price is still important in explaining
movement in the unit value.

29

The numbers over the bars are marked to show the elasticity that most closely
approximates the unit value. As in earlier figures, the dark bars show the coefficients on the best price and the lighter bars show best fit CES aggregate. Not
surprisingly, for all city product pairs, the best matching CES aggregate has an
elasticity of substitution that is higher than one. For peanut butter, the preferred
specification yielded an elasticity estimate greater than 4.5 in each city. For coffee, the best fit CES aggregate has an elasticity ranging from 2 to 10. These
findings accord with Ivancic, Diewert and Fox (2009), who suggest (in matching
to the Tornqvist) that estimates of elasticities of substitution in the lowest item
strata for food products are typically greater than 1 and are often greater than
3. Consistent with the patterns in Tables 1 and 2, coffee is on average less elastic
than peanut butter, and, as suggested by the raw data, there is a positive correlation across the two products within cities (the correlation of the best fitting
elasticity of substitution for coffee and the peanut butter within cities is 0.7).
For all of the city-product pairs except coffee in Chicago, the coefficient on
the Best Price measure is positive and statistically different from zero at at least
the ten percent confidence level. This suggests that the substitution patterns
in the data are not well-approximated by a CES specification; the ordinal price
metric of the best price is typically required to match the substitution patterns
in the variable weight index. In the one exception for the sixteen city-product
pairs, coffee in Chicago, the variable weight index is closely approximated by a
CES price index with an elasticity of substitution equal to seven.17 As a final
point of comparison, in unreported results, we also compute Tornqvist indices for
peanut butter and coffee in each of our cities. In our model, a Tornqvist does not
approximate an exact index due to consumer heterogeneity. However, in many
models with homogeneous consumers, a Tornqvist aggregate would approximate
17 It is worth noting that, for the unit price index for coffee in Chicago, a regression on the CES index
and a constant yields an R-squared of 0.98. A regression of the variable weight index on the fixed weight
index and the best price yields an R-squared of 0.96. Thus, although the best fit CES in that one case
does not require the additional information contained in the best price, our best price methodology still
yields a very good approximation of the variable weight index.

30

an exact index and hence is another potential benchmark. For these cities and
products, a regression where the Tornqvist index is the dependent variable and
the geometric mean and the best price are the controls, uncovers a the best price
coefficient that is consistently positive and statistically different from zero. This
suggests that the BLS’s preferred geometric mean index would better approximate
the Tornqvist if the best price measure were also considered.
C.

Inflation Measurement

Finally we assess what the patterns that we have documented imply for the
measurement of inflation. To do this, we first use our scanner data to broaden
our sample of products and to aggregate prices nationally. We use all categories
available from our data vendor where the product size variation is small, products
are fairly homogenous, and sufficient data exists in our database. This results
in twenty one additional grocery categories plus coffee and peanut butter. It
is certainly clear, from our analysis using the city-level data discussed above,
that the level of aggregated prices will differ depending on whether prices are
aggregated using time-varying expenditure weights (unit values), or with fixed
arithmetic weights (as are used for price index construction in many countries
including Japan), or with geometric weights (as is used by the BLS in the United
States).
Nonetheless, our price level results do not necessarily have important implications for tracking inflation. If the mismeasurement in levels is constant over time,
inflation may be well-measured with BLS procedures. Previous research, however,
suggests several reasons to expect meaningful time variation in the frequency or
depth of sales. Given the strong purchase response to sales, this would lead to
time variation in unit value inflation and best price inflation that may not be fully
captured in a BLS-style geometric mean inflation aggregate. This time variation
in the frequency or depth of sales could occur either due to cyclical factors as
in Kryvtsov and Vincent (2014) or due to long run shifts in selling technologies
31

as in Basker (2015) and Nakamura (1998), or due to consumer substitution patterns differing in high and low inflation environments as in Handbury, Weinstein
and Watanabe (2013). Indeed, Nakamura and Steinsson (2008) document that
the fraction of BLS price quotes that are sales increased dramatically in the processed food, unprocessed food, household furnishings, and apparel categories over
the 1988 to 2005 period. For the processed food and apparel categories, sales frequencies have doubled. Furthermore, the average size of sales has also increased
substantially over the period in three of the four aforementioned categories. This
continues a trend documented by Pashigian (1988) in the frequency and depth of
sales that begins in the 1960s. If any of these forces are at work, inflation in unit
values may be better approximated by a methodology such as ours that measures
discounts explicitly, rather than a geometric mean methodology.
We also construct best price indices. Our model suggests that because of the
option to stockpile, the best price in a given week is a conservative measure of the
price savings available to a determined bargain hunter. However, the BLS only
collects prices in a given store in one week. So, the construction of a multi-week
best price would require additional enumerator store trips and thus would be
extremely expensive for the BLS relative to the current methodology. In order to
create a practical proposal, we depart from the model’s prediction that emphasizes
a multi-week best price and collect instead the best price that is available during
the week when the quote for the regular index would be gathered. The one week
best price is selected from the candidate UPCs that were identified in that store
as being potentially eligible for inclusion in the regular index.
Finally, we compute a national unit value index. We use this as our benchmark
and assess the extent it could be approximated by the other indices, as it utilizes
quantity data unavailable to the BLS. To compute this, we sample stores and
weeks identically to the method used to calculate the fixed weight, geometric
mean and best price indices. For each sampled store, for the entire set of candidate
UPCs from which we sampled for the price indices, we measure total expenditures
32

for the week and divide by total volume in ounces.
We first summarize inflation rates in order to get an overall sense of biases. To
do this, we divide our data into two time periods. The first period begins at the
beginning of our data and ends at the start of the recession October 2007. The
second period covers the recession through end of the data set November 2007 to
December 2011.
Averaging across our products, using the change geometric mean price aggregates, prices rose 13.99 percent in the pre-recession period. We do identify a
bias, in that unit value inflation exceeds geometric mean inflation by 1.9 percentage points over the period, about 0.3 percentage points per year. During the
post-recession period, the bias reverses. Overall prices rise 19.5 percent using the
change in geometric mean price aggregates, but geometric mean inflation exceeds
unit value inflation by 0.8 percentage points, about 0.2 percentage points per
year.
The reversal itself is not very surprising. Over the long-run, we would expect
that all prices would be co-integrated so that inflation by all measures would be
comparable. However, over shorter intervals shopping and pricing patterns could
fluctuate. So the relevance for inflation measurement would turn on the gaps over
shorter periods, such as phases of the business cycle.
These biases are comparable to previously identified ones that have attracted
considerable attention. For instance, the Boskin Commission report to the U.S.
Senate (Boskin et al. (1996)) estimated that upper level substitution bias, which
arises because consumers can switch across types of products such as apples and
bananas when prices change, would be about 0.15 percent per year. The commission also estimated outlet substitution bias, which arises because the same product is often sold at discount stores for cheaper prices than in regular stores, to
be about 0.1 percent per year. Indeed, the Federal Reserve officials have recently
referred to estimates of the inflation (as measured by the personal consumption
expenditure deflator) as being meaningfully below its two percent target when
33

the measured rate was 1.7.18
To examine the foundations of inflation for all 23 categories more systematically,
we calculate rolling monthly twelve-month inflation rates as the log change in unit
values. Recall that, in our model, the unit value is identically equal to a weighted
average of the fixed weight index and the best price. To examine the fit of our
model, we estimate a specification based on (5) above. Specifically, we estimate
the following equation using nonlinear least squares:

(7)

ln(unitvaluet ) − ln(unitvaluet−12 ) =
γ + ln(αf ixedweightaggt + (1 − α)bestpricet )
− ln(αf ixedweightaggt−12 + (1 − α)bestpricet−12 ) + t

where  is a postulated residual.
The coefficient α is not constrained in our estimation procedure. If our model is
correctly specified, our estimate of α should be between zero and one and can be
interpreted as the share of Loyal consumers in the marketplace. The coefficient for
the constant term, γ, should be zero and the explanatory power of the specification
should be high. A summary of the results for all 23 products is given in Figure
6. The figure shows the constant terms in the upper panel, one minus the alpha
coefficients (that govern the importance of the best price) in the middle panel, and
the R-squared values in the lower panel. The alpha coefficients range from 0.2 to
0.7 and average 0.4. Thus, the implied coefficient on the best price index averages
0.6. The coefficient for the fixed weight index is, in all cases, both statistically
significantly different from zero and statistically significantly different from one.
This means that 1−α, the best price coefficient, is significantly different from zero
in all cases. The constant terms are in general quite small and average 0.0002,
although they are statistically significantly negative in some cases and positive in
18 For

one example, see Evans (2017).

34

others. Finally, the overall explanatory power of the specifications is high. The
minimum R-squared value is 0.53, but more than half are greater than 0.85.19
While the results in Figure 6 suggest that our model performs fairly well and
that the best price is an important component to approximating unit value inflation, it is possible that the BLS-style geometric mean aggregate tracks unit value
inflation adequately on its own. To examine this, we repeat the specification in
(7), replacing the fixed weight aggregate with the geometric mean aggregate. The
results are presented in Figure 7 for all 23 products. As was the case in the storelevel levels specification for coffee and peanut butter, the results for the geometric
mean specifications are actually quite similar to the fixed weight specifications.
While the explanatory power of the two specifications are similar, it is interesting
to note that, for 22 of the 23 products, the fixed weight specification has a lower
mean squared error and higher R-squared than does the corresponding geometric
mean specification. That is, the specification that follows the model fits better.
Overall, in measuring unit value inflation, the inclusion of a best price measure offers additional explanatory power over the geometric mean type aggregate similar
to that used by the BLS.
As discussed above, others have advocated the use of either unit values or
the Tornqvist as an alternative to the BLS’s geometric mean formulation at the
lowest item stratum. Clearly, such proposals have been thus far unsuccessful due
in part to difficulties in obtaining real time quantity data. Our proposed demand
formulation fits the data fairly well and has the advantage of requiring only one
extra price to be obtained at each visited store from the enumerator. Thus, it is
relatively simple to construct.
VI.

Conclusion

We provide a simple model of consumer heterogeneity and show how that heterogeneity can motivate temporary price discounts by retailers. Margins that vary
19 We obtain similar results with alternative specifications. For example, we also examine specifications
with a Newey-West correction for the standard errors and find results consistent with those reported here.

35

dramatically over time, even when consumer preferences are stable, are a natural
outcome of our model. By the very nature of second degree price discrimination,
the seller optimally sets prices to encourage deal-driven brand switching only by
those consumers who have the least disutility from switching brands. Indeed,
in our stark model, only those with no disutility from switching brands actually
switch them. Our empirical findings suggest that many consumers have a low
disutility of switching brands. We show that the share of all goods in our sample
that are sold at sale prices is much larger than the number of product-weeks in
which sales occur.
We demonstrate that, from our model, the unit value emerges as the exact
index; changes in the unit value index are associated with changes in consumer
utility as long as storage costs are negligible. However, it is well understood
that statistical agencies have largely been reluctant or unable to adopt price
index methodologies that involve gathering real-time quantity data as is required
to create a unit value for all goods purchased or a Tornqvist index. We show
that our model can be used as a structural model of prices paid. In particular,
even without high frequency quantity data, unit values can be approximated as a
weighted average of the fixed weight index and the “best price”. If approximating
the unit value index is the goal, the best price is a crucial input.
This raises two questions that we begin to address here. First, what weights
should a statistical agency use if attempting to construct a weighted average of
the best price and the fixed weight index? Our parameter estimates vary by city
and product. Thus, we suggest that weights could be approximated using short
time series of quantity data not obtained in real time, essentially as we have done.
Perhaps one criticism of our approach is that approximating the weights in the
way we have proposed would be difficult or unacceptable and that it would be
difficult to implement a weighting system that varies across products and cities.
However, the limitation that the ”best fit” model would vary across cities and
products is, in fact, not unique to our formulation. In our store-level section, we
36

demonstrated that the “best fit” CES demand system also varied across cities
and products. This implies that the geometric mean formulation used by the
BLS is a much better approximation for some products than for others. Time
and cost limitations could determine the extent to which a ”one size fits all” best
price parameter could be used, just as the geometric mean methodology employs
a ”one size fits all” CES demand parameter of one.
Second, is this approach truly practical for a statistical agency? We concede
that obtaining real-time quantity data has been deemed impractical, and obtaining some measure of the full distribution of prices over time (to say, estimate
quantities based on a CES or discrete choice demand model) may be impractical.
However, our approach only requires the enumerator to record a second price on
each trip to the store. This strikes us as not very costly, while providing significantly more information about a price which is relevant to a very large number
of consumers. We believe that the BLS can construct price relatives using the
exact methodologies that they currently do, but allowing a weight on the best
price relative as well as the price relatives for randomly selected items that they
selected using their current methodologies. While we exclude generics and premium products in our analysis, the BLS ought to be able to handle them precisely
as they currently do in calculating price relatives for the randomly selected item.
20

Finally, our evidence suggests that the disconnect between unit values and
BLS-style indices remains when inflation is computed. Inflation in unit values
will depend on shopping and discounting strategies, while a BLS-style inflation
indicator will not fully capture these effects. Hence, the gap in measured inflation rates for these two constructs will vary whenever the depth or frequency of
discounts changes. Prior research suggests that business cycle conditions and the
20 One subtle issue is the challenge that generics pose for the best price calculation. If included, generics
would frequently constitute the best price. One shortcut that could be examined is, building off of the
results in Feenstra and Shapiro (2003), is to create a strategy that utilizes promoted prices in lieu of
finding the actual lowest price. While the best price in a category often corresponds to the promoted
price, substantial transactions occur for products with heavily promoted prices even if they aren’t the
best price.

37

level of inflation impact the depth and frequency of sales. Our results suggest
that a best price indicator helps explain unit value inflation in a parsimonious
way.
Clearly, the importance of strategic consumer responses to temporary sales is
of paramount importance in some sectors, and of more limited importance in
others. While we agree that this kind of phenomenon would not be present for
some types of goods and services, it definitely is relevant for many other products.
The following categories of products account for about 44 percent of the CPI: Food
and Beverages, Household Furnishings and Operations, Apparel, New and Used
Vehicles, Motor Vehicles Parts and Equipment, Motor Vehicle Maintenance and
Repair, Airline Fares, Medical Care Commodities, Recreation, College Tuition
and Fees, Technical and Business School Tuition, Information and Information
Processing, and Tobacco and Smoking Products. In each of these categories
discounting is routine so that the kind of issues we have identify could apply.
Furthermore, as Varian notes in his 1999 Handbook of Industrial Organization
survey of price discrimination, sellers almost always want to engage in price discrimination and price discrimination schemes involve substantial computational
costs. Both the consolidation of the retailing sector over the last decades and the
rapid decline in IT costs suggest that data-driven price discrimination schemes
are likely to become more, rather than less important in the future. Thus, if
economists are to successfully model price-setting, and statistical agencies are to
successfully measure prices and inflation, confronting price discrimination appears
to be an inevitable challenge.

38

REFERENCES

Aguiar, Mark, and Erik Hurst. 2007. “Life-Cycle Prices and Production.”
The American Economic Review, 97(5): 1533–1559.
Basker, Emek. 2015. “Change at the Checkout: Tracing the Impact of a Process
Innovation.” The Journal of Industrial Economics, 63(2): 339–370.
Boskin, Michael J., E. Dulberger, R. Gordon, Z. Griliches, and D.
Jorgenson. 1996. “Toward a More Accurate Measure of the Cost of Living.”
Final Report to the Senate Finance Committee Report.
Bradley, Ralph, Bill Cook, Sylvia G. Leaver, and Brent R. Moulton.
1997. ““An Overview of Research on Potential Uses of Scanner Data in the
US CPI”.” Ottawa Group International Working Group on Price Indices Third
Meeting.
Bronnenberg, Bart J., Michael W. Kruger, and Carl F Mela. 2008.
“Database paper-The IRI marketing data set.” Marketing Science, 27(4): 745–
748.
Caves, Douglas W., Laurits R. Christensen, and Walter Erwin Diewert.
1982. “Multilateral Comparisons of Output, Input, and Productivity Using
Superlative Index Numbers.” Economic Journal, 92(365): 73–86.
Chevalier, Judith A., Anil K. Kashyap, and Peter E Rossi. 2003. “Why
Don’t Prices Rise During Periods of Peak Demand? Evidence from Scanner
Data.” American Economic Review, 93(1): 15–37.
Chevalier, Judith, and Anil Kashyap. 2014. “‘Best Prices: Price Discriminiation and Consumer Substitution’.” National Bureau of Economic Research,
Inc NBER Working Papers 20768.
Davies, George R. 1924. “The problem of a standard index number formula.”
Journal of the American Statistical Association, 19(146): 180–188.
39

Davies, George R. 1932. “Index Numbers in Mathematical Economics.” Journal of the American Statistical Association, 27(177A): 58–64.
Diewert, W. Erwin. 1995. “‘Axiomatic and Economic Approaches to Elementary Price Indexes’.” National Bureau of Economic Research, Inc NBER Working Papers 5104.
Eichenbaum, Martin, Nir Jaimovich, and Sergio Rebelo. 2011. “Reference Prices, Costs, and Nominal Rigidities.” The American Economic Review,
101(1): 234–262.
Ellison, Glenn. 2005. “A Model of Add-on Pricing.” The Quarterly Journal of
Economics, 120(2): 585–637.
Evans, Charles L. 2017. “‘The Times They are a-Changin”.” DZ Bank-OMFIF
International Capital Markets Conference speech.
Feenstra, Robert C., and Matthew D. Shapiro. 2003. “‘High-Frequency
Substitution and the Measurement of Price Indexes’.” In Scanner Data and
Price Indexes. NBER Chapters, 123–150. National Bureau of Economic Research, Inc.
Fisher, Franklin M, and Zvi Griliches. 1995. “Aggregate price indices, new
goods, and generics.” The Quarterly Journal of Economics, 110(1): 229–244.
Guimaraes, Bernardo, and Kevin D Sheedy. 2011. “Sales and monetary
policy.” The American Economic Review, 101(2): 844–876.
Handbury, Jessie, David E. Weinstein, and Tsutomu Watanabe. 2013.
“How Much Do Official Price Indexes Tell Us About Inflation?” NBER Working Paper, 19504(w19504).
Hosken, Daniel, and David Reiffen. 2007. “Pricing behavior of multiproduct
retailers.” BE Journal of Theoretical Economics, 7.
40

Ivancic, Lorraine, W. Erwin Diewert, and Kevin J. Fox. 2009. “‘Using a
Constant Elasticity of Substitution Index to estimate a Cost of Living Index:
from Theory to Practice’.” Australian School of Business, University of New
South Wales 2010 ECON 15.
Kehoe, Patrick J., and Virgiliu Midrigan. 2012. “Prices are sticky after all.”
NBER Working Paper, 16364.
Klenow, Peter J., and Jonathan L Willis. 2007. “Sticky information and
sticky prices.” Journal of Monetary Economics, 54: 79–99.
Kryvtsov, Oleksiy, and Nicolas Vincent. 2014. “‘On the Importance of Sales
for Aggregate Price Flexibility’.” Bank of Canada Working Papers.
Lal, Rajiv, and Carmen Matutes. 1994. “Retail Pricing and Advertising
Strategies.” The Journal of Business, 67(3): 345–370.
Mussa, Michael, and Sherwin Rosen. 1978. “Monopoly and product quality.”
Journal of Economic Theory, 18(2): 301–317.
Nakamura, Alice, W. Erwin Diewert, John S. Greenlees, Leonard I.
Nakamura, and Marshall B. Reinsdorf. 2014. “Sourcing Substitution and
Related Price Index Biases.” In Measuring Globalization: Better Trade Statistics for Better Policy. 21–88. WE Upjohn Institute for Employment Research.
Nakamura, Emi, and Jon Steinsson. 2008. “Five Facts about Prices: A
Reevaluation of Menu Cost Models.” The Quarterly Journal of Economics,
123(4): 1415–1464.
Nakamura, Emi, Jon Steinsson, Patrick Sun, and Daniel Villar. 2016.
“‘The Elusive Costs of Inflation: Price Dispersion during the US Great Inflation’.” Department of Economics, Columbia University Working Papers.
Nakamura, Leonard I. 1998. “The retail revolution and food-price mismeasurement.” Business Review, , (May): 3–14.
41

Nakamura, Leonard I. 1999. “The measurement of retail output and the retail
revolution.” Canadian Journal of Economics, 32(2): 408–425.
Pashigian, B. Peter. 1988. “Demand Uncertainty and Sales: A Study of Fashion
and Markdown Pricing.” American Economic Review, 78(4): 936–953.
Pesendorfer, Martin. 2002. “Retail sales: A study of pricing behavior in supermarkets.” The Journal of Business, 75(1): 33–66.
Redding, Stephen J, and David E Weinstein. 2016. “A unified approach to
estimating demand and welfare.” National Bureau of Economic Research.
Reinsdorf, Marshall. 2003. “‘Comment on High-Frequency Substitution and
the Measurement of Price Indexes’.” In Scanner Data and Price Indexes. NBER
Chapters, 123–150. National Bureau of Economic Research, Inc.
Reinsdorf, Marshall, and Jack E. Triplett. 2009. “‘A Review of Reviews:
Ninety Years of Professional Thinking about the Consumer Price Index’.” In
Price Index Concepts and Measurement. NBER Chapters, 17–83. National Bureau of Economic Research, Inc.
Reinsdorf, Marshall B. 1999. “Using Scanner Data to Construct CP1 Basic
Component Indexes.” Journal of Business & Economic Statistics, 17(2): 152–
160.
Salop, S., and Joseph E Stiglitz. 1982. “The Theory of Sales: A Simple Model
of Equilibrium Price Dispersion with Identical Agents.” American Economic
Review, 72(5): 1121–30.
Shapiro, Matthew D., and David W. Wilcox. 1997. “Alternative Strategies
for Aggregating Prices in the CPI.” Federal Reserve Bank of St. Louis Review,
79: 113–25.
Sobel, Joel. 1984. “The timing of sales.” The Review of Economic Studies,
51(3): 353–368.
42

Triplett, Jack E. 2003. “‘Using Scanner Data in Consumer Price Indexes. Some
Neglected Conceptual Considerations’.” In Scanner data and price indexes.
151–162. University of Chicago Press.
Varian, Hal Ronald. 1980. “A Model of Sales.” American Economic Review,
70(4): 651–59.
Walsh, Correa Moylan. 1921. The problem of estimation. King & Son.
Wong, Arlene, and Aviv Nevo. 2014. “‘The Elasticity of Substitution between
Time and Market Goods: Evidence from the Great Recession’.” Department
of Economics, Northwestern University Working Paper.

43

Figure 1. Monthly Peanut Butter Regular Prices, Fixed Weight Index, Variable Weight
Index, and Best Prices.

Note: The figure shows a fixed weight aggregate of regular prices (defined in the text and produced
using our modification of the Kehoe and Midrigan (2012) algorithm for detecting sales), a fixed weight
aggregate of posted prices, unit values, and the monthly best price.

44

Figure 2. Monthly Coffee Regular Prices, Fixed Weight Aggregate, Variable Weight Aggregate, and Best Prices.

Note: The figure shows a fixed weight aggregate of regular prices (defined in the text and produced
using our modification of the Kehoe and Midrigan (2012) algorithm for detecting sales), a fixed weight
aggregate of posted prices, unit values, and the monthly best price.

45

Table 1—Share of Ounces Sold and Share of Weeks at Regular and Sale Prices: Totals for Sample Cities

Peanut butter
Charlotte
Chicago
Hartford
Houston
Knoxville
Los Angeles
New York
St Louis
West Tx
46

Coffee
Charlotte
Chicago
Hartford
Houston
Knoxville
Los Angeles
New York
St Louis
West Tx

Ounces Sold

Weeks

Regular price

Sale price

Regular price

Sale price

Average
Discount

60.03%
33.92%
50.08%
63.49%
65.24%
49.49%
37.49%
34.88%
46.26%

39.97%
66.08%
49.92%
36.51%
34.76%
50.51%
62.51%
65.12%
53.74%

75.91%
59.17%
92.45%
74.57%
73.13%
65.83%
78.63%
67.73%
68.60%

24.09%
40.83%
7.55%
25.43%
26.87%
34.17%
21.37%
32.27%
31.40%

17%
21%
27%
12%
11%
13%
21%
26%
19%

5.38
7.56
10.02
3.90
3.85
6.98
7.84
5.65
4.52
Demand
Elasticity
10.01
3.02
9.00
7.38
4.48
2.85
8.06
4.93
5.16

Ounces Sold

Weeks

Regular price

Sale price

Regular price

Sale price

Average
Discount

31.51%
43.27%
18.56%
42.89%
44.59%
41.48%
13.16%
31.88%
40.32%

68.49%
56.73%
81.44%
57.11%
55.41%
58.52%
86.84%
68.12%
59.68%

54.23%
52.01%
49.01%
57.83%
56.10%
50.42%
43.79%
52.71%
50.98%

45.77%
47.99%
50.99%
42.17%
43.90%
49.58%
56.21%
47.29%
49.02%

9%
13%
12%
6%
7%
14%
16%
11%
9%

Demand
Elasticity

Note: Totals are given for the store identified in the Data Appendix for each city. The sale and regular prices are calculated as described in the text
based on our modification of the Kehoe and Midrigan (2012) algorithm for detecting sales. The average discount is the simple average over all sales for
any items on sale in a given week.

Table 2—Structural Estimates of Price Coefficients: Explaining Store-Level Unit Values
with Fixed Weight Price Aggregates and Best Prices
Peanut Butter
Coefficients
Charlotte

Fixed weight
Best Price
constant

Chicago

Fixed weight
Best Price
constant

Hartford

Fixed weight
Best Price
constant

Houston

Fixed weight
Best Price
constant

Knoxville

Fixed weight
Best Price
constant

Los Angeles

Fixed weight
Best Price
constant

New York

Fixed weight
Best Price
constant

StLouis

Fixed weight
Best Price
constant

West Tx-New Mexico

Fixed weight
Best Price
constant

47

0.804
(0.024)
0.234
(0.022)
-0.0038
(0.002)
0.542
(0.032)
0.548
(0.039)
-0.006
(0.003)
0.484
(0.044)
0.587
(0.029)
-0.005
(0.004)
0.646
(0.045)
0.319
(0.030)
0.0065
(0.004)
0.664
(0.037)
0.289
(0.032)
0.007
(0.003)
0.687
(0.047)
0.316
(0.032)
0.0042
(0.004)
0.414
(0.037)
0.590
(0.040)
0.005
(0.004)
0.808
(0.073)
0.403
(0.045)
-0.0258
(0.007)
0.669
(0.067)
0.401
(0.044)
-0.007
(0.007)

Coffee
Coefficients
Fixed weight
Best Price
constant
Fixed weight
Best Price
constant
Fixed weight
Best Price
constant
Fixed weight
Best Price
constant
Fixed weight
Best Price
constant
Fixed weight
Best Price
constant
Fixed weight
Best Price
constant
Fixed weight
Best Price
constant
Fixed weight
Best Price
constant

0.737
(0.038)
0.292
(0.040)
-0.0040
(0.004)
0.648
(0.031)
0.386
(0.042)
0.0058
(0.006)
0.437
(0.035)
0.667
(0.038)
-0.0162
(0.005)
0.831
(0.017)
0.206
(0.017)
-0.007
(0.002)
0.678
(0.028)
0.306
(0.031)
0.0086
(0.002)
0.716
(0.038)
0.291
(0.033)
0.0053
(0.008)
0.348
(0.043)
0.697
(0.047)
0.0009
(0.008)
0.646
(0.023)
0.375
(0.020)
-0.002
(0.003)
0.915
(0.031)
0.183
(0.026)
-0.0257
(0.006)

Note: For each city and category we run a single regression motivated by Equation (5) in the text. The
dependent variable is the unit value for the dominant brands in the sampled store. The brands for each
store are listed in Data Appendix Table A1. The independent variables are the fixed weight aggregate
for those brands, the monthly best price amongst those brands and a constant. Standard errors are in
parentheses.

Figure 3. Store-level analysis for peanut butter and coffee - Relationship of unit values to fixed weight and best price aggregates.

48
Note: Relationship of unit values to fixed weight and best price aggregates based on estimates reported in Table 2. Peanut butter in left panel and coffee
in right. The upper part depicts the constant term coefficient in the regression of unit values on the fixed weight aggregate and best price. The lower part
shows the best price coefficient and the fixed weight coefficient. A key prediction of the model is that the two coefficients sum to one.

Figure 4. Store-level analysis for peanut butter and coffee - Relationship of unit values to geometric mean and best price aggregates.

49
Note: Relationship of unit values to geometric mean and best price aggregates based on estimates reported in Appendix Table A5. Peanut butter in left
panel and coffee in right.The upper part depicts the constant term coefficient in the regression of unit values on the geometric mean aggregate and best
price. The lower part shows the best price coefficient and the geometric mean coefficient.

Figure 5. Store-level analysis for peanut butter and coffee - Relationship of unit values to best fit CES aggregate and best price
aggregate.

50
Note: Relationship of unit values to best-fitting CES and best price aggregates based on estimates reported in Appendix Table A6. Peanut butter in left
panel and coffee in right. The elasticity of demand that best fits is noted on the bar measuring each CES coefficient.The upper part depicts the constant
term coefficient in the regression of unit values on the best fit CES aggregate and best price. The lower part shows the best price coefficient and the best
fit coefficient.

Figure 6. National Analysis- Structural estimates of inflation using fixed weight and best

Constant

price aggregates
0.02
0.01
0.00
−0.01
−0.02

●
● ● ● ● ● ● ● ● ● ● ● ●
● ● ● ●
● ● ● ● ● ●

1 Minus Fixed Weight Coefficients

1.00

0.75

0.5

0.25

toothpaste

toothbrush

sugarsub

toilet_tissue

soup

spaghetti

soft_drinks

razors

shampoo

peanut

paper_towel

milk

mustard

mayo

ketchup

margarine

frankfurters

frozen_pizza

detergent

facial_tissue

deodorant

beer

coffee

0

R−squared

Product
1.00
0.50
0.00

Note: Estimates are from nonlinear least squares model described in text Equation (7). The middle
panel shows one minus the coefficient for the fixed weight price index (corresponding to the fit of the
best price index). The upper panel shows the constant term, which the model predicts should be near
zero. The bottom panel shows the R-squared of the regression.

51

Figure 7. National Analysis- Estimates of inflation using fixed weight and best price aggre-

Constant

gates
0.02
0.01
0.00
−0.01
−0.02

● ● ● ● ● ● ● ● ● ● ● ●
● ●
● ● ● ● ● ●
● ● ●

1 Minus Geometric Coefficients

1.00

0.75

0.5

0.25

toothpaste

toothbrush

sugarsub

toilet_tissue

soup

spaghetti

soft_drinks

razors

shampoo

peanut

paper_towel

milk

mustard

mayo

ketchup

margarine

frankfurters

frozen_pizza

detergent

facial_tissue

deodorant

beer

coffee

0

R−squared

Product
1.00
0.50
0.00

Note: Estimates from nonlinear least squares model described in text Equation (7), replacing the fixed
weight aggregate with the geometric mean. The middle panel shows one minus the coefficient for the
geometric mean price index (corresponding to the fit of the best price index). The upper panel shows
the constant term. The bottom panel shows the R-squared of the regression.

52

Data Appendix - ONLINE ONLY

The U.S. Census Bureau separates the country into four regions which are in
turn made up of nine divisions. For the store-level analysis we chose one store
from each of the nine divisions; the national analysis relies on a much larger
sample that is described below.
A1.

Store Level Analysis

The particular stores were chosen as follows. First, we picked a random city in
each division and then within that city identified the chain with the most number
of stores. We then picked a random store within the chain and verified that it
had no more than 15% of the weeks missing for the three main national peanut
butter brands (Skippy, Jif and Peter Pan). We also checked that dominant selling
UPCs were 16 to 18 ounce jars and that the main national brands were among
the top sellers. If the most popular chain did not satisfy these conditions, then
we selected the second largest chain in that city. We started this project before
the most recent release of the data were available, so the screens were imposed
using the data from 2001 to 2007. We used these same stores to study coffee,
focusing on package sizes of 11 to 13 ounces.
To select UPCs for inclusion our analysis we start by identifying the top ten
brands in each store in terms of average yearly sales. Importantly, most brands
have multiple UPCs that are priced identically, such as ”master blend” and ”original roast” types of coffee. We aggregate all the UPCs within a brand where the
correlation of the log prices price per ounce is greater than 0.85 (and the level
of prices is within 15%). We do this iteratively to assemble all of the versions of
a brand that are essentially the same. Once we have aggregated as many UPCs
as is possible, we compute price for composite UPC by dividing the total dollar
amount sales of all UPCs in the aggregate by the total ounces.
Having identified the top 10 UPCs in this fashion, we next eliminate private
label and premium brands. We do this for three reasons. First, private label
53

discounting strategies and demand is usually different than for branded items (at
least for peanut butter and coffee). One way to see this is to recognize that the
normal private label price is often lower than the sale price for branded UPCs,
and yet many consumers do not switch. Second, the premium products (e.g.
organic peanut butter or fair trade coffee) are such that even when they go on
sale, they remain more expensive than the standard leading brands. So although
there are undoubtedly some consumers that prefer generic or premium products,
the willingness to switch between these products and the regular leading brands
is undoubtedly more complicated than is posited by our model.
Finally, as a practical matter we are interested in exploring the importance
of a best price for consumer behavior. The best price in many stores would
almost always just be the private label price and the premium price would likely
never be the best price. So by limiting the consideration to UPCs which have
similar average prices we are capturing the kind of substitution that is described
by the model. Hence, we implement this by pruning the set of candidate UPCs
so that their average price per ounce is no more than 25% above or below the
price for a reference price for peanut butter and coffee; the reference price for
peanut butter in a given store is the average price of the national brands present
in all the stores (Skippy, Jif and Peter Pan), while the reference price for coffee is
the average price for the two national brands that were always present (Maxwell
House and Folgers).21
The final step in our data construction is to exclude any UPCs which have
substantial periods of missing data. We require a UPC to have been present in
at least 6 years and to have non-missing observations for at least 60% of the total
weeks in the sample. For the 9 stores in our store-level analysis this process leaves
with us with between 3 and 5 brands per store that are used in computing the
best price. The exact stores and brands are shown in Table A1.
21 To decide which UPCs are excluded, we compute UPC specific price deviations from the reference
price in each store in each week and then compute the average value of the deviation. If that average is
above 25 percent in absolute value the UPC is dropped.

54

Table A1—Brands used by market
Store
(Market)

Peanut Butter Brands

Coffee Brands

250517
Charlotte, SC

JIF
PETERPAN
SKIPPY

FOLGERS
JFG
MAXWELLHOUSE

262433
Chicago, IL

JIF
PETERPAN
SKIPPY

EIGHTOCLOCK
FOLGERS
HILLSBROTHERS
MAXWELLHOUSE

534239
Hartford, CT

JIF
LEAVITTTEDDIE
PETERPAN
REESES
SKIPPY

CHOCKFULLONUTS
FOLGERS
MAXWELLHOUSE

230491
Houston, TX

JIF
PETERPAN
SKIPPY

FOLGERS
MAXWELLHOUSE
SEAPORT

224312
Knoxville, TN

JIF
PETERPAN
SKIPPY

FOLGERS
JFG
MAXWELLHOUSE

286394
Los Angeles, CA

JIF
PETERPAN
SKIPPY

DONFRANCISCO
FOLGERS
MAXWELLHOUSE
MELITTA
YUBAN

279568
New York, NY

JIF
PETERPAN
REESES
SKIPPY

CHOCKFULLONUTS
FOLGERS
MAXWELLHOUSE

232633
Saint Louis, MO

JIF
PETERPAN
SKIPPY

FOLGERS
MAXWELLHOUSE
WHITECASTLE

200439
West Texas/New Mexico

JIF
PETERPAN
SKIPPY

EIGHTOCLOCK
FOLGERS
MAXWELLHOUSE
MJB

Note: The IRI-designated store number is given for each city along with the brands used for the coffee
and peanut butter categories. Brands are selected using the rules described in the text of the Data
Appendix.

55

Summary statistics for the price aggregates used city by city are found in Table
A2. Using the rules described above to decide which UPCs qualify for consideration in each store, the price aggregates are defined as follows.
Fixed Weight: In each city, for the sampled store, for each product, we construct
a weighted average of the prices. The weights in the first quarter of the sample
are equal to the prior quarter’s quantity (ounce) share of each UPC. In each
subsequent quarter, these weights are adjusted so that the weights are 15/16 of
the weights used for the previous quarter and 1/16 of the actual quantity shares
in the prior quarter. This reflects the BLS’s procedure of rotating sampling units
(a combination of a store and product) over a four year cycle. The fixed weight
is simply the weighted arithmetic mean of the prices.
Geometric Mean: The geometric mean is constructed the same way as the fixed
weight, but in the last step, a geometric mean of the weighted prices is calculated
rather than an arithmetic mean.
Best Price One Month: We calculate the minimum price per ounce among all of
the eligible UPCs over the entire month. For this calculation, each week of the
year is assigned in its entirety to a calendar month. This is done because the data
from the vendor are aggregated to the weekly level.
Best Price One Week : We calculate the minimum price per ounce among all of
the eligible UPCs over each week.
Unit Value: We calculate the total spending on all the UPCs that qualify for
consideration for each store and divide by total ounces.

56

A2.

National Analysis

We complement our detailed findings for coffee and peanut butter by constructing national aggregates for more categories. Each category of the IRI Marketing
Data Set is further divided (by IRI) into smaller categories. For example, the
category “condiments” is divided into two subcategories, mustard and ketchup.
We begin with these subcategories. We select 23 for our analysis. The main criteria for selection was that the category contained well-defined sizes of relatively
homogeneous products and that the product set remained somewhat stable over
the sample period. For example, we excluded diapers because the pricing is a
function of both package sizes (24 diapers, 48 diapers, etc.) and sizes (Newborn,
3-6 months, up to 5T). Further, some of the more complex categories that we
excluded experienced rapid product change. For example, in razor cartridges, 2
blade cartridges were the norm at the beginning of our sample, and had been
supplanted by 3, 4, and 5 blade cartridges by the end of our sample. We also excluded products for which regulation and taxation could be a complicating factor
(e.g. cigarettes). The remaining 23 categories are listed in Table A3.
For the calculation of national inflation estimates we followed the BLS sampling
procedures to the extent possible. The BLS does not provide detail about product
selection by category; their procedure is supposed to select a representative item
in each store. For each of our 23 product categories, we consider the full span
of sizes that are amongst the sizes represented by the 10 highest overall revenue
UPCs nationally in the first and last quarter of the data (2001q1 and 2011q4,
respectively). We include all of these product sizes in our sampling procedure
unless removing the 8th, 9th, or 10th most popular item from the group reduces
the distance from the smallest to second smallest item or the largest to second
largest item by more than 10 percent. This replicates the judgmental decision we
made in deciding how to pick the package sizes for coffee and peanut butter by
essentially dropping any UPCs with unusual sizes if their market share is low.
For example, the overall most popular products for liquid laundry detergent in

Table A2—Summary Statistics- City Data

Charlotte

Chicago

Hartford

Houston

Knoxville

Los Angeles

New York

St Louis

West Tx

Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations
Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations
Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations
Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations
Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations
Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations
Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations
Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations
Unit Value Price
Fixed Weight Price
Monthly Best Price
Geometric Mean Price
Total Ounces Sold
Observations

Peanut Butter

Coffee

0.116
0.119
0.101
0.118
8073
129
0.140
0.151
0.118
0.150
4277
129
0.126
0.140
0.108
0.138
12898
129
0.118
0.121
0.104
0.121
2414
127
0.118
0.120
0.108
0.120
4501
129
0.162
0.165
0.141
0.164
4576
129
0.123
0.140
0.101
0.139
9218
129
0.117
0.129
0.097
0.128
9233
129
0.138
0.148
0.113
0.147
2692
121

0.248
0.257
0.214
0.256
3431
129
0.315
0.328
0.25
0.325
1221
129
0.224
0.266
0.186
0.264
10522
129
0.274
0.277
0.245
0.276
2538
127
0.248
0.253
0.220
0.252
2800
129
0.325
0.341
0.258
0.338
6339
129
0.221
0.279
0.177
0.275
15538
129
0.275
0.288
0.239
0.286
3339
129
0.314
0.321
0.252
0.319
1391
121

Note: For the rows that reference prices, the prices are per ounce for each of the different aggregates.

2001 and 2011 range from 50 to 200 ounces. However, the 200 ounce product
is the ninth most popular product, and the next largest size represented in the
list is 150 ounces. So, we define the category as containing sizes from 50 to 150
ounces. Prices are, of course, computed in per ounce measures for aggregation.
We gather all the UPCs that fit our criteria description in each store and calculate the total amount spent on these items in each month divided by the total
ounces sold in that month. We call this the benchmark price per ounce for that
store in that month. To exclude premium products, we keep all the UPCs which
have a price that is plus or minus 25% of the benchmark price. Having trimmed
the data in this fashion, we are left with a data set with the properties described
in Table A3.
The IRI coverage does not match the population distribution of the U.S. so we
do not want to just sample randomly from these stores. Accordingly, we divide
the US into the four regions used by the BLS: The Northeast, Midwest, South,
and West. We then sampled from each of these regions to get a distribution of
stores that would mimic the BLS sampling weights for these regions. For each
product for each month, we sampled 48 prices from the Northeast region, 48 prices
from the Midwest region, 80 prices from the South and 64 prices from the West.

Table A3—Product categories used for national analysis

Category

Small Category

Table label

Size

Stores

UPCs

Beer
Blades
Carbonated Beverages
Coffee
Deodorant
Facial Tissue
Frozen Pizza
Hotdog
Laundry Detergent
Margarine
Mayonnaise
Milk
Mustard & Ketchup
Mustard & Ketchup
Paper Towels
Peanut butter
Razors
Shampoo
Soup
Spaghetti Sauce
Sugar Substitutes
Toilet Tissue
Toothbrushes
Toothpaste

Domestic beer/ale
Cartridges
Regular soft drinks
Ground coffee
Deodorants
Facial tissue
Frozen pizza
Rfg. frankfurters
Liquid laundry detergent
Margarine/spreads/butter blends
Mayonnaise/sandwich spread
Rfg. skim/low-fat/whole milk
Ketchup
Mustard
Paper towels
Peanut butter
Razors
Regular shampoo
Rts. wet soup
Spaghetti/Italian sauce
Sugar substitutes
Toilet tissue
Manual toothbrushes
Toothpaste

beer
cartridges
soft drinks
coffee
deoderant
facial tissue
frozen pizza
frankfurters
laundry
margarine
mayo
milk
ketchup
mustard
paper towels
peanut butter
razors
shampoo
soup
spaghetti
sugar sub
toilet tissue
toothbrush
toothpaste

8 - 20 OZ
4 - 10 CT
67.6 - 144 OZ
11 - 39 OZ
2.25 - 10 OZ
69 - 372 CT
10.2 - 38 OZ
12 - 16 OZ
50 - 150 OZ
0.9 - 2.85 LB
15 - 32 OZ
64 - 128 OZ
20 - 64 OZ
8 - 20 OZ
1 - 12 RL
15 - 40 OZ
2 - 7 CT
12 - 32 OZ
2.1 - 288 OZ
15 - 67 OZ
4 - 24 OZ
4 - 24 RL
1 - 32 CT
1 - 6.4 OZ

2,567
3,149
3,134
3,125
3,172
3,192
2,953
2,735
3,130
2,808
3,074
3,076
3,115
2,743
3,123
3,117
3,152
3,159
3,116
3,102
3,143
3,165
3,172
3,170

902
156
1,328
1,002
1,797
161
769
381
569
138
165
2,438
64
197
395
180
211
738
711
390
68
440
888
697

Note: These are the categories used to study inflation in the body of the paper. The category name is created by IRI. To insure the homeogeneity of
goods, we limit our analysis to the subset of each category that is listed under the heading ”small category”. The product sizes are those we use in the
analysis and the number of UPCs pertains to the total available for those sizes in the subcategory.

A3.

Choosing Stores

The stores in the national sample are initially chosen randomly using the total
expenditure in that store for each category (relative to total expenditure for that
category in the region) to determine the probability that the store is selected. At
the time a store enters that sample, we randomly pick a week during the month
at which price quotes from that store will be collected. If the chosen store has
missing data it is replaced, drawing again proportionally to expenditure shares.
Starting with the next quarter, we begin our sample rotation, whereby 1/16 of the
stores will be replaced each quarter. (The initial order in which stores are replaced
is random). To replace a store that is rotating out of the sample we draw a new
one using expenditure weights from the prior quarter. We believe this procedure
approximates the strategy that the BLS pursues in selecting outlets to sample.

A4.

Choosing UPCs

Based on total revenue for each UPC, we find the top 10 UPCs per store in
the first quarter and use those while the store is in the sample. From the top 10
UPCs, we sample one per store. The probability of being chosen is proportional
to each UPC’s fraction of the spending relative to total spending for all of the 10
UPCs in the base period. If the chosen UPC is not available during a month, we
choose another UPC from the top 10 for that period. When a new store rotates
into the sample, its set of top 10 UPCs is identified using the expenditure shares
from the prior quarter. A new UPC for that store will be selected and that UPC
will be sampled for as long as the store is in the sample. If the selected UPC
is missing then another from the top 10 will be randomly selected. This will
mean that over time as stores change the list of UPCs is evolving to track recent
purchase patterns.

A5.

Indices

A dataset containing all the sampled stores and UPCs comes out of this procedure. Each observation consists of information relating to a given week, month,
and store. This information consists of the unit value (dollars paid per ounce),
region, and store. These annual inflation variables are summarized in Table A4.
Geometric Mean: This is our approximation of how the BLS would calculate an
aggregate for a given product. Each sampled store is sampled for one week of the
month. We use one UPC per store and take the geometric mean across stores
of the sampled prices per ounce for the month. The sampling procedure that
governed the selection of stores and UPCs already accounts for the popularity of
stores and UPCs, so the equally weighted geometric mean is what we report.
Fixed Weight: This differs from the geometric mean only because we take an
arithmetic average of the UPCs rather than a geometric one.
Best Price One Week : Stores are sampled in one week of the the month as for
the Geometric Mean. We then find the minimum price per ounce among the top
10 UPCs in the sampled store for the week. The index level is the arithmetic
average of store best prices over the month.
Sampled Unit Value: We calculate the total spending on the top 10 UPCs divided
by the total ounces for each store. We then calculate the arithmetic mean across
stores assuming equal weights.
When an inflation rate is reported it is computed as the logarithmic change
of an aggregate. Note that the annual inflation measures are in many cases
quite volatile. For coffee and peanut butter, the changes in prices correlate quite
substantially with changes in the prices of the underlying agricultural commodities
which are quite volatile. Prices in other categories may reflect technical change
issues that are not captured in our methodology (a problem that the BLS also

confronts). For example, the highest average inflation levels reported below are
for laundry detergent. It may be possible to clean a load of laundry with fewer
ounces of detergent at the end of the sample period than at the beginning and that
prices per unit cleaning power deviate from prices per ounce; our methodology
does not capture this transition.
In the main paper, Figures 4, 5, 6, and 7 are graphical representations of
regression estimates. The corresponding regressions are presented in Tabular
form in A5, A6, A7, and A8.

Table A4—Summary Statistics - National specifications. Mean levels of 12 month inflation.
VARIABLES
fixed weight

beer

coffee

deoderant

detergent

facial tiss

frankfurters

frozen pizza

ketchup

0.0186
(0.0178)
0.0190
(0.0186)
0.0187
(0.0173)
0.0276
(0.0230)

0.0675
(0.1082)
0.0697
(0.1120)
0.0738
(0.1160)
0.0742
(0.1252)

0.0026
(0.0305)
0.0022
(0.0336)
0.0010
(0.0268)
0.0025
(0.0370)

0.0739
(0.2395)
0.0734
(0.2416)
0.0729
(0.2463)
0.0645
(0.2261)

0.0247
(0.0661)
0.0244
(0.0654)
0.0311
(0.0647)
0.0235
(0.0533)

0.0176
(0.0434)
0.0172
(0.0469)
0.0210
(0.0546)
0.0315
(0.0663)

0.0094
(0.0477)
0.0095
(0.0504)
0.0095
(0.0535)
0.0133
(0.0620)

0.0199
(0.0247)
0.0191
(0.0261)
0.0189
(0.0401)
0.0189
(0.0459)

Observations

117

117

117

117

117

117

117

117

VARIABLES

margarine

paper towel

peanut butter

geometric mean
unit value
best price

fixed weight

mayo

milk

mustard

razors

shampoo

0.0614
(0.0898)
0.0601
(0.0881)
0.0568
(0.0815)
0.0474
(0.0709)

0.0470
(0.0714)
0.0473
(0.0751)
0.0452
(0.0732)
0.0458
(0.0724)

0.0346
(0.0825)
0.0346
(0.0883)
0.0369
(0.0847)
0.0366
(0.0936)

0.0329
(0.0411)
0.0317
(0.0482)
0.0351
(0.0519)
0.0298
(0.0534)

0.0412
(0.0656)
0.0405
(0.0672)
0.0395
(0.0649)
0.0382
(0.0701)

0.0291
(0.0608)
0.0287
(0.0610)
0.0280
(0.0630)
0.0255
(0.0662)

0.0329
(0.0313)
0.0330
(0.0333)
0.0313
(0.0405)
0.0345
(0.0547)

-0.0017
(0.0424)
-0.0010
(0.0424)
0.0023
(0.0460)
0.0125
(0.0614)

Observations

117

117

117

117

117

117

117

117

VARIABLES

soft drinks

geometric mean
unit value
best price

fixed weight
geometric mean
unit value
best price
Observations

soup

spaghetti

sugar sub

toothbrush

toilet tissue

toothpaste

0.0261
(0.0383)
0.0267
(0.0381)
0.0249
(0.0370)
0.0239
(0.0386)

0.0038
(0.0420)
0.0031
(0.0453)
0.0002
(0.0465)
0.0001
(0.0547)

0.0010
(0.0493)
0.0009
(0.0497)
0.0116
(0.0527)
0.0114
(0.0502)

0.0394
(0.0369)
0.0392
(0.0351)
0.0437
(0.0583)
0.0310
(0.0477)

-0.0004
(0.0271)
-0.0060
(0.0317)
-0.0021
(0.0259)
-0.0103
(0.0409)

0.0573
(0.0791)
0.0591
(0.0833)
0.0531
(0.0795)
0.0533
(0.0791)

0.0044
(0.0376)
0.0035
(0.0387)
0.0382
(0.0343)
-0.0034
(0.3868)

117

117

117

117

117

117

117

Note: Inflation is computed as the 12 month log difference of the alternative price aggregates.

Table A5—Explaining Store-Level Unit Values with BLS-style Geometric Mean Price Indices
and Best Price
Peanut Butter
Coefficients
Charlotte

Geomean
Best Price
constant

Chicago

Geomean
Best Price
constant

Hartford

Geomean
Best Price
constant

Houston

Geomean
Best Price
constant

Knoxville

Geomean
Best Price
constant

Los Angeles

Geomean
Best Price
constant

New York

Geomean
Best Price
constant

StLouis

Geomean
Best Price
constant

West TX- New Mexico

Geomean
Best Price
constant

0.827
(0.024)
0.209
(0.022)
-0.0037
(0.002)
0.593
(0.033)
0.493
(0.039)
-0.007
(0.003)
0.503
(0.045)
0.571
(0.030)
-0.0053
(0.004)
0.683
(0.044)
0.290
(0.030)
0.005
(0.004)
0.689
(0.038)
0.270
(0.032)
0.006
(0.003)
0.732
(0.046)
0.276
(0.032)
0.0029
(0.004)
0.441
(0.038)
0.567
(0.039)
0.004
(0.004)
0.825
(0.070)
0.373
(0.045)
-0.024
(0.006)
0.726
(0.066)
0.353
(0.044)
-0.009
(0.007)

Coffee
Coefficients
Geomean
Best Price
constant
Geomean
Best Price
constant
Geomean
Best Price
constant
Geomean
Best Price
constant
Geomean
Best Price
constant
Geomean
Best Price
constant
Geomean
Best Price
constant
Geomean
Best Price
constant
Geomean
Best Price
constant

0.743
(0.039)
0.284
(0.041)
-0.003
(0.003)
0.694
(0.031)
0.336
(0.042)
0.005
(0.005)
0.453
(0.036)
0.649
(0.039)
-0.0162
(0.005)
0.863
(0.017)
0.173
(0.017)
-0.007
(0.002)
0.699
(0.028)
0.285
(0.032)
0.0086
(0.002)
0.756
(0.038)
0.248
(0.033)
0.0051
(0.007)
0.373
(0.044)
0.668
(0.048)
0.0005
(0.008)
0.672
(0.023)
0.346
(0.020)
-0.0016
(0.003)
0.937
(0.030)
0.146
(0.026)
-0.022
(0.006)

Note: For each city and category we run a single regression. We replace the fixed weight price aggregate
that is suggested by Equation (12) with a BLS-style geometric mean price aggregate. The dependent
variable is the unit value for the dominant brands in that store. The independent variables are the
geometric mean aggregate for the brands under consideration in that store, the monthly best price for
those brands and a constant. Standard errors are in parentheses. Represented in Fig. 4 in text.

Table A6—Explaining Store Level Unit Values with the Best Fit CES Index and the Best
Price
Peanut Butter
Coefficients
Charlotte

CES Index 4.5
Best Price
constant

Chicago

CES Index 8
Best Price
constant

Hartford

CES Index 10
Best Price
constant

Houston

CES Index 8.5
Best Price
constant

Knoxville

CES Index 8
Best Price
constant

Los Angeles

CES Index 6.5
Best Price
constant

New York

CES Index 9.5
Best Price
constant

StLouis

CES Index 10
Best Price
constant

West TX-New Mex

CES Index 7
Best Price
constant

0.893
(0.027)
0.136
(0.025)
-0.0027
(0.002)
0.899
(0.040)
0.167
(0.044)
-0.006
(0.003)
0.624
(0.052)
0.456
(0.036)
-0.0066
(0.004)
0.852
(0.049)
0.123
(0.034)
0.0053
(0.003)
0.818
(0.044)
0.171
(0.036)
0.0031
(0.003)
0.85
(0.050)
0.15
(0.037)
0.0036
(0.004)
0.692
(0.053)
0.377
(0.047)
-0.0057
(0.004)
0.778
(0.063)
0.252
(0.051)
-0.009
(0.005)
0.925
(0.066)
0.105
(0.051)
-0.0027
(0.005)

Coffee
Coefficients
CES Index 2
Best Price
constant
CES Index 7
Best Price
constant
CES Index 10
Best Price
constant
CES Index 5
Best Price
constant
CES Index 8.5
Best Price
constant
CES Index 4.5
Best Price
constant
CES Index 10
Best Price
constant
CES Index 4.5
Best Price
constant
CES Index 3.5
Best Price
constant

0.748
(0.041)
0.276
(0.043)
-0.0021
(0.004)
0.98
(0.031)
0.026
(0.039)
0.0052
(0.004)
0.562
(0.042)
0.525
(0.045)
-0.013
(0.005)
0.998
(0.019)
0.032
(0.019)
-0.0066
(0.002)
0.873
(0.035)
0.118
(0.039)
0.0068
(0.002)
0.844
(0.041)
0.128
(0.036)
0.014
(0.007)
0.484
(0.047)
0.523
(0.053)
0.009
(0.006)
0.755
(0.031)
0.239
(0.029)
0.0075
(0.003)
0.993
(0.033)
0.0544
(0.029)
-0.0158
(0.006)

Note: For each city and category we run a single regression. We replace the fixed weight price index
that is suggested by equation (6) with a constant elasticity of substitution (CES) price index. The
CES substitution parameter for each store-product is separately chosen by a grid search to match the
unit value index as closely as possible. The preferred substution parameter is shown in the table. The
dependent variable is the unit value for the dominant brands in that store. The brands for each store are
listed in Data Appendix Table A1. The independent variables are the CES index for the brands under
consideration in that store, the monthly best price for those brands and a constant.

Table A7—National specifications - Structural Estimates of inflation based on changes in fixed weight and best price aggregates
VARIABLES

beer

coffee

deodorant

detergent

facial tissue

frankfurters

frozen pizza

ketchup

constant

-0.0038
(0.001)
0.4939
(0.041)

0.00109
(0.003)
0.1095
(0.057)

-0.00137
(0.001)
0.5234
(0.042)

0.00172
(0.002)
0.4428
(0.054)

0.0067
(0.003)
0.1980
(0.041)

-0.0042
(0.002)
0.3333
(0.033)

-0.0020
(0.001)
0.3627
(0.034)

-0.00030
(0.001)
0.2735
(0.037)

Observations
R-squared

117
0.814

117
0.937

117
0.798

117
0.987

117
0.790

117
0.885

117
0.960

117
0.836

VARIABLES

margarine

mayo

milk

mustard

paper towel

peanut

razors

shampoo

constant

0.0020
(0.001)
0.4187
(0.036)

-0.0012
(0.002)
0.3887
(0.074)

0.0016
(0.001)
0.5068
(0.029)

0.0036
(0.001)
0.4308
(0.034)

0.0004
(0.002)
0.2969
(0.050)

0.0005
(0.001)
0.5347
(0.038)

-0.0020
(0.001)
0.7246
(0.042)

-0.0023
(0.002)
0.4707
(0.048)

Observations
R-squared

117
0.960

117
0.898

117
0.991

117
0.950

117
0.826

117
0.974

117
0.845

117
0.809

VARIABLES

soft drinks

soup

spaghetti

sugarsub

toilet tissue

toothbrush

toothpaste

constant

0.00010
(0.001)
0.3617
(0.036)

-0.0024
(0.001)
0.4673
(0.032)

0.00085
(0.001)
0.4021
(0.043)

0.00507
(0.004)
0.7426
(0.130)

-0.00073
(0.002)
0.1100
(0.041)

0.0044
(0.001)
0.6016
(0.044)

0.0026
(0.001)
0.5561
(0.041)

117
0.845

117
0.944

117
0.945

117
0.502

117
0.928

117
0.639

117
0.889

fixed weight

fixed weight

fixed weight
Observations
R-squared

Note: For each category we estimate (7) using non-linear least squares. The coefficient on the fixed weight index, α, and the constant, γ, are reported
along with their standard errors, which are shown beneath the coefficients in parentheses. Estimates are displayed in Figure fig:structuralestimates-mfixed
in the body of the paper.

Table A8—National specifications - Estimates of inflation based on changes in geometric mean and best price aggregates
VARIABLES

beer

coffee

deodorant

detergent

facial tissue

frankfurters

frozen pizza

ketchup

constant

-0.0041
(0.001)
0.4904
(0.042)

0.00071
(0.003)
0.07096
(0.061)

-0.00111
(0.001)
0.4733
(0.048)

0.00346
(0.002)
0.2632
(0.051)

0.0067
(0.003)
0.1960
(0.043)

-0.0040
(0.002)
0.3478
(0.035)

-0.0019
(0.001)
0.3925
(0.039)

-0.00004
(0.001)
0.2848
(0.038)

Observations
R-squared

117
0.803

117
0.935

117
0.721

117
0.982

117
0.785

117
0.882

117
0.957

117
0.836

VARIABLES

margarine

mayo

milk

mustard

paper towel

peanut

razors

shampoo

constant

0.0028
(0.002)
0.4115
(0.042)

-0.00116
(0.002)
0.3303
(0.078)

0.0019
(0.001)
0.5266
(0.044)

0.0041
(0.001)
0.4714
(0.037)

0.00071
(0.002)
0.2940
(0.052)

0.00065
(0.001)
0.5567
(0.043)

-0.00203
(0.002)
0.7142
(0.046)

-0.00259
(0.002)
0.4828
(0.051)

Observations
R-squared

117
0.950

117
0.889

117
0.985

117
0.950

117
0.820

117
0.971

117
0.811

117
0.800

VARIABLES

soft drinks

soup

spaghetti

sugarsub

toilet tissue

toothbrush

toothpaste

constant

-0.00021
(0.001)
0.3935
(0.040)

-0.0020
(0.001)
0.4943
(0.035)

0.00092
(0.001)
0.4120
(0.051)

0.00567
(0.004)
0.6814
(0.138)

-0.00073
(0.002)
0.0822
(0.043)

0.0058
(0.002)
0.5707
(0.051)

0.0032
(0.001)
0.5507
(0.046)

117
0.837

117
0.940

117
0.937

117
0.458

117
0.925

117
0.507

117
0.868

geometric mean

geometric mean

geometric mean
Observations
R-squared

Note: For each category we estimate an alternative version of (7) using non-linear least squares. Here the fixed weight index is replaced by the BLS-style
geometric mean index. The coefficient on the geometric mean index, α, and the constant, γ, are reported along with their standard errors, which are
shown beneath the coefficients in parentheses. Estimates are displayed in Figure fig:structuralestimates-mgeo in the body of the paper.

