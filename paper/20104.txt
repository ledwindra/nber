NBER WORKING PAPER SERIES

SHOCK ELASTICITIES AND IMPULSE RESPONSES
Jaroslav BoroviÄka
Lars Peter Hansen
JosÃ© A. Scheinkman
Working Paper 20104
http://www.nber.org/papers/w20104
NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
May 2014

The views expressed herein are those of the authors and do not necessarily reflect the views of the
National Bureau of Economic Research.
NBER working papers are circulated for discussion and comment purposes. They have not been peerreviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.
Â© 2014 by Jaroslav BoroviÄka, Lars Peter Hansen, and JosÃ© A. Scheinkman. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission provided
that full credit, including Â© notice, is given to the source.

Shock Elasticities and Impulse Responses
Jaroslav BoroviÄka, Lars Peter Hansen, and JosÃ© A. Scheinkman
NBER Working Paper No. 20104
May 2014
JEL No. E0
ABSTRACT
We construct shock elasticities that are pricing counterparts to impulse response functions. Recall
that impulse response functions measure the importance of next-period shocks for future values of
a time series. Shock elasticities measure the contributions to the price and to the expected future cash
flow from changes in the exposure to a shock in the next period. They are elasticities because their
measurements compute proportionate changes. We show a particularly close link between these objects
in environments with Brownian information structures.

Jaroslav BoroviÄka
Department of Economics
New York University
New York, NY 10012
jaroslav.borovicka@nyu.edu
Lars Peter Hansen
Department of Economics
The University of Chicago
1126 East 59th Street
Chicago, IL 60637
and NBER
lhansen@uchicago.edu

JosÃ© A. Scheinkman
Department of Economics
Columbia University
New York, NY, 10027
and NBER
joses@princeton.edu

There are several alternative ways in which one may approach the impulse problem .... One way which I believe is particularly fruitful and promising is to study
what would become of the solution of a determinate dynamic system if it were
exposed to a stream of erratic shocks that constantly upsets the continuous evolution, and by so doing introduces into the system the energy necessary to maintain
the swings. Frisch (1933)

1

Introduction

Impulse response function characterize the impact of â€œa stream of erratic shocksâ€ on dynamic economic models. They measure the consequences of alternative shocks on the future
variables within the dynamical system. These methods are routinely used in linear time
series analysis, and they can be generalized to nonlinear environments. See Gallant et al.
(1993), Koop et al. (1996), and Gourieroux and Jasiak (2005) for nonlinear extensions.
Models of asset valuation assign prices to the â€œstream of erratic shocksâ€ that Frisch references. Macroeconomic shocks by their nature are not diversifiable, and as a consequence,
exposure to them requires compensation. The familiar impulse response methods have counterparts in the study of valuation of stochastic cash flows within dynamic economic models.
BorovicÌŒka et al. (2011), Hansen and Scheinkman (2012) and Hansen (2012) study dynamic
asset pricing through altering the cash-flow exposure to shocks. Changing this exposure
alters the riskiness of the cash flow and an economic model of the stochastic discount factor gives the implied compensation. Formally, these methods construct shock-exposure and
shock-price elasticities to characterize valuation as it depends on investment horizons. The
elasticities are responses obtained by conveniently normalizing the exposure changes and
studying the impact on the logarithms of the expected returns. These are the ingredients
to risk premia, and they have a â€œterm structureâ€ induced by the changes in the investment
horizons.
As we will show, there is a close mathematical and conceptual link between what we call
shock elasticities and impulse response functions commonly used to characterize the behavior of dynamical systems. In effect the shock-price elasticities are the pricing counterparts
to appropriately scaled impulse response functions. We connect these two concepts by interpreting impulse response functions and shock elasticities as changes of measure for the
next-period shock.
In addition to delineating this connection, we show how continuous-time formulations
with Brownian motion information structures provide additional simplicity obtained by
exploiting local normality building on the Haussmannâ€“Clarkâ€“Ocone representation of a
1

stochastic integral of responses to past shock depicted as Brownian increments.

2

Basic setup

Let X be a Markov diffusion in Rn :
dXt = Âµ(Xt )dt + Ïƒ(Xt )dWt

(1)

with initial condition X0 = x. Here, Âµ(x) is an n-dimensional vector and Ïƒ(x) is an n Ã— k
matrix for each vector x in Rn . In additon W is a k-dimensional Brownian motion. We use
this underlying Markov process to construct an additive functional Y via:
Yt = Y0 +

Z

t

Î²(Xu )du +
0

Z

0

t

Î±(Xu ) Â· dWu

(2)

where Î²(x) is a scalar and Î±(x) is a k-dimensional vector.1 Thus Yt depends on the initial
conditions (X0 , Y0) = (x, y) and the innovations to the Brownian motion W between dates
zero and t. Let {Ft : t â‰¥ 0} be the (completed) filtration generated by the Brownian motion.
In what follows we will not explore the consequences of the initial condition Y0 = y, and we
will drop reference to y in our notation. The shock elasticities that we will formulate do not
depend on this initialization.
When building models of economic time series, researchers typically work in logarithms.
We think of Y as such a model, which by design can capture arithmetic growth that is
stochastic in nature. Our interest in asset pricing will lead us to study exponentials of
.
additive functionals. We call the process M = exp(Y ) a multiplicative functional and use it
to model levels of cash flows and stochastic discount factors.
To construct an impulse response function, consider for the moment a discrete-time
counterpart indexed by the length of the time period Ï„ and constructed using normally
distributed shocks:
Ï„
Xt+Ï„
âˆ’ XtÏ„ = Âµ (XtÏ„ ) Ï„ + Ïƒ (XtÏ„ ) âˆ†Wt+Ï„

(3)

Ï„
Yt+Ï„
âˆ’ YtÏ„ = Î² (XtÏ„ ) Ï„ + Î± (XtÏ„ ) Â· âˆ†Wt+Ï„ .

.
where âˆ†Wt+Ï„ = Wt+Ï„ âˆ’ Wt and t âˆˆ {0, Ï„, 2Ï„, . . .}. For convenience we may think of Ï„ = 2âˆ’j

as a sequence of embedded refinements for a continuous-time approximation realized when j
becomes arbitrarily large. Whenever we use the time index t in a discrete-time model with
1

Notice that our definition of additive functional allows for processes of unbounded variation.

2

period length Ï„ , we have in mind t âˆˆ {0, Ï„, 2Ï„, . . .}.

3

Impulse response functions in discrete time

An impulse response quantifies the impact of a shock, âˆ†WÏ„ = w, on future values of Yt . One
way to construct the impulse response function is to compute
Î¦(t, x, w) = E [Ï†(Yt )|X0 = x, âˆ†WÏ„ = w]

(4)

for alternative functions Ï† of Yt and explore the consequences of changing a basic distribution
Q(w) to a â€œperturbedâ€ distribution QÎ· (w). That is, we evaluate:
Z

Î·

Î¦(t, x, w)Q (dw|x) âˆ’

Z

Î¦(t, x, w)Q(dw).

(5)

The multiplicative functional M is one example of a function Ï† (Â·), and we will denote the
conditional expectation (4) for such a multiplicative functional as Î¦m .
While the baseline distribution, Q, for the initial shock is normal with mean zero and
covariance matrix Ï„ I, we may, for example, construct the perturbed distribution QÎ· to
explore implications of mean shifts. In this case QÎ· is a normal distribution with mean
Î·(x), which is very similar to the suggestion of Gallant et al. (1993). Changing Î· reveals the
sensitivity of the predicted response to changes in the different components of âˆ†WÏ„ .2
Alternatively we may condition on âˆ†WÏ„ = Î·(x) and study the response
Î¦(t, x, Î·(x)) âˆ’

Z

Î¦(t, x, w)Q(dw).

(6)

This follows an approach proposed by Koop et al. (1996) and corresponds to measuring the
response of Î¦ to the new information contained in the realization Î·(x) of the shock âˆ†WÏ„
and exploring changes in Î·(x). Mathematically, this calculation is equivalent to letting QÎ·
assign probability one to a single value w = Î· (x). That is, QÎ· (dw|x) = Î´ [w âˆ’ Î·(x)] where
Î´(Â·) is the Dirac delta function.
The impulse response defined in (5) generally does not scale linearly with the magnitude
2

Gallant et al. (1993) consider an impulse to the state variable, say X0 , but we can construct an analog
using an impulse to the initial period shock. For a shock Î·, they construct
Î¦(t, x, w + Î·) âˆ’ Î¦(t, x, w),
and in much of their analysis, they form averages as in (5) except that they also integrate over the initial
state x.

3

of Î·(x), so the magnitude of the impulse matters. This leads us to construct a marginal
response. Consider a family of QÎ·r (dw|x) of distributions indexed by the scalar parameter r,
where QÎ·r is normal with mean rÎ·(x). We construct a marginal response by differentiating
with respect to r:
d
dr

Z

Î¦(t, x, w)QÎ·r (dw|x)
r=0

= Î·(x) Â·

Z

Î¦(t, x, w)wQ(dw).

(7)

which is linear in the direction Î·(x).
With any of these approaches, by freely altering Ï†, we trace out distributional responses
of Yt to a change in the distribution of the shock âˆ†WÏ„ , which is consistent with suggestions
in Gourieroux and Jasiak (2005).3 Our interest lies in the continuous-time formulation. We
show that in this case, the three constructed responses (5)â€“(7) coincide.

Shock elasticities in discrete time

4

In understanding how economic models assign values to exposures to uncertainty, we construct elasticities to changes in shock exposures. While modeling stochastic growth in terms
of logarithms of economic time series is common and convenient, our interest is in asset
valuation, and this leads us to an alternative but related formulation. Let G be a stochastic
growth process typically representing a cash flow to be priced and S a stochastic discount
factor process. We construct log G and log S in the same manner as our generic construction of the additive functional Y described previously in equation (2). The processes G and
S are referred to as multiplicative as they are exponentials of additive functionals. They
model stochastic compounding in growth and discounting in ways that are mathematically
convenient. They have a common mathematical structure as does their product.
We consider both shock-exposure elasticities and shock-price elasticities. These measure
the consequences of changing the exposure to a shock on hypothetical asset payoffs and
prices over alternative investment horizons. As we will see, these shock elasticities resemble
closely impulse response functions, but they are different in substantively important ways.
3

Gourieroux and Jasiak (2005) propose a formula similar to (5) and suggest other impulses than mean
shifts, including changes in the volatility of the initial-period shock. See their formula in the middle of page
11, and the second last paragraph of their section 3.2.

4

4.1

Changing the exposure

First, we explore the impact of changing the risk exposure by letting Y = log G and introducing the random variable



1
2
HÏ„ = exp Î·(X0 ) Â· âˆ†WÏ„ âˆ’ |Î·(X0)| .
2

(8)

This random variable has conditional mean one conditioned on X0 . Note that


1
2
Gt HÏ„ = exp log Gt + Î·(X0 ) Â· âˆ†WÏ„ âˆ’ |Î·(X0)| .
2
We thus use HÏ„ to increase the exposure of the stochastic growth process G to the nextperiod shock âˆ†WÏ„ in the direction Î· (x). The direction vector is normalized to satisfy


E |Î· (X0 )|2 = 1.

Our interest lies in comparing expected cash flows for cash flow processes with different
exposures to risk. Motivated by the construction of elasticities, we focus on the proportional
impact of changing the exposure expressed in terms of the ratio
E [Gt HÏ„ | X0 = x]
E [Gt | X0 = x]
or expressed as the difference in logarithms
log E [Gt HÏ„ | X0 = x] âˆ’ log E [Gt | X0 = x] .
For a marginal counterpart of this expression, we localize the change in exposure by

considering a family of random variables parameterized by a â€˜perturbationâ€™ parameter r:



1 2
2
HÏ„ (r) = exp rÎ·(X0 ) Â· âˆ†WÏ„ âˆ’ r |Î·(X0 )| .
2

(9)

Following BorovicÌŒka and Hansen (2013) we construct the derivative
d
log E [Gt HÏ„ (r) | X0 = x]
dr

r=0

= Î·(x) Â·

E [Gt âˆ†WÏ„ | X0 = x]
E [Gt | X0 = x]

that represents the proportional change in the expected cash flow to a marginal increase in
the exposure to the shock âˆ†WÏ„ in the direction Î· (x). This leads us to label this derivative
a shock-exposure elasticity for the cash flow process G. This elasticity depends both on the
maturity of the cash flow t as well as on the current state X0 = x.
5

4.1.1

A change of measure interpretation

The construction of the shock-exposure elasticity has a natural interpretation as a change of
measure that provides a close link to the impulse response functions that we delineated in
Section 3. Multiplication of the stochastic growth process G by the positive random variable
HÏ„ constructed in (8) prior to taking expectations is equivalent to changing the distribution
of âˆ†WÏ„ from a normal Q with mean zero and covariance Ï„ I to a normal QÎ· with mean Î·(x)
and covariance Ï„ I. As a consequence,
E [Gt HÏ„ |X0 = x] =

Z

Î¦gh (t, x, w)Q(dw) =

(10)

= E [E [Gt | âˆ†WÏ„ ; X0 = x] HÏ„ |X0 = x] =

Z

Î¦g (t, x, w)QÎ· (dw|x)

where the function Î¦g is defined as in (4) with Ï†(Yt ) = exp(Yt ) = Gt . The first row in
expression (10) uses the baseline Q distribution for âˆ†WÏ„ . On the other hand, in the second
row of (10) we use the perturbed distribution QÎ· distribution as a computational device to
alter the risk exposure of the process G.
Expression (10) relates the shock-exposure elasticity to the nonlinear impulse response
functions. We compute shock elasticities by altering the exposure of the stochastic growth
process G to the shock âˆ†WÏ„ , or, equivalently, by changing the distribution of this shock.
Since we are interested in computing the effects of a marginal change in exposure, we
use the family HÏ„ (r) from equation (9) to define a family of measures QÎ·r as in (7). The
shock-exposure elasticity can then be computed as
d
log
dr
4.1.2

Z

Î¦g (t, x, w)QÎ·r (dw|x)

A special case

R
Î¦g (t, x, w)wQ(dw)
= Î·(x) Â· R
.
Î¦g (t, x, w)Q(dw)

(11)

Linear vector-autoregressions (VARs) are models (3) with parameters that satisfy
Âµ (x) = ÂµÌ„x

Ïƒ (x) = ÏƒÌ„

Î² (x) = Î²Ì„ Â· x

Î± (x) = Î±Ì„

X is a linear vector-autoregression with autoregression coefficient ÂµÌ„Ï„ + I and shock exposure
matrix ÏƒÌ„. Let Î·(x) = Î·Ì„ where Î·Ì„ is a vector with norm one. The (the scalar product is not
a vector) impulse response function of Yt where t = jÏ„ for the linear combination of shocks

6

chosen by the vector Î·Ì„ is given by
E [Yt | X0 = x, âˆ†WÏ„ = Î·Ì„] âˆ’ E [Yt | X0 = x] = ÎºÌ„j Â· Î·Ì„.

(12)

where
ÎºÌ„j+1 = ÎºÌ„j + Ï„ Î²Ì„ Î¶Ì„j
Î¶Ì„j+1 = (I + Ï„ ÂµÌ„) Î¶Ì„j
with initial conditions Î¶Ì„1 = ÏƒÌ„ and ÎºÌ„1 = Î±Ì„. Thus
Î¶Ì„j = (I + Ï„ ÂµÌ„)jâˆ’1 ÏƒÌ„

h
i â€²
ÎºÌ„j = Î±Ì„ + ÂµÌ„âˆ’1 (I + Ï„ ÂµÌ„)jâˆ’1 âˆ’ I ÏƒÌ„ Î²Ì„
The first term, Î±Ì„ Â· Î·Ì„, represents the â€œinstantaneousâ€ impact arising from the current shock,

while the second term captures the subsequent propagation of the shock through the dynamics of the model.

Now consider the shock elasticity for the multiplicative functional G = exp(Y ). Using
the formula for the expectation of a lognormal random variable, we have


Î¦g (t, x, w)
1
2
R
= exp âˆ’ |ÎºÌ„j | + ÎºÌ„j Â· w .
2
Î¦g (t, x, v)Q(dv)

Using formula (11), we obtain the shock-exposure elasticity for G:
Î·Ì„ Â·

Z





w
1 â€²
1
2
âˆš
exp âˆ’ |ÎºÌ„j | + ÎºÌ„j Â· w exp âˆ’ w w = Î·Ì„ Â· ÎºÌ„j
2
2
2Ï€n

Thus for a linear model, our shock-exposure elasticity for G coincides with the linear impulse response function for Y = log G, with the direction vector Î·Ì„ selecting a particular
combination of shocks in âˆ†WÏ„ .

4.2

Pricing the exposure

Given our interest in pricing we are led to the study of the sensitivity of expected returns
to shocks. We will utilize the family of cash flows Gt HÏ„ (r) indexed by the perturbation
parameter r and construct a local measure of this sensitivity as the pricing counterpart of
the shock-exposure elasticity (11).
A stochastic discount factor S is a stochastic process that represents the valuation of
7

payoffs across states and time. Therefore, the value at time zero of a cash flow Gt HÏ„ (r) maturing at time t (or cost of purchasing an asset with such a payoff) is E [St Gt HÏ„ (r) | X0 = x].
Since we assume that S and G are multiplicative functionals, so is their product SG.
The logarithm of the expected return for the cash flow Gt HÏ„ (r) maturing at time t is
log E [Gt HÏ„ (r)|X0 = x] âˆ’ log E [St Gt HÏ„ (r)|X0 = x] .
log expected payoff

log cost

Since both components of the expected return are distorted by the same random variable
HÏ„ (r), we can write the (log) expected return on cash flow Gt HÏ„ (r) as
log

Z

Î¦g (t, x, w)QÎ·r (dw|x)

âˆ’ log

Z

Î¦sg (t, x, w)QÎ·r (dw|x).

We localize the change in exposure by computing the derivative of this expression with
respect to r and evaluating this derivative at r = 0. This calculation yields the discrete-time
shock-price elasticity
R
R
Î¦sg (t, x, w)wQ(dw)
Î¦g (t, x, w)wQ(dw)
âˆ’ Î·(x) Â· R
.
Î·(x) Â· R
Î¦g (t, x, w)Q(dw)
Î¦sg (t, x, w)Q(dw)

(13)

The shock-price elasticity is the difference between a shock-exposure elasticity and a
shock-cost elasticity. Locally, the impulse response for both components of the shock-price
elasticity is given by the covariance of the impulse response Î¦ with the shock âˆ†WÏ„ . In
what follows we will show how a continuous-time formulation gives us an alternative way to
localize shock exposures in a convenient way.
The shock-price elasticity for the one-period horizon has particularly simple representation and is given by:
Î·(x) Â· Î±g (x) âˆ’ Î·(x) Â· [Î±g (x) + Î±s (x)] = Î·(x) Â· [âˆ’Î±s (x)]
In this formula the entries of âˆ’Î±s (x) give the vector of â€œpricesâ€ assigned to exposures of

each of the entries of âˆ†WÏ„ . These entries are often referred to as the (local) price of risk.
Our shock-price elasticity function captures the term structure of the price of risk, in the
same was as an impulse response function captures the dynamic adjustment of an economy
over time in response to a shock.
In the special case of a log normal model discussed in Section 4.1.2, we can construct a
model of the stochastic discount factor S = exp(Y ). In this case, the linearity of the results
implies that the shock-price elasticity (13) will correspond to the impulse response function
8

for âˆ’ log S.

5

Returning to continuous time

By taking continuous-time limits, we achieve some simplicity given the Brownian motion
information structure. In this section, we proceed informally to provide economic intuition.
A more formal treatment follows in Section 6.
Given a Markov diffusion X such as (1), the Malliavin derivative D0 Xt allows us to
examine the contribution of a shock dW0 to the value of that diffusion at time t > 0. We
calculate the Malliavin derivative recursively by computing what is called the first variation
process associated to the diffusion.4 The first variation process for X is an n Ã— n-dimensional
process Z x that solves a linear stochastic differential equation obtained by differentiating the
coefficients:
dZtx





k 
X
âˆ‚
âˆ‚
x
=
Âµ(Xt ) Zt dt +
[Ïƒ (Xt )]Â·i Ztx dWi,t
â€²
âˆ‚xâ€²
âˆ‚x
i=1

(14)

where [Ïƒ (x)]Â·i is the i-th column of Ïƒ (x) and Wi is the i-th component of the Brownian
motion. The initial condition for the first variation process is Z0X = In . Further,
D0 Xt = Ztx Ïƒ (x) ,
where X0 = x is the initial condition. This result is a reflection of the linearity of the
differential equation (14) and captures the scaling of the â€œinitial responseâ€ of X to the shock
dW0 by the instantaneous volatility Ïƒ (x).
The construction of the Malliavin derivative can be extended to the additive functional
Y . Since (X, Y ) form a Markov diffusion, and the coefficients in this Markov diffusion are
independent of Y , we obtain a 1 Ã— n process Z y that satisfies:
dZty



k 
X
âˆ‚
âˆ‚
x
Î²(Xt ) Zt dt +
Î± (Xt ) Ztx dWi,t
=
â€² i
âˆ‚xâ€²
âˆ‚x
i=1


(15)

with initial condition Z0y = 01Ã—n . Consequently, the Malliavin derivative of Y is an 1 Ã— n

vector given by

D0 Yt = Zty Ïƒ (x) + Î± (x)â€²
where Î± (x) represents the initial contribution of the shock Î·(x) Â· dW0 to Yt and Zty Ïƒ (x) Î·(x)
4

See e.g. Property P2 on page 395 of FournieÌ et al. (1999). FournieÌ et al. (1999) assume that the diffusion
coefficients have bounded derivatives, which is not verified in this example. A precise justification would
require extending their theorem to our setup.

9

captures the propagation of the shock through the dynamics of the state vector X.
When conditional mean coefficients (Âµ, Î²) are linear in state vector, and the exposure
coefficients (Ïƒ, Î±) on the Brownian increment are constant and the Î· vector is constant, the
Malliavin derivatives only depend on the date zero state and not on the Brownian increments
that follow. In this case the Malliavin derivative calculations will yield the continuous time
counterpart to the calculations in Section 4.1.2. More generally, the Malliavin derivatives
depend on the Brownian increments. We could compute the â€œaverageâ€ responses using
Î¦y (t, x) = Î·(x) Â· E [D0 Yt | X0 = x]
for t â‰¥ 0 which still depends on the initial state x but not on the Brownian increments.
We have featured Î· as a device for selecting which (conditional) linear combination of
increments to target for the response function Î¦y . In fact, Malliavin derivatives are typically
computed by introducing drift distortions for the Brownian increment vector dW0 . Thus an
equivalent interpretation of the role of Î· in computation of Î¦y is that of a date zero drift
distortion, the counterpart to the mean shift for a normally distributed random vector that
we used in our discrete-time constructions.
Since we are interested in the process M = exp(Y ), averaging the random responses of
log M will not be of direct interest in our analysis of elasticities. This leads us to modify our
calculation of average responses.
The Malliavin derivative of the function of a process Ut = Ï†(Yt ) is well defined provided
the function Ï† is sufficiently regular. In this case we may use a â€œchain-ruleâ€,
Du Ut = Ï†â€² (Yt )Du Yt .
The function Ï† = exp is of particular interest to us since M = exp(Y ). For the shock
Î·(x) Â· dW0 ,

D0 Mt Î·(x) = exp(Yt )D0 Yt Î·(x)

gives the date t distributional response of Mt to the date zero shock Î·(x) Â· dW0 .
Next we construct a nonlinear counterpart to a moving-average representation, which for a
continuous-time diffusion is the Haussmannâ€“Clarkâ€“Ocone representation. The Haussmannâ€“
Clarkâ€“Ocone representation uses Malliavin derivatives to produce a â€œmoving-averageâ€ representation of M with state-dependent coefficients and typically expressed as:
Mt =

Z

0

t

E [Du Mt | Fu ] Â· dWu + E[Mt ].

10

(16)

Many of the random variables we consider depend on X0 = x along with the Brownian
motion W , including random variables on both sides of (16). We hold X0 = x fixed for the
calculation of the Malliavin derivatives, and rewrite equation (16) as:
Mt =

Z

t
0

E [Du Mt | Fu , X0 = x] Â· dWu + E[Mt | X0 = x].

(17)

The notation E[ Â· | X0 = x] should remind readers that the computation of the expectation
over the function of the Brownian motion depends on the choice of initial conditions.
This convenient result represents Mt as a response to shocks with â€œrandom coefficientsâ€
E [Du Mt | Fu , X0 = x] that are adapted to Fu whereas in linear time series analysis these

coefficients are constant. With representation (17), a continuous-time analogue to the impulse response functions computed in Section 3 measures the impact on Ï†(Yt ) of a â€œshockâ€
dW0 :
Î¦m (t, x) = Î·(x) Â· E [exp(Yt )D0 Yt | X0 = x] ,

(18)

for t â‰¥ 0. The term D0 Yt can be computed using the recursive calculations outlined above.

The weighting by the nonstationary process M = exp(Y ) may be important, because M
grows or decays stochastically over time.
Next we consider shock elasticities in continuous time. In this paper we build these
elasticities in a way that is consistent with those given in BorovicÌŒka et al. (2011), but we
derive them in a more direct way.5 In Section 6 we will show that the elasticities of interest

can be expressed as
Îµ(t, x) = Î·(x) Â·

E [exp(Yt )D0 Yt | X0 = x]
E [exp(Yt ) | X0 = x)

(19)

where Y = log G in the case of an shock exposure elasticity and Y = log S + log G in the
case of a cost elasticity. The numerator is the same as the impulse response for exp(Yt )
given in (18). Consistent with our interest in elasticities, we divide by the conditional
expectation of exp(Yt ). In accordance with this representation, the elasticities we justify are
weighted averages of the impulse responses for Y weighted by exp(Y ). Asymptotic results
for t â†’ âˆ can be obtained using a martingale decomposition of the multiplicative functional
M analyzed in Hansen and Scheinkman (2009).
A shock price elasticity is given by the difference between an exposure elasticity and a
5

BorovicÌŒka et al. (2011) consider responses over finite investment intervals and introduce a separate
parameter that localizes the risk exposure. Similarly, BorovicÌŒka and Hansen (2013) use a discrete time
economic environment and again introduce a parameter that localizes the risk. Here we avoid introducing an
additional parameter by letting the continuous-time approximation localize the risk exposure over arbitrarily
short time intervals. In Section 8 we elaborate on the connection between calculation in this paper and our
previous work BorovicÌŒka et al. (2011).

11

cost elasticity:
Î·(x) Â·

E [Gt (D0 log Gt ) | X0 = x]
E [St Gt (D0 log St + D0 log Gt ) | X0 = x]
âˆ’ Î·(x) Â·
E [Gt | X0 = x]
E [St Gt | X0 = x]

(20)

In a globally log-normal model D0 log Gt and D0 log St depend on t but are not random,

and the weighting by either Gt or by St Gt is of no consequence. Moreover, in this case
the shock price elasticities can be computed directly from the impulse response function
for âˆ’ log S to the underlying shocks since the expression in (20) is equal to âˆ’D0 log St . The
resulting elasticities are the continuous time limits of the results from the log-normal example
introduced in Section 4.1.2.

Instead of computing directly the Malliavin derivatives, there is a second approach that
sometimes gives a tractable alternative to computing the coefficients of the Haussmannâ€“
Clarkâ€“Ocone representation for M. This approach starts by computing E [Mt | X0 = x] and
then differentiating with respect to the state:
Ïƒ (x)â€²

âˆ‚
E [Mt | X0 = x] .
âˆ‚x

The premultiplication by Ïƒ (x)â€² acts as a measure of the local response of X to a shock. As
in BorovicÌŒka et al. (2011) expression (19) can be written as6


â€² âˆ‚
Îµ(t, x) = Î·(x) Â· Î± (x) + Ïƒ (x)
log E [Mt | X0 = x] .
âˆ‚x

(21)

This result separates the â€˜instantaneousâ€™ effect of the change in exposure, Î± (x), from the
impact that propagates through the nonlinear dynamics of the model, expressed by the
second term in the bracket. In case of the shock-price elasticity, Î± (x) corresponds to the
local price of risk.

6

Formal construction of shock elasticities

To construct the elasticities that interest us, we â€œperturbâ€ the cash flows in alternative ways.
Let N Ï„ be
NtÏ„
We impose
6

=

Z

Ï„ âˆ§t
0

Î·(Xu ) Â· dWu .



E |Î·(X0 )|2 = 1

For example see the formulas (5) and (6) and the discussion in Section 4 provided in BorovicÌŒka et al.
(2011).

12

when X is stationary and X0 is initialized at the stationary distribution. While the finite
second moment condition is a restriction, our choice of unity is made as a convenient normalization. We impose this second moment restriction to insure that N Ï„ has a finite variance
Ï„ for t â‰¥ Ï„ . We use the vector Î· to select alternative risk exposures. Let E(N Ï„ ) denote the
stochastic exponential of N Ï„ :
HtÏ„



1 Ï„ Ï„
Ï„
= Et (N ) = exp Nt âˆ’ [N , N ]t =
2
Z Ï„ âˆ§t

Z
1 Ï„ âˆ§t
2
= exp
Î·(Xu ) Â· dWu âˆ’
|Î·(Xu )| du .
2 0
0
Ï„

Our assumption that X is stationary with a finite second moment guarantees that the process
H Ï„ as constructed is a local martingale. We will in fact assume that the stochastic exponentials of the perturbations N Ï„ are martingales. This normalization will be of no consequence
for our shock price elasticity calculations, but it is a natural scaling in any event.
Form the perturbed payoff GH Ï„ . This payoff changes the exposure of the payoff G by
altering the shock exposure of log Gt to be
Z

0

t

Î±g (Xu ) Â· dWu +

Z

0

Ï„

Î·(Xu ) Â· dWu

for Ï„ < t. This exposure change is small for small Ï„ . Construct the logarithm of the expected
return:
Îµp (Ï„, t, x) = log E [Gt HtÏ„ |X0 = x] âˆ’ log E [St Gt HtÏ„ |X0 = x] .
log expected payoff
log cost
Note that
Îµp (Ï„, t, x) = Îµe (Ï„, t, x) âˆ’ Îµc (Ï„, t, x)
where
Îµe (Ï„, t, x) = log E [Gt HtÏ„ |X0 = x]

Îµc (Ï„, t, x) = log E [Gt St HtÏ„ |X0 = x] .

We will calculate derivatives of Îµe and Îµc to compute a shock price elasticity. The first of
these derivatives is a shock exposure elasticity.
We use H Ï„ to change the exposure to uncertainty. Since H Ï„ is a positive martingale with
a unit expectation, equivalently it can be used as a change in probability measure. Under
this interpretation, think of Î·(Xt ) as being a drift distortion of the Brownian motion W .

13

Then
dWt =

(

ft 0 â‰¤ t â‰¤ Ï„
Î·(Xt )dt + dW
ft
dW
t>Ï„

f is a Brownian motion under the change of measure. This gives an alternative
where W
interpretation to our calculations and a formal link to Malliavin differentiation. Bismut
(1981) uses the change of measure to perform calculations typically associated with Malliavin
differentiation.

It what follows we will shrink the interval Ï„ to focus on the instantaneous change in
exposure, which we can think of equivalently as an instantaneous drift distortion in the
Brownian motion.

6.1

Haussmannâ€“Clarkâ€“Ocone formula

To characterize the derivatives of interest, we apply the Haussmannâ€“Clarkâ€“Ocone formula
(17) to M = G or M = SG and represent Mt as a stochastic integral against the underlying
Brownian motion. The vector of state dependent impulse response functions for Mt for the
date zero Brownian increment is E [D0 Mt |X0 = x] when viewed as a function of t. This

averages over the random impacts in the future but still depends on X0 = x.
We will also use the following result that is a consequence of Proposition 5.6 in Ã˜ksendal
(1997):
Du E (Mt |FÏ„ , X0 = x) = E (Du Mt |FÏ„ , X0 = x) 1[0,Ï„ ] (u).

6.2

(22)

Computing shock elasticities

Fix X0 = x and Ï„ â‰¤ t. The Haussmannâ€“Clarkâ€“Ocone formula (17) implies that:
E [E(Mt |FÏ„ , X0 =

x)HtÏ„ |X0

 Z t

Ï„
= x] = E HÏ„
E (Du E(Mt |FÏ„ )|Fu , X0 = x) Â· dWu |X0 = x
0

+E [HÏ„Ï„ E(E(Mt |FÏ„ )|X0 = x)|X0 = x] .

Hence, using equation (22),
E

(Mt HtÏ„ |X0

= x) = E



HÏ„Ï„

Z

Ï„
0


E (Du Mt |Fu , X0 = x) Â· dWu |X0 = x + E (Mt |X0 = x)

14

for t â‰¥ Ï„ . Under the change of measure implied by H Ï„ ,
E

(Mt HtÏ„ |X0

e
= x) = E

Z

Ï„

0


Zu Â· Î·(Xu )du|X0 = x + E (Mt |X0 = x)

e is the expectation under the change in probability measure and
where E
Zu = E (Du Mt |Fu , X0 = x) .

We compute the derivative with respect to Ï„ at Ï„ = 0 by evaluating:


 Z Ï„
Z Ï„
1
1e
Ï„
lim E HÏ„
E (Du Mt |Fu , X0 = x) Â· dWu |X0 = x = lim E
Zu Â· Î·(Xu )du|X0 = x
Ï„ â†“0 Ï„
Ï„ â†“0 Ï„
0
0
= Z0 Â· Î·(x)
= E (D0 Mt |X0 = x) Â· Î·(x)
= E [Mt (D0 log Mt ) |X0 = x] Â· Î·(x)
where the last line follows from the formula:
D0 Mt = Mt D0 log Mt .
For globally log normal models D0 log Mt depends only on t and not on random outcomes,

but more generally D0 log Mt is random.
Since our aim is to compute elasticities, the actual differentiation that interest us is the
derivative of the logarithm of the conditional expectation:
Îµm (t, x) = Î·(x) Â·



E [Mt (D0 log Mt ) |X0 = x]
E [Mt |X0 = x]



.

Thus the elasticities are weighted averages of D0 log Mt weighted by Mt .
Remark 6.1. While our focus has been on shock elasticities and impulse response functions,
there is also a nice connection to a temporal dependence measure suggested by Wu (2005).
His predictive dependence measure is based on the expected consequences of changing shock
distributions through a coupling. His measure is constructed in discrete time, but the L2
version of the continuous-time analog for the stochastic formulation we use is
Ï‰(Ï„ ) =

p

2E [|D0 log Mt |2 ].

(23)

It is perhaps best to think of Wu (2005)â€™s analysis as directly applying to the X process. But
15

his aim is to use these measures to study when central limit approximations are appropriate.
In fact the additive functional log M will often obey a Central Limit Theorem and the finite
limiting behavior of Ï‰(Ï„ ) as Ï„ â†’ âˆ in (23) suggests that standard martingale approximation
methods are applicable.

7

Example: Persistent components in consumption dynamics

We illustrate the construction of shock elasticities using an example featured in BorovicÌŒka
et al. (2011). We outline two calculations. First, we utilize the construction of the Malliavin
derivative D0 Mt for the multiplicative functionals of interest using the recursive calculations

outlined in Section 5. Then we show how to compute the shock elasticities using semianalytical formulas for the conditional expectations of the multiplicative functional.

â€²
We assume the date t state vector takes the form Xtâ€² = X1,t
, X2,t where X1,t is an
n-dimensional state vector and X2,t is a scalar. The dynamics of X in (1) are specified by
Âµ (x) = ÂµÌ„(x âˆ’ Î¹)

where
ÂµÌ„ =

"

ÂµÌ„11 ÂµÌ„12
0 ÂµÌ„22

#

Ïƒ(x) =

âˆš

"

ÏƒÌ„1
ÏƒÌ„2

ÏƒÌ„ =

x2 ÏƒÌ„
#

,

(24)

ÂµÌ„11 and ÂµÌ„12 are n Ã— n and n Ã— 1 matrices, ÂµÌ„22 a scalar, and ÏƒÌ„1 and ÏƒÌ„2 are n Ã— k and

1 Ã— k matrices, respectively. In this model, X1,t represents predictable components in the
growth rate of the multiplicative functional, and X2,t captures the contribution of stochastic
volatility. The vector Î¹ is specified to be the vector of means in a stationary distribution. We
set the mean of X2 to be one in our calculations. The parameters of the additive functional
Y in (2) are:
âˆš
Î²(x) = Î²Ì„0 + Î²Ì„1 Â· (x âˆ’ Î¹)
Î±(x) = x2 Î±Ì„,
(25)
In the illustrative economic models, the parameters (Î±c , Î²c ) governing the evolution of the
logarithm of consumption log C and (Î±s , Î²s ) governing the evolution of the logarithm of the
stochastic discount factor log S have the functional form of (Î±, Î²) specified for Y above. We
âˆš
choose the shock selection vector Î·(x) to be Î·(x) = x2 Î·Ì„. The vector Î·Ì„ has unit norm, and
for instance can be a coordinate vector.

16

7.1

Construction of shock elasticities

The recursive construction of the Malliavin derivative applies formulas (14)â€“(15):
1
x
dZtx = ÂµÌ„Ztx dt + p
(ÏƒÌ„dWt ) Z2,t
2 X2,t
1
x
dZty = Î²Ì„1â€² Ztx dt + p
Z2,t
(Î±Ì„ Â· dWt ) .
2 X2,t

x
Recall that X2,t is the last entry of Xt . Accordingly, the row vector Z2,t
is the last row of
y
the first variation matrix Ztx . The initial conditions are Z0x = I and Z0 = 0. The Malliavin

derivatives for each t â‰¥ 0 is the 1 Ã— k vector:
D0 Y t =

âˆš

x2 (Zty ÏƒÌ„ + Î±Ì„â€² ) .

In the state dynamics, the X2 process does not feedback onto the X1 process. The
stochastic differential equation for the X2 process can thus be solved without simultaneously
solving for the X1 process. It follows from this â€œtriangularâ€ structure that the first n elements
x
of the vectors Z2,t
and Zty are zero. Consequently, the first n elements of the first variation
process Z y are deterministic functions of time. In contrast to a log-linear environment,
the last columns of processes Z x and Z y used to construct the Malliavin derivatives now
depend on the Brownian motion because of the role of the stochastic volatility in the state
dynamics. One strategy for computation is to simulate simultaneously (X, Y, Z x , Z y ) and to
approximate conditional expectations using Monte Carlo techniques.7
For this parameterization the other approach mentioned in Section 5 is tractable because
we know the functional form for E [Mt | X0 = x] in formula (21). Results from Duffie and
Kan (1994) and Hansen (2012) show that under appropriate parametric restrictions
log E [Mt | X0 = x] = Î¸0 (t) + Î¸1 (t) Â· x1 + Î¸2 (t) x2

(26)

where the coefficients Î¸i (t) satisfy a set of ordinary differential equations given in Appendix A. Given this formula, we may directly compute the coefficients for the Haussmanâ€“
Clarkâ€“Ocone representation, and thus
Îµ (x, t) = Î· (x) Â· [ÏƒÌ„1â€² Î¸1 (t) + ÏƒÌ„2â€² Î¸2 (t) + Î±Ì„]
7

âˆš

x2 .

(27)

For longer investment horizons, it would likely be beneficial to change probability measures using, for
instance, the martingale featured in Hansen and Scheinkman (2009). Such an approach could better center
the simulations. It could build on method for rare event simulation, which could be valuable here because
the M process grows or decays asymptotically at an exponential rate.

17

7.2

Comparing two example economies

We compare two specifications of investorsâ€™ preferences. The first specification (BL) endows
the representative investor with time-separable, constant relative risk aversion utility as in
Breeden (1979) and Lucas (1978). The stochastic discount factor for the investor is given by
d log St = âˆ’Î´dt âˆ’ Î³d log Ct = âˆ’ [Î´ + Î³Î²c (Xt )] dt âˆ’ Î³Î±c (Xt ) Â· dWt

(28)

where Î´ is the time-preference coefficient and Î³ is the risk aversion parameter. The stochastic discount factor is thus a multiplicative functional with parameters Î²sBL (x) and Î±sBL (x)
specified in (25)
The second model of investorsâ€™ preferences (EZ) is the recursive utility specification of
the Kreps and Porteus (1978) and Epstein and Zin (1989) type, analyzed in continuous time
by Duffie and Epstein (1992). These preferences allow the separation of risk aversion to
intratemporal bets from intertemporal elasticity of substitution (IES). We will focus on the
special case of unitary IES as this case allows us to derive semi-analytical solutions.8 In this
case,
d log St = âˆ’Î´dt âˆ’ d log Ct + d log Set = Î²sEZ (Xt ) dt + Î±sEZ (Xt ) Â· dWt
(29)
where Se is a multiplicative martingale satisfying

dSet p
= X2,t (1 âˆ’ Î³) (Î±Ì„c + ÏƒÌ„1â€² vÌ„1 + ÏƒÌ„2â€² vÌ„2 ) Â· dWt
e
St

with coefficients vÌ„1 , vÌ„2 derived in Appendix A. This martingale is the additional contribution
coming from the continuation value for recursive utility. Equivalently, it can be interpreted
as a change of measure and can be motivated as a robustness adjustment for model misspecification as suggested by Anderson et al. (2003). Under plausible parameterizations, the
Brownian motion W has a negative drift under the change of measure, reflecting the risk
adjustment arising from recursive-utility or a concern for model misspecification.
A similar specification of the consumption dynamics coupled with the recursive preference
structure was utilized by Bansal and Yaron (2004), Hansen et al. (2008) and others to
generate large and volatile prices of risk. We adopt the parameterization from Hansen
et al. (2007) used in BorovicÌŒka et al. (2011) and summarized in the caption of Figure 1.
The stationary distribution for the process X2 is a gamma distribution, which allows us to
compute quartiles for shock elasticities (27) in a semi-analytical form.
8
Numerical calculations confirm that for this endowment economy, the shock elasticities are not very
sensitive to the choice of the IES parameter.

18

Consumption exposure elasticity

Consumption price elasticity

0.08

0.4

0.06

0.3

0.04

0.2

0.02

0.1

0

0

BL model
EZ model

0

50

100

150

0

Growth-rate exposure elasticity
0.8

0.06

0.6

0.04

0.4

0.02

0.2
0
Ã— 10

50
-3

100

0

150

-0.5

0.15

-1

0.1

-1.5

0.05
50

100

150

50

100

150

Volatility price elasticity
0.2

0

0

Volatility exposure elasticity

0

-2

100

Growth-rate price elasticity

0.08

0

50

0

150

maturity (quarters)

0

50

100

150

maturity (quarters)

Figure 1: Shock elasticities for the long-run risk model. Thick lines correspond to shock elasticities conditional on X2,0 = 1, the shaded areas capture quartiles for the shock elasticities
under the stationary distribution of X2 . In the top right panel, the shock-price elasticities
for the BL and EZ models coincide. Parameters are calibrated to monthly frequency, and
the elasticities are annualized. The parameterization is Î²Ì„c,0 = 0.0015, Î²Ì„c,1 = 1, Î²Ì„c,2 = 0,
ÂµÌ„11 = âˆ’0.021, ÂµÌ„12 = ÂµÌ„21 = 0, ÂµÌ„22 = âˆ’0.013, Î±Ì„c = [0.0078 0 0]â€² , ÏƒÌ„1 = [0 0.00034 0],
ÏƒÌ„2 = [0 0 âˆ’ 0.038], Î¹1 = 0, Î¹2 = 1, Î´ = 0.002, Î³ = 10.

19

Figure 1 plots the shock-exposure elasticity functions for the consumption process C
and shock-price elasticity functions for the same process in the BL and EZ models.9 We
parameterize the vectors ÏƒÌ„1 , ÏƒÌ„2 and Î±Ì„c as orthogonal, so that each component of the Brownian
motion W corresponds to an orthogonal shock to the processes X1 , X2 and C, respectively.
The zero-horizon limits of the shock elasticity functions correspond to what is known as
infinitesimal exposures and infinitesimal prices of risk. The shock-exposure elasticities are
equal to zero at t = 0 except for the consumption exposure elasticity because shocks to the
growth rate and volatility processes impact the consumption process only indirectly, through
changes in the levels of the processes X1 and X2 . While a current shock to the processes X1
or X2 will have a persistent effect on these processes which will accumulate to a nontrivial
impact on the future values of the consumption process C, the infinitesimal contribution to
C is zero.
The same logic applies to the shock-price elasticities for the BL model, since the stochastic
discount factor (28) for this model merely scales the consumption process by the negative
of the risk aversion, âˆ’Î³, and the investor thus only fears risk embedded in the consumption

process that is contemporaneous with the maturity of the cash flow. On the other hand,
the EZ model leads to nonzero shock-price elasticities even at the zero horizon. When
an investor endowed with EZ preferences evaluates the risk embedded in the consumption

process, he also fears the impact of the current shock on the consumption process beyond her
investment horizon. The recursive nonseparable preference structure (29) of the EZ model,
explained in detail in Appendix A, leads to a compensation for risk over an infinitesimal
horizon induced by fluctuations in future consumption realizations. The growth-rate and
volatility shocks thus generate nonzero infinitesimal price elasticities through their impact
on future consumption levels.
The consumption exposure elasticity measures the sensitivity of expected consumption
to a direct shock to the consumption process. The elasticity function is flat, reflecting the
fact that Î±Ì„c Â· dWt is an iid growth shock to the consumption process. The shaded area
represents the quartiles of the stationary distribution of the elasticity function, and captures
the dependence of the magnitude of the response on the current volatility level x2 .
On the other hand, the growth-rate exposure elasticity, which represents the shock to the
process X1 , builds up over time, as the perturbation of the persistent growth rate accumulates
in the level of the consumption process. For the volatility exposure elasticity, the negative
9

The shock-price elasticity for this parameterization of the consumption dynamics ceases to exist for long
investment horizons for risk aversion coefficients Î³ > Î³Ì„ BL âˆ¼ 20 in the BL model due to the non-existence
of the conditional expectation E[St Ct | X0 = x]. Similarly, the shock-price elasticity function does not exist
in the EZ model for Î³ > Î³Ì„ EZ âˆ¼ 24 due to the non-existence of the continuation value for the recursive
preference structure. For details, see Appendix A.

20

coefficient in ÏƒÌ„2 implies that a positive shock reduces the volatility of the consumption proces
and, because of Jensen inequality, decreases the expected level of future consumption.
The right column in Figure 1 displays the shock-price elasticity functions for the BL and
EZ models. As explained before, the shock-price elasticities for the BL model approximately
correspond to the shock-exposure elasticities for the consumption process scaled by the risk
aversion coefficient Î³. Moreover, the consumption price elasticities coincide for the BL and
EZ models. Consequently, the differences in asset pricing implications of the two models
must arise from exposure to the growth-rate and volatility shocks, which have predictable
components. The nonseparability in the EZ preference specification is inconsequential for
iid growth rate shocks.
The EZ model produces shock-price elasticity functions that are roughly flat and converge
to long-term limits that are lower than those for the BL model with the same value of the risk
aversion parameter. The flatness is caused by the fact that the martingale component (29)
in the EZ stochastic discount factor is the dominant source of its volatility. The long-horizon
shock elasticities in the two models coincide in the limit as the time preference coefficient Î´
declines to zero. In the EZ model, the volatility of the stochastic discount factor depends on
the magnitude of the continuation values, and a decline in time discounting magnifies these
continuation values, so that shock-price elasticities increase.

8

Implications for changes over finite horizons

Our earlier work, Hansen (2012) and Hansen and Scheinkman (2012), took a different limit.
We considered â€œsmallâ€ exposures over an entire interval. We investigate again this formulation and study the relationship between these approaches.
Consider
Z
Ï„ âˆ§t

NtÏ„

(r) = r

Î·(Xu ) Â· dWu

0

and the stochastic exponential:
HtÏ„ (r) = Et (N Ï„ (r)) .
This is a generalization of the perturbation HtÏ„ introduced in Section 6. The scalar r parameterizes the magnitude of the exposure. For t â‰¥ Ï„ write heuristically,
E

(Mt HtÏ„

 Z
(r) | X0 = x) = E Mt

0

21

Ï„

HuÏ„

(r)



dHuÏ„ (r)
HuÏ„ (r)




| X0 = x .

Apply Law of Iterated Expectations and first compute
1
lim
vâ†“0 v

 


Ï„
Mt Hu+v
(r)
Ï„
Ï„
E
| Xu Mu Hu (r) âˆ’ E [Mt Hu (r) | Xu ] =
Mu HuÏ„ (r)
= rÎµm (t âˆ’ u, Xu )E [Mt | Fu ] HuÏ„ (r) .

Thus
E

(Mt HtÏ„



(r) X0 = x) = rE Mt

Z

Ï„
0

Îµm (t âˆ’

u, Xu )HuÏ„


(r) du | X0 = x .

(30)

(31)

Instead of localizing Ï„ , Hansen and Scheinkman (2012) differentiate the logarithm of the
expression on the right-hand side with respect to r and evaluate the derivative at r = 0. This
results in:
 RÏ„

E Mt 0 Îµm (t âˆ’ u, Xu )du | X0 = x
E [Mt | X0 = x]
consistent with the formula given in BorovicÌŒka et al. (2011). The resulting shock price
elasticity is:
 RÏ„



RÏ„
E Gt 0 Îµg (t âˆ’ u, Xu )du | X0 = x
E St Gt 0 Îµs+g (t âˆ’ u, Xu )du | X0 = x
âˆ’
.
E [Gt | X0 = x]
E [St Gt | X0 = x]
Thus we have shown that the implied interval Ï„ elasticity is constructed from weighted
averages of integrals of the continuous-time elasticities when we localize the risk over this
interval by making r small.

9

Conclusion

Impulse response functions are commonly used in economic dynamics. They measure the
impact of shocks on endogenously determined and exogenously specified processes in a dynamical system. We study continuous-time, nonlinear counterparts by building on the statedependent moving average representations implied by the Haussmannâ€“Clarkâ€“Ocone formula.
Structural models of macroeconomics typically include a stochastic discount factor process used to representation asset valuation. In this paper we studied pricing counterparts to
impulse response functions. We call these counterparts shock elasticities. Exposure elasticities measure how responsive future expected cash flows are to shocks and price elasticities
measure how responsive expected returns are to shocks. The shock elasticities reveal implications of stochastic equilibrium models for asset valuation. They inform us which shocks
command the largest shock prices at alternative investment horizons.
By imposing a continuous-time Brownian information structure, we localize exposures

22

and establish connections between impulse response functions and shock elasticities. It is of
interest to explore information structures that accommodate a more general class of LeÌvy
processes. In previous work, BorovicÌŒka et al. (2011), we have initiated this analysis for
special cases of jump processes. In defining elasticities we may need to adopt convenient
ways to normalize the quantity of risk other than using the standard deviation.

23

Appendix
A

Derivations for the model with predictable consumption dynamics

A.1

Model with persistent components in consumption dynamics

To derive the recursion for the parameters in the conditional expectation (26), guess a solution
E [Mt | X0 = x] = exp [Î¸0 (t) + Î¸1 (t) Â· x1 + Î¸2 (t)x2 ]
To derive equations of interest, differentiating the right-hand side with respect to time should agree
with the infinitesimal generator applied to the conditional expect ion on the left-hand side viewed
as a function of x. This relationship implies the following set of ordinary differential equations,
each with initial condition Î¸i (0) = 0:
d
Î¸1 (t) = Î²Ì„1 + (ÂµÌ„11 )â€² Î¸1 (t)
dt
d
1
2
Î¸2 (t) = Î²Ì„2 + (ÂµÌ„12 )â€² Î¸1 (t) + ÂµÌ„22 Î¸2 (t) + Î±Ì„â€² + Î¸1 (t)â€² ÏƒÌ„1 + Î¸2 (t)ÏƒÌ„2
dt
2




d
Î¸0 (t) = Î²Ì„0 âˆ’ (Î¹1 )â€² Î²Ì„1 + (ÂµÌ„11 )â€² Î¸1 (t) âˆ’ Î¹2 Î²Ì„2 + (ÂµÌ„12 )â€² Î¸1 (t) + ÂµÌ„22 Î¸2 (t) .
dt

(32)

For the case when X1 is scalar, we have

Î¸1 (t) =


Î²Ì„1 ÂµÌ„11 t
e
âˆ’1 .
ÂµÌ„11

Given the solution for Î¸1 (t), the ODE for Î¸2 (t) is a Riccati equation
d
Î¸2 (t) = q0 (t) + q1 (t) Î¸2 (t) + q2 (t) [Î¸2 (t)]2
dt
for known parameter functions q0 , q1 and q2 . Substituting
Î¸2 (t) = âˆ’

1
d
u (t)
q2 (t) u (t) dt

yields a second-order linear differential equation
0=

d2
d
u (t) + R1 (t) u (t) + R0 (t) u (t)
2
dt
dt

24

(33)

with

R1 (t) = âˆ’ÂµÌ„22 âˆ’ Î±Ì„â€² + Î¸1 (t) Ïƒ1 Ïƒ2â€²


1
1 â€²
2
2
R0 (t) =
|Ïƒ2 | Î²2 + ÂµÌ„12 Î¸1 (t) + Î±Ì„ + Î¸1 (t) Ïƒ1
2
2
While this equation does not have a closed form solution, the coefficients R1 (t) and R0 (t) converge
to constants R1âˆ and R0âˆ , respectively, as t â†’ âˆ, because Î¸1 (t) â†’ âˆ’Î²Ì„1 /ÂµÌ„11 . We can therefore

characterize the asymptotic behavior of the differential equation (33). The characteristic equation
for the local behavior of this ODE as t â†’ âˆ is
0 = z 2 + R1âˆ z + R0âˆ .

The solution to the conditional expectation E [Mt | X0 = x] will then exist only if there is a real
solution to this equation.

A.2

Value function for recursive utility

We choose a convenient choice for representing continuous values. Similar to the discussion in
Schroder and Skiadas (1999), we use the counterpart to discounted expected logarithmic utility.
dVt = Âµv,t dt + Ïƒv,t Â· dWt
The local evolution satisfies:
Âµv,t = Î´Vt âˆ’ Î´ log Ct âˆ’

1âˆ’Î³
|Ïƒv,t |2
2

When Î³ = 1 this collapses to the discounted expected utility recursion.
Let
Vt = log Ct + v(Xt )
and guess that
v (x) = vÌ„0 + vÌ„1 Â· x1 + vÌ„2 x2
We may compute Âµv,t by applying the infinitesimal generator to log C + v(X). In addition,
Ïƒv,t = Î±c (Xt ) + Ïƒ (Xt )â€²

25

âˆ‚
v (Xt ) .
âˆ‚x

(34)

Substituting into (34) leads to a set of algebraic equations


Î´vÌ„0 = Î²Ì„c,0 âˆ’ (Î¹1 )â€² Î²Ì„c,1 + ÂµÌ„11 vÌ„1 âˆ’ Î¹2 Î²Ì„c,2 + ÂµÌ„12 vÌ„1 + ÂµÌ„22 vÌ„2

Î´vÌ„1 = Î²Ì„c,1 + ÂµÌ„â€²11 vÌ„1

Î´vÌ„2 = Î²Ì„c,2 + ÂµÌ„â€²12 vÌ„1 + ÂµÌ„22 vÌ„2 +

1
(1 âˆ’ Î³) Î±Ì„c + ÏƒÌ„1â€² vÌ„1 + ÏƒÌ„2â€² vÌ„2
2

2

which can be solved for the coefficients vÌ„i . The third equation is a quadratic equation for vÌ„2 that
has a real solution if and only if
D =

h

â€² i2
ÂµÌ„22 âˆ’ Î´ + (1 âˆ’ Î³) Î±Ì„c + ÏƒÌ„1â€² vÌ„1 ÏƒÌ„2â€² âˆ’


1
2
2
â€²
â€²
â‰¥ 0.
âˆ’2 (1 âˆ’ Î³) |ÏƒÌ„2 | Î²c,2 + Âµ12 vÌ„1 + (1 âˆ’ Î³) Î±Ì„c + ÏƒÌ„1 vÌ„1
2

In particular, the solution will typically not exist for large values of Î³. If the solution exists, it is
given by
vÌ„2 =


 âˆš
âˆ’ ÂµÌ„22 âˆ’ Î´ + (1 âˆ’ Î³) (Î±Ì„c + ÏƒÌ„1â€² vÌ„1 )â€² ÏƒÌ„2â€² Â± D
(1 âˆ’ Î³) |ÏƒÌ„2â€² |2

(35)

We choose the solution with the minus sign and justify the choice in the next subsection.

A.3

Stochastic discount factor

The stochastic discount factor has two components. One that is the intertemporal marginal rate
of substitution for discounted log utility and the other is a martingale constructed from the continuation value
d log St = âˆ’ log Î´ âˆ’ d log Ct + d log Set

where Se is a martingale given by
d log Set =

p

â€²
1
2
X2,t (1 âˆ’ Î³) Î±Ì„c + ÏƒÌ„1â€² vÌ„1 + ÏƒÌ„2â€² vÌ„2 dWt âˆ’ X2,t (1 âˆ’ Î³)2 Î±Ì„c + ÏƒÌ„1â€² vÌ„1 + ÏƒÌ„2â€² vÌ„2 dt.
2

This martingale can be interpreted as a change of measure. The time-0 price of a payoff Gt maturing
at timet t satisfies

"

e exp (âˆ’Î´t)
E [St Gt | F0 ] = E



Ct
C0

âˆ’1

#

Gt | F0 .

e there exists a standard Brownian motion W
f such that
Under the change of measure induced by S,
ft = dWt âˆ’
dW

p


X2,t (1 âˆ’ Î³) Î±Ì„c + ÏƒÌ„1â€² vÌ„1 + ÏƒÌ„2â€² vÌ„2 dt

26

Substituting this relationship for the law of motion of X2 in (24) yields
dX2,t = Âµ
e22



ÂµÌ„22
X2,t âˆ’
Âµ
e22

where the mean-reversion coefficient satisfies



dt +

p

ft
X2,t ÏƒÌ„2 dW

âˆš

Âµ
e22 = ÂµÌ„22 + (1 âˆ’ Î³) ÏƒÌ„2 Î±Ì„c + ÏƒÌ„1â€² vÌ„1 + ÏƒÌ„2â€² vÌ„2 = Î´ Â± D

Therefore, the solution for vÌ„2 in equation (35) with the minus sign leads to Âµ
e22 < 0, which implies

stable dynamics for X2 . Hansen and Scheinkman (2009) provide a rigorous general justification of
this choice.

27

References
Anderson, Evan W., Lars Peter Hansen, and Thomas J. Sargent. 2003. A Quartet of Semigroups for Model Specification, Robustness, Prices of Risk, and Model Detection. Journal
of the European Economic Association 1 (1):68â€“123.
Bansal, Ravi and Amir Yaron. 2004. Risks for the Long Run: A Potential Resolution of
Asset Pricing Puzzles. Journal of Finance 59 (4):1481â€“1509.
Bismut, Jean-Michel. 1981. Martingales, the Malliavin Calculus and Hypoellipticity under General HoÌˆrmanderâ€™s Conditions. Zeitschrift fuÌˆr Wahrscheinlichkeitstheorie und verwandte Gebiete 56:469â€“505.
BorovicÌŒka, Jaroslav and Lars Peter Hansen. 2013. Examining Macroeconomic Models
through the Lens of Asset Pricing. Forthcoming in Journal of Econometrics.
BorovicÌŒka, Jaroslav, Lars Peter Hansen, Mark Hendricks, and JoseÌ A. Scheinkman. 2011.
Risk Price Dynamics. Journal of Financial Econometrics 9:3â€“65.
Breeden, Douglas T. 1979. An Intertemporal Asset Pricing Model with Stochastic Consumption and Investment Opportunities. Journal of Financial Economics 7 (3):265â€“296.
Duffie, Darrell and Larry G. Epstein. 1992. Stochastic Differential Utility. Econometrica
60 (2):353â€“394.
Duffie, Darrell and Rui Kan. 1994. Multi-Factor Term Structure Models. Philosophical
Transactions: Physical Sciences and Engineering 347 (1684):577â€“586.
Epstein, Larry G. and Stanley E. Zin. 1989. Substitution, Risk Aversion, and the Temporal
Behavior of Consumption and Asset Returns: A Theoretical Framework. Econometrica
57 (4):937â€“969.
FournieÌ, Eric, Jean-Michel Lasry, JeÌroÌ‚me Lebuchoux, and Pierre-Louis Lions. 1999. Applications of Malliavin Calculus to Monte-Carlo Methods in Finance. Finance and Stochastics
3 (4):391â€“412.
Frisch, Ragar. 1933. Propagation Problems and Impulse Problems in Dynamic Economics.
In Economic Essays in Honour of Gustav Cassel, 171â€“205. Allen and Unwin.
Gallant, A. Ronald, Peter E. Rossi, and George Tauchen. 1993. Nonlinear Dynamic Structures. Econometrica 61 (4):871â€“907.

28

Gourieroux, Christian and Joann Jasiak. 2005. Nonlinear Innovations and Impulse Responses
with Application to VaR Sensitivity. Annales dâ€™EÌconomie et de Statistique 78:1â€“31.
Hansen, Lars Peter. 2012. Dynamic Valuation Decomposition within Stochastic Economies.
Econometrica 911-967 (3). Fisher-Schultz Lecture at the European Meetings of the Econometric Society.
Hansen, Lars Peter and JoseÌ Scheinkman. 2009. Long-Term Risk: An Operator Approach.
Econometrica 77:117â€“234.
Hansen, Lars Peter and JoseÌ A. Scheinkman. 2012. Pricing Growth-Rate Risk. Finance and
Stochastics 16:1â€“15.
Hansen, Lars Peter, John C. Heaton, Junghoon Lee, and Nikolai Roussanov. 2007. Intertemporal Substitution and Risk Aversion. In Handbook of Econometrics, vol 6A, edited by
James J. Heckman and Edward E. Leamer. Amsterdam: North-Holland.
Hansen, Lars Peter, John C. Heaton, and Nan Li. 2008. Consumption Strikes Back?: Measuring Long-Run Risk. Journal of Political Economy 116:260â€“302.
Koop, Gary, M. Hashem Pesaran, and Simon M. Potter. 1996. Impulse Response Analysis
in Nonlinear Multivariate Models. Journal of Econometrics 74 (1):119â€“147.
Kreps, David M. and Evan L. Porteus. 1978. Temporal Resolution of Uncertainty and
Dynamic Choice Theory. Econometrica 46 (1):185â€“200.
Lucas, Jr., Robert E. 1978. Asset Prices in an Exchange Economy. Econometrica 46 (6):1429â€“
1445.
Ã˜ksendal, Bernt. 1997. An Introduction to Malliavin Calculus with Applications to Economics.
Schroder, Mark and Costis Skiadas. 1999. Optimal Consumption and Portfolio Selection
with Stochastic Differential Utility. Journal of Economic Theory 89 (1):68â€“126.
Wu, Wei Biao. 2005. Nonlinear System Theory: Another Look at Dependence. Proceedings of
the National Academy of Sciences of the United States of America 102 (40):14150â€“14154.

29

