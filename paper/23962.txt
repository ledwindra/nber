NBER WORKING PAPER SERIES

MARKETING AGENCIES AND COLLUSIVE BIDDING IN ONLINE AD AUCTIONS
Francesco Decarolis
Maris Goldmanis
Antonio Penta
Working Paper 23962
http://www.nber.org/papers/w23962

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
October 2017, Revised July 2019

We are grateful for the comments received from Susan Athey, Jean-Pierre Benoit, Yeon-Koo
Che, Kerry Gabrielson, Ken Hendricks, Jon Levin, Massimo Motta, Marco Ottaviani, Rob Porter,
Marc Rysman, Andy Skrzypacz and Steve Tadelis and from the participants at the seminars at
Berkeley-Haas Business School, Boston University, Columbia University, CREST-Paris,
European Commission DG Competition, Facebook Research Lab, Harvard-MIT joint IO seminar,
London Business School, Microsoft Research Lab, Princeton University, Stanford University,
University of British Columbia, University of California Davis, University of Chicago,
University of Bologna, University of Toronto, University of Wisconsin Madison. Antonio Penta
acknowledges financial support from the Spanish Ministry of Economy and Competitiveness,
through the Severo Ochoa Programme for Centres of Excellence in R&D (SEV-2015-0563), and
from the ERC Starting Grant #759424. The views expressed herein are those of the authors and
do not necessarily reflect the views of the National Bureau of Economic Research.
NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.
© 2017 by Francesco Decarolis, Maris Goldmanis, and Antonio Penta. All rights reserved. Short
sections of text, not to exceed two paragraphs, may be quoted without explicit permission
provided that full credit, including © notice, is given to the source.

Marketing Agencies and Collusive Bidding in Online Ad Auctions
Francesco Decarolis, Maris Goldmanis, and Antonio Penta
NBER Working Paper No. 23962
October 2017, Revised July 2019
JEL No. C72,D44,D47,L81,M37
ABSTRACT
The transition of the advertising market from traditional media to the internet has induced a
proliferation of marketing agencies specialized in bidding in the auctions that are used to sell ad
space on the web. We analyze how collusive bidding can emerge from bid delegation to a
common marketing agency and how this can undermine the revenues and allocative efficiency of
both the Generalized Second Price auction (GSP, used by Google and Microsoft-Bing and
Yahoo!) and the VCG mechanism (used by Facebook). We find that, despite its well-known
susceptibility to collusion, the VCG mechanism outperforms the GSP auction both in terms of
revenues and efficiency.
Francesco Decarolis
Bocconi University
Via Sarfatti 25
Milan, 20100
Italy
and EIEF
francesco.decarolis@unibocconi.it
Maris Goldmanis
Department of Economics
Royal Holloway, University of London
Egham, Surrey, TW20 0EX
United Kingdom
mgoldma@uchicago.edu

Antonio Penta
Department of Economics
Pompeu Fabra University
Placa de la Merce, 10, 08002 Barcelona
Spain
antonio.penta@upf.edu

1

Introduction

Online advertising is the main source of revenues for important firms such as Google,
Facebook, Twitter, etc., and it represents one of the largest and fastest growing industries
in the US: in 2017, for instance, the value of advertising on search engines alone exceeded
50 billion dollars in the U.S., with an annual growth of nearly 10% (PwC, 2017). Almost
all online ads are sold through auctions, in which bidders compete for the adjudication of
one of a given number of ‘slots’ available in various online venues, such as search engine
result pages, social networks feeds, and so on. The most important auction formats in this
market are the Generalized Second Price (GSP) auction (used, for instance, by Google,
Microsot-Bing, Yahoo!, etc.) and the Vickerey-Clarke-Groves (VCG) mechanism (used
by Facebook and by Google for its contextual ads). The VCG is a classic and widely
studied mechanism: it involves fairly complex payments that price externalities, but it
has the advantage of being strategy-proof and efficient. In contrast, the GSP auction
– whose study was pioneered by Varian (2007) and Edelman, Ostrovsky and Schwarz
(2007) (EOS) – has very simple rules (the k-highest bidder obtains the k-highest slot at
a price-per-click equal to the (k + 1)-highest bid), but it gives rise to complex strategic
interactions. Both auctions formats have been studied extensively. With few exceptions,
however, existing models have largely ignored a major trend in this market: the rise of
intermediaries operating on the bidding platforms.1
At least since 2011, an increasing number of advertisers are delegating their bidding
campaigns to specialized digital marketing agencies (DMAs), many of which belong to a
handful of agency networks (seven in the US) that conduct all bidding activities through
centralized agency trading desks (ATDs). In recent years, these agency networks have
expanded their activities and contributed to a major increase in the market concentration,
reaching global revenues that compare well even with those of tech giants like Google.2 As
a result, with increasing frequency, the same entity (be it DMA or ATD) bids in the same
auction on behalf of different advertisers. But this clearly changes the strategic interaction,
as these agencies have the opportunity to lower their payments by coordinating the bids
of their clients. This not only affects advertisers’ optimal bidding strategies, but it also
has the potential to alter the very functioning of these auction formats.
This paper proposes a theoretical analysis of the impact of agency bidding on the two
main auction formats. We find that the agency’s equilibrium bids are akin to implementing
1
Mansour, Muthukrishnan and Nisan (2012) first pointed at the potential risk of collusive bidding that
intermediaries posed for online ad auctions. That paper focused on the ad exchanges used for display ads.
Balseiro and Candogan (2017) is an important attempt to look at optimal contracts for intermediaries,
showing that under such contracts intermediaries can bolster revenues for budget-constrained advertisers,
while also increasing the overall market efficiency. Still in the context of display ad auctions, Allouah
and Besbes (2017) provide conditions under which bid coordination by a common intermediary can either
improve or reduce the advertisers’ surplus. McAfee (2011) studies how intermediaries help solving problems
of limited information in ad exchanges. The importance of information and learning in display auction is
also stressed in Despotakis et al. (2016).
2
In 2016, the total revenues of these seven agency networks amounted to one third of those of Alphabet.

1

a certain form of collusion3 (even if none of its clients explicitly attempt it), and that in this
situation the VCG outperforms the GSP both in terms of revenues and efficiency. This is a
strong result because the VCG is typically considered to be highly susceptible to collusion
(e.g., Ausubel and Milgrom (2006)), but it is especially noteworthy if one considers the
sheer size of transactions currently occurring under the GSP. It also suggests a potential
rationale for why Facebook’s recent adoption of the VCG mechanism was so successful,
despite the early surprise it provoked (e.g., Wired (2015)), and for why the last few years
have recorded a steady decline in ad prices.4 The fragility of the GSP auction which
we uncover suggests that further changes may occur in this industry, raising important
questions from both a market-design and an antitrust perspective.
A satisfactory model of agency bidding needs to satisfy at least two desiderata: First,
it must allow collusive and competitive behavior to coexist, because agencies in these auctions typically operate side by side with independent advertisers;5 Second, it needs to be
sufficiently tractable and amenable to direct comparisons to the existing benchmarks in
the literature. To achieve these goals, we modify EOS and Varian’s baseline model by
introducing a marketing agency, which we model as a player choosing bids for its clients
in order to maximize the total profits. Bidders that do not belong to the agency are
referred to as ‘independents’, and have the usual objectives. To overcome the curse of
multiplicity in the GSP auction, and ensure a meaningful comparison with the competitive benchmark, we introduce a refinement of bidders’ best responses that distills the
individual-level underpinnings of EOS equilibrium, and assume that independents place
their bids accordingly. This stratagem enables us to maintain the logic of EOS refinement
for the independents, even if their equilibrium is not defined in the game with collusion.
The marketing agency in turn makes a proposal of a certain profile of bids to its clients.
The proposal is implemented if it is ‘recursively stable’ in the sense that, anticipating the
bidding strategies of others, and taking into account the possible unraveling of the rest
of the coalition, no client has an incentive to abandon the agency and bid as an independent. Hence, the clients’ outside options are equilibrium objects themselves, and implicitly
incorporate the restrictions entailed by the underlying coalition formation game.6
We consider different models of collusive bidding within this general framework. First,
we assume that the agency is constrained to placing bids that cannot be distinguished
from EOS competitive equilibria by an external observer (e.g., the auction platform or
an antitrust authority). We show that, under this constraint, the GSP auction is efficient
and its revenues are identical to those obtained if the same agency bid in a VCG auction.
3

The use of the word collusion in this essay is unrelated to any assessment of the legal implications of
agencies or advertisers behavior under the competition laws of the US or other countries.
4
Google, for instance, reports passing from a positive growth rate in its average cost-per-click of about
4 percent per year in the four years before 2012, to a negative growth rate in each year since then, with
an average yearly decline of 9 percent. Source: 10-k filings of Alphabet inc.
5
The problem of ‘partial cartels’ is acknowledged as a major difficulty in the literature (e.g., Hendricks,
Porter and Tan (2008)). We discuss this point and the connection with that literature in Section 5.
6
This approach, which involves both equilibrium and recursive stability restrictions, is closely related
to the equilibrium binding agreements of (Ray and Vohra, 1997), further discussed in Section 5.

2

We then relax this ‘undistinguishability constraint’, and show that, even in the absence
of allocative distortions, the GSP’s revenues are lower than those obtained in the VCG
mechanism with the same agency configuration. Furthermore, once the ‘undistinguishability constraint’ is lifted, efficiency is no longer guaranteed by the GSP. Since the VCG
is well-known to be highly susceptible to collusion, finding that it outperforms the GSP
both in terms of revenues and efficiency is remarkably negative for the GSP auction.
The source of the GSP’s fragility, and the complexity of agency bidding in this context,
can be understood thinking about an agency that controls the first, second, and fourth
highest bidders in an auction. The agency in this case can lower the highest bidder’s
payment by shading the bid of the second, without necessarily affecting either his position
or his payment. Given the rules of the GSP auction, the agency can benefit from this
simple strategy only if two of her members occupy adjacent positions. But due to the
GSP’s complex equilibrium effects, the agency can do more than that. For instance,
suppose that the agency shades the bid of her lowest member, with no direct impact on
her other clients’ payments. Intuitively, if this bid is kept persistently lower, then the logic
of EOS’ refinement suggests that the third highest bidder, who is an independent, would
eventually lower his bid. But not only would this lower the second bidder’s payment, it
would also give the agency extra leeway to lower the second highest bid, to the greater
benefit of the highest bidder. Revenues in this case diminish for both the direct effect
(lowering the 2-nd highest bid lowers the highest bidder’s payment) and for the indirect
effect (lowering the 4-th highest bid induces a lower bid for the independent, which in
turn lowers the second bidder’s payment). Hence, even a small coalition may have a large
impact on total revenues. Our general results show that this impact is larger if the agency
includes members which occupy low or adjacent positions in the ranking of valuations, but
it also depends on the rate at which click-through-rates vary from one position to another,
and on how independents’ valuations compare to those of the coalition members.
We also explore whether these concerns on the GSP auction may be mitigated by
competition between agencies. Although multiple agencies each with multiple bidders
in the same auction are not the typical case in the data, the question has theoretical
relevance because the phenomenon may become more common in the future. If an increase
in agency competition restored the good properties of these auctions, then the diffusion
of marketing agencies need not lead to major structural changes in this industry. Our
results, however, suggest otherwise: for certain coalition structures, agency competition as
expected mitigates the revenue losses in both mechanisms (while preserving their relative
performance); but for other coalition structures, it has a particularly perverse impact on
both mechanisms. That is because, from the viewpoint of an agency bidding for multiple
clients, these auction mechanisms have a flavor of a first-price auction: even holding
positions constant, the price paid depends on the agency’s own bids. With multiple
agencies, this feature of agency bidding may lead to non-existence of pure equilibria,
very much like the case of competitive (non-agency) bidding in a Generalized First Price

3

(GFP) auction. But as seen in the early days of this industry, when the GFP was adopted,
lack of pure equilibria may generate bidding cycles which eventually lead to a different
form of collusion. In fact, these bidding cycles are often cited as the primary cause for
the transition, in the early ’00s, from the GFP to the GSP auction (cf. Edelman and
Ostrovsky (2007)). Hence, not only does agency competition not solve the problems with
these auctions, but it appears likely to exacerbate them.
The rest of the paper is organized as follows: Section 2 reviews the competitive benchmark; Section 3 introduces the agency model, and Section 4 presents the main results;
Section 5 discusses the related literature and some extensions; Section 6 concludes.

2

Competitive Bidding in Online Ad Auctions

Online ad auctions are mechanisms to assign agents i ∈ I = {1, . . . , n} to slots s = 1, . . . , S,
n ≥ S where for simplicity we assume n = S+1 (the extension to n ≥ S is straightforward).
In our case, agents are advertisers, and slots are positions for ads on a webpage (e.g., on
a social media’s newsfeed for a certain set of cookies, on a search-engine result page for a
given keyword, etc.). Slot s = 1 corresponds to the highest/best position, and so on until
s = S, which is the slot in the lowest/worst position. For each s, we let xs denote the
‘click-through-rate’ (CTR) of slot s, that is the number of clicks that an ad in position s
is expected to receive, and assume that x1 > x2 > · · · > xS > 0. We also let xt = 0 for
all t > S. Finally, we let vi denote the per-click-valuation of advertiser i, and we label
advertisers so that v1 > v2 > · · · > vn . As in Varian (2007) and EOS, we maintain that
valuations and CTRs are common knowledge. This complete information environment is
the main benchmark for the literature on the GSP auction.7

2.1

Rules of the auctions

Both in the VCG and in the GSP auction, advertisers submit bids bi ∈ R+ , and slots
are assigned according to their ranking: first slot to the highest bidder, second slot to
the second-highest bidder, and so on. We denote bid profiles by b = (bi )i=1,...,n and
b−i = (bj )j6=i . For any profile b, we let ρ (i; b) denote the rank of i’s bid in b (ties are
broken according to bidders’ labels).8 When b is clear from the context, we omit it and
write simply ρ (i). For any t = 1, . . . , n and b or b−i , we let bt and bt−i denote the t-highest
component of the vectors b and b−i , respectively. Hence, with this notation, for any
7
A notable exception is Gomes and Sweeney (2014), which provide a thorough analysis of competitive
bidding in the GSP auction with independent private values, with a much more pessimistic outlook on
both the allocative and revenue properties of the GSP auction. Borgers et al. (2013) maintain the complete
information assumption, but consider a more general model of CTRs and valuations. Also, similar to EOS,
our baseline model abstracts from quality scores, which in practice are often used to adjust advertisers’
bids in determining their position and payments. Athey and Nekipelov (2014) introduced uncertainty over
quality scores in a model with competitive bids. We discuss quality scores in Section 5.
8
Formally, ρ (i; b) := |{j : bj > bi } ∪ {j : bj = bi and j < i}| + 1. This tie-breaking rule is convenient for
the analysis of coordinated bidding. It can be relaxed at the cost of added technicalities.

4

profile b, in either mechanism bidder i obtains position ρ (i) if ρ (i) ≤ S, and no position
otherwise. The resulting payoff, ignoring payments, is thus vi xρ(i) .
The GSP and VCG mechanisms only differ in their payment rule. In the GSP mechanism, the k-highest bidder gets position k and pays a price-per click equal to the (k + 1)-th
highest bid. Using our notation, given a profile of bids b, agent i obtains position ρ (i)
and pays a price-per-click equal to bρ(i)+1 . Bidder i’s payoff in the GSP auction, given a

bids profile b ∈ Rn+ , can thus be written as uGi (b) = vi − bρ(i)+1 xρ(i) .
In the VCG auction, an agent pays the total allocation externality he imposes on
others. In this setting, if the advertiser in position k were removed from the auction,
all bidders below him would climb up one position. Hence, if other bidders are bidding
truthfully (i.e., bj = vj , as will be the case in equilibrium), the total externality of the
P
t t−1 − xt ). We can thus write i’s payoff in the VCG
k-highest bidder is equal to S+1
t=k+1 b (x
P
t t−1 − xt ).
mechanism, given a bids profile b ∈ Rn+ , as uVi (b) = vi xρ(i) − S+1
t=ρ(i)+1 b (x
In the rest of this section we review known results on the competitive benchmarks
for these two mechanisms. The only original result will be Lemma 1, which provides an
alternative characterization of EOS’ lowest envy-free equilibrium of the GSP auction.

2.2

Equilibria

Despite the relative complexity of its payment rule, bidding behavior in the VCG is very
simple, as truthful bidding (i.e., bi = vi ) is a dominant strategy in this auction. In the resulting equilibrium, advertisers are efficiently assigned to positions. The VCG mechanism
therefore is efficient and strategy-proof.
Equilibrium behavior in the GSP auction is much more complex. To see this, first note
that a generic profile of bids for i’s opponentes, b−i = (bj )j6=i , partitions the space of i’s
bids into S + 1 intervals of payoff-equivalent bids for bidder i. So, for each b−i ∈ Rn−1
+ ,
let πi (b−i ) denote i’s favorite position, given b−i .9 Then, i’s best-response correspondence
π (b−i )

BRi : Rn−1
⇒ R+ is such that, for every b−i , BRi (b−i ) = (b−ii
+

π (b−i )−1

, b−ii

).

The GSP auction has many Nash equilibria (fixed-points of the ×i∈I BRi ). For this
reason, EOS introduced a refinement of the equilibrium correspondence, the lowest-revenue
locally envy-free equilibrium, which was crucial to cut through the complexity of the GSP
auction.10 As EOS showed, such equilibria induce the same allocations and payments as
truthful bidding in the VCG, and they are fully characterized by the following conditions:
9
Allowing ties in individuals’ bids or non-generic indifferences complicates the notation, without affecting the results and the main insights. See Appendix A.1 for details on this.
10
A Nash equilibrium (bi )i∈I is locally envy-free if xρ(i) (vi − bρ(i)+1 ) ≥ xρ(i)−1 (vi − bρ(i) ) for every i.
EOS refinement is the lowest-revenue Nash equilibrium which satisfies this condition. This refinement is
especially important because it conforms with the search engines’ tutorials on how to bid in these auctions.
See, for instance, the Google AdWord tutorial in which Hal Varian teaches how to maximize profits by
following this bidding strategy: http://www.youtube.com/watch?v=jRx7AMb6rZ0.

5

b1 > b2 , bi = vi for all i > S, and for all i = 2, . . . , S,
bi = vi −

xi
(vi − bi+1 ) .
xi−1

(1)

But EOS refinement is not defined when agencies are present. We thus consider instead
a refinement of the individual best response correspondences, which distills the individuallevel underpinnings of EOS refinement. Formally: for any b−i ∈ Rn−1
+ , let
n


o
π (b )
BRi∗ (b−i ) = b∗i ∈ BRi (b−i ) : vi − b−ii −i xπi (b−i ) = (vi − b∗i ) xπi (b−i )−1 .

(2)

In words, of the many bi ∈ BRi (b−i ) that would grant player i his favorite position πi (b−i ),
he chooses the bid b∗i that makes him indifferent between occupying the current position
and climbing up one position paying a price equal to b∗i . The set of fixed points of the
×i∈I BRi∗ correspondence, given valuations v, are denoted as E ∗ (v).
Lemma 1 For any v = (vi )i=1,...,n , b ∈ E ∗ (v) if and only if b is an EOS equilibrium.
This lemma shows that EOS’ equilibrium – originally defined as a refinement of the
Nash equilibrium correspondence – can be equivalently defined as the fixed point of a
refinement of individual best responses. Hence, BRi∗ provides a model of individual behavior which is consistent with EOS’ equilibrium, and which is well-defined in our setting
even if EOS’ equilibrium is not. The next example will be used repeatedly throughout the
paper to illustrate the relative performance of the GSP and VCG mechanisms:
Example 1 Consider an auction with four slots and five bidders, with the following
valuations: v = (5, 4, 3, 2, 1). The CTRs for the five positions are the following: x =
(20, 10, 5, 2, 0). In the VCG mechanism, bids are bi = vi for every i, which induces total
expected revenues of 96. Bids in EOS’ lowest envy-free equilibrium of the GSP auction
instead are as follows: b5 = 1, b4 = 1.6, b3 = 2.3 and b2 = 3.15. The highest bid b1 > b2 is
not uniquely determined, but it does not affect the revenues, which in this equilibrium are
exactly the same as in the VCG mechanism: 96. Clearly, also the allocation is the same
in the two mechanisms, and efficient. 

3

A Model of Agency Bidding

Our analysis of marketing agencies focuses on their opportunity to coordinate the bids
of different advertisers. We thus borrow the language of cooperative game theory and
refer to the clients of the agency as ‘members of a coalition’ and to the remaining bidders
as ‘independents’. In this Section we focus on environments with a single agency, and
postpone the analysis of the multiple agency case to Section 4.3.
Modelling coordinated bidding, it may seem natural to consider standard solution
concepts such as strong Nash (Aumann, 1959) or coalition proof equilibrium (Bernheim
6

and Whinston, 1987). Unfortunately, these concepts have no bite in the GSP auction, as
it can be shown that EOS’ equilibrium satisfies both refinements.
We model the marketing agency as a player that makes proposals of binding agreements
to its members, subject to certain stability constraints. The independents then play the
game which ensues from taking the bids of the agency as given. The agency’s proposals,
however, can only be implemented if they are stable in two senses: (S.1) first, if they
are consistent with the independents’ equilibrium behavior; (S.2) second, if no individual
member of the coalition has an incentive to abandon it and bid as an independent. We
also assume that, when considering such deviations, coalition members are farsighted in
the sense that they anticipate the impact of their deviation on both the independents and
the remaining members of the coalition (Ray and Vohra, 1997). Hence, given a coalition
C, the outside option for each member i ∈ C is his equilibrium payoff in the game with
coalition C\ {i}, in which i bids as an independent. The constraint for coalition C thus
depends on the solutions to the problems of all the subcoalitions C 0 ⊆ C, and hence the
solution concept for the game with the agency will be defined recursively. We thus call it
the ‘Recursively-Stable Agency Equilibrium’ (RAE).
We will also consider a third constraint, (R), which we formalize as a set R (C) ⊆ A,
to accommodate the possibility that the agency exogenously discards certain bids. For
instance, we will consider the case of an agency whose primary concern is not being
identified as inducing collusion (Section 4.2.1) or to induce efficient outcomes (Section
4.2.2). In those cases, R (C) would be comprised respectively of only those profiles that
are ‘undistinguishable’ to an external observer as collusive, or efficient.

3.1

The Recursively Stable Agency Equilibrium

Let G = (Ai , ui )i=1,...,n denote the baseline game (without a coalition) generated by the
underlying mechanism (e.g., GSP or VCG). We let C denote the collection of all sets C ⊆ I
such that |C| ≥ 2. For any C ∈ C, we let C denote the agency, and we refer to advertisers
i ∈ C as ‘members of the coalition’ and to i ∈ I\C as ‘independents’. The coalition
chooses a vector of bids bC = (bj )j∈C ∈ ×j∈C Aj . Given bC , the independents i ∈ I\C
simultaneously choose bids bi ∈ Ai . We let b−C := (bj )j∈I\C and A−C := ×j∈I\C Aj .
Finally, given profiles b or b−C , we let b−i,−C := (bj )j∈I\C:j6=i denote the subprofile of bids
of all independents other than i. We assume that the agency maximizes the sum of its
P
members’ payoffs,11 denoted by uC (b) := i∈C ui (b), under the three constraints (S.1)
(S.2) and (R) discussed above, which we formally introduce next:
11

This is a simplifying assumption, which can be justified in a number of ways. From a theoretical
viewpoint, our environment satisfies the informational assumptions of Bernheim and Whinston (1985) and
Bernheim and Whinston (1986). Hence, as long as the agency is risk-neutral, this particular objective
function may be the result of an underlying common agency problem. More relevant from an empirical
viewpoint, the agency contracts most commonly used in this industry specify a lump-sum fee per advertiser
and per campaign. Thus, the agency’s ability to generate surplus for its clients is an important determinant
of its long run profitability.

7

(R): R = {R (C)}C∈C denotes the collection of exogenous restrictions for all possible
coalitions, and for each C, RC ⊆ AC denotes the coalition bids consistent with R (C):
RC := {bC ∈ AC : ∃b−C ∈ A−C s.t. (bC , b−C ) ∈ R (C)} .

(3)

(S.1): For any i ∈ I\C, let BRi∗ : A−i ⇒ Ai denote some refinement of i’s best
response correspondence in the baseline game G (e.g., truthful bidding in the VCG, or (2)
∗
in the GSP). Define the independents’ equilibrium correspondence BR−C
: AC ⇒ A−C as


∗
BR−C
(bC ) = b−C ∈ A−C : ∀j ∈ I\C, bj ∈ BRj∗ (bC , b−j,−C ) .

(4)

If the agency proposes a profile bC that is not consistent with the equilibrium behavior
∗ ), then that proposal does not induce a stable
of the independents (as specified by BR−C

agreement. We thus incorporate this stability constraint into the agency’s optimization,
and assume that the agency can only choose bid profiles from the set

∗
SC = bC ∈ AC : ∃b−C s.t. b−C ∈ BR−C
(bC ) .12

(5)

(S.2): The agency forms conjectures about how its bids bC the independents’ bids in
the continuation game. Let β : SC → A−C represent such conjectures, and define the set
of conjectures which are consistent with the independents playing an equilibrium:
o
n
∗
C
B ∗ = β ∈ AS−C
: β (bC ) ∈ BR−C
(bC ) for all bC ∈ SC .

(6)

The second stability condition requires that, given conjectures β, no coalition member i ∈ C has an incentive to leave and bid as an independent in the game with coalition C\ {i}. This constraint thus requires a recursive definition. To this end, first let

E ∗ := b ∈ Rn+ : bi ∈ BRi∗ (b−i ) for all i ∈ I denote the set of equilibria in the game
without coalition (given refinement BRi∗ ). Then, letting E R (C 0 ) denote the set of Recursively Stable Agency Equilibrium (RAE) outcomes of the game with coalition C 0 , given
restrictions R (and refinement BRi∗ ), we initialize the recursion setting E R (C 0 ) = E ∗ if
|C 0 | = 1 (that is, if an agency controls only one bidder, then the RAE are the same as the
competitive equilibria). Suppose next that E R (C 0 ) has been defined for all subcoalitions
0

C 0 ⊂ C. For each i ∈ C, and C 0 ⊆ C\ {i}, let ūC
i = minb∈E R (C 0 ) ui (b). Then, recursively:
Definition 1 A Recursively Stable Agency Equilibrium (RAE) of the game G with coali12

The strength of constraint (5) clearly depends on the underlying game G and on the particular corre∗
spondence BR−C
. This restriction is conceptually important, and needed to develop a general framework
for arbitrary mechanisms, but it plays no role in our results, since (5) will be either vacuous (Theorem 1)
or a redundant constraint (Theorems 2 and 3). In particular, under the VCG mechanism (Theorem 1), we
will have SC = AC , thus making constraint (5) vacuous. As for the the GS auction, in the two theorems
we consider it is always the case that the set of exogenous restrictions (that is, RU C (C) for Theorems 2
and REf f (C) for Theorem 3) are always a subset of SC, thereby making constraint (5) redundant in the
agency’s optimization problem for those theorems.

8

tion C, given restrictions R = {R (C)}C∈C and refinement BRi∗ , is a profile of bids and
conjectures (b∗ , β ∗ ) ∈ AC × B ∗ such that:13

1. The independents play a best response: for all i ∈ I\C, b∗i ∈ BRi∗ b∗−i .
2. The conjectures of the agency are correct and consistent with the exogenous restrictions: β ∗ (b∗C ) = b∗−C and (bC , β ∗ (bC )) ∈ R (C) for all bC ∈ RC .
3. The agency best responds to conjectures β ∗ , subject to the exogenous restrictions
(R) and the stability restrictions (S.1) and (S.2):
b∗C ∈ arg max uC (bC , β ∗ (bC ))
bC

subject to : (R) bC ∈ RC
: (S.1) bC ∈ SC
C\{i}

: (S.2) for all i ∈ C, ui (bC , β ∗ (bC )) ≥ ūi

The set of (R-constrained) RAE outcomes for the game with coalition C is:
E R (C) = {b∗ ∈ A : ∃β ∗ s.t. (b∗ , β ∗ ) is a RAE} .

(7)

We will refer to the case in which R is such that R (C) = A for all C ∈ C as the
‘unconstrained’ case, and denote the set of unconstrained RAE outcomes as E (C).
Before moving to the general results of the next section, we first illustrate the logic
of this definition in the context of a simple example. In the example, as well as in some
results in Section 4, equilibrium bids will sometime be such that bi = bi+1 for some i.
Since ties are broken according to bidders’ labels (cf. footnote 8), in that case bidder i
14
obtains the position above i + 1. To emphasize this, we will write bi = b+
i+1 .

Example 2 Consider an environment with five bidders who compete for the allocation of
four slots sold through the VCG mechanism. Bidders’ valuations are v = (40, 25, 20, 10, 9),
and the CTRs are x = {20, 10, 9, 1, 0}. As discussed in Section 2, in this mechanism
advertisers bid truthfully in the competitive benchmark, and hence equilibrium payoffs
for the five bidders are uComp = (441, 141, 91, 1, 0).
Now consider a setting in which bidders 1 and 5 belong to the same agency, C 0 = {1, 5},
and everyone else is an independent. Bidding truthfully remains a dominant strategy for
the independents, but clearly this is not the case for the agency: since 1’s payment is
Note that, by requiring β ∗ ∈ B ∗ , this equilibrium rules out the possibility that the coalition’s bids are
sustained by ‘incredible’ threats of the independents.
14
Without the tie-breaking rule embedded in ρ (footnote 8), the agency’s best replies may be empty
valued. In that case, our analysis would go through assuming that bids are placed from an arbitrarily fine
discrete grid (i.e., Ai = (R+ ∩ εZ) where ε is the minimum bid increment). In that setting, bi = b+
i+1 can
be thought of as i bidding the lowest feasible bid higher than bi+1 , i.e. bi = bi+1 + ε. All our results would
hold in such a discrete model, once the equilibrium bids in the theorems are interpreted as the limit of
the equilibria in the discrete model, letting ε → 0 (the notation b+
i+1 is thus reminiscent of this alternative
interpretation, as the right-hand limit b+
i+1 := limε+ →0 (bi+1 + ε)).
13

9

strictly decreasing in b5 , the optimal solution for the agency is to lower b5 as much as possible, while ensuring that 1 keeps the first position. Hence, any profile b0 = (b01 , 25, 20, 10, 0)
such that b01 > 25 is an (unconstrained) RAE when C 0 = {1, 5}, and the resulting payoffs
are u0 = (450, 150, 100, 10, 0), with a total 450 for the coalition. Comparing u0 with uComp ,
it is also clear that no member of the coalition would rather bid as an independent.
Next, suppose that the coalition also includes bidder 2: C 00 = {1, 2, 5}. In this case,
the (unconstrained) RAE-bids are b00 = (b001 , 20+ , 20, 10, 0), where b001 > 20, which induce
payoffs u00 = (500, 150, 100, 10, 0) and a total of 650 for the coalition. To see that this is
a RAE, recall that truthful bidding is still dominant for the independent bidders. The
argument for keeping b005 = 0 and b001 > 20 are the same as above. As for b2 , first note that,
if the agency set b2 = 10+ , pushing bidder 2 down to the third slot, then the coalition
payoff would be 655, which is higher than 650. But, in such a profile, 2’s payoff would be
145, which is lower than u02 = 150, the payoff he could obtain if he bid as an independent
in the game with C 0 = {1, 5}. Hence, lowering b2 to the point of obtaining a lower position
would increase the overall coalition payoff (by decreasing bidder 1’s payment), but would
violate the stability constraint (S.2) for bidder 2. Hence, the optimal b002 is the lowest bid
which ensures that bidder 2 maintains the second position. 
Note that the recursive definition of the outside option matters in this example: If
outside options were defined with respect to the competitive case, bidder 2 would remain in
the coalition even when forced to take the lower position, since his payoff in the competitive
benchmark is uComp
= 141 < 145. But we find it unreasonable to model 2’s outside option
2
this way: why would an agency client assume that, were he to abandon the agency, the
entire coalition would be disrupted and full competition restored? The recursivity of the
(S.2) constraint reflects these considerations. Finally, the example also shows that RAE
outcomes in general are not Nash equilibria of the baseline game, nor of the game in which
the coalition is replaced by a single player. Similar to Ray and Vohra (1997) and Ray and
Vohra (2014) equilibrium binding agreements (which we discuss in Section 5), the stability
restrictions affect the set of equilibrium outcomes, not merely as a refinement.

4

Agency Bidding in VCG and GSP: Results

In this Section we specialize the general notion of RAE to the GSP and VCG mechanisms:
Definition 2 (RAE in the GSP and VCG) Given a set of exogenous restrictions R,
the R-constrained RAE of the GSP and VCG mechanisms are obtained from Definition 1
letting G denote the corresponding game, and BRi∗ be defined, respectively, as in (2) for
the GSP and as the dominant (i.e., truthful) strategy in the VCG.
We first present the analysis of the VCG mechanism (Section 4.1), and then proceed
to the GSP auction (Section 4.2). Our main conclusion is that the VCG outperforms

10

the GSP both in terms of revenues and allocative efficiency, thereby uncovering a striking
fragility of the GSP with respect to agency bidding.

4.1

Agency Bidding in the VCG mechanism

Our first result characterizes the unconstrained RAE of the VCG mechanism: it shows
that they are unique up to the bid of the highest coalition member, and that in all such
equilibria advertisers are assigned to positions efficiently, independents’ bids are equal to
their valuations and all the coalition members (except possibly the highest) bid the lowest
possible value that ensures their efficient position. Formally:
Theorem 1 (RAE in the VCG) For any C, let E (C) denote the unconstrained RAE
of the VCG. Then: b̂ ∈ E (C) if and only if


= vi



b̂i = b̂+

i+1



∈ b̂+ , vi−1
i+1

if i ∈ I\C;
if i ∈ C\ {min (C)} and i ≤ S;

(8)

if i = min (C) and i ≤ S.

where we denote v0 := ∞ and b̂n+1 := 0.
The uncontrastined RAE of the VCG mechanism therefore are efficient, with generally
lower revenues than in the VCG’s competitive benchmark. The efficiency result is due
to the stability restrictions in RAE, which limits the agency’s freedom to place bids.
Restriction (S.2), in particular, requires that the agency’s proposal gives no member of the
coalition an incentive to abandon it and bid as an independent. Similar to the illustrative
example 2, a recursive argument further shows that the payoff that any coalition member
can attain from abandoning the coalition is bounded below by the equilibrium payoffs
in the baseline (coalition-less) game, in which assignments are efficient. The ‘Pigouvian’
logic of the VCG payments in turn implies that such (recursive) participation constraints
can only be satisfied by the efficient assignment of positions. As shown by example 2, the
recursive stability restriction (S.2) is key to this efficiency result.
Whereas the presence of an agency does not alter the allocation of the VCG mechanism,
it does affect its revenues: in any RAE of the VCG mechanism, the agency lowers the bids
of its members (except possibly the one with the highest valuation) as much as possible,
within the constraints posed by the efficient ranking of bids. Since, in the VCG mechanism,
lowering the i-th bid affects the price paid for all slots s = 1, ..., min {S + 1, i − 1}, even
a small coalition can have a significant impact on the total revenues. On the other hand,
the VCG’s strategy-proofness ensures that the agency has no impact on the independents,
which continue to use their dominant strategy and bid truthfully.15 Hence, while an agency
may have a large ‘direct effect’ on revenues, it has no ‘indirect effect’ in this mechanism.
15

This property also ensures that SC = AC . Hence, constraint (S.1) in Def. 1 plays no role in the result.

11

Example 3 Consider the environment in Example 1, and suppose that
 C = {1, 3}.Then,

applying the formula in (8), the RAE of the VCG mechanism is b̂ = b̂1 , 4, 2+ , 2, 1 . The
resulting revenues are 86, as opposed to 96 of the competitive benchmark. 

4.2

Agency Bidding in the GSP auction

We begin our analysis of the GSP auction by characterizing the RAE when the agency
is constrained to placing bids which, to an exernal observer, are undistinguishable from a
(competitive) EOS equilibrium – the ‘Undistinguishable (from EOS) Coordination’ (UC)
restriction. Theorem 2 shows that the equilibrium outcomes of the GSP with this restriction are exactly the same as the unrestricted RAE of the VCG mechanism. We lift the
UC-restriction in Section 4.2.2, and show that the GSP’s RAE may be inefficient and induce strictly lower revenues than their VCG counterparts. Moreover, the revenue ranking
holds even if the agency is restrained from inducing allocative distortions (Theorem 3).
4.2.1

‘Undistinguishable Coordination’: A VCG-Equivalence Result

Consider the following set of exogenous restrictions: for any C ∈ C,
n
o
|C|
0
0
RU C (C) := b ∈ A : ∃vC
∈ R+ s.t. b ∈ E ∗ vC
, v−C .

(9)

In words, RU C (C) is comprised of all bid profiles that could be observed as part of
a EOS equilibrium in the GSP auction, given the valuations of the independents v−C =
(vj )j∈I\C . For instance, consider an external observer (e.g., the search engine or the
antitrust authority) who can only observe the bid profile, but not the valuations (vi )i∈C .
Then, RU C (C) characterizes the bid profiles that ensure the agency’s bidding strategy
could not be distinguished from an EOS equilibrium (and, hence, detected as ‘collusive’),
even if the independents had revealed their own valuations to the external observer.16
The next result characterizes the RAE of the GSP under these restrictions, and shows
its revenue and allocative equivalence to the unrestricted RAE of the VCG:
f
f
Theorem 2 For any C, let vn+1
= 0, and for each i = n, ..., 1, let vif := vi+1
if i ∈ C

and vif = vi if i ∈
/ C. Then, in any RAE of the GSP auction under the ‘undistinguishable
16

This formulation of the UC-constraint is consistent with our choice to use EOS equilibrium as the
competitive benchmark, as it has become standard in the literature. The definition in (9), however, may
easily accommodate alternative benchmarks too. As explained in Section 3, alternative models of competitive behavior could be accommodated in the definition of RAE by replacing (2) with the corresponding
0
refinement of individual best-responses. In that case, the set E ∗ (vC
, v−C ) in (9) would consists of the
fixed points of such individual best responses, i.e. the Nash-equilibria of the GSP taken as benchmark
of competitive bidding. Hence, whatever refinement of Nash equilibria is taken as model of competitive
behavior in the GSP – and, hence, embedded in the definition of RAE – the set RU C denotes the set of
bids profile which cannot be distinguished from that competitive benchmark.

12

coordination’ (UC) restriction, the bids profile b̂ are such that, for every i,



i
f
 = v f − xi−1
v
−
b̂
i+1 ,
x
i


hi
b̂i
i
 ∈ v f − xi−1 v f − b̂i+1 , b̂i−1
i
i
x

if i 6= 1 and i 6= min (C);
,

(10)

otherwise

where b̂0 := ∞ and xi /xi−1 := 0 whenever i > S. Moreover, in each of these equilibria,
advertisers are assigned to positions efficiently, and advertisers’ payments are the same as
in the corresponding unrestricted RAE of the VCG mechanism (Theorem 1).
Hence, the UC-RAE of the GSP are unique up to the highest bid of the coalition and up
to the highest overall bid, and they are equivalent to the (competitive) EOS equilibria for
some profile (vif )i∈I of ‘feigned valuations’ (which satisfy vif = vi for all i ∈
/ C). Though
notationally involved, the idea is simple and provides clear insights inyo the agency’s
equilibrium behavior: intuitively, in order to satisfy the UC-restriction, the agency’s bids
for each of its members should mimic the behavior of an independent advertiser in the
competitive benchmark, for some valuation. The agency’s problem therefore boils down to
‘choosing’ a feigned valuation for each of its members, and bid accordingly. The optimal
choice of the feigned valuation is the one which, given others’ bids, and the bidding strategy
of an independent, induces the lowest bid consistent with i obtaining the i-th position in
the competitive equilibrium of the model with feigned valuations, which is achieved by
f
vif = vi+1
. Note that the fact that bidder i cannot be forced to a lower position is

not implicit in the UC-restriction, but the result of the equilibrium restrictions.17 The
resulting allocation is efficient, and it yields the same individual payments (and hence
total revenues) as the unrestricted RAE of the VCG mechanism.
To understand the implications of this equilibrium, note that, in the GSP auction, the
i-th bid only affects the payment of the (i − 1)-th bidder. Hence, the ‘direct effect’ of bids
manipulation is weaker in the GSP than in the VCG mechanism, where the payments for
all positions above i are affected. Unlike the VCG mechanism, however, manipulating the
bid of coalition member i also has an ‘indirect effect’ on the bids of all the independents
placed above i, who lower their bids according to the recursion in (10).
Example 4 Consider the environment of 
Example 3, with C = {1, 3}. Then, applying
the formula in (10), the UC-RAE is b̂ = b̂1 , 2.9, 1.8, 1.6, 1 , which results in revenues
86. These are the same as in the VCG mechanism (Example 3), and 10 less than in the
non-agency case (Example 1). Note that the bid b̂3 = 1.8 obtains setting v3f = v4 = 2,
and then applying the same recursion as for the independents.
Also

 note that the ‘direct
EOS
effect’, due to the reduction in b̂3 , is only equal to b3
− b̂3 · x2 = 5 (where bEOS
3
denotes 3’s bid in the non-agency benchmark). Thus, 50% of the revenue loss in this
example is due to the agency’s ‘indirect effect’ on the independents. 
17

The reason is similar to that discussed for Theorem 1, only here is more complicated due to the fact
that, in the GSP auction, the bids of the agency alter the bids placed by the independents.

13

Thus, despite the simplicity of the payment rule in the GSP auction, the equilibrium
effects in (10) essentially replicate the complexity of the VCG payments: once the direct
and indirect effects are combined, the resulting revenue loss is the same in the two mechanisms. This result also enables us to simplify the analysis of the impact of agency bidding
on the GSP, by studying the comparative statics of the unconstrained RAE in the VCG
mechanism. We can thus obtain some qualitative insights for this complex problem.
Corollary 1 Hold the agency configuration, C, constant. Then, in both the unconstrained
RAE of the VCG and in the UC-RAE of the GSP auction, the revenue losses due to
agency bidding are larger if: (i) the differences (xi−1 − xi ) associated to the agency’s
clients i ∈ C are larger; or if (ii) the difference in valuations between the agency’s clients
and the independents immediately below them in the ranking of valuations are larger.
To understand this Corollary, recall that the price-per-click for position s in the VCG,
P
t t−1 − xt ). By Theorem 1, in the RAE of the
given a profile b, is equal to S+1
t=s+1 b (x
VCG the agency lowers the bids of its members as much as possible, while preserving the
efficient ranking of bids. Hence, holding C and (vi )i∈I constant, it is clear that the revenue
losses due agency bidding are larger if the terms (xt−1 − xt ) associated to agency members
are larger, which is part (i) of the Corollary. To understand part (ii), let i be an agency
member such that i + 1 is an independent. Since independents bid truthfully in the VCG,
we have bi+1 = vi+1 , and hence the efficient ranking can be maintained only if bi ≥ vi+1 .
Hence, the lower vi+1 , the stronger the impact of agency bidding.
The next comparative statics refer to the agency composition. Besides the obvious
statement that an agency’s impact is stronger if it includes more bidders, the impact of
different coalitions in general depends on the exact CTRs and valuations. To isolate the
position effects from the comparative statics in Corollary 1, which were driven by the
differences (xs − xs+1 ) and (vs − vs+1 ), we assume that they are constant in s.
Corollary 2 Assume that ∆s (x) := (xs − xs+1 ) and ∆s (v) := (vs − vs+1 ) are constant
in s. Then, in both the RAE of the VCG and in the UC-RAE of the GSP, the revenue
losses due to agency bidding are larger if the agency includes members that occupy adjacent
or lower positions in the ranking of valuations.
To understand this result, note that if an agency has no two ‘adjacent’ members, then
i + 1 is an independent for all i ∈ C, and hence for the above explanation the lower bound
to i’s bid equals vi+1 . But if instead i + 1 also belongs to the agency, then the lower bound
drops to the valuation of the next lower independent. The rest of the Corollary follows
directly from the fact that a given reduction of a bid in the VCG has a larger impact if it’s
lower in the ranking, because it affects the payments for all positions above. The latter
point is particularly interesting, since one might have expected that the agency would
have a larger impact if she controlled the high-valuation bidders. We find that, in fact,
the opposite is true when one controls for the increments ∆s (x) and ∆s (v).
14

4.2.2

Lifting the UC-Restriction: Revenue Losses and Inefficiency

As discussed in Section 4.1, even a small coalition of bidders may have a large impact
on revenues in the VCG. Theorem 2 therefore already entails a fairly negative outlook on
the GSP’s revenues when an agency is active, even if it cannot be detected as collusive,
because it is undistinguishable from an EOS equilibirum. The next example shows that,
when the undistinguishability constraint is lifted, an agency may induce larger revenue
losses as well as inefficient allocations in the GSP auction.
Example 5 Consider an environment with 8 bidders and 7 slots, with valuations v =
(12, 10.5, 10.4, 10.3, 10.2, 10.1, 10, 1) and CTRs x = (50, 40, 30.1, 20, 10, 2, 1, 0). Let the
coalition be C = {5, 6}. The unrestricted RAE is essentially unique (up to the highest
overall bid) and inefficient, with the coalition bidders obtaining slots 4 and 6. Equilibrium
bids (rounding off to the second decimal) are b = (b1 , 9.91, 9.76, 9.12, 9.5, 7.94, 5.5, 1). Note
that b4 = 9.12 < 9.5 = b5 , which induces an inefficient allocation. The inefficiency arises
as follows. Suppose that the agency drastically lowers b6 to benefit the other member.
If b6 is very low, it creates incentives for the independents i < 5 to move down to the
position just above bidder 6, in order to appropriate some of the rents generated by its
lower bid. Hence, if efficiency were to be preserved, 5’s bid would also have to be reduced,
to make the higher positions more attractive. But the reduction of 6’s bid in this example
is large enough that 4’s undercut is sufficiently low that the coalition prefers to give up
position 5. Thus, the coalition does not benefit directly from the reduction of 6’s bid, but
indirectly, by attracting 4 to the lower position. 
Hence, unlike the VCG mechanism, the unrestricted RAE of the GSP auction can be
inefficient. In light of this result, it may appear that the unconstrained-RAE in the GSP
allows an implausible degree of freedom to the agency, and that this alone is the cause
of the low revenues of the GSP auction. To see whether this is the case, we consider
next exogenous restrictions that force the agency to induce efficient allocations. Theorem
3 shows that, even with this restriction, the GSP’s revenues are no higher than in the

unrestricted RAE of the VCG mechanism. Formally, let REF F = REF F C)}C∈C be
such that, for each non trivial coalition C ∈ C,
REF F (C) := {b ∈ A : ρ(i; b) = i ∀i ∈ I} .
Definition 3 An efficiency-constrained RAE of the GSP auction is a RAE of the GSP
auction where the exogenous restrictions are given by R = REF F .
Theorem 3 Efficiency-constrained RAE of the GSP auction exist; in any such RAE: (i)
the agency’s payoff is at least as high as in any RAE of the VCG mechanism, and (ii)
the auctioneer’s revenue is no higher than in the corresponding equilibrium of the VCG
auction. Furthermore, there exist parameter values under which both orderings are strict.
15

Valuations
5
4
3
2
1
Revenues

VCG
5
4
3
2
1
96

Table 1: Summary of Results in Examples
GSP (EOS) RAE in VCG UC-RAE in GSP
b1
b1
b1
3.15
4
2.9
2.3
2+
1.8
1.6
2
1.6
1
1
1
96
86
86

(Eff.) RAE in GSP
b1
2.8
1.6+
1.6
1
82

Summary of results in Examples 1, 3, 4 and 6. Coalition members’ bids and valuations are in
bold. The VCG and GSP columns represent the competitive equilibria in the two mechanisms as
described in example 1. The RAE in VCG and the revenue equivalent UC-RAE in the GSP are
from Examples 3 and 4 respectively. The last column denotes both the Efficient RAE and the
unrestricted RAE of the GSP auction, which coincide in Example 6.

By imposing efficiency as an exogenous constraint, Theorem 3 shows that the fragility
of the GSP’s revenues is independent of the allocative distortions it may generate. The
intuition behind Theorem 3 is simple, in hindsight: in the VCG mechanism, truthful
bidding is dominant for the independents, and hence the agency’s manipulation of its
members’ bids only has a direct effect on revenues. In the GSP auction, in contrast, the
agency has both a direct and an indirect effect. Under the UC-restrictions, the two effects
combined induce just the same revenue-loss as in the VCG mechanism, but lifting that
restriction tilts the balance, to the disadvantage of the GSP.18
Example 6 Consider the environment
of Examples

 3 and 4, with C = {1, 3}. The
+
efficiency-constrained RAE is b̂ = b̂1 , 2.8, 1.6 , 1.6, 1 , which results in revenues 82, which
are lower than the RAE in VCG mechanism (86). Note that, relative to the UC-RAE in
Example 4, the coalition lowers b3 to the lowest level consistent with the efficient ranking.
This in turn induces independent bidder 2 to lower his bids, hence the extra revenue loss
is due to further direct and indirect effects. We note that the efficiency restriction is not
binding in this example, and hence the Eff-RAE and the unconstrained RAE coincide.
(Table 1 summarizes and compares the equilibria illustrated in our running examples.) 
Summing up, since – under the efficiency restriction – the GSP auction induces the
same allocation as the VCG mechanism, the two mechanisms are ranked in terms of
revenues purely due to the agency’s effect on prices. Obviously, if allocative inefficiencies
were introduced, they might provide a further, independent source of revenue reduction.
As already noted, this is not the case in Example 6, in which the efficiency constraint is
not binding, but it is possible in general (see Example 5).
18

Since the UC-RAE induce efficient allocations, it may seem that Theorem 3 follows immediately from
the efficiency constraint being weaker than the UC-restriction. This intuition is incorrect for two reasons.
First, the UC-constraint requires the existence of feigned valuations which can rationalize the observed
bid profile, but does not require that they preserve the ranking of the true valuations. Second, when
the exogenous restrictions R = (RC )C∈C are changed, they change for all coalitions: hence, even if RC
is weaker for any given C, the fact that it is also weaker for the subcoalitions may make the stability
constraint (S.2) more stringent.

16

The unrestricted RAE of the GSP are difficult to characterize, and (as shown with Ex.
5) allow perhaps too much freedom to the agency.19 The extra restrictions enabled by the
Eff-RAE or UC-RAE may thus prove be more fruitful from an applied perspective, since
they represent outcomes that are computationally easier to attain for an agency.

4.3

Agency Competition

Multiple agencies competing in the same auction appears rarely in the data (Decarolis,
Goldmanis and Penta, 2018), but for the reasons explained in the introduction, it is nevertheless interesting to assess whether competition may soften the impact of agency bidding
on online ad auctions. This is a reasonable conjecture, but the results we present in this
section suggest a more nuanced view on this point. In particular, for certain coalition
structures, our earlier results extend to the case with multiple agencies essentially unchanged: the revenue losses will be less pronounced when the same set of coordinating
bidders is divided into two (or more) competing coalitions, but they would still be substantial, and preserve the relative performance of the VCG and GSP auctions. But, for other
coalition structures, equilibria in pure strategies will not exist, and hence bidding cycles
are likely to emerge.20 Hence, while competition between agencies may indeed mitigate
the agencies’ on the platforms’ revenues, it may also impair the working of the current
mechanisms in a more fundamental way.
For simplicity, we consider the case with two agencies (the extension to more than
two agencies is cumbersome but straightforward). We also assume that agencies break
indifferences over bids in the same way that independents do. This implies that the highest
bidder in any coalition bids as if he were an independent. With the formal definitions given
in Appendix A.3, the following result holds.
Theorem 4

1. If no members of different coalitions occupy adjacent positions in the

ordering of valuations, then the UC-RAE of the GSP with multiple coalitions is
unique. In this equilibrium, the allocation is efficient and the search engine revenues
are weakly higher than those of the UC-RAE in which all members of the different
19

Short of a characterization, one could consider whether there are clear revenue rankings for the GSP’s
unrestricted RAE. Meaningful revenue comparisons, however, require normalizing the criterion to break
the agency’s indifference over her highest bid – which does not affect the agency’s payoff (beyond the
position it ensures), but does affect the revenues. This indeterminacy does not create problems for the
results above, since it is preserved uniformly across the mechanisms and restrictions we consider; but when
all restrictions are lifted, the mere breaking of indifference may impact revenues asymmetrically under
different mechanisms and restrictions. Standard tie-breaking criteria, however, do enable natural revenue
comparisons. For instance, if one applied the same logic used to refine the independents’ indifference (i.e.,
the locally envy-free criterion implicit in (2)), or if one considered the lowest-revenue selections among the
bids which maximize the agency’s payoff, then it could be shown that the GSP’s revenues in an inefficient
RAE are never higher (and typically lower) than in the Eff-RAE.
20
As already mentioned, bidding cycles are indeed considered to be on fo the main reason why the
GFP auction, which was adopted in the early days of this industry, was eventually abandoned in favor of
the GSP. (For a discussion of bidding cycles in the Overture’s GPF, see Edelman and Ostrovsky (2007);
Ottaviani (2003) provides an early assessment of the transition from the GFP to the GSP.)

17

Valuations

GSP
(EOS)

5
4
3
2
1
Revenues

b1
3.15
2.3
1.6
1
96

Table 2: Competition between Agencies
Single
Two
Coalition:
Coalitions:
C = {1, 2, 4, 5} C1 = {1, 2}, C2 = {4, 5}
5
5
2.75
3.05
1.5
2.1
0+
1.2
0
0
60
88

Two
Coalitions:
C1 = {1, 4}, C2 = {2, 5}
b1
b2
b3
b4
b5
−

coalitions bid under the same agency, but lower than under full competition. Moreover, both the allocation and the associated revenues are identical to those resulting in
the unconstrained RAE of the VCG mechanism with the same agency configuration.
2. If non-top members of different coalitions occupy adjacent positions in the raking of
valuations, no unconstrained RAE of the VCG and no UC-RAE of the GSP exist.
The first part of the theorem extends Theorems 1 and 2 to the case of multiple agencies.
The result therefore shows that competition between agencies may mitigate, but not solve,
the revenue losses due to coordinated bidding. If coalitions have bidders in adjacent
positions (part 2 of the Theorem), further problems arise, such as non-existence of purestrategy equilibria and bidding cycles. We illustrate both these points in the context of
our workhorse example.
Example 7 Consider the environment of the examples in Table 1. Table 2 reports EOS’
equilibrium bids (second column) as well as the bids under different coalition structures.
We first look at the case of a single coalition C = {1, 2, 4, 5}. According to our earlier
results, in the UC-RAE with this agency configuration the bottom two bidders bid zero.
This has an indirect effect on the independent bidder (3), who lowers his bid from 2.3 to
1.5, thereby lowering the payments and bids for bidders 1 and 2. If we split this coalition
into two separate coalitions, however, things will change depending on the way we do it.
If we split C as in the fourth column of the table, C1 = {1, 2} and C2 = {4, 5}, we obtain
two coalitions with no adjacent members, as in part 1 of Theorem 4. With this coalition
structure, equilibrium revenues amount to 88, which is above the single coalition case (60),
but still well below the competitive benchmark (96).21 If we split C as in the last column
of Table 2, C1 = {1, 4} and C2 = {2, 5}, pure equilibria would cease to exist. To see this,
note that C2 would ideally like to set b5 = 0, and given this C1 would ideally like to set
21

Note that, if the highest placed member of the lower coalition (i.e., the bidder with a value of 2 in
this example) were to slightly increase/decrease his bid, his coalition’s payoffs would not change, but the
revenues of the other coalition would correspondingly decrease/increase. Hence, without the assumption
that top coalition members behave as independents, a multiplicity of equilibria might arise. Different
selections from the best-response correspondence may thus be used to model other forms of behavior, such
as spiteful bidding (cf., Levin and Skrzypacz (2016)).

18

b4 = 0+ . This, however, is incompatible with an equilibrium because once b4 = 0+ , C2
would find it profitable to increase b5 so as to obtain a higher position, with a negligible
increase in its payments. On the other hand, if b4 is set so high that C2 does not find
this deviation profitable, then C2 ’s optimal response is to set b5 = 0. But then, a strictly
positive b4 cannot be optimal for C1 . Hence, a pure equilibrium does not exist. 
Part 2 of Theorem 4 shows that this phenomenon emerges whenever two coalitions
have non-top members which occupy contiguous positions in the ordering of valuations.
It is interesting to note that the behaviors behind this phenomenon is nearly identical to
that explained by Edelman and Ostrovsky (2007) in their characterization of the original
Generalized First Price (GFP) auction, under which the market started, to explain the
bidding cycles observed in the data. As discussed earlier, such bidding cycles are considered
to be the main cause for the shift from the GFP to the GSP auction. The fact that a
similar phenomenon emerges here with multiple agencies may thus be seen as a troubling
result for the existing mechanisms, in that it suggests that agency competition, instead of
mitigating the impact of agency bidding, could exacerbate the system’s instability.
From an empirical perspective, these results suggest further directions of research,
since they imply that bidding cycles are more likely to be observed as agency competition
spreads in this market, and especially so for certain configurations of agency membership.

5

Discussion: Related Literature and Extensions

RAE and EBA. Our notion of RAE is closely related to the ‘Equilibrium Binding
Agreements’ of Ray and Vohra (1997, RV hereafter). Given a certain coalition structure,
RV postulate that binding agreements are possible within a coalition. The objective is to
endogenize the collection of agreements such that no subcoalition has an incentive to break
the agreement and separate from the original coalition. Moreover, when considering such
deviations, the subcoalition is ‘farsighted’ in the sense that it does not take the behavior
of the other coalitions as given, nor does she assume that the remaining members of the
coalition will band together. Instead, it tries to predict the coalition structure and the
agreements that would ultimately arise as a result of its deviation. In equilibrium, such
predictions are required to be correct. Because of the ‘farsightedness assumption’, RV’s
equilibrium is defined recursively, as is our RAE.22
RV’s and our approach share the same fundamental philosophy. Like RV, we also
maintain that binding agreements are only possible within the coalition, but the interaction between the agency and the independents, as well as among the independents, is fully
non-cooperative. As in RV, the agency in our model is a proposer of a binding agreement,
22

The idea of ‘farsightedness’ in coalition formation is further explored in Ray and Vohra (1997, 2014).
For an application of this approach to the free-rider problem, see Ray and Vohra (2001). Ray (2008) and
Ray and Vohra (2013) provide thorough discussions of the general approach. Aghion, Antras and Helpman
(2007) have applied similar ideas to problems of international trade.

19

subject to certain stability constraints, which crucially incorporate RV’s farsightedness
assumption. Relative to RV, our approach differs mainly in that our stability restriction
(S.2) only allows agency proposals to be blocked by individual members, whereas RV
allow for any joint deviation of coalition members. That advertisers can make binding
agreements outside the agency, and jointly block its proposals, seems unrealistic in this
context. Hence, a direct application of their concept to this setting seems inappropriate.
Also, unlike RV (in which the non-cooperative interaction is based on Nash equilibrium),
our definition also allows for refinements. As already explained, this is crucial here, especially for the analysis of GSP auction.
Bidding Rings and Partial Cartels. The literature on bidding rings in auctions (e.g.,
Graham and Marshall (1987), Mailath and Zemski (1991), McAfee and McMillan (1992)
Hendricks, Porter and Tan (2008)) also addresses related phenomena, but from a very
different perspective. In particular, the main focus of this literature is on whether members
of the coalition may be incentivized to share their private information so as to implement
collusion, a moot point under EOS’ complete information assumption. Maintaining EOS
and Varian’s complete information setting, we implicitly abstract away the information
extraction problem within the coalition. Furthermore, we don’t allow transfers between
members of the coalition.23 Other mechanisms for collusion have been considered, for
instance, by Harrington and Skrzypacz (2007) and Harrington and Skrzypacz (2011). More
importantly, a key feature of our setting is the co-presence of coordinated and independent
bidding. Combining cooperative and non-cooperative interaction is a well-known challenge
in this literature, which either considered mechanisms in which non-cooperative behavior is
straightforward (e.g., second price auctions with private values, as in Mailath and Zemsky
(1991)), or has assumed that the coalition includes all bidders (as in the first price auctions
of McAfee and McMillan (1992), and Hendricks, Porter and Tan (2008), or in the dynamic
auctions of Ortner and Chassang (2018) in a different setting). The notion of RAE enables
us to combine cooperative and non-cooperative interaction in general mechanisms, even if
non-cooperative behavior is complex. The results above perhaps suggest that the general
concept of RAE (or other concepts based on RV’s approach) may provide a valuable
methodological contribution from a broader theoretical perspective, to overcome some of
the difficulties involved with modeling partial cartels in auctions.
Alternative Competitive Benchmarks. The prior literature has shown that equilibria in the GSP auction, without using the spite move refinement concept of EOS, can be
worse in terms of revenue and efficiency than in the VCG auction. Varian (2007) presents
the EOS equilibrium as a lower bound of a class of NE that he refers to as ’symmetric’
23
Allowing transfers would relax constraint (S.2) in the definition of RAE, and affect our results (for
instance, it may induce inefficiencies even in the VCG mechanism, cf. Example 2). That different advertisers make side-payments to each other seems implausible in this market. If indirect transfers could
be implemented through dynamic effects (e.g., swapping bids for some of its members) or across different
keywords, distinct strategic issues might arise, which would best be studied considering a richer model.

20

NE. He shows that the lower bound on revenues among all NE is generally less than the
revenue bound for the symmetric NE (i.e., the EOS revenues). Borgers et al. (2013) go a
step further and show that inefficient NE will typically exist. Given these negative results
on the GSP outside the EOS equilibrium, one might wonder whether the poor performance
of the GSP auction is due to collusive agency bidding or simply due to the fact that the
equilibrium concept changed somewhat and the spite refinement has no bite anymore.
The response to this concern is that collusive agency bidding is the main driver of the
poor performance of the GSP. First, the behaviors associated with the RAE equilibrium
in the GSP will typically lead to coalition bids that are below what could be sustained in
the revenue minimizing equilibrium of the corresponding competitive game. This is immediately clear when considering, for instance, the situation of coalition bidders occupying
adjacent positions: their bids will typically be so low that the lowest among these coalition
members, if he were to act as an independent, would find it individually profitable to raise
his bid and jump to a higher position. The associated revenue loss therefore is directly
due to agency bidding, and not merely to the possibility of low revenues among the Nash
equilibria other than EOS particular refinement. Second, as we showed in Lemma 1, our
notion of RAE maintains the same individual-level underpinning of EOS refinement, and
in particular the features of EOS concepts which make the GSP ‘work well’. The EOS
allocation and payments are embedded in our model as the end point of the recursion
which defines the outside options of the coalition members. From this viewpoint, the fact
that the VCG outperforms the GSP under the same conditions which – absent agency
coordination – make the GSP perform better than it would if other refinements were considered, strengthens the result on the GSP’s fragility. Obviously, our characterizations do
exploit the specific properties of our EOS-based refinement. Results based on alternative
competitive benchmarks would require altogether different proofs.24 This we think would
be an interesting enterprise for future research, but seems beyond the scope of the present
paper. Nonetheless, as we explained in Section 3, the general notion of RAE lends itself to
this kind of exercises, since it provides a tool to study the effect of agency bidding using
different baseline refinements as plug-in (see also footnote 16).
Endogenous Participation and Alternative Approaches.

An obvious extension

to our approach would be to model bidders’ choice to join the agency explicitly. This
would also be useful from an empirical viewpoint, as it would generate extra restrictions
to further identify bidders’ valuations. Once again, however, the structure of the GSP
24

Varian’s (2007) upper bound symmetric NE has also a recursive structure and, hence, it could be
plugged-in as an alternative to the EOS in our analysis. However, while Varian’s (2007) offers insights on
the type of individual logic that might support behaviors leading to this upper bound, this logic is less
compelling than the one upon which the spite move of EOS is based. The upper bound would be reached
if everyone thinks defensively of squeezing the profit of the player placed right above, but only up to the
point where the player above does not prefer to jump down one position. Other refinements need not have
that structure, and hence may entail significantly different strategy of proofs. However, aside from the
experimental results in Che, Choi and Kim (2017), there is still limited understanding on the behaviours
in the GSP auction, so that our preference is for the modelling approach presented in the text.

21

auction raises non trivial challenges. First, it is easy to see that without an exogenous
cost of joining the agency, the only outcome of a standard coalition formation game would
result in a single agency consisting of the grand-coalition of players. Thus, the ‘obvious’
extension of the model would not be capable of explaining the lack of grand coalitions in
the data. At a minimum, some cost of joining the coalition should be introduced. Clearly,
there are many possible ways in which participation costs could be modeled (e.g., costs
associated to information leakage, management practices, agency contracts, etc.). But
given the still incomplete understanding of digital marketing agencies, it is not obvious
which should be preferable.25 More empirical work is needed on this subject.
Independent of these modeling choices, however, the cost of joining the agency would
ultimately have to be traded-off against the benefit, which in turn presumes solving for
the equilibrium for a given coalition structure. Our work can thus be seen as a necessary
first step in developing a full-blown model of agency formation. Exploring different specifications of such costs, and empirically assessing their relative merits, is thus an important
direction for future research in this area.
Our formulation of the agency problem is also related to the literature on mediators
in games, introduced by Monderer and Tennenholtz (2009) for complete information and
extended by Ashlagi, Monderer and Tennenholtz (2009) to incomplete information, with
an application to position auctions. Within this context, the issue of participation has
been discussed, for instance, by Kalai (2010) and Roth and Shorrer (2018). Finally, a
different approach to agency bidding in the GSP auction is offered in Lorenzon (2018),
which considers a complete information setting in which the agency consists in the grand
coalition of bidders.
Quality Scores. In the variant of the GSP auction run by Google or Microsoft-Bing
(but not, for instance, by Taobao), ‘quality scores’ concur in determining the assignment
of advertisers to slots and prices: advertisers are ranked by the product of their bid and
quality score, and pay a price equal to the minimum bid consistent with keeping that position.26 EOS and Varian (2007) showed how to extend their equilibrium characterization
when quality scores are introduced, and assuming that they are common knowledge.27
Quality scores could be introduced in our model of collusive bidding in a way similar
to EOS and Varian (2007)’s, delivering analogous characterizations of the results above.
25

Moreover, costs need not be symmetric, and hence it may be that an advertisers is willing to join the
coalition, but current members are better-off without him. Whereas the decision to abandon an agency is
unilateral, the decision to join it is not, raising further modeling questions.
26
While an in depth discussion of potential applications to data is beyond the scope of this paper, we
refer to Ghose and Yang (2009) for an empirical model of the Google or Microsoft-Bing type of search
auctions and to Hsieh, Shum and Yang (2018) for the case of Taobao auctions. Neither these two papers
nor others we are aware of in the literature develop methods for estimating an empirical model of the
search auctions in the presence of collusive bidding. This type of analysis is presented in a paper related
to ours, (Decarolis, Goldmanis and Penta, 2018).
27
Competitive bidding with quality scores has also been studied by Athey and Nekipelov (2014), who
introduced introducing uncertainty over quality scores.

22

Such an extension is pursued in (Decarolis, Goldmanis and Penta, 2018) who develop a
criterion to detect various forms of collusion based on the variables which are typically
contained in the datasets available to the auction platforms.

6

Conclusions

This is the first study to focus on the impact of coordinated bidding through intermediaries
in the search auctions. It therefore contributes to the growing need of understanding
both how firms operate on the platforms where online ad space is sold and how these
platforms should be designed. Our results uncover a striking fragility of the GSP auction
to bid coordination.28 Aside from its theoretical interest, this is a first order finding since
most of the online marketing is still passing through GSP auctions. Our findings may
also provide a rationale for why Facebook has recently adopted the VCG and Google is
said to be considering the transition. Shifts between one mechanism and the other are
important both for the large stakes involved and because the proper functioning of this
market is essential for both advertisers to reach consumers and for consumers to learn
about products.
From a methodological perspective, we note that the notion of RAE has been key to
obtain clear results in the complex GSP auction, and more broadly to accommodate the
coexistence of competitive and coordinated bidding. This suggests that our approach,
which combines cooperative and non-cooperative ideas, may be fruitful to address the
important problem of partial cartels, an outstanding challenge in the literature.
Our results are also interesting from a market design perspective. While beyond the
scope of this paper, our analysis suggests some possible guidelines for research in this
area. For instance, our analysis of the GSP auction with ‘undistinguishable coordination’
constraints implicitly suggests a way of deriving reservation prices to limit the impact of
bid coordination. This kind of intervention would thus reinforce the resilience of the GSP
auction, without necessarily entailing major changes in the mechanism. The design of
auction formats more robust to collusion is a challenging task and the new formats that
might emerge could have profound implications on the profitability of one of today’s most
important industries.
Finally, our results have implications for competition policy. For competition authorities, ad auctions might be worth investigations for potential violations of the antitrust
laws, especially in those jurisdictions where price coordination is a violation per se, regardless of any welfare implication. In fact, the multiple activities that DMAs undertake
beyond bid coordination make a priori ambiguous their overall effects on consumers’ welfare. Furthermore, an additional complication is that, in the context of the ad auctions,
bid coordination by a DMA simply requires it to use bid algorithms that optimize joint
28
The empirical analysis in Decarolis, Goldmanis and Penta (2018) shows that even the small two-bidder
coalitions frequently observed in the data can have large effects on revenues.

23

profits of its clients, without the need of any explicit communication. This poses a challenge for those authorities operating under jurisdictions that only sanction explicit (as
opposed to tacit) collusion. In this respect, our analysis offers a clear application of the
novel problems that algorithmic pricing poses for the enforcement of competition policy.

A

Appendix

A.1

Technical Details

As discussed in Section 2 any generic profile b−i = (bj )j6=i in the GSP auction partitions the
1
0
space of i’s bids, R+ , into S + 1 intervals: [0, bS−i ), [bS−i , bS−1
−i ), . . . , [b−i , ∞). Letting b−i ≡
t−1
t
∞ and bS+1
−i ≡ 0, if bidder i bids bi ∈ (b−i , b−i ), then he obtains slot t = 1, . . . , S+1 at per-

click-price bt . If bi is placed at one extreme of such intervals, the allocation is determined by
the tie-breaking rule embedded in the function ρ. The function πi introduced in section 2
can be seen as a corresopndence πi : Rn−1
⇒ {1, . . . , S + 1} such that for each b−i ∈ Rn−1
+
+ ,

t
t
29
πi (b−i ) = arg max t=1,...,S+1 vi − b−i x . To allow for the possibility of ties in the bids
profiles, it is necessary to generalize some of these concepts. In particular, if some of i’s
opponents place equal bids (i.e., b−i = (bj )j6=i is such that bj = bk for some j 6= k), then,
depending on the tie-breaking rule embedded in ρ, some of the S + 1 positions may be
precluded to player i (e.g., if i = 1, and b2 = b3 , if the tie-breaking rule is specified as
in footnote 8, position s = 2 is precluded to player i). In that case, the argmax in the
definition of πi should be taken over the set of positions that are actually accessible to i.
Formally: for any b−i ∈ Rn−1
+ , let
S (b−i ) = {s = 1, ..., S + 1 : ∃bi s.t. ρ (i; bi , b−i ) = s} .
Then, we redefine the function πi : Rn−1
→ {1, ..., S + 1} as follows: for every b−i ∈ Rn−1
+
+
πi (b−i ) ∈ arg max

s∈S(b−i )


vi − bti xt .

Since S (b−i ) is always non-empty and finite, the best responses BRi : Rn−1
⇒ R+
+
defined in Section 2 is well-defined, and so is BRi∗ : Rn−1
⇒ R+ in (2). With these changes
+
to the definition of πi , the rest of the analysis also extends to the case of ties in bids.

A.2

Proofs of the Main Results

All the results are proven for the case in which n = S + 1. The extension to the general
case is straightforward but requires more cumbersome notation.
29

This correspondence is always non-empty valued, and multi-valued only if i is indifferent between two
positions. We can ignore this case here (for instance, assuming that such ties are always broken in favor
of the lower position) and treat πi : Rn−1
→ Π as a function (if not, πi should be thought of as a selection
+
from the correspondence above).

24

A.2.1

Proof of Lemma 1

 
Let b̂ ∈ E ∗ (v). By definition, for any i , ρ (i) = s implies πi b̂−i = s if s ≤ S and
 
π (b )
πi b̂−i = S + 1 if s > S. Hence, b̂−ii −i = b̂s+1 whenever s ≤ S. Now, for any i such
that ρ (i) ≤ S and j s.t. ρ (j) = ρ (i) + 1, the following must hold:
by the optimality of b̂i :
by the condition in (2) for j :






vi − b̂ρ(i)+1 xρ(i) ≥ vi − b̂ρ(i)+2 xρ(i)+1 ;




vj − b̂ρ(i)+2 xρ(i)+1 = vj − b̂ρ(i)+1 xρ(i) .

(11)
(12)

Rearranging, we obtain




vi · xρ(i) − xρ(i)+1 ≥ b̂ρ(i)+1 xρ(i) − b̂ρ(i)+2 xρ(i)+1 = vj · xρ(i) − xρ(i)+1 ,
which implies that vi > vj (since, by assumption, xs > xs+1 for all s ≤ S and vi 6= vj for all
i 6= j). Hence, in equilibrium, the top S bidders are ranked efficiently among themselves.

For the others, for any i such that ρ (i) > S, eq. (2) requires that 0 = vi − b̂i xS , hence
vi = b̂i whenever ρ (i) > S. It follows that b̂i = b̂i for all i (agents bids are efficiently
ranked) and b̂i = vi for all i ≥ S + 1. The equilibrium bid, bi = vi −

xi
xi−1

(vi − bi+1 ), then

follows immediately, applying eq. (2) for all i = 2, ..., S with initial condition b̂S+1 = vS+1 .
The only restriction this entails on b̂1 is that b̂1 > b̂2 . Finally, note that the equilibrium
bid coincides with EOS’ lowest envy free equilibrium (EOS, Theorem 2), and with Varian’s
lower-bound symmetric Nash Equilibrium (Varian (2007), eq.9).
A.2.2

Proof of Theorem 1

We prove the statement by induction on the size of the coalition. The induction basis
is the non-collusive benchmark (i.e., |C| = 1). In this case all players use their dominant
strategies, bi = vi for each i, which clearly ensures vi ∈ (bi+1 , vi−1 ) for all i, and the
equilibrium bids profile is as claimed in the Theorem.
For the inductive step, suppose we have shown that the result holds for all coalitions
C0

such that C 0 ⊆ C. We want to show that it also holds for C. Let i be the lowest bidder

in the coalition, and let r denote his position. Then, his payoff is equal to:
r

ui = vi x −

S+1
X


bt xt−1 − xt .

t=r+1

It is useful to introduce notation to rank independent among themselves, based on their
|I\C|+1−k

valuation. Let vI\C = (vj )j∈I\C , and let vI\C (k) = vI\C

the k-th lowest value independent: for k = 1, vI\C (1) =
|I\C|−1

among the independents, vI\C (2) = vI\C

|I\C|
vI\C

denote the valuation of
is the lowest valuation

is the second lowest valuation among the

independents, and so on. Now, if i is the lowest-bidding member of the coalition, all
players placing lower bids are independents, and therefore bid according to their dominant
25

strategy, bj = vj . This in turn implies that bids in positions t = r + 1, ..., S + 1 are ranked
efficiently between themselves, but it does not guarantee that bt = vt for each t ≥ r + 1,
unless all j ∈ C are such that j ≤ r. Thus, we conclude that bids bt for t = r + 1, ..., S + 1
are placed by the S + 1 − r lowest-valued independents. Hence,
ui = vi xr −

S+1
X


vI\C (S + 2 − t) xt−1 − xt .

(13)

t=r+1

Let us consider the function ũi (k) of i’s payoff, as a function of the position k he occupies,
given that he is the lowest-bidder in the coalition. Let u∗i := maxk ũi (k). Clearly, u∗i ≥ ui .
C\{i}

We show next that, if i 6= max {j : j ∈ C}, then u∗i < ui

(the payoff i would obtain by

leaving the coalition). Hence, the coalition is stable only if the lowest bidding member is
also the member with the lowest valuation.
First we show that ũi is maximized only if i is placed efficiently with respect to the
independents. That is, for any j ∈ I\C, j < i if and only if ρ (j) < r. We proceed by
contradiction: suppose that there exist j ∈ I\C such that either j < i and ρ (j) > r, or
j > i and ρ (j) < r. Consider the first case: Since independents are ranked efficiently
among themselves, for any j, l ∈ I\C, l < j if and only if ρ (l) < ρ (j). It follows that if
there exists j ∈ I\C : j < i and ρ (j) > r, such j can be chosen so that j = r + 1, i.e. j
occupies the position immediately following i’s. We next show that, in this case, i’s payoff
would increase if he dropped one position down. To see this, notice that


ũi (r + 1) − ũi (r) = vi xr+1 − xr + vI\C (S + 1 − r) xr − xr+1


= vI\C (S + 1 − r) − vi xr − xr+1 ,
where vI\C (S + 1 − r) = vr+1 is the valuation of the highest independent if i occupies
position r. Since, by assumption, xr > xr+1 , it follows that

sign (ũi (r + 1) − ũi (r)) = sign vI\C (S + 1 − r) − vi .
Under the absurd hypothesis, vI\C (S + 1 − r) > vi , hence ui increases dropping one
position down. A similar argument shows that in the second case of the absurd hypothesis,
i.e. if there exists j ∈ I\C : j > i and ρ (j) < ρ (i), ui could be increased climbing one
position up, from r to (r − 1). The result obtains considering the difference
ui (r) − ui (r − 1) = br−1 − vi






xr−1 − xr ≤ vI\C (S + 2 − r) − vi xr−1 − xr , (14)

which holds because all bids for positions from ρ(j) down are no higher than bj =
vI\C (S + 2 − r). The final expression is negative under the absurd hypothesis.
We have thus proved that, in equilibrium, for all j ∈ I\C, j < i if and only if ρ (j) < r.
Hence, the lowest coalition bidder is placed efficiently with respect to the independents,
and only independents are below him. Letting J = {j ∈ C : j > i} denote the set of
26

coalition members with values lower than vi , the lowest coalition bidder i therefore occupies
position i + |J |. (Clearly, i occupies the i-th position if and only if J = ∅, i.e. if i, the
lowest bidding member of the coalition, also has the lowest value in the coalition.) But
then, setting r = i + J in eq. (13) , we have that
S+1
X

u∗i = vi xi+|J | −


vI\C (S + 2 − t) xt−1 − xt .

(15)

t=i+|J |+1
C\{i}

We show next that J 6= ∅ implies u∗i < ui

. For any k, let b̄k denote k’s bid in the

equilibrium with coalition C\ {i}. Since, under the inductive hypothesis, the equilibrium
with coalition C\ {i} is efficient, b̄k = b̄k for any k, and hence
C\{i}
ui

S+1
X

i

= vi x −



b̄k xk−1 − xk .

k=i+1

By the inductive hypothesis, the equilibrium with this smaller coalition is as in the
Theorem’s statement. Hence, b̄k < vk−1 for all k ∈ I (if k is an independent, because
he bids b̄k = vk < vk−1 ; if he’s the highest-value member of the coalition, because b̄k ∈

+
b+
k+1 , vk−1 , otherwise b̄k = bk+1 < vk−1 ). We also show that b̄k ≤ vI\C (S +2−k) for all k.
To this end, observe that all k ≥ max {J } are independents (both before and after i drops
out), so that for all k ≥ max {J } , b̄k = vk = vI\C (S + 2 − k): these are the lowest bidding
and the lowest-value bidders, hence also the lowest independents. For k < max {J }, at
least one of the S + 2 − k elements of the set {k, k + 1, ..., S + 1} is a member of the
coalition. It follows that the valuation of the (S + 2 − k)-th lowest independent is higher
than vk , hence vI\C (S + 2 − k) ≥ vk−1 , which in turn implies vI\C (S + 2 − k) > b̄k . Overall,
we have that b̄k < vk−1 and b̄k ≤ vI\C (S + 2 − k) for all k ∈ I. Using the first inequality
for k ≤ i + |J | and the second inequality otherwise, we see that if J 6= ∅,
i+|J |
C\{i}
ui

i

= vi x −

X



b̄k x

k−1

−x

k



S+1
X

−

k=i+|J |+1

k=i+1
i+|J |

> vi xi −

X



b̄k xk−1 − xk

S+1
X



vk−1 xk−1 − xk −



vI\C (S + 2 − k) xk−1 − xk

(16)

k=i+|J |+1

k=i+1

Combining (15) and (16), we get
i+|J |
C\{i}
ui

−

u∗i



i

> vi x − x

i+|J |



−

X



vk−1 xk−1 − x

k=i+1







≥ vi xi − xi+|J | − vi xi − xi+|J | = 0,
where the latter inequality follows because vk−1 ≤ vi for all k ≥ i + 1. Hence, whenever

27

C\{i}

J 6= ∅, we obtain ui < ui

: that is, the recursive stability condition (S.2) is violated

for bidder i. J = ∅ therefore is a necessary condition for equilibrium. Hence, in any
equilibrium, the lowest coalition bidder also has the lowest valuation in the coalition.
C\i

Moreover, if J = ∅, u∗i = ui

(by equations (15) and (16)), hence in equilibrium ui = u∗i

and i = ρ (i):
ui = vi xi −

S+1
X



C\{i}
vk xk−1 − xk = ui
.

(17)

k=i+1

Furthermore, since the payment of coalition members above i is strictly decreasing in
bi and positions are independent of bi (as long as bi ∈ (bi+1 , bi−1 )), the coalition will set
+
bi as low as possible to ensure i’s efficient position. That is, bi = b+
i+1 = vi+1 .

We have determined the positions and bids of all bidders k ≥ i. We know that
the remaining coalition members are positioned above these bidders and do not affect
ui . Thus, the remaining task for the coalition is to choose bids (bj )j∈C\{i} in order to
P
maximize j∈C\{i} uj , subject to the constraint that bj > bi for all j ∈ C\ {i}. We now
need to look separately at two cases: |C| = 2 and |C| > 2.
First, if |C| = 2, the task is simply to maximize the payoff of the other member of
the coalition, j, by determining his position relative to the remaining independents. But
this, by the usual argument, is achieved when j is placed efficiently with respect to these
independents. This is achieved if and only if bj ∈ (bj+1 , vj−1 ).
Second, if |C| > 2, note that even when one of the members j ∈ C\ {i} drops out, i
still remains a non-top member of the coalition. Hence, its bid does not change. Naturally,
the bids of all k > i (who are independents) do not change either. Hence, the payoffs of
all bidders k < i both before and after one of the coalition members (other than i) drops
out are shifted by the same constant relative to a game in which the bidders k ≥ i (and
the corresponding slots) are removed: thus, the presence of these bidders has no effect on
either the payoffs or the outside options. It follows that the problem we are solving at this
stage is exactly equivalent to finding the equilibrium in the VCG game played between
coalition C\ {i} and independents {j ∈ I\C : j > i} with slots x1 , ..., xi−1 . This game has
coalition size C − 1, so the solution follows by the inductive hypothesis.
A.2.3

Proof of Theorem 2

Since the UC-restrictions imply the stability restriction (S.1), the agency’s problem in the
GSP auction with the feigned values restriction reduces to:

max uC (bC , β ∗ (bC ))
bC

|C|

0
0
subject to : (R) ∃vC
∈ R+ s.t. (bC , β ∗ (bC )) ∈ E ∗ vC
, vC
C\{i}

: (S.2) ∀i ∈ C, ui (bC , β ∗ (bC )) ≥ ūi

28

.



where the equilibrium conjectures β ∗ are such that,
n
o
n−|C|
∀bC , β ∗ (bC ) ∈ b∗−C ∈ R+
: ∀i ∈ I\C, b∗i ∈ BRi∗ bC , b∗−i,−C .
Let ∼ be an equivalence relation on Rn+ such that v ∼ v 0 (resp., b ∼ b0 ) if and only if
v and v 0 only differ in the highest valuation (resp., highest bid), but not in the identity
of the highest valuation individual (bidder).30 For any v ∈ Rn+ , let [v] (resp., [v] ) denote
the equivalence class of v (resp., b) under this equivalence relation, and let V∼ (resp., B∼ )
denote the set of such equivalence classes. Next, consider the competitive equilibrium
correspondence E ∗ : Rn+ ⇒ Rn+ , which assigns to each profile v ∈ Rn+ the set E ∗ (v) of
competitive equilibria in the GSP auction. Denote the set of equivalence classes under ∼
on the range of E ∗ as E ∗ (V∼ ) ⊆ V∼ , and let E ∼ : V∼ → E ∗ (V∼ ) denote the function
induced by E ∗ . Lemma 1 implies that E ∼ is a bijection. Further note that the payoffs of
all bidders in the GSP with bids E ∗ (v) are the same as in the VCG with truthful bids:
for all v ∈ Rn+ and i ∈ I, uVi (v) = uGi (E ∗ (v)).

(18)

Since E ∼ is a well-defined function on the equivalence classes of ∼, the profile of valu0 in the restriction (R) uniquely pins down (b , b∗ ) ∈ E ∗ (v 0 , v
ation vC
C −C
C −C ) up to the
0 ,v
∗
highest overall bid. That is, (bC , b∗−C ), (b0C , b0−C ) ∈ E ∗ (vC
−C ) if and only if (bC , b−C ) ∼
0 ,v
(b0C , b0−C ). Together with (18), this implies that uGi (bC , b∗−C ) = uVi (vC
−C ), so that also
0 ,v
uGC (bC , b∗−C ) = uVC (vC
−C ). As a result, we can now easily recast the coalition’s problem
0 (the coalition’s ‘feigned valuations’):
as one of choosing vC
0
max
uVC vC
, v−C
0



vC


C\{i}
0
subject to : (S.2) ∀i ∈ C, uVi vC
, v−C ≥ ūi
.
∗
(Notice that the restriction (R) and the restriction that β ∗ (bC ) always be in the set BR−C

are both built in this formulation of the problem.) In the following, we let ūC
i denote
bidder i’s payoff when the coalition is C in the GSP game being studied, while ūC;V
i
denotes the same object in the corresponding VCG game. With this in in mind, note
C;V
that ūC
for all i when |C| = 1, and the recursion defining ūC
i = ūi
i is identical to that

defining ūC;V
. It follows that the coalition’s problem is now equivalent to its problem in
i
0∗ is unique up to the report of the highest
the VCG game. By Theorem 1, the solution vC
0∗
coalition member, vmin(C)
.
0∗ , v
Finally, by (R), the UC-RAE of the GSP satisfies (b∗C , β ∗ (b−C )) ∈ E ∗ (vC
−C ). Hence

all bidders’ positions and payoffs in this GSP equilibrium are the same as in the unre0∗ , v
stricted RAE of the VCG, (vC
−C ). Because the ordering of bidders in the RAE of the

VCG is efficient (Theorem 1), so is the ordering of bidders in the the UC-RAE of the GSP.
Formally: v ∼ v 0 if and only if the following two conditions hold: (1) arg maxi∈I vi = arg maxi∈I vi0 ;
(2) vi = vi0 for all i 6= arg maxi∈I vi .
30

29

However, because v 0∗ is unique only up to the highest coalition bid, (b∗C , β ∗ (b−C )) is not
uniquely defined: there exists a continuum of equilibria differing in the payments of all
0∗
0∗
bidders above the highest coalition bidder: for each vmin(C)
∈ (vmin(C)+1
, vmin(C)−1 ), there

exists one equivalence class of UC-RAE of the GSP, [(b∗C , β ∗ (b−C ))]. Because E ∗ is unique
only up to the highest overall bid, there also exist a continuum of equilibria yielding the
same payoffs and positions, but differing in the highest overall bid, within each [b∗ ]. In
this sense, the equilibrium is unique up to the highest coalition and overall bids.
A.2.4

Proof of Theorem 3

The claim about the possibility of strict ordering in revenues is proven by Example 6 in
the text. Here we prove the general claims about existence, uniqueness and weak ordering.
The proof is by construction, and it is based on the following intermediate result.
Lemma 2 Fix C ⊂ I, and let K be a finite index set. Let
(k)
b−C

bid profiles such that, for each k ∈ K,
∈


(k)
n
Define L b
≡ b̂ ∈ R+ as follows:
k∈K

(k)
BR ∗−C (bC )

and



b(k)

be a collection of

k∈K
ρ(i; b(k) ) =

i for each i ∈ I.


(k)

if i ∈ C

 b̂i = mink∈K bi
b̂i = hvS+1
if i = S + 1 ∈
/C ;
b̂i =
i

Pc̄(i)−1

1
j−1
j
c̄(i)−1
 i−1
vj (x
− x ) + b̂c̄(i) x
otherwise
j=i
x
where c̄ (i) := min {j ∈ C | j > i} if i < max C and c̄ (i) = S + 1 otherwise.
Then: (i) ρ(i; b̂) = i ∀i ∈ I; (ii) ui (b̂) ≥ ui (b(k) ) for all i ∈ I and for all k ∈ K, with
(k)

strict inequality whenever b̂c̄(i) 6= bc̄(i) ; (iii) uC (b̂) ≥ uC (b(k) ) for all k ∈ K, with strict
(k)

inequality whenever ∃i ∈ C\ min C such that bi

6= b̂i ; (iv) b̂−C ∈ BR ∗−C (b̂C ).

Proof of Lemma 2
(k)

(k)

We begin by noting that because for each k ∈ K, b−C ∈ BR ∗−C (b−C ) and ρ(i; b(k) ) = i
for each i ∈ I, we have that ∀k ∈ K, i ∈
/ C s.t. i 6= S + 1,




c̄(i)−1

(k)

bi
(k)

and bi

=

1 
xi−1

X

(k)

vj (xj−1 − xj ) + bc̄(i) xc̄(i)−1  ,

j=i

= vS+1 if i = S + 1 ∈
/ C (c̄ (i) is defined in the statement in the Lemma.)

The following two key observations are now immediate:
(k)

(k)

1. For every k ∈ K and for every i ∈ I, b̂i ≤ bi : For i ∈ C, b̂i ≤ bi

by the definition
(k)

of coalition bids in the statement of the lemma. For i = S + 1 ∈
/ C, b̂i = vS+1 = bi
(k)

(k)

(the second equality is because the Lemma requires b−C ∈ BR ∗−C (bC )). Finally, for

30

i∈
/ C s.t. i 6= S + 1,




c̄(i)−1

b̂i =

1 
xi−1

X





c̄(i)−1

vj (xj−1 − xj ) + b̂c̄(i) xc̄(i)−1  ≤

j=i

1 
xi−1

(k)

X

(k)

vj (xj−1 − xj ) + bc̄(i) xc̄(i)−1  = bi ,

j=i

where the inequality follows because, by definition, c̄ (i) ∈ C ∪ {S + 1} and hence
(k)

(k)

b̂c̄(i) ≤ bc̄(i) ). Note that the inequality is strict whenever b̂c̄(i) 6= bc̄(i) .
(k)

2. For each i ∈ I, there exists k ∈ K such that bi = bi . For i ∈ C this is immediate
(k)

from the definition. For i = S + 1 ∈
/ C, b̂i = vS+1 = bi

for all k (cf. previous

point). For i ∈
/ C s.t. i 6= S + 1, the result follows because c̄ (i) ∈ C ∪ {S + 1}, hence
(k)

there exists k ∈ K such that b̂c̄(i) = bc̄(i) , so that

b̂i =



c̄(i)−1
1 X
vj (xj−1 − xj ) + b̂c̄(i) xc̄(i)−1  =

xi−1

j=i



c̄(i)−1
1 X
(k)
(k)
vj (xj−1 − xj ) + b xc̄(i)−1  = b ,

xi−1

i

c̄(i)

j=i

We can now establish the lemma’s results:
(i) ρ(i; b̂) = i for all i ∈ I: Let i, j ∈ I be s.t. i < j. We show that b̂i > b̂j . By point
(k)

2 above, there exists k ∈ K such that b̂i = bi . Because, by assumption, b(k) is ordered
(k)

efficiently, bi

(k)

(k)

> bj . By point 1, bj

(k)

≥ b̂j . Hence, b̂i = bi

(k)

> bj

≥ b̂j , as desired.
(k)

(ii) ui (b̂) ≥ ui (b(k) ) for all i ∈ I and all k ∈ K, with strict inequality if b̂c̄(i) 6= bc̄(i) :
Because i obtains its efficient position under both b̂ (established in (i)) and b(k) (given),
(k)

ui (b̂) = (vi − b̂i+1 )xi ≥ (vi − bi+1 )xi = ui (b(k) ),
(k)

where the inequality holds because b̂i+1 ≤ bi+1 by point 1 above, with strict inequality if
(k)

b̂c̄(i) 6= bc̄(i) , as noted at the end of point 1.
(iii) uC (b̂) ≥ uC (b(k) ) for all k ∈ K, with strict inequality whenever ∃i ∈ C\ min C
(k)

such that bi
(k)
bi

6= b̂i : The weak inequality follows immediately from part (ii). Now, suppose

6= b̂i for some i ∈ C\ min C, and let j = max {k ∈ C|k < i} be the coalition member

directly above i in the ranking of valuations. Then c̄ (j) = i, so that by the strict inequality
part of result (ii), uj (b(k) ) < uj (b̂). Since uj 0 (b(k) ) ≤ uj 0 (b̂) for all other terms in the sums
defining uC (·), this completes the proof for strict inequality.
(iv) b̂−C ∈ BR ∗−C (b̂−C ): The LREF condition holds by construction. We must simply
prove the Nash condition, i.e., that each i ∈
/ C (weakly) prefers position i to position j
for all j 6= i. Define j 0 = j + 1 if j > i and j 0 = j if j < i. Note that if bidder i deviates
to position j 6= i under bid profile b̂, it gets payoff (vi − b̂j 0 )xj . By the observation in
(k)

(k)

point 2 above, there exists some k such that b̂j 0 = bj 0 , so that (vi − b̂j 0 )xj = (vi − bj 0 )xj .
(k)

(k)

Because b−C ∈ BR ∗−C (b−C ) and ρ(i; b(k) ) = i, i cannot profitably deviate from position i
(k)

(k)

to position j 6= i under bid profile b(k) , i.e. (vi − bj 0 )xj ≤ (vi − bi+1 )xi . Finally, by point

31

(k)

(k)

1 above, bi+1 ≥ b̂i+1 , so that (vi − bi+1 )xi ≤ (vi − b̂i+1 )xi . Putting these results together,
(k)

(k)

(vi − b̂i+1 )xi ≥ (vi − bi+1 )xi ≥ (vi − bj 0 )xj = (vi − bj 0 )xj .
That is, bidder i cannot profitably deviate to position j 6= i under bid profile b̂, as desired.
This concludes the proof of the Lemma.
Armed with this Lemma, we can now prove Theorem 3. We begin with existence and
weak ordering of revenues, using induction on the coalition’s size, C. For the induction
basis, we use |C| = 1. Both existence and weak order now hold trivially, as both the
efficiency-constrained RAE of the GSP and the RAE of the VCG mechanism are equal to
the LREF equilibrium by definition.
For the inductive step, we fix C and suppose that for all coalitions of size |C| − 1
Eff-RAE exist, then we show that Eff-RAE also exists for C, and that in each of these
RAE the coalition’s surplus is no lower than in any RAE of the VCG mechanism, while the
auctioneer’s revenue is no higher than in a corresponding RAE of the VCG mechanism.
Fix C, and let bU C ∈ Rn+ be the bids in the UC-RAE of the GSP auction with the
same coalition C, in which the top coalition member is placing the highest possible bid
(this exists, it is efficient and unique by Theorem 2). Observe that because of the bijection
between UC-RAE of the GSP auction and unconstrained RAE of the VCG mechanism
(established in Theorem 2), we can use the coalition’s surplus in the GSP auction with
bids bU C as our reference point. Next, note that, for any bC , the beliefs β ∗ (bC ) in any EffRAE of the GSP auction are uniquely determined by the Varian/EOS recursion. Hence, a
complete Eff-RAE, (b∗ , β ∗ ) ∈ Rn+ × B ∗ , if it exists, is in fact fully determined by b∗C ∈ RC
+.
We now proceed to prove that such a b∗C exists by constructing a candidate profile.
For each i ∈ C, let b(i) be the bids in an Eff-RAE with coalition
C\ {i}

 (these exist
(0)
U
C
(i)
under the inductive hypothesis). Let b = b . Let b̂ = L b i∈C∪{0} , where L is
as defined in Lemma 2. Now, by results (i) and (iv) of Lemma 2, we have ρ(i; b̂) = i for
EF F . By result (ii) of Lemma 2,
all i ∈ I and b̂−C ∈ BR ∗−C (b̂C ). It follows that b̂C ∈ RC
C\{i}

ui (b̂) ≥ ui (b(k) ) for each i. Moreover, by construction, ui (b(k) ) = ūi

for each i ∈ C,

hence profile b̂ satisfies the recursive stability condition. It follows that b̂C is a valid bid
vector for coalition C trying to achieve an Eff-RAE and that b̂−C = β ∗ (b̂C ), where β ∗
are the unique beliefs consistent with Eff-RAE. Maintaining the assumption of finite bid
increments, as in Theorems 1 and 2, the coalition is therefore maximizing over a nonempty, finite set of valid bid vectors, so that a maximum, b∗C , exists. Thus, an efficiency
constrained RAE for coalition C exists (and is equal to ((b∗C , β ∗ (b∗C )), β ∗ )).
Now the weak ordering of coalition surplus is immediate: Result (iii) of Lemma 2
implies uC (b̂) ≥ uC (bU C ), and clearly the optimal bid profile (b∗C , β ∗ (b∗C )) must satisfy
uC (b∗C , β ∗ (b∗C )) ≥ uC (b̂). It follows that uC (b∗C , β ∗ (b∗C )) ≥ uC (bU C ).
Next, we establish the ordering for the auctioneer’s revenues. We first show that, in
the Eff-RAE (b∗ , β ∗ ), the bid of coalition members other than the highest-valuation is
32

weakly lower than in b̂. To this end, suppose that there exists some i ∈ C\ min C such
that b∗i > b̂i . Let b0 = L({b∗ , b̂}). By part (i) of Lemma 2, b0C is still a valid bid vector for
the coalition, whereas part (iii) implies uC (b0C , β ∗ (b0C )) > uC (b∗C , β ∗ (b∗C )) which contradicts
the optimality of b∗C . We thus conclude that b∗i ≤ b̂i for all i ∈ C\ min C.
Because the independents’ bids are fixed by the recursion under both b̂ and b∗ , we
C for all i ∈ I,
know that in fact b∗i ≤ b̂i for all i > min C. Because by construction b̂i ≤ bU
i
C for all i > min C. If min C = 1, this completes the proof that the
we thus have b∗i ≤ bU
i

auctioneer’s revenues are weakly lower under b∗ than under bU C . If min C > 1, we need to
show that even the top coalition bidder in b∗ cannot bid more than this bidder’s maximum
C
possible UC-RAE bid. Because bU
min C is the maximum bid that the top coalition bidder

can place in a UC-RAE, it is equal to (cf. Theorem 2)
C
bU
min C = vmin C−1 −


xmin C
C
vmin C−1 − bU
min C+1 .
min
C−1
x

C
If b∗min C > bU
min C , then the independent above the top coalition member obtains a payoff
C
min C−1
C
min C
U0 = (vmin C−1 −b∗min C )xmin C−1 < (vmin C−1 −bU
= (vmin C−1 −bU
,
min C )x
min C+1 )x
C
where the last inequality follows by substituting in the expression for bU
min C from above.

Dropping one position down this independent would obtain
C
min C
U 0 = (vmin C−1 − b∗min C+1 )xmin C ≥ (vmin C−1 − bU
> U0 ,
min C+1 )x
C for all i > min C, as established
where the first inequality follows because b∗i ≤ bU
i

above. Thus this independent has a profitable deviation; a contradiction. We conclude
C
∗
U C for
that b∗min C ≤ bU
min C . But then, by the independents’ recursion, we also have bi ≤ bi
C for all i > min C, we have
all i ≤ min C. Because we already knew that the b∗i ≤ bU
i

established that all bids in b∗ are weakly lower than in bU C , which completes the claim
about the auctioneer’s revenues.
Next, we show that the Eff-RAE is unique up to the highest coalition bid. To this
end, fix some coalition C ⊆ I and let bR1 and bR2 be two (possibly equal) Eff-RAE for
C. Let b̂ := L({bR1 , bR2 }). By results (i), (iii) and (iv) of Lemma 2, b̂ is still efficiently
∗ (b̂ ), so that b̂ is in the set of permitted bids for the coalition in
ordered and b̂−C ∈ BR−C
C
C

the efficiency-constrained problem without the recursive stability restriction, with b̂−C ∈
β ∗ (b̂C ). Furthermore, by result (ii) of Lemma 2, each coalition member is at least as
well off under b̂ as under bR1 and bR2 . Therefore, the fact that bR1 and bR2 satisfy the
R2
recursive stability condition implies that so does b̂. The optimality of bR1
C and bC in this

set therefore implies that uC (b̂) ≤ uC (bRk ) ∀k ∈ {1, 2}. But result (iii) of Lemma 2 then
R2
implies that b̂i = bR1
i = bi for all i ∈ C\ min C.
R2
Combining these results yields bR1
i = bi = b̂i for all i ∈ C\ min C. Because coalition

bids also uniquely determine independents’ bids, the Eff-RAE is thus unique up to the

33

highest coalition bid. This completes the proof.

A.3

Multiple Agencies

A.3.1

Formal definition

We consider the case with two SEMAs, which coordinate the bids of subsets C1 , C2 ⊆ I of
bidders, s.t. C1 ∩C2 = ∅. Similar to the baseline notion with a single SEMA, the definition
of RAE with multiple agencies is recursive, with the outside option of coalition member
i ∈ C1 being defined as his equilibrium payoff in the game with coalitions (C1 \ {i} , C2 ).
Hence, the recursion in the RAE with multiple coalitions involves, for every Cg , a recursion
similar to the one for the single SEMA, but with initial condition set by the RAE in which
C−g is the only coalition.
Let G (v) = (Ai , ui )i=1,...,n denote the baseline game (e.g., GSP or the VCG), given the
profile of valuations v = (vi )i∈I . For any C1 , C2 ⊆ I with |Cg | ≥ 2 and C1 ∩ C2 = ∅, we let
C := C1 ∪ C2 . For each g = 1, 2, coalition Cg chooses a vector of bids bCg = (bj )j∈Cg ∈
×j∈Cg Aj , and let bC = (bC1 , bC2 ). Given bC , independents i ∈ I\C simultaneously choose
bids bi ∈ Ai . We let b−C := (bj )j∈I\C and A−C := ×j∈I\C Aj . Given profiles b or b−C ,
we let b−i,−C := (bj )j∈I\C:j6=i . As above, each SEMA maximizes the sum of the payoffs of
P
its members, uCg (b) := i∈Cg ui (b), under the three constraints from the single-agency
model, given conjectures about both the independents and the other coalition.
Stability-1: (Stability w.r.t. Independents) For any i ∈ I\C, let BRi∗ : A−i ⇒ Ai ,
∗
: AC ⇒ A−C and SC be defined as in the single-agency case (except now C =
BR−C

C1 ∪ C2 .) For each agency Cg , we let

SCg = bCg ∈ ACg : ∃bC−g ∈ AC−g s.t.


bCg , bC−g ∈ SC ,

Stability-2: ((Recursive) Stability w.r.t. Coalition Members) Let B ∗ be defined
as in the single-agency case. Letting E R (C1 , C2 ) denote the set of Recursively Stable
Agency Equilibrium (RAE) outcomes of the game with coalitions C1 and C2 , given re
strictions R (and refinement BRi∗ ), we initialize the recursion setting E R Cg0 , C−g =
E R (C−g ) if |Cg0 | = 1 (that is, if an agency controls only one bidder, then the RAE are

the same as when there exists only the other agency). Suppose next that E R Cg0 , C−g
has been defined for all subcoalitions Cg0 ⊂ Cg . For each i ∈ Cg , and Cg0 ⊆ Cg \ {i},
C 0 ,C−g

let ūi g

C

ui ≥ ūi −g

= minb∈E R (C 0 ,C−g ) ui (b). The second stability requirement therefore requires
g

\{i},Cg

. Finaly,
we define the set of ‘Rational Conjectures’ about the
n
o Opponent
S
C (b ) for all b
Coalition as Bg∗ = βg ∈ (AC−g ) Cg : βg (bCg ) ∈ BR−g
Cg
Cg ∈ S Cg , where

34


C (b ) 6= ∅ , and
S Cg = bCg ∈ SCg : BR−g
Cg
C
BR−g
(bCg ) = arg max uC−g bCg , bC−g , β bCg , bC−g



bC−g

subject to : (R) (bCg , bC−g ) ∈ RC
: (S.1) (bCg , bC−g ) ∈ SC
: (S.2) for all i ∈ C−g , ui bCg , bC−g , β bCg , bC−g



C

≥ ūi −g

\{i},Cg

Definition 4 A Recursively Stable Agency Equilibrium (RAE) of the game G with coalition structure (C1 , C2 ), given restrictions R and independents’ equilibrium refinement
BR∗ , is a profile of bids and conjectures (b∗ , β ∗ , β1∗ , β2∗ ) ∈ AC × B ∗ × B1∗ × B2∗ such that:

1. The independents play a mutual best response: for all i ∈ I\C, b∗i ∈ BRi∗ b∗−i .
2. The conjectures of the agencies are correct and consistent
with the exogenous restric 

tions: β ∗ (b∗C ) = b∗−C , and, for each g ∈ {1, 2}, βg∗ b∗Cg = b∗C−g , and bCg , βg∗ (bCg ), β ∗ bCg , βg∗ (bCg ) ∈
R (C) for all bCg ∈ RCg .
3. Each agency best responds to the conjectures β ∗ and βg∗ , given the exogenous restrictions
(R) and the stability restrictions about the independents and the coalition members (S.1
and S.2, respectively): For each g = 1, 2

b∗Cg ∈ arg max uCg bCg , βg∗ (bCg ), β ∗ bCg , βg∗ (bCg )



bCg

subject to : (R) ( bCg , βg∗ (bCg ), β ∗ bCg , βg∗ (bCg )
: (S.1)

bCg , βg∗ (bCg ), β ∗



∈ RC

∈ SC

bCg , βg∗ (bCg )

: (S.2) for all i ∈ Cg , ui bCg , βg∗ (bCg ), β ∗ bCg , βg∗ (bCg )



C \{i},C−g

≥ ūi g

The set of RAE outcomes for the game with coalitions (C1 , C2 ) (given BR∗ and RC )
is:
E R (C1 , C2 ) = {b∗ ∈ A : ∃β ∗ , β1∗ , β2∗ s.t. (b∗ , β ∗ , β1∗ , β2∗ ) is a RAE} .

(19)

Note that the definition above does not uniquely pin down the the bid of the top bidder
of the “lower” coalition. To remove this ambiguity, in the following we break these ties
by making this coalition member bid as if it were an independent, whenever such bids are
still in the optimal set.
A.3.2

Proof of Theorem 4

We prove the theorem by providing a precise characterization of the RAE in the VCG
and the UC-RAE of the GSP. That is, we show that with two coalitions, C1 and C2 , the
following statements hold:
35

1. If in the overall value ranking no member of one coalition is adjacent to a member
of the other coalition, then:
(a) There exists a unique RAE of the VCG mechanism. In this equilibrium, the bid
profile b̂V is such that

v
i
b̂Vi =
(b̂V )+
i+1

if i ∈ (I\C) ∪ min C1 ∪ min C2 ;

(20)

if i ∈ C\ {min C1 ∪ min C2 } and i ≤ S;

where v0 := ∞ and b̂Vn+1 := 0.
(b) There exists a unique UC-constrained RAE of the GSP auction. In this equilibrium, for every i,
f
b̂G
i = vi −


xi  f
v
−
b̂
i+1 ,
xi−1 i

where vif is equal to bidder i’s bid (reported value) in the VCG mechanism (as
described in Statement 1 above): vif = b̂Vi .
2. If in the overall value ranking a non-top member of one coalition is directly above a
non-top member of the other coalition (i.e., there exist i and i + 1, such that i ∈ Cj ,
i + 1 ∈ Cj 0 , j 6= j 0 , i 6= min Cj , and i + 1 6= min Cj 0 ), then no unconstrained RAE of
the VCG and no UC-RAE of the GSP exist.
Below, we prove the results for the VCG (statement 1(a) and the VCG part of statement 2 above). The proofs of the GSP results are analogous.
First we show that, regardless of whether there are or are not adjacencies in the value
rankings, an arrangement like that in statement 1(a) is the only possible RAE of the VCG.
We then show that this candidate is in fact an equilibrium when there are no adjancies,
but not when there are adjacencies involving non-top bidders.31
Before proceeding to the proof, it pays to make two observations about the bestresponse correspondences BRgC :
Observation 1: The best-response function of any coalition requires that each nontop member of the coalition bid just above the bid below. Formally, let i ∈ Cg \ min Cg
and let b be such that bCg ∈ BRgC (bC−g ). Then bi = (bρ(i)+1 )+ .
Proof of Observation 1: Suppose bi 6= (bρ(i) )+ , and let δ = bi − bρ(i) . Now note
that in the definition of BRgC , coalition g takes the bids of the other coalition (and the
31
Compared to the single agency case, the part of the proof that parallels Theorem 1 has two complications. First, the placement of the highest bidder of the the coalition that does not have the top overall
bidder requires some additional technicality, as this placement is not only relative to independents but
also relative to the other coalition’s bidders. Second, the candidate equilibrium produced by the recursion
still needs to be verified, because the recursive procedure does not guarantee that a coalition’s bidders
are best-responding to those bidders of the rival coalition that are placed below them. It is precisely this
verification step that will yield the fundamental difference between the cases with and without members
from different coalitions that are adjacent in the value ranking.

36

independents) as fixed. Thus, lowering bi to bρ(i)+1 + δ/2 < bi does not change the
allocation, but reduces the payments of all higher-ranked members of Cg by (δ/2)(xρ(i)−1 −
xρ(i) ) > 0, and is therefore a profitable deviation for Cg , a contradiction. 
Observation 2: The best-response function of any coalition requires that no member of the coalition (top or non-top) be placed above a bidder bidding higher than this
member’s value. Formally, if i ∈ Cg and bCg ∈ BRgC (bC−g ), then vi ≥ bρ(i)+1 .
Proof of Observation 2: Suppose vi < bρ(i)+1 ), and consider the deviation where Cg
bi to (bρ(i)+1 )− . Note that this deviation improves i’s individual payoff by (bρ(i)+1 −
vi )(xρ(i) − xρ(i)+1 ) > 0. Also observe that the deviation decreases the payments of higherranked coalition members (if any) by (bi − bρ(i)+1 )(xρ(i)+1 − xρ(i) ) > 0. Thus, the deviation
is unambiguously profitable for the coalition. 
With these observations in hand, we proceed to the proof of Theorem 4.
As in Theorem 1, the proof is by recursion on the overall size of the coalition, |C| =
|C1 | + |C2 |. The induction basis is the case of no coalitions (|C| = 2, i.e., |C1 | = |C2 | = 1),
for which the result holds trivially, by EOS. For the inductive step, we first look at the
overall lowest placed coalition bidder, i. The same argument as in the proof of Theorem 1
shows that, due to the recursive stability condition, this bidder is in fact the lowest-valued
bidder among all coalition bidders (i = max(C1 ∪ C2 )) and that it must occupy its efficient
position (ρ(i) = i). The rationale is the same as in Theorem 1: because there are only
independents below this bidder, j cannot be compensated by the rest of the coalition for
taking an inefficient position (which the individually bidder prefers). Furthermore, by
+
Observation 1 above, bi = vi+1
.

Just as in the proof of Theorem 1, after fixing the lowest coalition bidder’s bid, we can
essentially remove this bidder and all lower-valued independents from the analysis and
proceed to the next-lowest placed coalition bidder. Unless this bidder is the top bidder
of a coalition, the same argument as in the proof of Theorem 1 again applies to show
the bidder is placed in its efficient position. In addition, by Observation 1, it is bidding
just above the value of the bidder just below. We then move to the next-lowest-placed
coalition bidder.
Now, suppose we reach the top bidder of some coalition, bidder i. As in Theorem 1,
this bidder must simply set its bid so as to maximize its own payoff (as there are no other
coalition members above, whose payoffs it would affect). As in Theorem 1, this bidder
cannot be placed directly above a higher-valued independent or directly below a lowervalued independent, by the standard EOS argument (e.g., when placed directly above j
with vj > vi , i can increase its payoff by ∆x(vj − vi ) > 0 if it drops one position down).
Unlike Theorem 1, however, this does not necessarily guarantee the efficient placement
of i, as i could be placed directly below a lower-valued member of the other coalition
(i cannot be placed above a higher-valued member of the other coalition, because, by
construction, i is the lowest-placed remaining member of C, with all previous members
placed in their efficient positions).

37

To rule out this remaining possibility, suppose i is placed directly below the other
coalition’s member j, with vi > vj . By Observation 1, this means that bi < vj < vi . But
consider the deviation where bidder i’s bid is changed to b0i = vj+ > bi (note also that
b0i < vi because vi > vj ). By Observation 2, this deviation causes the other coalition to
move bidder j (and any other members with with values below b0i ) below bidder i, reducing
their bids to no more than b0i . Consequently, bidder i gains at least one position, which
happens at a price that is less than vi . Therefore, bidder i’s payoff increases by (at least)
0ρ(i)−1

(vi − bi

− xρ(i) ) > 0. The deviation is thus profitable.

This completes the proof that the top bidder of each coalition must occupy its efficient
position and will therefore bid its true value (by the assumed equilibrium selection).
We now can repeat the above arguments for all remaining coalition bidders until all
of their bids are fixed. We have thus proved that the only possible equilibrium has all
bidders placed efficiently, with bids as specified in the theorem statement.
We next verify that this candidate is in fact an equilibrium when no members of
different coalitions are adjacent. Note that for the top bidders of both coalitions this
is equivalent to checking that they do not have any individually profitable deviations
(because their bids and positions relative to bidders outside of their coalition do not
affect the payoffs of the other members off their coalition), and for non-top bidders any
deviation must also be weakly profitable individually, as they are already held to their
outside options in the candidate equilibrium. Also, because inefficient reversals within a
coalition are never profitable for the coalition, we need to consider only deviations that
preserve ranking within a coalition. Now, for deviations upward consider any coalition
bidder i such that the bidder directly above is not a member of the same coalition. If
i is its coalition’s top bidder, then bi = vi and hence bj > bi = vi for all bidders above
i. Then the standard EOS argument shows that i does not have a profitable deviation
upwards. If i is not a top bidder, then, by assumption, the bidder directly above i (that is,
bidder i − 1) is a higher-valued independent, so bi−1 = vi−1 > vi , and again bj ≥ bi−1 > vi
for all bidders above i. The standard EOS argument again shows that i does not have
a profitable deviation upwards. For deviations downward consider any coalition bidder
i such that the bidder directly below is not a member of the same coalition. If i is its
coalition’s top bidder, then bi = vi and hence bj < bi = vi for all bidders below i. Then
the standard EOS argument shows that i does not have a profitable deviation downwards.
If i is not a top bidder, then, by assumption, the bidder directly below i (that is, bidder
i + 1) is a lower-valued independent, so bi+1 = vi+1 < vi , and again bj ≤ bi+1 < vi for
all bidders below i. The standard EOS argument again shows that i does not have a
profitable deviation downwards. This completes the proof of the theorem.
Finally, we show that there is no equilibrium if there are any cases where non-top
members of different coalitions are adjacent to each other. That is, suppose that vi ∈ Cj
and vi+1 ∈ Ck 6= Cj , with vi 6= min Cj and vi+1 6= min Ck . By the first part of the
proof, we know that the only candidate equilibrium has i and i + 1 placed in their efficient

38

+
positions, with bi+1 = b+
i+2 < vi+1 and bi = bi+1 < vi+1 (recall that the statement about

the magnitudes of the bids follows from Observation 1 about the best-response functions).
However, it is obvious that bi+1 is not a (static) best response to bi : if, holding bj fixed, Ck
i
i+1 ) > 0,
deviates to setting b0i+1 = b+
i , i+1’s individual payoff increases by (vi+1 −bi )(x −x

without perceptibly increasing the payoff of other members of Ck . Thus, bi+1 ∈
/ BRk (bCj ),
i.e., we are not in a RAE.

References
Allouah, Amine, and Omar Besbes. 2017. “Auctions in the Online Display Advertising Chain: A Case for Independent Campaign Management.” Columbia Business School
Research Paper No. 17-60.
Ashlagi, Itai, Dov Monderer, and Moshe Tennenholtz. 2009. “Mediators in position auctions.” Games and Economic Behavior, 67(1): 2 – 21. Special Section of Games
and Economic Behavior Dedicated to the 8th ACM Conference on Electronic Commerce.
Athey, Susan, and Denis Nekipelov. 2014. “A Structural Model of Sponsored Search
Advertising Auctions.” mimeo.
Aumann, Robert J. 1959. “Acceptable Points in General Cooperative n-Person Games.”
Contributions to the Theory of Games IV.
Ausubel, Lawrence M., and Paul Milgrom. 2006. “The Lovely but Lonely Vickrey
Auction.” Combinatorial Auctions, MIT Press.
Balseiro, Santiago, and Ozan Candogan. 2017. “Optimal Contracts for Intermediaries in Online Advertising.” In Operations Research. Vol. 65, , ed. I. Guyon, U. V.
Luxburg, S. Bengio, H. Wallach, R. Fergus, S. Vishwanathan and R. Garnett, 878–896.
Bernheim, B. Douglas, and Michael D. Whinston. 1985. “Common Marketing
Agency as a Device for Facilitating Collusion.” The RAND Journal of Economics,
16(2): 269–281.
Bernheim, B. Douglas, and Michael D. Whinston. 1986. “Common Agency.”
Econometrica, 54(4): 923–942.
Bernheim, B. Douglas, Bezalel Peleg, and Michael D. Whinston. 1987.
“Coalition-proof Nash Equilibria I. Concepts.” Journal of Economic Theory, XVII: 1–
12.
Borgers, Tilman, Ingemar Cox, Martin Pesendorfer, and Vaclav Petricek. 2013.
“Equilibrium Bids in Sponsored Search Auctions: Theory and Evidence.” American
Economic Journal: Microeconomics, 5(4): 163–187.

39

Che, Yeon-Koo, Syngjoo Choi, and Jinwoo Kim. 2017. “An experimental study of
sponsored-search auctions.” Games and Economic Behavior, 102: 20 – 43.
Decarolis, Francesco, Maris Goldmanis, and Antonio Penta. 2018. “Common
Agency and Coordinated Bids in Sponsored Search Auctions.” mimeo.
Despotakis, S, I Hafalir, R Ravi, and A Sayed. 2016. “Expertise in Online Markets.”
Management Science.
Edelman, Benjamin, and Michael Ostrovsky. 2007. “Strategic bidder behavior in
sponsored search auctions.” Decision Support Systems, 43(1): 192 – 198. Mobile Commerce: Strategies, Technologies, and Applications.
Edelman, Benjamin, Michael Ostrovsky, and Michael Schwarz. 2007. “Internet
Advertising and the Generalized Second-Price Auction: Selling Billions of Dollars Worth
of Keywords.” American Economic Review, 97(1): 242–259.
Ghose, A, and S Yang. 2009. “An Empirical Analysis of Search Engine Advertising:
Sponsored Search in Electronic Markets.” Management Science.
Gomes, Renato, and Kane Sweeney. 2014. “BayesNash equilibria of the generalized
second-price auction.” Games and Economic Behavior, 86: 421 – 437.
Harrington, Joseph E., and Andrzej Skrzypacz. 2007. “Collusion under monitoring
of sales.” The RAND Journal of Economics, 38(2): 314–331.
Harrington, Joseph E., and Andrzej Skrzypacz. 2011. “Private Monitoring and
Communication in Cartels: Explaining Recent Collusive Practices.” American Economic Review, 101(6): 2425–49.
Hendricks, Ken, Robert Porter, and Guofu Tan. 2008. “Bidding rings and the
winner’s curse.” The RAND Journal of Economics, 39(4): 1018–1041.
Hsieh, Yu-Wei, Matthew Shum, and Sha Yang. 2018. “To Score or Not to Score?
Estimates of a Sponsored Search Auction Model.” USC-INET Research Paper No. 1509.
Kalai, Adam Tauman. 2010. “A commitment folk theorem.” Games and Economic
Behavior, 69(1): 127 – 137. Special Issue In Honor of Robert Aumann.
Levin, Jonathan, and Andrzej Skrzypacz. 2016. “Properties of the Combinatorial
Clock Auction.” American Economic Review, 106(9): 2528–51.
Lorenzon, Emmanuel. 2018. “Collusion with a Rent Seeking Agency in Sponsored
Search Auctions.” GovReg Working Paper No. 2018/03.

40

Mailath, George J, and Peter Zemsky. 1991. “Collusion in second price auctions
with heterogeneous bidders.” Games and Economic Behavior, 3(4): 467 – 486.
Mansour, Yishay, S. Muthukrishnan, and Noam Nisan. 2012. “Doubleclick Ad
Exchange Auction.” Computing Research Repository, abs/1204.0535.
McAfee, Randolph, and John McMillan. 1992. “Bidding Rings.” American Economic Review, 82(3): 579–99.
McAfee, R. Preston. 2011. “The Design of Advertising Exchanges.” Review of Industrial
Organization, 39(3): 169–185.
Monderer, Dov, and Moshe Tennenholtz. 2009. “Strong mediated equilibrium.”
Artificial Intelligence, 173: 180–195.
Ortner, Juan, and Sylvain Chassang. 2018. “Making Corruption Harder: Asymmetric
Information, Collusion, and Crime.” Journal of Political Economy, Forthcoming.
Ottaviani, Marco. 2003. “Overture and Google: Internet Pay-Per-Click (PPC) Advertising Auctions.” London Business School - Case Study-03-022.
PwC. 2017. “Global Entertainment Media Outlook.” https: // www. pwc. com/ gx/ en/
industries/ tmt/ media/ outlook. html .
Ray, Debraj, and Rajiv Vohra. 1997. “Equilibrium Binding Agreements.” Journal of
Economic Theory, 73(1): 30 – 78.
Ray, Debraj, and Rajiv Vohra. 2014. “The Farsighted Stable Set.” Econometrica,
83(3): 977–1011.
Roth, Benjamin, and Ran I. Shorrer. 2018. “Making it Safe to Use Centralized
Marketplaces: Dominant Individual Rationality and Applications to Market Design.”
Working Paper, SSRN 3073027, 173.
Varian, Hal. 2007. “Position auctions.” International Journal of Industrial Organization,
25(6): 1163–1178.

Wired. 2015. https: // www. wired. com/ 2015/ 09/ facebook-doesnt-make-much-money-couldon-purpos

41

