NBER WORKING PAPER SERIES

INDIVIDUAL RESULTS MAY VARY:
ELEMENTARY ANALYTICS OF INEQUALITY-PROBABILITY BOUNDS,
WITH APPLICATIONS TO HEALTH-OUTCOME TREATMENT EFFECTS
John Mullahy
Working Paper 23603
http://www.nber.org/papers/w23603

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
July 2017

For helpful discussions and comments, and with the standard disclaimer, I would like to thank
Chris Adams, Bruce Hansen, M.-J. Lee, David Madden, Chuck Manski, Joao Santos Silva, Justin
Sydnor, Dave Vanness, and participants in presentations at the Barcelona Conference on the
Economics of Addiction and Health Inequality, the York Centre for Health Economics, ISEGLisbon, Resources for the Future, University College Dublin, the University of Chicago, the
University of Coimbra, and the University of Wisconsin-Madison. Parts of this work were
supported by the RWJF Health & Society Scholars Program, RWJF Evidence for Action Grant
73336, and NICHD grant P2CHD047873 to the Center for Demography and Ecology, all at UWMadison, and by the UCD Geary Institute during a sabbatical visit. The views expressed herein
are those of the author and do not necessarily reflect the views of the National Bureau of
Economic Research.
NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.
© 2017 by John Mullahy. All rights reserved. Short sections of text, not to exceed two
paragraphs, may be quoted without explicit permission provided that full credit, including ©
notice, is given to the source.

Individual Results May Vary: Elementary Analytics of Inequality-Probability Bounds, with
Applications to Health-Outcome Treatment Effects
John Mullahy
NBER Working Paper No. 23603
July 2017
JEL No. I1
ABSTRACT
While many results from the treatment-effect and related literatures are familiar and have been
applied productively in health economics evaluations, other potentially useful results from those
literatures have had little influence on health economics practice. With the intent of
demonstrating the value and use of some such results in health economics applications, this paper
focuses on one particular class of parameters that describe probabilities that one outcome is larger
or smaller than other outcomes, namely inequality probabilities. While the properties of such
parameters have been explored in the technical literature, they have scarcely been considered in
informing practical questions in health evaluations. This paper discusses how such probabilities
can be used informatively, and describes how they might be identified or bounded given standard
sampling assumptions and information only on marginal distributions of outcomes. Graphical and
algebraic exposition reveals the logic supporting these results, as well as their empirical
implementation, to be quite straightforward. Applications to health outcome evaluations are
presented and discussed throughout.

John Mullahy
University of Wisconsin-Madison
Dept. of Population Health Sciences
787 WARF, 610 N. Walnut Street
Madison, WI 53726
and NBER
jmullahy@facstaff.wisc.edu

1. Introduction
Nivolumab Treatment for Non-Small-Cell Lung Cancer
Nivolumab—a biological product marketed by Bristol-Myers Squibb (BMS) in the U.S.
as Opdivo—has several FDA-approved indications, one being previously treated advanced
non-small-cell lung cancer (NSCLC). For treatment of NSCLC, two primary outcomes prespecified

1

in a pivotal, phase-III randomized trial of nivolumab versus docetaxel

(chemotherapy) were overall survival time and one-year overall survival rate. In summarizing
that study Borghaei et al., 2015, report:
Overall survival was significantly longer with nivolumab than with docetaxel…
At the time of the interim analysis (minimum followup for overall survival, 13.2
months), the median overall survival was 12.2 months (95% confidence interval
[CI], 9.7 to 15.0) with nivolumab and 9.4 months (95% CI, 8.1 to 10.7) with
docetaxel, representing a 27% lower risk of death with nivolumab (hazard ratio,
0.73; 96% CI, 0.59 to 0.89; P = 0.002). The overall survival rate at 1 year was
51% (95% CI, 45 to 56) with nivolumab and 39% (95% CI, 33 to 45) with
docetaxel.
Figure 1 depicts the data from which these results are computed.2 The two reported estimates
of overall survival are shown: a difference in median survival time of 2.8 months in panel (a);
and a difference in twelve-month survival probability of .12 in panel (b).
A BMS direct-to-consumer advertising campaign prominent in the U.S. in 2017 has
boasted that Opdivo treatment for NSCLC offers "a chance to live longer."3
A Chance to Live Longer?
What might the Borghaei et al. results say about the "chance to live longer" pitched in
the Opdivo ads? In claiming "a chance to live longer" at least two questions arise logically. The
first is: "a chance to live longer," compared to what? The second is: "a chance to live longer,"
1

ClinicalTrials.gov study NCT01673867.

The smoothed empirical distribution functions depicted in figure 1 are approximated from
the data depicted in figure 1A in Borghaei et al., 2015, as survival curves.

2

http://www.opdivo.com/advanced-nsclc, accessed April 30 2017. BMS applied on January
31, 2017, for a U.S. trademark for "A CHANCE TO LIVE LONGER" (U.S. Patent and Trademark
Office, Serial No. 87319390). At the time this draft was completed, the status of that
application was "Under Examination."

3

measured how? In light of the Borghaei et al. results, "compared to what" might be answered
reasonably as "treatment with docetaxel" or "treatment with other relevant comparators."
Of greater interest in this paper, however, are questions in line with the second one:
measured how? Given the outcomes studied in Borghaei et al., one reasonable measure of "a
chance to live longer" might be a difference in median survival times between the two
treatments: subjects had a 50 percent chance to live longer than 12.2 months with nivolumab
treatment compared with a 50 percent chance to live longer than 9.4 months with docetaxel.
Alternatively, "a chance to live longer" might reasonably be characterized in terms of twelvemonth survival probabilities: patients treated with nivolumab showed a twelve-percent
greater chance to live at least twelve months longer than did patients treated with docetaxel.4
Letting t niv and t doc denote a patient's survival time with nivolumab or docetaxel
!
!
treatment, then "living longer" amounts essentially to t niv > t doc . While the 2.8-month
!
difference in median survival times or the .12 difference in twelve-month survival times hints
at a relationship like this, the notion of "a chance to live longer" is something different. "A
chance to live longer" might reasonably be translated as the probability a patient treated with
nivolumab lives longer—not some particular amount longer,5 just longer by some unspecified

(

)

amount—than had they otherwise been treated with docetaxel, i.e. Pr t niv > t doc .6 If a patient
!
asks: "If I'm treated with nivolumab, what is the chance that I'll live longer than if I'm treated

(

)

with docetaxel?", then one number that answers this question is Pr t niv > t doc .
!
Either of these characterizations is of the sort that might be advanced as the basis of FDA
marketing-approval applications or of other more general efficacy or effectiveness claims.

4

Cost-effectiveness questions would often balance "how many weeks longer" against cost
across comparators. If such outcome and cost measures are converted into univariate netbenefit (NB) measures then the choice between comparators amounts to knowing whether or
not NBj > NBk .
!
6 DTC advertising for Keytruda (pembrolizumab; Merck), whose indications for NSCLC are
similar to Opdivo's, uses the catchphrase "a chance for a longer life."
(https://www.keytruda.com/non-small-cell-lung-cancer/, accessed April 30, 2017). Entresto
(sacubitril/valsartan; Novartis), a treatment for chronic heart failure, is promoted in DTC ads
to "help increase your chances of more tomorrows" (http://www.entresto.com/info/aboutentresto.jsp, accessed April 30, 2017).
5

1

Inequality probabilities like this are the main focus of this paper. In comparing two
outcomes in a population exhibiting outcome heterogeneity, questions about the chance or
probability that one outcome exceeds the other may be natural to pose. How one might
analyze such questions is the main purpose of this paper.
Why Might Inequality Probabilities Be of Interest?
Let y0 and y1 be two outcomes of interest (e.g. y0 = t doc and y1 = t niv ). The inequality
!
!
!
!

(

)

probability7 Pr y1 > y0 provides an intuitive characterization of the extent to which one
!
outcome is stochastically larger than another. This can be appreciated from its definition,

(

)

(

)

∞

∞

(

)

Pr y1 > y0 = ∫ ∫ f y0 ,y1 dy1 dy0 ,
−∞ y 0
!

(1)

(

)

wherein f y0 ,y1 is the joint probability density of y0 and y1 . Pr y1 > y0 is sometimes
!
!
!
!
referred to as "fraction who benefit" (Huang et al. 2016; see also Aakvik et al., 2005). Unlike

(

familiar criteria based on population expected benefit, E ⎡⎣ y1 − y0 ⎤⎦ , measures like Pr y1 > y0
!
!

)

are relevant indicators in voting (e.g. median voter, majority rule, etc.), strict-Pareto, and
other social choice contexts (e.g. Coate, 2000, Gerber and Lewis, 2004, Jacob and Lundin,
2005, and Pauly, 1989; also see Heckman et al., 1997, for general perspectives).
Inequality probabilities also play a central role in stochastic settings where the benefit
associated with a choice depends on the ordering among but not the magnitudes of competing
outcomes, for instance a payoff (V) from choosing the winner in an M-participant competition
(e.g. a horserace, a basketball game, or an exclusive therapeutic-category formulary listing). In
such cases y j might measure speed, score, therapeutic cost-effectiveness, etc. In such a
!
competition the realized benefit from selecting competitor j is

(

)

B ! = !V × ∏ k≠j1 y j > y k ,
! j

(2)

(

)

The term "inequality probability" is used in this paper to refer to parameters Pr u > v or
!
Pr u ≥ v for arbitrary and possibly jointly distributed variables of interest, u and v.
!
7

(

)

2

with corresponding expected benefit8 (using standard " ∧ " notation for "and"):

((

)

(

) (

)

))

(

E ⎡Bj ⎤ ! = !V × Pr y j > y1 ! ∧ !…! ∧ ! y j > y j−1 ! ∧ ! y j > y j+1 ! ∧ !…! ∧ ! y j > y M , (3)
! ⎣ ⎦
or, in the two-outcome case,

(

)

E ⎡Bj ⎤ ! = !V × Pr y j > y k .
! ⎣ ⎦

(4)

Finally, reconsider the nivolumab example. If it is of interest9 to know the difference

(

)

(

)

(

)

(

)

Pr t niv ≥ 12 − Pr t doc ≥ 12 , then Pr t niv ≥ t' − Pr t doc ≥ t' may also be of interest for other
!
!
10
!t' ≠ 12 or over all possible t'. Yet these are different considerations than those involving

(

)

(

)

Pr t niv ≥ t doc whose definition in (1) embeds consideration of all values of t doc ,t niv . Only
!
!
by reference to a particular decision criterion might it be determined which such parameters
should be of interest.
Summary Outcome Measures Used in Evaluations
Asking different questions about relationships between two outcomes leads logically to
different ways to characterize and summarize statistically such outcomes in heterogeneous
populations. In essence the previous discussion posed questions about whether one outcome
(say y1 ) is larger than another (say y0 ), and focused on a particular metric of comparison,
!
!

(

)

Pr y1 > y0 . Whether the outcomes of interest are survival times or perhaps other outcome!
When the y j are random utilities associated with different choice prospects, quantities like
!
the probability in (3) are familiar from the multinomial discrete-choice literature.
8

Presumably this quantity is of interest since it is one of the study's primary endpoints; see
ClinicalTrials.gov study NCT01673867 and U.S. FDA, 2015. Why a particular value of t' is
privileged merits consideration. Whether for parsimony, for convenience, due to biostatistical
or regulatory convention, or for other reasons is often not obvious. While such choice should
ideally square with decisionmakers' loss functions, it is rarely made explicit that it does; see
Manski, 1998, 2007.

9

(

)

(

)

If it converges the integral of Pr t niv ≥ t' − Pr t doc ≥ t' over t'—characterizing second-order
!
stochastic dominance— equals E ⎡⎣ t niv ⎤⎦ − E ⎡⎣ t doc ⎤⎦ .
!
10

3

relevant metrics—better, lower, greater, faster, clearer, easier, safer, longer-acting, cheaper,
etc.—the same basic ideas apply. Of interest is the probability that y1 is "better" than y0 , not
!
!
"how much better" it might be.
Of course other evaluation-oriented metrics are encountered commonly in empirical

()

health research. Letting Fj y denote the population marginal distribution for outcome y j and
!
!

( )

()

V … denote some statistical functional defined on Fj y (e.g. moment, quantile, probability,
!
!

( ( )) and !V (F ( y )) as the summary

etc.), empirical investigations focus typically 11 on V F0 y
!

1

measures to be estimated, and on some contrast between them—most typically, their
difference—as the basis of a treatment-effect, comparative-effectiveness, or other claim. For
example, the two primary outcomes in the Borghaei et al. study correspond to

( ( ))

( ( )) and !V (F ( y )) = F ( y ) .

V F y = med Fj y
! j

j

j

( )

While the specification of V … and its estimation from sample data are broadly
!
important considerations, this paper's specific concern is how observed data on the marginal
distributions of two or more outcomes can be used to at least partially inform decisionmakers

(

)

about inequality probabilities Pr y1 > y0 and related parameters. When outcomes are
!

(

)

observed jointly such an exercise is straightforward; the challenge in knowing Pr y1 > y0 is
!
when, for whatever reason, y0 and y1 are not observed together at the subject level.12
!
!
This Paper
Relationships to Existing Literature
This paper's focus intersects several broad themes that have been well developed in

Stochastic dominance comparisons are an obvious exception to this form of comparison, as
are measures involving any features of the joint distribution of y0 and y1 .
!
!
12 See Imbens and Wooldridge, 2009, p. 17, and Abbring and Heckman, 2007, p. 5151, for
views on why decisionmakers might or mightn't want to "bother" identifying features of joint
distributions.
11

4

the literature: treatment-effect estimation and heterogeneous treatment effects

13

;

decisionmaking criteria in stochastic environments14; and point versus interval identification
of treatment effects.15 These broader literatures are not surveyed here although references to
specific work are made when useful. The work most closely related to this paper includes that
of Heckman and coauthors16, a series of studies by Fan and coauthors17, as well as studies by
Adams, 201318, Basu and Thariani, 2016, Firpo and Ridder, 2008, Lee, 2000, and Manski,
1997. This paper's main results and a discussion of their applicability to a range of policy
questions were discussed in a much earlier working paper by the author (Mullahy, 2005).
Motivation and Plan
The paper is motivated mainly by the observation that there are important and
potentially useful results on inequality probabilities of the sort examined here that—while
established in the technical literature—have thusfar had little impact on health economics
research.19 In particular, this paper attempts to exposit (relying often on simple graphical
depictions) the elementary features of such results and then extend and apply them to
contexts of interest in health economics.
Until section 4 the paper's results are largely not new; indeed, the paper's main results
on inequality probabilities presented in section 3 are just tailored applications of Fréchet-

Angrist, 2004; Athey and Imbens, 2006; Basu et al., 2007; Bitler et al., 2006; Borah et al.,
2011; Chan and Hamilton, 2006; Hauck et al., 2000; Horwitz et al., 1996; Huang et al., 2016;
Koenker and Bilias, 2001; Kravitz et al., 2004; Vanness and Mullahy, 2012; Willke et al., 2012.
Imbens and Wooldridge, 2009, provide an comprehensive overview of many of these issues.

13

Gerber and Lewis, 2004; Grandmont, 1978; Jacob and Lundin, 2005; Stinnett and Mullahy,
1998.

14

15

Manski, 1999, 2007.

Aakvik et al., 2005, Abbring and Heckman, 2007, Carneiro et al., 2001, Heckman, 2001, and
especially Heckman et al., 1997.

16

17

Fan et al., 2014, 2017; Fan and Park, 2010, 2012.

As this draft was being completed the author was made aware of the paper by Adams, 2013,
whose approach and examples overlap with some of this paper's.

18

19

Exceptions include Adams, 2013, Cameron et al., 2004, and Huang et al., 2016.

5

Boole probability bounds.20 Yet their discussion in technical literatures distant from health
economics may have hindered their application in health economics and elsewhere.
Describing, extending, and implementing these results in health economics contexts are the
goals of this paper; at a minimum it is hoped that the paper provides a useful practitioner's
guide.
The plan is as follows. Section 2 describes the main assumptions and notation. Section
3 presents the results on probability bounds. Section 4 extends the main results in several
directions and offers examples. Section 5 considers the application of the main results to costeffectiveness analysis. Section 6 discusses bounds when more than two outcomes are of
interest. Section 7 considers empirical implementation: sampling, estimation, and inference.
Section 8 summarizes.

2. Definitions, Assumptions, and Notation
The setup here is familiar in the treatment-effect literature. M+1 outcomes of interest,

( y0 ,y1 ,…) ,

!

(

)

are jointly distributed in the population according to F y0 ,y1 ,…
!

(

)

(

with

)

corresponding joint probability density denoted f y0 ,y1 ,… . 21 F y0 ,y1 ,… might be
!
!
interpreted as representing a population heterogeneous in outcomes or as a joint distribution
of random variables.22

(

)

For now assume that there are two outcomes of interest, y0 ,y1 , although more!

(

)

general cases are considered in section 5. Unless noted otherwise y0 ,y1 are assumed to be
!
continuously distributed. To be consistent with the technical definition of distribution

The main results here involve set or interval identification, or probability bounds, of the
sort studied and advocated forcefully by Manski. While there may be increasing receptivity by
analysts of set identification, point identification is still the standard in many contexts (e.g.
FDA regulation).

20

(

)

((

) (

)

)

This notation is informal; formally, F c0 ,c1 ,… = Pr y0 ≤ c0 ! ∧ ! y1 ≤ c1 ! ∧ !… .
!
22 Outcomes are denoted in lower-case to keep notation concise. Distinctions between random
variables and realizations should be clear from context.
21

6

(

)

(

)

functions the focus will on Pr y1 ≥ y0 instead of Pr y1 > y0 although these are essentially
!
!
the same with continuously distributed outcomes.23 The particular y j measures may be ratio!
scale, interval-scale, ordinal, or any measure for which strict or weak inequality provides a
meaningful comparison.
The

()

population

(

marginal

distribution

functions

for

)

the y j are
!

denoted

()

Fj y = Pr y j ≤ y , j=0,1, for all y in their respective supports Sj = ⎡L j ,U j ⎤ . Of course the Fj y
⎣
⎦
!
!
!

(

)

()

(

)

are related to F y0 ,y1 via Fj y = ∫
F y0 ,y1 !dy k dy j , !j ≠ k . Until section 7 "conditional
y j ≤y ! ∫Sk
!
!
on x" can be assumed tacitly if appropriate, but will not be made explicit unless useful; the
role of covariates x is revisited in section 7. Moreover until section 7 the discussion is
concerned only with population distributions and identification; considerations of sampling,
estimation, and inference are deferred until then.

Define the subject-level difference

Δ = y0 − y1 .24 In the population Δ01 is often considered a treatment effect but in general is
! 01
!

just some contrast of interest. Understanding Δ01 is challenging when only one of the y j is
!
!
observable.

()

(

Define

)

the

(

population

distribution

of

Δ
! 01

as

)

FΔ c = Pr y0 − y1 ≤ c = Pr y1 + c ≥ y0 . Of interest in most of what follows is !c = 0 , or
! 01

(

) (

)

Pr y1 ≥ y0 . Pr y1 ≥ y0 is thus one feature of the treatment-effect distribution.
!
!

3. Main Results: Bounds on Inequality Probabilities
Revisiting the Nivolumab vs. Docetaxel Example
To motivate the general results discussed below, consider again the nivolumab vs.
For discrete outcomes the difference between weak and strict inequality will matter; see
below.

23

Subject-indexing subscripts are suppressed unless useful for clarity. Note that the 0 and 1
subscripts are reversed from what is typical in the literature. Economists often consider such
contrasts in a Rubin counterfactual framework, but they are also relevant in other contexts
where information about the jointness properties of F y0 ,y1 is absent.
!

24

(

7

)

docetaxel twelve-month-survival results discussed in section 1. In a population, t niv and t doc
!
!
will in general be jointly distributed even if at the subject level only one of them is observable.
With reference to figure 2 wherein roman numerals denote the four subspaces with origin

( t doc ,t niv ) = (12,12) , the reported result on twelve-month survival, !Pr( t niv ≥ 12) − Pr ( t doc ≥ 12)

!

=.12, can be obtained as25

((
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! = !Pr (( t
(

)

(

)

)
)
) ((
,t
∈II) − Pr (( t doc ,t niv ) ∈IV )
doc niv )

Pr t niv ≥ 12 − Pr t doc ≥ 12 ! = !Pr t doc ,t niv ∈I ∪II − Pr t doc ,t niv ∈I ∪IV

)
(5)

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! = !.12

(

) {

}

Now suppose outcomes are binary with q j = 1 t j ≥ 12 , j ∈ doc,niv , being indicators of
!
!
twelve-month survival under the two treatments. The general joint and marginal probability
structure is shown in panel (a) of table 1. Note that for the strict inequality event qniv > qdoc
!

(

)

(

((

)

) )

Pr qniv > qdoc ! = !Pr qdoc = 0! ∧ !qniv = 1 ! = !π01 ! = !Pr qdoc ,qniv ∈II .
!

(6)

Bounding π01 is straightforward using Fréchet-Boole probability bounds. The best bounds on
!
π knowable from the marginals π j are
! 01
!

{

}

{
}
is Pr (( t doc ,t niv ) ∈II) − Pr (( t doc ,t niv ) ∈IV ) ,
!

max 0,π1 − π0 ! ≤ !π01 ! ≤ !min 1− π0 ,π1 .
!
The lower bound, π1 − π0 ,
!

(7)
coinciding with (5).

Applying this result to the nivolumab example one finds .12! ≤ !π01 ! ≤ !.51 , i.e. notwithstanding
!

(

)

sampling error Pr qniv > qdoc is at least .12 but not greater than .51; see panel (b) of table 1.
!

(

)

General Results: Bounding Pr y1 ≥ y0 using Fréchet-Boole Probability Bounds
!

(

)

For arbitrary, jointly distributed variables za ,zb and corresponding sets Za and Zb ,
!
!
!
At this point these estimates are treated as if population parameters. This example's
empirical properties are considered in section 7.
25

8

the Fréchet-Boole lower bound ("FLB") on the joint probability of the events z j ∈Z j is:
!

(

{( (

)

)

) )

(

}

Pr za ∈Za ! ∧ !zb ∈Zb ! ≥ !max Pr za ∈Za + Pr zb ∈Zb −1 ,0 ,
!

(

)

(

(8)

)

which is informative if Pr za ∈Za + Pr zb ∈Zb > 1 . For disjunctions ("or", symbolized " ∨ "),
!

(

{ (

)

) (

)} .

(9)

) (

)} ,

(10)

Pr za ∈Za ! ∨ !zb ∈Zb ! ≥ !max Pr za ∈Za ,Pr zb ∈Zb
!

The corresponding upper bounds ("FUB") are

(

{ (

)

Pr za ∈Za ! ∧ !zb ∈Zb ! ≤ !min Pr za ∈Za ,Pr zb ∈Zb
!

(

)

which is informative so long as either of the Pr z j ∈Z j is less than one. For disjunctions,
!

(

{ (

)

)

(

) }

Pr za ∈Za ! ∨ !zb ∈Zb ! ≤ !min Pr za ∈Za + Pr zb ∈Zb ,1 ,
!

(

(11)

)

which is informative if the sum of the Pr z j ∈Z j is less than one.
!
For arbitrary y', consider the events y0 ≤ y' and y1 > y' . Applying (8) gives
!
!

(

{ (

)

)

(

)

}

Pr y0 ≤ y'! ∧ !y1 > y' ! ≥ !max Pr y0 ≤ y' + Pr y1 > y' −1,0

{ ( )(

( ))

}

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! = !max F0 y' + 1− F1 y' −1,0

{ ( ) ( ) }

(12)

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! = !max F0 y' − F1 y' ,0 .
!

(

)

This result is illustrated in figure 3(a) depicting y0 ,y1 -space and illustrative
!

⎛ ⎡4.1⎤ ⎡ 1 .5 ⎤⎞
⎡y ⎤
⎥⎟ . The arbitrary y' is
isodensity contours of f y0 ,y1 drawn using ⎢ 0 ⎥ ~BVN ⎜ ⎢ ⎥ , ⎢
!
⎜⎝ ⎣5.1 ⎦ ⎢ .5 1 ⎥⎟⎠
⎢⎣ y1 ⎥⎦
⎣
⎦

(

)

()

((

) )

indicated on both axes. Let P J denote Pr y0 ,y1 ∈J , where J is any of the six subspaces
!
!

I' ,!I' ,!…,!IV ' whose common origin is indicated in the figure at y0 = y1 = y' . Then:
!A B
!

(

)

( )

( ) ( )

Pr y0 ≤ y' ! = !P II' + P III'A + P III'B
!

(13)

9

(

)

( )

( ) ()

Pr y1 > y' ! = !P II' + P I'A + P I'B
!

(14)

(
) (
)
( ) ( )
Pr ( y0 ≤ y'! ∧ !y1 > y') ! = !P(II')
!
Pr y0 ≤ y' + Pr y1 > y' −1! = !P II' − P IV'
!

(15)
(16)

(

)

( )

If it exceeds zero, (15) is the FLB on Pr y0 ≤ y'! ∧ !y1 > y' ; for P IV' > 0 this is smaller than
!
!
the true probability in (16). Thus,

(

)

()

( )

( )

Pr y1 ≥ y0 ! = !P I'B + P II' + P III'A

( )
!!!!!!!!!!!!!!!!!!!!!!!! ≥ !P(II') − P(IV')
!!!!!!!!!!!!!!!!!!!!!!!! = ! (P(II') + P(III'A ) + P(III'B )) ! − ! (P(III'A ) + P(III'B ) + P(IV'))
!!!!!!!!!!!!!!!!!!!!!!!! = !F0 ( y') − F1 ( y') ,
!
!!!!!!!!!!!!!!!!!!!!!!!! ≥ !P II'

(17)

( ) ( )

()

wherein line three, P II' − P IV' , is the FLB from (15). Thus, using only the marginals Fj y
!
!

(

)

(

potentially informative lower bounds on Pr y0 ≤ y'! ∧ !y1 > y' and thus Pr y1 ≥ y0
!
!

(

)

)

are

obtained. Analogously, if informative the FUB on Pr y0 ≤ y'! ∨ !y1 > y' follows from (11) as
!

( ) (

( ))

() ( ) ( )

()

( )

( )

(

F0 y' + 1− F1 y' , seen by noting that P I' + P II' + P III' ≥ P I'B + P II' + P III'A = Pr y1 ≥ y0
!
!

(

)

)

with reference to figure 3(a), then applying (11) for the event y0 ≤ y'! ∨ !y1 > y' .
!

(
)
Pr ( y1 ≥ y0 ) ≥ Pr ( y1 > y0 ) ≥ Pr ( y0 ≤ y'! ∧ !y1 > y')
Since
a
nonzero
FLB
on
!
Pr ( y0 ≤ y'! ∧ !y1 > y') is partially informative as a lower bound on Pr ( y1 ≥ y0 ) . Since y' is
!
!

Best Bounds on Pr y1 ≥ y0
!

arbitrary, however, such a bound will generally not be a sharp or best possible such bound on

(

)

(

Pr y1 ≥ y0 . Intuitively from (17), a best lower bound on Pr y1 ≥ y0
!
!

()

)

is defined by

()

determining the value(s) of y such that the difference between F0 y and F1 y is maximized.
!
!
To show this and some of its implications, the paper by Fan and Park, 2010,
10

(henceforth FP) is especially useful, particularly since its results help structure empirical
investigations as discussed in section 7.26 Rearranging the expressions of FP's Lemma 2.1 and

()

()

eq. (2), and defining S as the common support of F0 y and F1 y ,27 FP show (in this paper's
!
!
notation) that for arbitrary c:

{ () (

) }

(

{

)

() (

) }

sup max F0 y − F1 y − c ,0 ! ≤ !Pr y1 ≥ y0 + c ! ≤ !infy∈S min 1+F0 y − F1 y − c ,1 ,
! y∈S

(

(18)

)

which FP note are sharp bounds on Pr y1 ≥ y0 . Of particular interest here is c=0, giving
!

{ () () }

(

)

{

() () }

sup max F0 y − F1 y ,0 ! ≤ !Pr y1 ≥ y0 ! ≤ !infy∈S min 1+F0 y − F1 y ,1 .
! y∈S

(

(19)

)

That is, the greatest lower bound on the inequality probabilities Pr y1 ≥ y0 identifiable from
!

()

the marginals Fj y is the maximum over all y in S of the difference (if positive) between
!

()

()

() ()

F y and F1 y . The corresponding smallest upper bound is 1+F0 y − F1 y if this quantity
!0
!
!
is less than one. In essence, these best bounds are determined by searching over !y ∈S to
determine where the FLB and FUB are greatest and smallest, respectively. These results are
the foundation for what follows.

{

}

At this point some additional notation will be useful. For j,k ∈ 0,1,… ,!j ≠ k :
!

()

()

()

δ y ! = !Fj y − Fk y
! jk

(20)

D ! = !max y∈S δ jk y ,0
! jk

(21)

Y
! jk

{ ()}
! = !argmax ( δ ( y )) if D
!
y∈S

jk

jk

> 0 , undefined if Djk = 0
!

(22)

The 0 and 1 subscripts are reversed from those in FP's exposition. FP credit a line of earlier
research upon which their work is based, with Makarov, 1982, and Williamson and Downs,
1990, figuring prominently. The work by Adams, 2013, Fan and Park, 2012, Fan et al., 2017,
Firpo and Ridder, 2008, Lee, 2000, and Manski, 1997, is also noteworthy here. Applications of
related ideas in health research are considered by Adams, 2013, Basu and Thariani, 2016, and
Huang et al., 2016.

26

{

}

{

}

S = ⎡min L0 ,L1 ,max U0 ,U1 ⎤⎦ . FP discuss technical considerations involved in defining the
! ⎣
relevant supports, i.e. the domains of the sup and inf in (19).
27

11

That is, so long as δ jk is positive Yjk is the set of values of y at which δ jk is greatest, while Djk
!
!
!
!
is that maximal value of δ jk . The Djk are known familiarly as Kolmogorov's distance or
!
!
Kolmogorov's D statistics, which are the basis of some nonparametric tests for equality of two
marginal distributions.28 While in general Yjk is set- or interval-valued, it is assumed for now
!
that, if defined, it is a unique value to simplify notation and analysis; most important results
go through whether or not uniqueness holds (FP discuss the role of uniqueness).
To visualize the result in (19), consider figure 3(b) in which the six subspaces

() ( )

I ,!I ,!…,!IV have common origin y0 = y1 = Y01 . Here the difference P II − P IV
!A B
!
!

(red

( ) ( ) (blue reference lines). Since
P(II) − P(IV ) = F0 ( Y01 ) − F1 ( Y01 ) , P(II) − P(IV ) corresponds to the FP characterization of the best
!
!
lower bound on Pr ( y1 ≥ y0 ) . Thus as in (17):
!
reference

lines)

(

is

at

least

P II' − P IV'
!

)

( ) () ( )
!!!!!!!!!!!!!!!!!!!!!!!!! ≥ !P(II )
!!!!!!!!!!!!!!!!!!!!!!!!! ≥ !P(II ) − P(IV )
!!!!!!!!!!!!!!!!!!!!!!!!! = ! (P(II ) + P(IIIA ) + P(IIIB )) ! − ! (P(IIIA ) + P(IIIB ) + P(IV ))
!!!!!!!!!!!!!!!!!!!!!!!!! = !F0 ( Y01 ) − F1 ( Y01 )

Pr y1 ≥ y0 ! = !P IB + P II + P IIIA

(23)

!!!!!!!!!!!!!!!!!!!!!!!!! = !D01 .
!

(

)

Whether or not the Yjk are defined it follows that Pr y1 ≥ y0 ≥ D01 , i.e. when D01 = 0 and Y10
!
!
!
!

(

)

is undefined, the most that can be said is that Pr y1 ≥ y0 ≥ 0 , i.e. the FLB is not informative.
!
Analogous arguments establish that, if it is informative, the best FUB is 1− D10 .
!

()

To summarize: if informative, the best possible bounds available from the Fj y are
!
See Darling, 1957, and Mann and Whitney, 1947. Djk metrics arise in other contexts; for
!
instance they correspond to stop-loss distance of degree one in the insurance literature
(Denuit et al., 2002).

28

12

(

)

D ! ≤ !Pr y k ≥ y j ! ≤ !1− Dkj .
! jk

(24)

For example, in the example depicted in figure 3 Y01 = 4.6 , Y10 is undefined, D01 = .38 , and
!
!
!

(

)

D = 0 . With respect to the nivolumab example, the "chance to live longer, " Pr t niv ≥ t doc , is
! 10
!

at least .17 but not greater than .96, sampling considerations notwithstanding.

4. Examples, Extensions, and Related Results
Two Numerical Examples

(

Two numerical examples are pictured in figure 4. Panel (a) shows two N µ j ,σ 2j
!

()

( )

()

)

( )

marginal distributions, where F0 y is N 0,4 and F1 y is N .5,1 . This yields Y01 = −.73 ,
!
!
!
!
!
Y = 2.07 , D01 = .36 − .11 = .25 , and D10 = .94 − .85 = .09 . Panel (b) shows results for exponential
! 10
!
!

()

()

()

()

marginal distributions, where F0 y is Exp 5 and F1 y is Exp 1 . These assumptions result
!
!
!
!
in Y01 = .40 , Y10 undefined, D01 = .87 − .33 = .54 , and D10 = 0 .29
!
!
!
!
Zero- and First-Order Stochastic Dominance
Consider first the case of zero-order stochastic dominance (ZSD; Castagnoli 1984).

()

(

)

If the Fj y are N µ j ,σ 2j then Y01 and Y10 are given by the quadratic formula with
!
!
!
!
a = σ12 − σ 20 , b = −2 σ12µ0 − σ 20µ1 , and c = σ12µ20 − σ 20µ12 − 2σ 20σ12 ln ⎛⎜ σ12 σ 20 ⎞⎟ if σ 20 ≠ σ12 , with
!
!
⎝
⎠
!
!
29

(

)

roots Y01 < Y10 if σ 20 > σ12 and Y01 > Y10 if σ 20 < σ12 . If σ 20 = σ12 , then one of Y01 or Y10 is given by
!
!
!
!
!
!
!
.5 µ0 + µ1 ( Y01 if µ0 < µ1 ; Y10 if µ0 > µ1 ). See figure 5, panels (a) and (b). If the Fj y are
!
!
!
!
!
!
exponential with Fj y = 1− exp −θ jy , then D01 = exp −θ1Y01 − exp −θ0Y01 , D10 = 0 ,
!
!
!
Y = ln θ1 θ0 θ1 − θ0 , and Y10 is undefined if θ0 > θ1 ; the subscripts are reversed if θ1 > θ0
!
!
!
! 01
. While parametric distributions may be helpful for illustrative and modeling purposes,
applications often consider nonparametric empirical distributions. Estimating the Djk
!
nonparametrically is discussed in section 7.

(

)

(

)(

()
)

( )

(

13

)

(

)

()

()

()

F y zero-order dominates F0 y , denoted F1 ≻0 F0 , if U0 < L1 , i.e. if the entire probability
!
!
!1
!

()

()

mass of F1 y sits above that of F0 y on the real line (see figure 6). A noteworthy feature of
!
!

(

)

()

ZSD is that Pr y1 ≥ y0 = 1 , i.e. regardless of a population member's outcome in F0 y , that
!
!

()
as Pr ( y1 ≥ y0 ) = 1 ,
!

outcome will be less than their outcome in F1 y .30 Note that D01 = 1 for any Y01 in ⎡⎣U0 ,L1 ⎤⎦
!
!
!
!

(

)

so Pr y1 ≥ y0 is point-identified
!

(

)

i.e. the FLB on Pr y1 ≥ y0 at Y01 is
!
!

maximally informative. With first-order dominance F1 ≻1 F0 , Y01 is defined, Y10 is undefined,
!
!
!
D > 0 , and D10 = 0 .
! 01
!

Informativeness of the D jk Bounds
!
To see how closely the Djk -based bounds correspond to the true inequality
!

(

)

probabilities suppose y0 ,y1 ∼ BVN µ0 ,µ1 ;1,1,ρ . The entries in table 2 are D01 and the true
!
!

(

)

Pr y1 ≥ y0 for selected µ1 − µ0 and ρ (the probabilities depend only on the differences
!
!
µ − µ ). When µ1 − µ0 is large and ρ is negative, the D01 -based bounds are relatively close
! 1 0
!
!

(

)

to Pr y1 ≥ y0 , but with positive ρ these bounds are quite conservative relative to the true
!

(

)

Pr y1 ≥ y0 . Such results are intuitive: for given marginals, negative correlation tends to
!
situate more joint probability mass in quadrants II and IV than does positive correlation (e.g.,
contrast figures 7(a) and 7(b)).

(

)

Pr y1 ≥ y0 under Independence
!
Gastwirth, 1975, considers situations where y0 and y1 are statistically independent.
!
!

(

)

(

)

∞

( ) ∫y f1 ( y1 )dy1 dy0 .

Here, Pr y1 ≥ y0 is identified given the marginals: Pr y1 ≥ y0 = ∫ f0 y0
−∞
!
!
30

()

()

∞

0

If y is net benefit, then a policy shifting F0 y to F1 y yields a Pareto improvement.
!
!

14

(

)

Consider the exponential case in figure 4(b). The FLB on Pr y1 ≥ y0 for any dependence
!

(

)

(

)

structure is D01 = .54 , whereas Pr y1 ≥ y0 under independence is θ0 θ0 + θ1 = .83 .
!
!
!
Relationships to Permutation Distributions
Let y 0,N = ⎡ y0,n ⎤ and y 1,N = ⎡ y1,n ⎤ denote N-vectors describing outcomes for a sample
⎣
⎦
⎣
⎦
!
!

( )

or a finite population of size 2N. Let P y 0,N be the !N × N! matrix containing the N!
!

( )

permutations of the elements of y 0,N ; let C = ⎡ y 1,N − P y 0,N ⎤ be the !N × N! matrix whose c-th
!
⎦
c⎥
! ⎢⎣

( )

column is the difference between y 1,N and the c-th column of P y 0,N ; and let
!
!

(

)

N
d = ⎡ 1 ∑ n=11 C n,c > 0 ⎤ be the !1 × N! vector describing the fraction of elements in each of C's
⎢N
⎥⎦
! ⎣

columns for which y1,n > y0,n(c) . Then the smallest and largest elements of d are D01 and
!
!
1− D10 , respectively. These relationships are discussed by Heckman et al., 1997, who suggest
!

that when N is large summary statistics like deciles of the sample marginal distributions might
be used to approximate the permutation relationships.
Alternative Characterizations of Δ01 and Transformations
!

( ) ( )

Beyond Δ01 = y0 − y1 , other contrasts may be of interest, for instance t y0 − t y1
!
!

( )
Pr ( t ( y1 ) ≥ t ( y0 )) = Pr ( y1 ≥ y0 ) , Yjk ,t = t ( Yjk ) , D01,t = F0,t ( Y01,t ) − F1,t ( Y01,t ) = F0 ( Y01 ) − F1 ( Y01 ) ,
!
!
!

where t … is a monotone-increasing transformation. The previous results apply here:
!

((

) )

etc., using obvious notation. For y j >0 contrasts might involve ratios, Pr y0 y1 ≤ c or
!
!
proportional differences Pr
!

((( y − y ) y ) ≤ c ) .
0

1

0

31

Non-inferiority assessments may concern

See Imbens and Wooldridge, 2009, and Lee and Kobayshi, 2001, and Lee, 2005, for
conceptual considerations, and Langley et al., 2014 for a related application.
31

15

(

)

( )

probabilities like Pr y0 − y1 ≤ c for nonzero c.32 So long as c and/or t … are known all these
!
!

( ( ) ( ))

( ) ( )

cases can be subsumed by specifying Δ = τ0 y0 − τ1 y1 and considering Pr τ1 y1 ≥ τ0 y0 .
!
!

( ) ( )
( )
previous results go through directly if the respective Fj ( y ) reference the distributions of the
!

For example, in the proportional-difference example τ0 y0 = 1− c y0 and τ1 y1 = y1 . The
!
!

transformed measures obtained, e.g., by standard change-of-variable methods.
Discrete and Ordinal Outcomes
The main results on identifying bounds on inequality probabilities apply also when
population outcome measures are integer-valued (e.g. count-data; see Cameron et al., 2004),
discrete-ordinal, or categorical measures (e.g. health-status scores or indexes, Likert scales).33

(

One important consideration in such cases is whether the parameter of interest is Pr y1 ≥ y0
!

(

)

)

or Pr y1 > y0 since in the population a nonzero probability of ties, i.e. of the event y0 = y1 , is
!
!
relevant.34 The approach described in section 3 that identifies the Yjk and Djk is applicable
!
!

(

)

(

)

here, but the quantity whose bounds are identified as such is Pr y1 > y0 , not Pr y1 ≥ y0 .35
!
!
The 2009 study by Volpp et al. on the effects of financial incentives on smoking
cessation and related outcomes offers an instructive example. One outcome of interest in that
study is a five-point Likert scale measure of subjects' self-assessed health; the distributions of
their sample data are pictured in figure 8(a). Treatment effects using this measure are
assessed by Volpp et al. by examining differences between treatment and control separately at
32

See U.S. Food and Drug Administration, 2016.

Huang et al., 2016, consider a discrete functional disability measure as their main outcome.
Also see Allison and Foster, 2004, for some related perspectives on discrete ordinal outcomes.

33

In empirical applications consideration of ties is relevant not only when the data are
naturally discrete but also when data that are in principle continuously distributed are
measured coarsely.
34

For the Yjk to be (potentially) unique when outcomes are discrete or categorical, the
!
domain of the argmax in (22) should be redefined as the set y Pr y0 = y! ∨ !y1 = y > 0 .
!

35

{ (

16

)

}

the five Likert scale points (see their figure 2). In these data Y01 occurs at the "Very Good"
!
category with a resulting D01 = .03 . This result can be imagined by reference to figure 8(b)
!
which depicts the sample space for these data; D01 = .03 corresponds to the probability mass
!
of the red dots minus that of the black dots.
Spreading or Rectangularizing Distributions

()

( )

()

( )

Figure 9(a) illustrates a case where F0 y is N 0,1 and F1 y is N 0,4 giving
!
!
!
!
Y = 1.36 , Y10 = −1.36 , and D01 = D10 = .16 . Assume now that some intervention replaces
! 01
!
!

()

()
( )
Spreading F1 ( y ) relative to F0 ( y ) in the sense of increasing F0 ( y ) − F1 ( y ) for all y (e.g. in
!
!
!

F y with F2 y , which is N 0,16 , resulting in Y02 = 1.72 , Y20 = −1.72 , and D02 = D20 = .29 .
!
!
!
!1
!
!

(

)

increase in σ12 when µ0 = µ1 ) increases the Djk and thus gives tighter bounds on Pr y1 ≥ y0 .
!
!
!
!
Conversely, rectangularizing one distribution results in the limit in a degenerate distribution
for

which

Y =Y
! 01 10

(

so

that

D = 1− D01
! 10

)

and

(

Pr y1 ≥ y0
!

)

is

point-identified:

()

1− D10 = D01 ≥ Pr y1 ≥ y0 ≥ D01 . For example, figure 9(b) shows a case where F1 y is
!
!

( )
() ( )
that Pr ( y1 ≥ y0 ) is point-identified at .69.
!

degenerate N 1,0 and F0 y is N 0,4 . This gives Y01 = Y10 = 1 , D01 = .69 , and D10 = .31 so
!
!
!
!
!
!

5. Inequality Probabilities and Cost-Effectiveness Analysis
Inequality probabilities may usefully inform some questions in cost-effectiveness
analysis (CEA). Much applied CEA involves consideration of mean incremental costs and
outcomes, and focuses on uncertainties arising from sampling variation. This is often true
whether the evaluation strategy is based on incremental cost-effectiveness ratios (ICERs),
cost-effectiveness acceptability curves (CEACs; Fenwick et al., 2004, and Willan, 2001), or
some other approach. The ideas discussed in this paper permit alternative perspectives on
stochastic CEA wherein the main focus is on underlying population heterogeneity of costs and

17

outcomes instead of sampling variation.36
Suppose the y j are defined as net health benefit ("h"; Stinnett and Mullahy, 1998),
!

( )

y = h j = ej − c j λ ,
! j

(25)

where ej and c j denote the health outcomes and costs arising from intervention j ( Tj ) in
!
!
!
some population, and λ represents a population-constant standard like social marginal
willingness to pay for e (e.g. dollars per QALY). For instance, in a social choice setting where
population members vote self-interestedly for one intervention to be applied uniformly,

(

)

(

)

Pr h1 ≥ h0 signals the likelihood that T1 would be the intervention adopted. Pr h1 ≥ h0 is
!
!
!
also one characterization of "the probability of cost-effectiveness" (Willan, 2001).
Define the subject-level outcomes q = ⎡⎣e0 ,e1 ,c0 ,c1 ⎤⎦ , and for a given λ let
!

( ( )
!!!!!!!!!!!!!!!!!!!!!!!! = Pr ((e − e ) ≥ ( c
(

)

(

Prλ h1 ≥ h0 = Pr e1 − c1 λ ! ≥ !e0 − c0 λ

(

1

)

0

1

− c0

) λ)

))
(26)

!!!!!!!!!!!!!!!!!!!!!!!! = Pr r ≤ λ ,
!

(

where r = c1 − c0
!

) (e1 − e0 ) .

(

)

For given !λ > 0 Prλ h1 ≥ h0 is increasing in e1 and c0 and
!
!
!

(
)
nonmonotonic. Note too that the relationship between Prλ ( h1 ≥ h0 ) and λ is essentially that
!

decreasing in e0 and c1 , while the relationship between Prλ h1 ≥ h0 and λ may be
!
!
!

of an incremental CEAC: as λ varies it tells the probability that intervention 1 becomes more
or less acceptable relative to intervention 0. Defined in terms of underlying random variables,
however, this CEAC differs from that of more-familiar37 CEACs that have been considered.
In data-rich contexts wherein all elements of q are jointly observable—i.e., when the

(

( )

)

full joint probability structure of Fq … is available— Prλ h1 ≥ h0 can be point-identified. Yet
!
!
36

This is sometimes cast as 2nd- vs. 1st-order uncertainty; see Vanness and Mullahy, 2012.

37

That is, criteria using µ c − µ c
0
! 1

(

) (µ

e1

− µe

0

) and analog estimates !(µ!
18

c1

!
− µc

0

) (µ!

e1

)

!
− µe .
0

( )

in many settings only joint marginal distributions Fj e,c
!

and, therefore, marginal

()

distributions Fj,λ h are available. This would be the case, e.g., in a two-arm trial where both
!
outcome and cost data from the each Tj are available at the subject level (van Hout et al.,
!

( ) ( )
marginals Fj ( e,c ) are available Prλ ( h1 ≥ h0 )
!
!
(e ,c ) is statistically independent of !(e1 ,c1 ) .
! 0 0

1994), or when e0 ,c0 and e1 ,c1 are observed in separate datasets.38 When only the joint
!
!
cannot generally be point-identified unless

Yet in light of the results in section 3, it may be possible to obtain informative bounds

(

)

()

on Prλ h1 ≥ h0 when only the marginals Fj,λ h are available. As an illustrative example
!
!

(

)

assume that q ∼ MVN µ q ,Vq . Let µ q = ⎡µ e ,!µ e +5,!µ c ,!µ c +10⎤ , and let Vq be defined to
⎣ 0
⎦
0
0
0
!
!
!
have all diagonal elements equal 1 and all off-diagonal elements equal .5. Then for a given λ

( (

) ( ))

(

)

(

h − h ∼ N 5− 10 λ ,1+ 1 λ . The resulting true probabilities Prλ h1 ≥ h0 = Prλ h1 − h0 ≥ 0
!
! 1 0

()

)

()

and corresponding FLB based on the marginals F0,λ h and F1,λ h are plotted in figure 10 for
!
!

(

values of λ ∈ 0,10⎤⎦ . In this case the FLB is seen to be informative, at least for values of !λ > 2 .
!

6. Inequality Probabilities with More than Two Outcomes
Three or More Competing Univariate Outcomes
While most attention in the evaluation literature is on contrasts between two
outcomes, in some cases more than two outcomes are of interest. For instance, Nissen et al.,
2016, compare in a three-arm trial the cardiovascular safety profiles of celecoxib, ibuprofen,
and naproxen for patients with osteoarthritis or rheumatoid arthritis, while marketing39 for

Indeed, much as in the mainstream treatment-effect literature one reason that means-based
CEA (ICERs, CEACs, etc.) may be popular is that mean differences in outcomes and costs
correspond to differences in their marginal means under suitable sampling schemes.

38

https://www.victoza.com/consider-using-victoza-/compared-with-januvia----byetta-.html,
accessed May 10, 2017.

39

19

Victoza (liraglutide; Novo Nordisk), a treatment for type 2 diabetes, compares its therapeutic
properties with those of Januvia (sitagliptin; Merck) and Byetta (exenatide; AstraZeneca).
Expanding the discussion of section 3, one consideration might be the probability that
one treatment (say y1 ) results in a better outcome than either of the others (say y0 and y2 ),
!
!
!

(

)

i.e. Pr y1 ≥ y0 ! ∧ !y1 ≥ y2 .40 With three outcomes the earlier results can be extended to obtain
!

(

potentially informative bounds on Pr y1 ≥ y0 ! ∧ !y1 ≥ y2
!

)

. Specifically, Fréchet-Boole

(
)
()
To this end, define D21 using (21). Let Pr ( y1 ≥ y0 ) and Pr ( y1 ≥ y2 ) correspond,
!
!
!
respectively, to Pr ( za ∈Za ) and Pr ( zb ∈Zb ) in (8), and note that Pr ( y1 ≥ y k ) ≥ Dk1 for k=0,2.
!
!
!
Using D01 and D21 , it follows that a lower bound on the lower bound on Pr ( y1 ≥ y0 ! ∧ !y1 ≥ y2 )
!
!
!
—and, therefore, a lower bound on Pr ( y1 ≥ y0 ! ∧ !y1 ≥ y2 ) itself—is max {D01 + D21 −1,0} , i.e.
!
!
inequalities can themselves be used recursively to bound the bounds on Pr y1 ≥ y0 ! ∧ !y1 ≥ y2
!
, the latter being unknowable given only information on the marginals Fj y .
!

{

{ (

}

)

(

}

)

(

)

max D01 + D21 −1,0 ! ≤ !max Pr y1 ≥ y0 + Pr y1 ≥ y2 −1,0 ! ≤ !Pr y1 ≥ y0 ! ∧ !y1 ≥ y2 ,
!

(27)

which is informative if D01 + D21 > 1 . The corresponding approach to obtaining an upper
!

(

)

bound on the upper bound on Pr y1 ≥ y0 ! ∧ !y1 ≥ y2 uses
!

(

)

{ (

)}

) (

{

}

Pr y1 ≥ y0 ! ∧ !y1 ≥ y2 ! ≤ !min Pr y1 ≥ y0 ,Pr y1 ≥ y2 ! ≤ !min 1− D10 ,1− D12 ,
!

(28)

which is informative if either or both of the D1k exceed zero.
!

(

For example, suppose ⎡⎣ y0 ,y1 ,y2 ⎤⎦ ∼ TVN µ,V
!

)

with µ = ⎡⎣ µ0 ,µ1 ,µ2 ⎤⎦ = ⎡⎣1,3,0⎤⎦ and
!

⎡ 1 ρ 2ρ ⎤
covariance V = ⎢ ρ 1 2ρ ⎥ . The Fj y and corresponding Y01 = 2 and Y21 = 1.58 are
!
!
!
⎢⎣ 2ρ 2ρ 4 ⎥⎦

()

Such questions might be of interest when all the outcomes are observed in the same sample
or when—as discussed below in section 7—observations from different datasets are used.

40

20

depicted in figure 11(b), showing D01 =.68 and D21 =.71. The lower bound on the population
!
!

(

)

FLB on Pr y1 ≥ y0 ! ∧ !y1 ≥ y2 obtained from D01 and D21 is thus .39=.68+.71-1. Table 3
!
!
!

{

}

compares this with the true probabilities and the population FLBs for ρ ∈ −.25,0,.25 . The
!
lower bound on the FLB based on D01 and D21 is conservative, albeit still informative. The
!
!
corresponding upper bound in (28) is minimally informative, .9996, resulting from D10 =0 and
!
D =.0004.
! 12

Competing Multivariate Outcomes
In some evaluations the outcomes of interest are multivariate. A prominent example is
that of co-primary ("and", "all") outcomes in clinical studies.41 In regulatory settings coprimary outcomes may involve "use of two or more endpoints for which demonstration of an
effect on each is needed to support regulatory approval" (U.S. FDA, 2017). One
characterization of "effect" might be that all outcomes under one treatment are not smaller
than those under the comparator, i.e. y 1 ≥ y 0 for P-vectors y j . Analogous considerations arise
!
!
in healthcare quality measurement contexts where all-or-nothing indicators of quality may be
of interest (Nolan and Berwick, 2006).
To formalize these ideas, suppose the P-dimensional outcomes are y j = ⎡ y j,1 ,…,y j,P ⎤ ,
⎣
⎦

(

)

j=0,1. Of concern may be the probability Pr y 1 ≥ y 0 where ≥ is element-by-element. For
!

(

)

instance, with M=P=2, the parameter of interest is Pr y1,1 ≥ y0,1 ! ∧ !y1,2 ≥ y0,2 . Two
!
approaches might be considered.

()

For the first, assume M=P=2 and that only the four univariate marginals Fj,m y , j=0,1,
!
p=1,2, are available. Using the recursive-bounding idea in (27) and (28), and letting Djk ,p
denote quantities akin to (21), the lower and upper Djk ,p − based bounds on
41

Atkinson, 2003, discusses the ideas of union ("or") and intersection ("and") outcomes.

21

(

)

Pr y1,1 ≥ y0,1 ! ∧ !y1,2 ≥ y0,2 are
!

{

(

}

)

{

}

max D01,1 + D01,2 −1,0 ! ≤ !Pr y1,1 ≥ y0,1 ! ∧ !y1,2 ≥ y0,2 ! ≤ !min 1− D10,1 ,1− D10,2 .
!

(29)

( )

The second approach assumes that M=2 P-dimensional joint marginals Fj y , j=0,1, are
!
available.42 Using results from Rüschendorf, 2004 (see also Kotz and Seeger, 1993), the joint
probability of the events y 0 ≤ y ' and y 1 > y ' for arbitrary !y ' is bounded as follows:
!
!

{ ( ) ( ) }

(

{

)

( ) ( ) }

max F0 y ' − F1 y ' ,0 ! ≤ !Pr y 0 ≤ y '! ∧ !y 1 > y ' ! ≤ !min 1+ F0 y ' − F1 y ' ,1
!

(

(30)

)

Obtaining the best bounds on Pr y 1 ≥ y 0 in this case follows in a manner analogous to (24)
!

( )

except that determining the particular Yjk (the vector analog of Yjk in (22)) at which F0 y
!
!
!

( )

and F1 y are evaluated to identify the best bounds may entail additional computational
!
considerations.43
For illustration, consider M=2 co-primary outcomes y j where the y j,p are binary, the

(

)

joint marginals are known, and !y ' = 0 in (30).44 Here the best bounds on Pr y 1 > y 0 are
!
(refer to (7)):

{ (

)

(

) }

(

)

(

max Pr y 1 = 1 − Pr y 0 = 1 ,0 ! ≤ !Pr y 0 = 0! ∧ !y 1 = 1 ! = !Pr y 1 > y 0

{

(

) (

(

)

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ≤ !min 1− Pr y 0 = 1 ,Pr y 1 = 1
!

)}

)

(31)

This idea also covers the weak inequality case, Pr y 1 ≥ y 0 , albeit with messier probability
!
42

The assumption that the joint marginals are identifiable would often be a reasonable one.

In a closely related context Andrews, 1997, discusses how a grid or hypercube search over
!y ' can be confined to the observed sample values of y—as these define the steps in the
43

empirical joint distribution—thus simplifying estimation. Note that the M elements of Yjk will
!
generally not be the M scalar values that would obtain from applying (22) with reference to
the M univariate marginals.

For example, Langley et al., 2014, consider two binary co-primary endpoints in a study of
secukinumab versus etanercept in the treatment of plaque psoriasis.
44

22

algebra. Moreover, using (9) and (11) the recursive-bounding idea in (27) and (28) can be
used to bound composite ("or", "any") outcome probabilities (U.S. FDA, 2017), e.g.

(

)

Pr y1,1 > y0,1 ! ∨ !y1,2 > y0,2 .
!

7. Sampling, Estimation, and Inference
This section considers empirical implementation of the univariate-outcome results
described in section 3. In what follows the empirical marginal distributions of the observed

()

N

(

)

j
1 y j,n ≤ y .
outcomes y j,n , given sample sizes Nj , are defined as Fj,N y = 1 ∑ n=1
Nj
j
!
!
!

Sampling
The sampling assumptions are standard ones. FP state: "observations on the outcome
of participants in the treatment group identify the distribution of the potential outcome with
treatment, and observations on the outcome of participants in the control group identify the
distribution of the potential outcome without treatment."45 In essence, a random sample

(

)

(

)

containing information on the true y0 ,y1 , or more generally y0 ,y1 ,x , is drawn from the
!
!
population. Then for each subject the information on either y0 or y1 is deleted at random,
!
!
resulting in samples of size Nj of observations on y j . More generally, the FP results apply
!
!
with unconfounded conditioning on x—i.e. selection on observables only—if covariates are
relevant. 46 These assumptions are standard and point to what matters being consistent

()

()

()

estimates of the Fj y in the sense of convergence in distribution: Fj,N y → Fj y as Nj → ∞
!
!
! j
All the standard reasons to scrutinize the validity of such assumptions in light of the
processes that may actually generate the observed data are applicable here. See Adams, 2013,
Chan and Hamilton, 2006, Fan et al., 2017, Imbens and Wooldridge, 2009, and Manski, 1996.

45

See FP, pages 932 and 944-945, and Imbens and Wooldridge, 2009, section 2.2. In an
unconfounded regression context with y = αt + m x + u , E ⎡⎣ u t,x ⎤⎦ = 0 , and t ∈ 0,1 , an
!
!
!
analyst might imagine empirical bounds analysis using as "outcomes" the estimated adjusted
!
"
or semi-residuals r = y − m x from the two subsamples defined by the binary treatment
!
indicator. Consideration of the properties of such an approach is left for future exploration.
46

( )

( )

23

{ }

for all y in Sj (Hansen, 2017, section 6.7). Technical considerations aside, sampling schemes
!

( ( )) ( ( )) (e.g. differences in means or medians) would

that identify criteria like V F1 y − V F0 y
!
generally suffice for purposes at hand.
Additional Sampling Considerations

Censoring of Empirical Outcome Distributions
In applications left (e.g. Tobit-type) or right (e.g. survival times) censoring may be
relevant. Censoring of either or both of the empirical marginal distributions may or may not
affect the magnitudes of the FLB or FUB depending on where censoring occurs relative to the

(

)

uncensored data's Yjk . Informative bounds on Pr y1 ≥ y0 may still be defined from censored
!
!
samples regardless of the degree of censoring so long as some outcome data are uncensored.
Consider the study by Lee et al., 2016, comparing naltrexone and usual treatment for opioid
relapse. The study's primary outcome is relapse-free survival time. The outcome data (derived
from approximating the data in Lee et al.'s figure 2) are depicted in figure 12. While these data
are right-censored at 24 weeks, it can be determined that D01 is at least .29 based on a
!
provisional Y01 at 15 weeks.47
!
Marginal Distributions Observed in or Estimated from Different Datasets or Samples
Nothing about the results discussed above demands that the data on y0 and y1 be
!
!
obtained from the same sample or dataset. All that is required is that the respective empirical

(

)

marginal distributions converge to the corresponding population marginals of F y0 ,y1 , as
!
above. If the marginal distributions of the two outcomes observed in different datasets (e.g.

()

When either or both of the Fj,N y are censored, point identification of E ⎡⎣ y1 ⎤⎦ − E ⎡⎣ y0 ⎤⎦ is
!
! j
generally not possible. Depending on where censoring occurs this is also true for differences
between marginal quantiles although informative bounds may be available if one of the
marginial quantiles is observed. For instance, while it is not possible to identify

47

( ( ))

( ( ))

med F1 y − med F0 y in the Lee et al. example, it is evident from Lee et al.'s figure 2 that
!
this difference is at least 13 weeks.

24

repeated cross-sections, synthetic panels, separate trials, etc.) are truly representative of the
same population—characterized by time, place, and all other observable and unobservable
characteristics—then the previous analysis is applicable without modification.48
Estimation
Estimation of D01 and D10 requires an algorithm that computes the difference between
!
!
empirical distribution functions across their common support. In Stata, this is straightforward
using the ksmirnov procedure. 49 With the data on y0,n and y1,n stacked into a single
!
!
variable (say y = ⎡⎣ y n ⎤⎦ ) having N0 + N1 observations, and a second variable (say g = ⎡⎣g n ⎤⎦ )
!
!
!

(

)

defined as the binary indicator of group membership, e.g. g n = 1 n > N0 , then the Stata
!
command is simply:
ksmirnov y, by(g)
ksmirnov returns the scalar stored results r(D_1) and r(D_2) whose absolute values are,
respectively, the estimates of D01 and D10 . To illustrate, 500 observations are drawn from the
!
!

( )

( )

N 0,2 and N .5,1 distributions depicted in figure 4. The ksmirnov estimates are shown in
!
!
exhibit 1. From r(D_1) and r(D_2), the estimates of D01 and D10 are .224 and .12,
!
!
corresponding to their respective population counterparts .25 and .09 shown in figure 4.
Inference
The emphases to this point in the paper have been identification of probability bounds
based on Djk and estimation of such bounds. Considerations of inference might involve at
!
least two questions (see Imbens and Manski, 2004, and Tamer, 2010). First, what purpose is
The assumption that the two samples are drawn from the same population is a strong one.
For clinical trials inclusion criteria, study sites, etc., would all be relevant considerations; for
population surveys or administrative data, sampling frames, exclusion criteria, etc., would be
relevant.

48

R has a procedure, ks.test, that appears to provide output similar to that of Stata's
ksmirnov.

49

25

served by conducting inference about bounds? Second, which parameters are of interest for
conducting inference? Assuming useful purposes exist then at least two types of inference
may be relevant: inference about the Djk -based bounds per se, and inference specifically
!

(

)

about Pr y1 ≥ y0 .
!

()

For the first type, FP provide large-sample results. Since the Fj,N y are averages of
! j
independent Bernoulli variates (Hansen, 2017, section 13.2), FP's proposition 3.1 gives

!

(

)

( )

N Djk ,N − Djk ! → !N 0,σ 2jk

where

( )(

( ))

(32)

( )(

( ))

σ 2jk ! = !F0 Yjk 1− F0 Yjk ! + !F1 Yjk 1− F1 Yjk ,
!

(33)

assuming equal sample sizes in the two groups (this is easily relaxed) and that various
regularity conditions50 are met. Confidence intervals built on these large-sample results must
also respect the 0-1 probability bounds. For the data in figure 1, using (33) to compute 95%
(±2 s.e.) CIs around the estimated D01 and 1− D10 bounds whose point estimates are .17 and
!
!
.96, respectively, results in respective CIs of [.10, .24] and [.90, 1]. FP also discuss bootstrapbased inference.
For the second type, inference may be undertaken to understand sampling variation in

(

)

the estimates of Pr y1 ≥ y0 . ksmirnov gives p-values for testing directional hypotheses
!
that one of y0 or y1 is stochastically smaller than the other (see exhibit 1). These p-values are
!
!
2N N
computed as pjk ,N = exp ⎛ − 0 1 D2jk ,N ⎞ for the null that y j is not stochastically smaller than
N
⎝ 0+N1
⎠
!
!

FP's results use the assumption (which they suggest can be relaxed) that the Yjk are unique.
!
FP also discuss bootstrap inference; see also Abrevaya, 2000, and Abadie, 2002. A sampling
exercise suggests that even a naive bootstrap—with computation of each replicate's estimate
of Djk around the original sample's value of Yjk —reproduces closely both the population
!
!
(known Fj y ) and analog ( Fj,N y "plugged in") versions of the (33). These results are
!
! j
available on request.
50

()

()

26

()

y ; the pjk ,N depend only on the Djk ,N , not on the particular values of the Fj,N y .51
! k
!
!
! j

8. Summary
This paper has proposed the utility in health economics evaluations of some results on
inequality probabilities from the treatment-effect literature that have gone largely unnoticed
or unused in health applications. In comparing outcomes y j across a population, which
!
metric(s) are used for comparison is at the decisionmaker's discretion. While standard
contrasts like ATEs are informative for some questions, other perspectives may be more
relevant in some decisionmaking contexts. Questions regarding inequality probabilities are
natural to consider in a range of decisionmaking settings. While point identification of such
parameters is challenging, the paper has shown how inequality probabilities can be
informatively bounded using information on the marginal outcome distributions. Of course,
estimating the relevant marginal outcome distributions from the data at hand may itself be
challenging for all the standard reasons.
Whether decisionmakers are comfortable relying on bounds is a consideration whose
relevance and importance have been emphasized by Manski. Entrenched approaches to
evaluation in regulatory (e.g. FDA) and other contexts may be challenging to budge. Yet
superior decisions will be made if evaluations that inform them are anchored to criteria that
reflect what actually matters to decisionmakers52 rather than to criteria that happen to be
biostatistically convenient or time-honored. True value-based policymaking and healthcare
delivery demand no less.

See Darling, 1957. The two directional tests ksmirnov reports are against null hypotheses
that y0 is not stochastically smaller than y1 and that y1 is not stochastically smaller than y0 .
!
!
!
!
52 See Lynn et al., 2015, for a compelling discussion.
51

27

Acknowledgments
For helpful discussions and comments, and with the standard disclaimer, I would like
to thank Chris Adams, Bruce Hansen, M.-J. Lee, David Madden, Chuck Manski, Joao Santos
Silva, Justin Sydnor, Dave Vanness, and participants in presentations at the Barcelona
Conference on the Economics of Addiction and Health Inequality, the York Centre for Health
Economics, ISEG-Lisbon, Resources for the Future, University College Dublin, the University of
Chicago, the University of Coimbra, and the University of Wisconsin-Madison. Parts of this
work were supported by the RWJF Health & Society Scholars Program, RWJF Evidence for
Action Grant 73336, and NICHD grant P2CHD047873 to the Center for Demography and
Ecology, all at UW-Madison, and by the UCD Geary Institute during a sabbatical visit.

28

References
Aakvik, A. et al. 2005. "Estimating Treatment Effects for Discrete Outcomes when Responses
to Treatment Vary: An Application to Norwegian Vocational Rehabilitation Programs."
Journal of Econometrics 125: 15-51.
Abadie, A. 2002. "Bootstrap Tests for Distributional Treatment Effects in Instrumental
Variable Models." JASA 97: 284-292.
Abbring, J.H. and J.J. Heckman. 2007. "Econometric Evaluation of Social Programs, Part III:
Distributional Treatment Effects, Dynamic Treatment Effects, Dynamic Discrete Choice,
and General Equilibrium Policy Evaluation." Chapter 72 in J.J. Heckman and E.E. Leamer,
Eds., Handbook of Econometrics, Vol. 6B. Amsterdam: Elsevier.
Abrevaya, J. 2000. "Testing for a Treatment Effect in a Heterogeneous Population: A Modified
Sign-Test Statistic and a Leapfrog Statistic." Journal of Applied Statistics 27: 679-687.
Adams, C.P. 2013. "Median Survival, Hazard Ratios, and Bounding Drug Effectiveness."
Working Paper, U.S. Federal Trade Commission.
Allison, R.A. and J.E. Foster. 2004. "Measuring Health Inequality Using Qualitative Data."
Journal of Health Economics 23: 505-524.
Andrews, D.W.K. 1997. "A Conditional Kolmogorov Test." Econometrica 65: 1097-1128.
Angrist, J.D. 2004. "Treatment Effect Heterogeneity in Theory and Practice." Economic Journal
114: C52-C83.
Athey, S. and G.W. Imbens. 2006. "Identification and Inference in Nonlinear Difference-inDifferences Models." Econometrica 74: 431-497.
Atkinson, A.B. 2003. "Multidimensional Deprivation: Contrasting Social Welfare and Counting
Approaches." Journal of Economic Inequality 1: 51-65.
Basu, A. et al. 2007. "Use of Instrumental Variables in the Presence of Heterogeneity and SelfSelection: An Application to Treatments of Breast Cancer Patients." Health Economics 16:
1133-1157.
Basu, A. and R. Thariani. 2016. "Jointness Box (JB)-Area: A Novel Metric to Contemplate
Potential Value of Individualized Care from Traditional Trials Data." Working Paper, Univ.
of Washington.
Bitler, M.P. et al. 2006. "What Mean Impacts Miss: Distributional Effects of Welfare Reform
Experiments." American Economic Review 96: 988-1012.
29

Borah, B.J. et al. 2011. "Assessing the Impact of High Deductible Health Plans on Health-Care
Utilization and Cost: A Changes-in-Changes Approach." Health Economics 20: 1025-1042.
Borghaei, H. et al. 2015. "Nivolumab versus Docetaxel in Advanced Nonsquamous Non-SmallCell Lung Cancer." NEJM 373: 1627-1639.
Cameron, A.C. et al. 2004. "Modelling the Differences in Counted Outcomes using Bivariate
Copula Models with Application to Mismeasured Counts." Econometrics Journal 7: 566584.
Carneiro, P. et al. 2001. "Removing the Veil of Ignorance in Assessing the Distributional
Impacts of Social Policies." Swedish Economic Policy Review 8: 273-301.
Castagnoli, E. 1984. "Some Remarks on Stochastic Dominance." Revista di Matematica per le
Scienze Economiche e Sociali 7: 15-28.
Chan, T.Y. and B.H. Hamilton. 2006. "Learning, Private Information, and the Economic
Evaluation of Randomized Experiments." Journal of Political Economy 114: 997-1040.
Coate, S. 2000. "An Efficiency Approach to the Evaluation of Policy Changes." Economic Journal
110: 437-455.
Darling, D.A. 1957. "The Kolmogorov-Smirnov, Cramér-von Mises Tests." Annals of
Mathematical Statistics 28: 823-838.
Denuit, M. et al. 2002. "Measuring the Impact of Dependence between Claims Occurrences."
Insurance: Mathematics and Economics 30: 1-19.
Fan, Y. et al. 2014. "Identifying Treatment Effects under Data Combination." Econometrica 82:
811-822.
Fan, Y. et al. 2017. "Partial Identification of Functionals of the Joint Distribution of 'Potential
Outcomes'." Journal of Econometrics 197: 42-59.
Fan, Y. and S.S. Park. 2010. "Sharp Bounds on the Distribution of Treatment Effects and Their
Statistical Inference." Econometric Theory 26: 931-951.
Fan, Y. and S.S. Park. 2012. "Confidence Intervals for the Quantile of Treatment Effects in
Randomized Experiments." Journal of Econometrics 167: 330-344.
Fenwick, E. et al. 2004. "Cost-Effectiveness Acceptability Curves—Facts, Fallacies and
Frequently Asked Questions." Health Economics 13: 405-415.
Firpo, S. and G. Ridder. 2008. "Bounds on Functionals of the Distribution of Treatment
Effects." Univ. of Southern California, IEPR Working Paper 08.09.

30

Gastwirth, J.L. 1975. "Statistical Measures of Earnings Differentials." The American Statistician
29: 32-35.
Gerber, E.R. and J.B. Lewis. 2004. "Beyond the Median: Voter Preferences, District
Heterogeneity, and Political Representation." Journal of Political Economy 112: 1364-1383.
Hansen, B.E. 2017. Econometrics (online textbook). University of Wisconsin-Madison, Dept. of
Economics.
Hauck, W.W. et al. 2000. Generalized Treatment Effects for Clinical Trials." Statistics in
Medicine 19: 887-899.
Heckman, J.J. et al. 1997. "Making the Most out of Programme Evaluations and Social
Experiments: Accounting for Heterogeneity in Programme Impacts." Review of Economic
Studies 64: 487-535.
Heckman, J.J. 2001. "Accounting for Heterogeneity, Diversity and General Equilibrium in
Evaluating Social Programmes." Economic Journal 111: F654-F699.
Horwitz, R.I. et al. 1996. "Can Treatment That Is Helpful on Average Be Harmful to Some
Patients? A Study of the Conflicting Information Needs of Clinical Inquiry and Drug
Regulation." Journal of Clinical Epidemiology 49: 395-400.
Huang, E.J. et al. 2016. "Inequality in Treatment Benefits: Can We Determine If a New
Treatment Benefits the Many or the Few?" Biostatistics (E-pub. ahead of print).
Imbens, G.W. and C.F. Manski. 2004. "Confidence Intervals for Partially Identified Parameters."
Econometrica 72: 1845-1857.
Imbens, G.W. and J.M. Wooldridge. 2009. "Recent Developments in the Econometrics of
Program Evaluation." Journal of Economic Literature 47: 5-86.
Jacob, J. and D. Lundin. 2005. "A Median Voter Model of Health Insurance with Ex Post Moral
Hazard." Journal of Health Economics 24: 407-426.
Koenker, R. and Y. Bilias. 2001. "Quantile Regression for Duration Data: A Reappraisal of the
Pennsylvania Reemployment Bonus Experiments." Empirical Economics 26: 199-220.
Kotz, S. and J.P. Seeger. 1993. "Lower Bounds on Multivariate Distributions with Preassigned
Marginals." Stochastic Inequalities 22 (IMS Lecture Notes—Monograph Series): 211-218.
Kravitz, R.L. et al. 2004. "Evidence-Based Medicine, Heterogeneity of Treatment Effects, and
the Trouble with Averages." Milbank Quarterly 82: 661-687.
Langley, R.G. et al. 2014. "Secukinumab in Plaque Psoriasis—Results of Two Phase 3 Trials."

31

NEJM 371: 326-338.
Lee, J.D. et al. 2016. "Extended-Release Naltrexone to Prevent Opioid Relapse in Criminal
Justice Offenders." NEJM 374: 1232-1242.
Lee, M.-J. 2000. "Median Treatment Effects in Randomized Trials." JRSS-B 62: 595-604.
Lee, M.-J. and S. Kobayashi. 2001. "Proportional Treatment Effects for Count Response Panel
Data: Effects of Binary Exercise on Health Care Demand." Health Economics 10: 411-428.
Lynn, J. et al. 2015. "Value-Based Payments Require Valuing What Matters to Patients." JAMA
314: 1445-1446.
Makarov, G.D. 1982. "Estimates for the Distribution Function of a Sum of Two Random
Variables When the Marginal Distributions are Fixed." Theory of Probability & Its
Applications 26: 803-806.
Mann, H.B. and D.R. Whitney. 1947. "On a Test of Whether One of Two Random Variables is
Stochastically Larger than the Other." Annals of Mathematical Statistics 18: 50-60.
Manski, C.F. 1988. Analog Estimation Methods in Econometrics. London: Chapman and Hall.
Manski, C.F. 1996. "Learning about Treatment Effects from Experiments with Random
Assignment of Treatments." Journal of Human Resources 31: 709-733.
Manski, C.F. 1997. "Monotone Treatment Effect." Econometrica 65: 1311-1334.
Manski, C.F. 2007. Identification for Prediction and Decision. Harvard University Press.
Mullahy, J. 2005. "Individual Results May Vary." Working Paper, Presented at the Conference
on the Economics of Addiction and Health Inequality, Barcelona (May 2005).
Nissen, S.E. et al. 2016. "Cardiovascular Safety of Celecoxib, Naproxen, or Ibuprofen for
Arthritis." NEJM 375: 2519-2529.
Nolan, T. and D.M. Berwick. 2006. "All-or-None Measurement Raises the Bar on Performance."
JAMA 295: 1168-1170.
Pauly, M.V. 1989. "Positive Political Economy of Medicare, Past and Future." in M.V. Pauly et
al., Eds., Lessons from the First Twenty Years of Medicare—Research Implications for Public
and Private Sector Policy. Philadelphia: University of Pennsylvania Press.
Reck, M. et al. 2016. "Pembrolizumab versus Chemotherapy for PD-L1-Positive Non-Small-Cell
Lung Cancer." NEJM 375: 1823-1833.
Rüschendorf, L. 2004. "Comparison of Multivariate Risks and Positive Dependence." Journal of
Applied Probability 41: 391-406.

32

Stinnett, A.A. and J. Mullahy. 1998. "Net Health Benefits: A New Framework for the Analysis of
Uncertainty in Cost-Effectiveness Analysis." Medical Decision Making 18: S68-S80.
Tamer, E. 2010. "Partial Identification in Econometrics." Annual Review of Economics 2: 167195.
U.S. Food and Drug Administration. 2015. Clinical Trial Endpoints for the Approval of NonSmall Cell Lung Cancer Drugs and Biologics—Guidance for Industry. USDHHS/FDA
CBER/CDER.
U.S. Food and Drug Administration. 2016. Non-Inferiority Trials to Establish Effectiveness—
Guidance for Industry. USDHHS/FDA CBER/CDER.
U.S. Food and Drug Administration. 2017. Multiple Endpoints in Clinical Trials—Guidance for
Industry. USDHHS/FDA CBER/CDER.
van Hout, B.A. et al. 1994. "Costs, Effects and C/E-Ratios alongside a Clinical Trial." Health
Economics 3: 309-319.
Vanness, D.J. and J. Mullahy. 2012. "Moving beyond Mean-Based Evaluation of Health Care."
Chapter 52 in A.M. Jones, Ed., Elgar Companion to Health Economics, 2nd Edition.
Cheltenham: Edward Elgar.
Volpp, K.G. et al. 2009. "A Randomized, Controlled Trial of Financial Incentives for Smoking
Cessation." NEJM 360: 699-709.
Willan, A.R. 2001. "On the Probability of Cost-Effectiveness Using Data from Randomized
Clinical Trials." BMC Medical Research Methodology 1:8.
Willke, R.J. et al. 2012. "From Concepts, Theory, and Evidence of Heterogeneity of Treatment
Effects to Methodological Approaches: A Primer." BMC Medical Research Methodology 12:
185.
Williamson, R.C. and T. Downs. 1990. "Probabilistic Arithmetic. I. Numerical Methods for
Calculating Convolutions and Dependency Bounds." International Journal of Approximate
Reasoning 4: 89-158.

33

Figure 1

()

()

Survival Time Distributions: Nivolumab= Fniv t versus Docetaxel= Fdoc t —
!
!
Panel (a): Median Survival Times; Panel (b): Twelve-Month Survival Probabilities
Fdoc(t)

Fniv(t)
1

.50

0

9.4 12.2

t

(a)
Fdoc(t)

Fniv(t)
1

.61
.49

0

12

t

(b)

34

Figure 2
Survival Time, Nivolumab versus Docetaxel: Sample Space for Continuous and Binary
Outcomes
tniv

II

I

III

IV

qniv=1

12

qniv=0

0

qdoc=0

12

35

qdoc=1

tdoc

Figure 3

⎛ ⎡4.1⎤ ⎡ 1 .5 ⎤⎞
⎡y ⎤
⎥⎟ —
FLB based on Marginals Fj y from Joint Distribution ⎢ 0 ⎥ ~BVN ⎜ ⎢ ⎥ , ⎢
⎜⎝ ⎣5.1 ⎦ ⎢ .5 1 ⎥⎟⎠
!
⎢⎣ y1 ⎦⎥
⎣
⎦
!
Panel (a): FLB for Arbitrary y=y'; Panel (b): Best FLB at y = Y01
!

()

y1

II

IB
IA

Y01

IIIA
IIIB

IV

y0=y1

0

Y01

y0

(a)
y1

II

IB
IA

Y01
y'

IIIA
IIIB

IV

y0=y1

0

y'

(b)

36

Y01

y0

Figure 4
Numerical Examples: Computing Yjk and Djk —
!
!
Panel (a): F0 y = N 0,4 , F1 y = N .5,1 ; Panel (b): F0 y = Exp 5 , F1 y = Exp 1 .
!
!
!
!
!
!
!
!

() ( ) () ( )
F0(y)

()

() ()

F1(y)
1
.94
.85

.36

.11
Y01

Y10

y

(a)
F0(y)

F1(y)
1
.87

.33

Y01

y

(b)

37

()

Figure 5
Numerical Examples: Computing Yjk —
!
2
2
Panel (a): σ 0 ≠ σ1 , Both Y01 and Y10 Defined;
!
!
!
2
2
Panel (b): σ 0 = σ1 , Only One of Y01 or Y10 Defined
!
!
!
f0(y)

f1(y)

Y01

Y10

y

(a)
f0(y)

f1(y)

Y01

(b)
38

y

Figure 6
Illustration of Zero-Order Stochastic Dominance, Y01 = ⎡⎣U0 ,L1 ⎤⎦ , and D01 = 1 , with
!
!
F y ≻0 F0 y
!1

()

()

F0(y)

F1(y)
1

U0 L1

39

y

Figure 7

⎛
⎞
⎡y ⎤
⎡4.1⎤ ⎡ 1 ρ ⎤
⎥⎟ —
FLB based on Marginals Fj y from Joint Distribution ⎢ 0 ⎥ ~BVN ⎜ ⎢ ⎥ , ⎢
!
⎜ ⎣5.1 ⎦ ⎢ ρ 1 ⎥⎟
⎢⎣ y1 ⎦⎥
⎝
⎣
⎦⎠
!
Panel (a): !ρ = .5 ; Panel (b): !ρ = −.5

()

y1

II

IB
IA

Y01

IIIA
IIIB

IV

y0=y1

0

Y01

y0

(a)
y1

II

IB
IA

Y01

IIIA
IIIB

IV

y0=y1

0

Y01

(b)

40

y0

Figure 8
Volpp et al., 2009: Self-Rated Health Status Results, Computation of Y01 and D01 —
!
!
Panel (a): Control= F0 y , Intervention= F1 y ; Panel (b): Sample Space
!
!

()

()

F0(y)

F1(y)
1
.89
.86

Poor

Fair

Good V.G.=Y01 Excel.

Self-Rated Health

(a)
y1
Excel.

V.G.=
Y01
4

Good

Fair

Poor
y0=y1

Poor

Fair

Good V.G.=Y01 Excel.

(b)

41

y0

Figure 9
Numerical Examples: Spreading and Rectangularizing —

() ( ) () ( ) () (
() ( ) () ( )

)

Panel (a): F0 y = N 0,1 , F1 y = N 0,4 , F2 y = N 0,16 ;
!
!
!
!
!
!
Panel (b): F0 y = N 0,4 , F1 y = N 1,0
!
!
!
!
F0(y)

F1(y)

F2(y)
1
.96
.91
.75
.67

Y01 Y02

y

(a)
F0(y)

F1(y)
1

.69

Y01=Y10

(b)
42

y

Figure 10

(

)

()

()

Net Health Benefit: True Prλ h1 ≥ h0 and FLB based on Marginals F0,λ h and F1,λ h
!
!
!
True

FLB
1

Prλ(h1≥h0)

0

2

10

λ

43

Figure 11
Demonstrating Fréchet-Boole Bounds with Three Outcomes:
Computation of D01 and D21 with ⎡⎣ y0 ,y1 ,y2 ⎤⎦ ∼ TVN µ,V (Parameters Defined in Text)
!
!
!

(

F0(y)

F1(y)

)

F2(y)
1
.84
.79

.16
.08
Y21 Y01

44

y

Figure 12
Lee et al., 2016, Relapse-Free Survival Time Results with Censoring:

()

()

Usual Treatment= F0 y , Naltrexone= F1 y , and Computation of Y01 and D01
!
!
!
!
F0(y)

F1(y)
1

.57
.50

.28

0

Y01

45

y

Table 1

(

)

Binary Outcomes Bounds on Pr y1 ≥ y0 —
!
Panel (a): General Case; Panel (b): Nivolumab Example Probability Bounds
y
! 0

y
! 1

0

1

0

π
! 00

π
! 10

1− π1
!

1

π
! 01

π
! 11

π
! 1

1− π0
!
(a)

π
! 0

1

Marginal Total

Twelve-Month Survival
Nivolumab
( qniv )
!

Marginal
Total

Docetaxel ( qdoc )
!

Marginal
Total

Died

Survived

Died

π
! 00

π
! 10

.49

Survived

.12! ≤ !π01 ! ≤ !.51
!

π
! 11

.51

.61
(b)!!

.39

1

Marginal Total

46

Table 2

(

)

D and Pr y1 ≥ y0 for Alternative Mean and Correlation Structures;
! 01
!
y ,y ∼ BVN µ0 ,µ1 ;1,1,ρ
! 0 1

(

)

(

)

(

)

Pr y1 ≥ y0 for ρ =
!
µ −µ
! 1 0

D
! 01

-.9

-.5

0

.5

.9

.5

.20

.60

.61

.64

.69

.87

1

.38

.70

.72

.76

.84

.99

2

.68

.85

.88

.92

.98

>.999

47

Table 3
Three-Outcome Case: Fréchet Bounds and Bounds Based on D01 and D21
!
!

(

)

(

F y ,y ,y = MVN µ,V
! 0 1 2

(
(

ρ

)
)
)

Pr y1 > y0
!
Pr y1 > y2
Population
!
Parameters
Pr y1 > y0 ! ∧ !y1 > y2
!
FLB on Pr y1 > y0 ! ∧ !y1 > y2
!
FLB on FLB using D01 , D21
!
!

(

(

)

)

48

-.25

0

.25

.90

.92

.95

.89

.91

.93

.81

.85

.89

.79

.83

.88

.39

Exhibit 1

( )

( )

Using Stata's ksmirnov to Estimate D01 and D10 , with y0 ∼ N 0,2 and y1 ∼ N .5,1
!
!
!
!
. by g: sum y

-----------------------------------------------------------------------------> g = 0
Variable |
Obs
Mean
Std. Dev.
Min
Max
-------------+-------------------------------------------------------y |
500
.1139187
1.982952 -6.232434
6.283308
-----------------------------------------------------------------------------> g = 1
Variable |
Obs
Mean
Std. Dev.
Min
Max
-------------+-------------------------------------------------------y |
500
.4553814
1.035908 -2.470682
3.612597

. ksmirnov y, by(g)
Two-sample Kolmogorov-Smirnov test for equality of distribution functions
Smaller group
D
P-value Corrected
---------------------------------------------0:
0.2240
0.000
1:
-0.1200
0.001
Combined K-S:
0.2240
0.000
0.000
. disp r(D_1)
.224
. disp r(D_2)
-.12

49

