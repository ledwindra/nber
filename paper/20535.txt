NBER WORKING PAPER SERIES

CAUSAL INFERENCE IN URBAN AND REGIONAL ECONOMICS
Nathaniel Baum-Snow
Fernando Ferreira
Working Paper 20535
http://www.nber.org/papers/w20535
NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
October 2014

This paper has been written as a chapter of the “Handbook of Regional and Urban Economics”, Volume
5, Duranton, Henderson, and Strange editors, Elsevier. We thank Gilles Duranton, Thomas Holmes,
Vernon Henderson, and Will Strange for helpful comments and suggestions. Adrian Rubli, Pengpeng
Xiao, and Chen Zheng provided excellent research assistance. We also thank the Research Sponsors
Program of the Zell/Lurie Real Estate Center at Wharton for financial support. The views expressed
herein are those of the authors and do not necessarily reflect the views of the National Bureau of Economic
Research.
NBER working papers are circulated for discussion and comment purposes. They have not been peerreviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.
© 2014 by Nathaniel Baum-Snow and Fernando Ferreira. All rights reserved. Short sections of text,
not to exceed two paragraphs, may be quoted without explicit permission provided that full credit,
including © notice, is given to the source.

Causal Inference in Urban and Regional Economics
Nathaniel Baum-Snow and Fernando Ferreira
NBER Working Paper No. 20535
October 2014
JEL No. R0
ABSTRACT
Recovery of causal relationships in data is an essential part of scholarly inquiry in the social sciences.
This chapter discusses strategies that have been successfully used in urban and regional economics for
recovering such causal relationships. Essential to any successful empirical inquiry is careful consideration
of the sources of variation in the data that identify parameters of interest. Interpretation of such parameters
should take into account the potential for their heterogeneity as a function of both observables and
unobservables.
Nathaniel Baum-Snow
Brown University
Department of Economics, Box B
64 Waterman Street
Providence, RI 02912
and NBER
nathaniel_baum-snow@brown.edu
Fernando Ferreira
The Wharton School
University of Pennsylvania
1461 Steinberg - Dietrich Hall
3620 Locust Walk
Philadelphia, PA 19104-6302
and NBER
fferreir@wharton.upenn.edu

Causal Inference in Urban and Regional Economics
Nathaniel Baum-Snow, Brown University
Fernando Ferreira, University of Pennsylvania
September 6, 2014

Abstract
Recovery of causal relationships in data is an essential part of scholarly inquiry in
the social sciences. This chapter discusses strategies that have been successfully used
in urban and regional economics for recovering such causal relationships. Essential to
any successful empirical inquiry is careful consideration of the sources of variation in
the data that identify parameters of interest. Interpretation of such parameters should
take into account the potential for their heterogeneity as a function of both observables
and unobservables.

1

Introduction

The field of urban and regional economics has become much more empirically oriented
over recent decades. In 1990, 49 percent of publications in the Journal of Urban Economics
were empirical, growing to 71 percent in 2010. Moreover, the set of empirical strategies
that are most commonly employed has changed. While most empirical papers in 1990
only used cross-sectional regressions, articles in 2010 are more likely to use instrumental
variables, panel data and nonlinear models. Furthermore, special attention is now paid to
the employment of research designs that can plausibly handle standard omitted variable
bias problems. While only a handful of papers attempted to deal with these problems in
1990, more than half of the empirical publications in 2010 used at least one research design
that is more sophisticated than simple OLS, such as diﬀerences in diﬀerences, matching,
and instrumental variables, to recover causal parameters. However, the credibility of estimates generated with these more sophisticated techniques still varies. While in general the
credibility of empirical work in urban economics has improved markedly since 1990, many
1

studies continue to mechanically apply empirical techniques while omitting important discussions of the sources of identifying variation in the data and of which treatment eﬀects,
if any, are being recovered. Table 1 details the percentages of publications in the Journal
of Urban Economics that were empirical and the distribution of empirical methods used
for the years 1980, 1990, 2000 and 2010.
This chapter discusses the ways that researchers have successfully implemented empirical strategies that deliver the most credible treatment eﬀect estimates from data sets
that describe urban and regional phenomena. Our treatment emphasizes the importance
of randomization, which has been more broadly recognized in other fields, most notably
development economics. Randomized trials are an important tool to recover treatment effects, especially those of interest for policy evaluation (Duflo, Glennerster & Kremer, 2008).
However, it is typically more challenging and expensive to implement field experiments in
settings of interest to urban and regional economists, as it is in other fields such as labor
economics. General equilibrium eﬀects, which contaminate control groups with influences
of treatment, are more likely to arise in urban settings. Moreover, the nature of such general equilibrium eﬀects are more likely to be the object of inquiry by urban and regional
researchers. Labor economists have typically adopted higher standards for evaluating the
credibility of estimated causal eﬀects in research that uses non-experimental data. Here
we explore identification strategies that have been successfully used to recover credible
estimates of treatment eﬀects, typically in the absence of experimental variation. These
include diﬀerences in diﬀerences, various fixed eﬀects methods, propensity score matching, instrumental variables, and regression discontinuity identification strategies. We also
discuss treatment eﬀect heterogeneity and how diﬀerences in results across identification
strategies may simply reflect diﬀerent causal relationships in the data. We emphasize that
especially without experimental variation (and even often with experimental variation),
no one identification strategy is ever perfect. Moreover, when considering causal eﬀects
of treatments it is useful to think in the context of a world in which a distribution of
treatment eﬀects exists. Selection into treatment (on both observable and unobservable
characteristics) and treatment eﬀect heterogeneity make empirical work complicated.
One recurring theme of this chapter is the following principle, which applies to all empirical strategies: It is crucial to consider the sources of variation in the treatment variables
that are used to recover parameters of interest. Distinguishing this "identifying variation"
allows the researcher to consider two central questions. First, could there be unobserved
variables that both influence the outcome and are correlated with this identifying variation
2

in the treatment variable? If such omitted variables exist, coeﬃcient(s) on the treatments
are estimated as biased and inconsistent. We typically label such situations as those with
an "endogeneity problem." Second, how representative of the population is the subset of
the data for which such identifying variation exists? If clean identification only exists in a
small unrepresentative subset of the population, coeﬃcients on treatment variables apply
only narrowly and are unlikely to generalize to other populations.
Throughout the chapter, we discuss the key properties of various identification strategies mostly assuming a simple linear data generating process which allows for heterogeneous
treatment eﬀects. Each section cites articles from the literature for readers interested in
the details of more complex applications. This structure allows us to easily explain the
relationships between diﬀerent empirical strategies while leaving space to cover applications in urban and regional economics. In each section, we illustrate best practices when
implementing the research design by discussing several recent examples from the literature.
Given the importance of the use of economic models to aid in the specification of
empirical models and interpret treatment eﬀect estimates, we view the material on structural empirical modeling in Holmes and Sieg’s chapter in this volume as complementary
to the material discussed in this chapter. They also consider the recovery of causal relationships in urban and regional data, but through making use of model formulations that
are more involved than those considered in this chapter. The advantage of the structural
approach is that it allows for the recovery of parameters that could never be identified
with observational or experimental data alone. Estimates of a model’s "deep" parameters
facilitates evaluation of more sophisticated counterfactual simulations of potential policy
changes than is possible with the less specific treatment eﬀect parameters considered in this
chapter. However, structural models are by their very natures full of assumptions that are
most often stronger than the assumptions needed to make use of randomization to recover
treatment eﬀects. Additionally, because models can always be mis-specified, such theory
derived treatment eﬀects may be less credible than those whose data based identification
we discuss here. When possible, we present a unified treatment of causal relationships that
can be interpreted in the context of an economic model or as stand-alone parameters.
While the field of urban economics has made considerable recent progress in improving
its empirical methods, we hope that this chapter promotes further advances in the credibility of our empirical results by encouraging researchers to more carefully consider which
particular treatment eﬀects are being identified and estimated. In defense of our field, it is
fortunately no longer acceptable to report regression results without any justification for
3

the econometric identification strategy employed. Nonetheless, we hope we can go beyond
this admittedly low bar. This includes dissuading ourselves from simply trying several
instruments and hoping for the best without careful thought about the conditions under
which each instrument tried is valid or the diﬀerent causal eﬀects (or combinations thereof)
that each instrument may be capturing.
This chapter proceeds as follows. Section 2 develops an empirical framework as a basis
for discussion, defines various treatment eﬀects and considers the importance of randomization. Section 3 briefly considers some of the consequences of using spatially aggregated
data. Section 4 considers methods for recovering causal eﬀects from purely observational
data. Section 5 considers various ways of handling non-random sorting on unobservables
leading up to a discussion of instrumental variables estimators. Section 6 describes the use
of various types of regression discontinuity designs. Finally, Section 7 concludes.

2

A Framework for Empirical Investigation

In this section, we lay out an empirical framework that we use throughout this chapter as a
basis for discussion and development. Our specification of the nature of the data generating
process facilitates consideration of the fundamental problem of causal inference. In particular, we emphasize the importance of determining the sources of variation in treatment
variables that identify causal relationships of interest. Making use of explicit or pseudo
random sources of variation in treatment variables is essential to credible identification of
causal relationships in any data set. We also consider the implications of the potential
existence of heterogeneous causal eﬀects of treatment variables on outcomes of interest.
In general, we are interested in causal relationships between a vector of "treatment"
variables  and an outcome . A flexible data generating process for the outcome  can
be represented by the following linear equation which holds for each observation . For
now, we think of observations as individuals, households or firms rather than geographic
regions.
 =    +    +  + 
(1)
There is a vector of "control" variables , which are observed. The vector  incorporates
all unobserved components that also influence the outcome of interest. One can think of 
as  , where  is a vector of unobserved variables, and  is a set of coeﬃcients that are
never identified under any circumstances. We collapse   into  for ease of exposition.

4

Given the existence of  , any remaining stochasticity  in the outcome  can be thought
of as classical (uncorrelated) measurement error or, equivalently for statistical purposes,
as fundamental stochasticity which may come from an underlying economic model and is
uncorrelated with  ,  and  . We are also not interested in recovery of the coeﬃcients  
on  , but it is useful for expositional purposes to define these coeﬃcients separately from
coeﬃcients of interest   .
Note that we express the relationships between predictors and the outcome of interest
in a very general way by allowing coeﬃcients to be indexed by . In order to make progress
on recovering the parameters of interest   for each individual, some further assumptions
will be required. The linearity of (1) may incorporate nonlinear relationships by including
polynomials of treatment variables and treatment-control interactions in  and polynomials
of control variables in .
It is often useful to think of (1) as being the "structural" equation describing the
outcome of interest , generated from an economic model of individual or firm behavior.
For some outcomes like firms’ output or value added, this structural equation may result
from a mechanical model like a production function. More often for urban and regional
questions, (1) can be thought of as an equilibrium condition in a theoretical model of human
or firm behavior. In either type of model, we typically treat  ,  and  as "exogenous".
This means that these variables are determined outside the model and do not influence
each other through the model.
While the linearity in (1) may come from additive separability in the equilibrium condition, typically after a log transformation, we can more generally justify linearity in the
empirical representation of a static model’s equilibrium condition through implicit diﬀerentiation with respect to time. That is, if some model of individual behavior generates
the equilibrium condition  =  (   ), diﬀerentiation yields an equation resembling
(1) as an approximation, with partial derivatives of  represented by coeﬃcients and each
variable measured in first diﬀerences. That is,
 (       )
 (       )
+ ∆


 (       )
 (       )
+∆
+ ∆




∆ ≈ ∆

in which ∆ indicates diﬀerences over time. Note that this expression can be equivalently
stated in semi-log or elasticity form depending on the context. If the treatment status for

5

e includes 1, ∆ ,  in the base period
every agent is the same in the base period and 
and various interactions, this expression thus reduces to
e ( ) +  
∆ = ∆ (   ) + 

(2)

Equation (2) closely resembles (1), with appropriate reinterpretation of ,  and , and
can in principle form the basis for estimation.1 Note that the error term  incorporates both
changes in unobservables  and changes in residual stochasticity . Because it includes
changes in unobservables,  is likely to be correlated with ∆ . Moreover, we see that  is
likely to exhibit heteroskedasticity As we explore further in Section 4, this "first diﬀerence"
formulation has the advantage of diﬀerencing out any elements of  that are fixed over
time but the potential disadvantage of increasing the variance of the error term.
There are a few important practical general implications of the exercise of deriving (2).
First, first-diﬀerencing data is valuable as it allows the researcher to linearize non-linear
relationships, at least for small changes in ,  and . Second, it is really useful to have
information from an initial period when the treatment variable is the same for all agents.
Third, all but the simplest models deliver coeﬃcients that are heterogeneous as functions
of both observables and unobservables. If the model being estimated is sure to be the
true data generating process (which it never actually is), then coeﬃcients in the linear
equation (2) may allow for recovery of estimates of some or all of the model’s parameters.
Even if individual model parameters cannot be identified, ( ) represents the causal
eﬀect of  on  for an agent with characteristics ( ). Regardless of the true underlying
data generating process, this is an object which is often of inherent interest to researchers.
e depends crucially on the underlying
Finally, the exact specification of the control set 
economic model, thus this object can very easily be mis-specified. For this reason, there
e to be dropped.
are distinct advantages to using estimators that permit elements of 
Our discussion of the recovery of treatment eﬀects in this chapter primarily examines

"total eﬀects" of treatments on outcomes, or full derivatives 
. Of course the decomposition of these total eﬀects into direct and indirect eﬀects, in which causal links from the
treatment to the outcome operate both independently and through the treatment’s influence on other predictor variables, is also interesting (Pearl, 2009). The distinction between
1

In some contexts, it may be appropriate to diﬀerentiate over space rather than time. We leave a more
complete discussion of this issue to the chapter in this volume on spatial methods and our discussion of the
regression discontinuity research design in Section 6.

6

total versus direct and indirect eﬀects is a statistical restatement that the generic economic
model with the equilibrium condition  = (   ) used as a starting point above only
includes exogenous variables on the right hand side. Decomposition into direct and indirect eﬀects of treatment are often recovered in economics applications by using some model
structure, since indirect eﬀects by definition operate through some endogenous channel. In
Sections 4 and 5, we return to discussions of direct and indirect eﬀects in the contexts of
considerations of properties of particular estimators.

2.1

A Binary Treatment Environment

Though urban and regional applications often involve more complicated environments, we
begin by considering the case in which the treatment is binary. Analysis of this simple case
is a straightforward point of departure as it is well understood in the statistics literature
going back to Rubin’s (1974) classic treatment, and discussed extensively in Holland (1986),
and in the economics literature going back to Roy (1951). Because the recovery of causal
relationships in environments with binary treatment environments are also discussed at
length in DiNardo & Lee’s (2011) Handbook of Labor Economics chapter, we leave the
development of many details to them. Indeed, much of our mission in this chapter is
to extend their discussion of various empirical identification strategies to environments
in which the treatment is continuous and the data are spatially indexed. The simplicity
of the binary treatment environment is important, however, as properties of the various
estimators we discuss in this chapter are well known for the binary treatment case.
Based on the setup in Equation (1), a binary treatment variable yields the following
equation for each treatment level, in which treated observations receive  = 1 and untreated
(control) observations receive  = 0.
0 =    +  + 
1 =   +    +  + 
These two equations describe the potential outcome for each agent  if she were not treated
and treated respectively. The resulting causal eﬀect of treatment for agent  is thus   .
When all agents in the population are considered, the result is two separate distributions
of outcomes , one for each treatment status. In evaluating the eﬀects of the treatment,
we typically aim to characterize diﬀerences between elements of these two distributions.

7

It should be immediately evident from this example with binary treatments that it is
impossible to recover each particular   without further assumptions on the data generating
process, even with ideal data. This is the fundamental problem of causal inference: no
agent can simultaneously be in both the treated and untreated groups. That is, there
is no counterfactual available for individual members of any population or sample, since
each agent is either treated or not treated. In the language of Holland (1986), there is not
"unit homogeneity" if each observation has its own treatment eﬀect. Even if we had panel
data such that we could observe individuals before and after treatment, the contextual
environment of "before treatment" versus "after treatment" is colinear with the treatment
itself. That is, the context can be thought of as an element of  (or  if not accounted
for). Each individual and time period combination would have its own observation index,
and therefore its own treatment eﬀect.2
To make progress on recovering information about causal eﬀects of treatment we need
to limit ourselves to considering how to identify elements of the distribution of treatment
eﬀects over the population. This recognition brings up the fundamental issue that we
address in this chapter: how to identify groups of agents that are similar on both observables
and unobservables but who have received diﬀerent levels of treatment. If the treatment
eﬀect is diﬀerent for each agent, then agents are so fundamentally diﬀerent by definition
that recovering any information about the distribution of   s is a hopeless endeavor. To
make progress on identification of treatment eﬀects, we must put restrictions on coeﬃcients
in the above equations such that they are not unique across individuals, but instead may
only be unique across individuals with diﬀerent observables and unobservables. One general
formulation for doing so is the following.
0 =  ( ) +  + 
1 = (   ) +  ( ) +  + 
Because the distribution of treatment eﬀects captured in the (·) function only depends
on the characteristics of the treated agent and not the identity of each agent itself, we can
imagine finding another agent with the same observable and unobservable characteristics
2

In a few cases, researchers have assumed that unboservables do not diﬀer over time and have attempted
to estimate individual treatment eﬀects by interacting individual fixed eﬀects with a treatment variable.
De La Roca & Puga (2013) is an example in the context of estimating causal eﬀects of city sizes in labor
market histories on individuals’ wage profiles. Section 3 discusses in detail the assumptions needed for fixed
eﬀects identification strategies like this to deliver credible estimates of causal eﬀects.

8

to whom the treated agent can be compared. In practice, since we do not by definition
know the unobservable characteristics of any agent, we do not have any way to recover the
"marginal" treatment eﬀect for any particular unobserved type  without the imposition
of an economic model, as in Heckman & Vytlacil (2005). Instead, depending on how the
treatment is assigned, we are potentially able to recover various model-agnostic statistics
about the distribution of (  ) over the population. Note that we restrict the coeﬃcients
on observables  to be functions only of  . To account for potential nonlinear impacts of
 (that interact with  ) one can define  to include polynomial terms and interactions.

2.2

A Taxonomy of Treatment Eﬀects

Before returning to an empirical model with continuous treatments, it is useful to consider
the various treatment eﬀects that may be of interest in the context of the binary treatment
environment. These treatment eﬀect definitions generalize with minor modifications to the
continuous treatment case, as is explained below. In the following sections of this chapter,
we carefully consider which treatment eﬀects can be identified with each of the estimators
that we consider.
One way of conceptualizing the binary treatment environment is as the existence of
two counterfactual distributions in the population  0 and  1 which diﬀer only because
of treatment status. The restrictions on the empirical model formulated above force the
diﬀerence between these two distributions for agents of a given type ( ) to be ( ).
The most closely related causal eﬀect is the Marginal Treatment Eﬀect (  ). As
in Heckman & Vytlacil (2005), we define   ( ) as the causal eﬀect of treating an
individual with characteristics  =  and  = :
  ( ) ≡ [ 1 − 0 | =   = ] = ( )
While the    is a useful construct, it is only possible to recover any particular   
within the context of a specified economic model. This is because the    is indexed by
unobservable  , which is an object that the researcher can never know directly, but can
only assign to individuals through the structure of a model. Heckman & Vytlacil (2005)
consider a simple generalized Roy (1951) type sorting model based on which they identify
the full distribution of   s. All other treatment eﬀects can be viewed as weighted
averages of various combinations of   s.
Unconditional quantile treatment eﬀects ( ) of Abadie, Angrist & Imbens (2002)
9

provide information about the distribution of treatment eﬀects, as indexed by the realization of outcome variables. The   for quantile  is the diﬀerence in the   quantile
of the  1 and  0 distributions, which in this case is the   quantile of the distribution
 ((  )).  s are informative about whether the treatment diﬀerentially influences
diﬀerent parts of the distribution of the outcome of interest. Athey & Imbens (2006) show
how to estimate the full counterfactual distributions  1 and  0 without any functional
form assumptions assuming treatment randomization, thereby allowing for calculation of
all  s. The diﬃculty with  s is that their recovery typically requires randomization to apply very broadly to the distribution of potential outcomes, which rarely occurs.
 s do not provide information about the unobserved characteristics of agents to whom
they apply, though one can similarly define  s over the conditional distributions of
unobservables only  ((  )) given  = .
Perhaps the most common treatment eﬀect of interest is the Average Treatment Eﬀect
( ). The   describes the mean treatment eﬀect averaging over all members in the
population with a particular set of observed characteristics  and is represented as follows:
Z
 () ≡ ( 1 −  0 | = ) = (  ) ( | = )
Often, rather than being interested in the average treatment eﬀect for a particular subpopulation, researchers may be interested in the average treatment eﬀect for the full population:
Z
  ≡ ( 1 − 0 ) = (  ) (  )
As with  s, it is important to recognize that   is not easily recovered in most
empirical contexts without strong model assumptions. The reason is that in the absence of
widespread randomization, there are some groups which either always receive the treatment
or never receive the treatment. Since calculation of the   requires knowing the   
for the full joint distribution of (  ), the portions of the support of  (  ) which are
in only the treated or untreated states must have their    distributions inferred by
model assumption. Depending on the approach, the model used to recover these   
distributions may be statistical or economic.
The Local Average Treatment Eﬀect ( ), first defined by Imbens & Angrist (1994)
and also discussed by Bjorklund and Moﬃtt (1987), is the average eﬀect of treating the
subset of the joint distribution of  and  that has been induced into (or out of) treatment

10

through explicit or pseudo randomization. Suppose that an "instrument"  allows the
researcher to manipulate the probability that agents end up in the treatment or control
groups. Imagine manipulating  from values  to  0 , where  ( = 1| = )   ( =
1| =  0 ) for all combinations of  and  .3 The resulting   is defined as:
 (  0 ) ≡

[| = ] − [| =  0 ]
Pr( = 1| = ) − Pr( = 1| =  0 )

(3)

That is,   captures the change among those newly treated in the mean of  for a
change in the fraction treated. This definition can be interpreted as a simple weighted
average of all   s:
R
(  )[Pr( = 1| =    ) − Pr( = 1| =  0    )] (  )
0
 (  ) =
Pr( = 1| = ) − Pr( = 1| =  0 )
Here we see that the weights depend on the relative probability of being induced into the
treatment group rather than the control group by the change in the instrument . In
principle, this manipulation of the instrument could cause some increase in the probability
of treatment for all observed and unobserved types. Heckman & Vytlacil (2005) consider
LATE’s interpretation in the context of a structural model in which each value of  explicitly determines the choice into or out of treatment. That is, the range of  for which
there is identification is the range over which the manipulation of the instrument  induces
membership in the treated group that would not otherwise have occurred.
Unlike   ,   and  ,   is defined based on the empirical context because
the empirical context determines (  0 ).   is an important concept because it is often
the only treatment eﬀect that can be identified when there exists randomization over only
some subset of the support of the joint distribution of  and  .4
The Intention to Treat (  ) is the average eﬀect of oﬀering the treatment. This
is a policy relevant treatment eﬀect for many program evaluations since many of those
oﬀered the opportunity to participate in government programs do not accept it. Suppose
that agents in the group oﬀered treatment have  = 1 and those in the group not oﬀered
treatment (the "control" group) have  = 0. Those who would accept the oﬀer of treatment
3

It is also possible to define the LATE for cases in which the variation in  induces movement into
treatment for some types and out of treatment for other types. However, to the extent that such bidirectional flows are unobserved, the resulting object is very diﬃcult to interpret as it conflates positive
treatment eﬀects for some agents with negative treatment eﬀects for others.
4
LATE can also be conditioned on values of  provided that there is some variation in  for  = .

11

if available have  = 1 and others have  = 0. We assume that those in the control group
cannot under any circumstances procure the treatment. That is, if  = 0,  necessarily
equals 0. However, those in the treatment group may refuse treatment, such that  = 1
and  = 0 for some agents. Given this environment and assuming that membership in the
group oﬀered treatment is randomized:
 

≡ (| = 1) − (| = 0)

= (1 | = 1  = 1) Pr( = 1| = 1) − ( 0 | = 0  = 1) Pr( = 1| = 0)

= ( 1 − 0 | = 1) Pr( = 1)
Z
=
(  ) Pr( = 1|  ) (  )

This simple expression for   assumes that because of treatment randomization, (0 | =
1  = 0) = ( 0 | = 0  = 0). Like other treatment eﬀects considered above,   can
be conditioned on .
The treatment on the treated (  ) is the average eﬀect of the treatment for those who
would choose to accept oﬀer of the treatment. This can be expressed as:


≡ ( 1 −  0 | = 1)
R
(  ) Pr( = 1|  ) (  )
R
=
Pr( = 1|  ) (  )

Notice that   is typically greater in magnitude than   , because it is only defined
for those with  = 1. The above expression writes the   as the    weighted by the
probability of treatment for each combination of  and  , with high values of  presumably
being more likely to select into treatment, normalized by the mass of the portion of the
distribution  (  ) that selects into treatment. The closely related treatment on the
untreated (  ) is the average eﬀect of the treatment for those who choose not to accept
the treatment oﬀer. Notice that if every agent were to accept the oﬀer of treatment,
  =   =  .
To be more concrete about the diﬀerences between these various treatment eﬀects, we
compare them in the context of the Moving to Opportunity (MTO) experiment, which randomized Section 8 housing vouchers to two treatment groups of public housing residents in
five cities in the mid 1990s. Data on a control group that was not oﬀered vouchers was also
collected. Households in the "Section 8" treatment group only received a housing voucher,
12

which subsidized rent in any apartment whose landlord would accept the voucher. The
"Experimental" treatment group was additionally provided with counseling and required
to move to a neighborhood with a poverty rate below 10 percent for at least one year.
Baseline information about households in treatment and control groups was collected prior
to randomization and in various post-treatment periods. Consider labor market earnings
as an example outcome for the Section 8 treatment group.
Each household in the population of public housing residents has some particular observed and unobserved characteristics ( ).   ( ) is the causal eﬀect on earnings
of moving a household with characteristics ( ) out of public housing into a Section 8
apartment of their choice. Because    is conceptualized such that a diﬀerent value
of  is assigned to each household with a diﬀerent treatment eﬀect, there is only one
possible    per ( ) combination. The   for quantile  is the comparison of earnings quantile  in the treatment relative to control groups in an environment in which all
treated households comply with the treatment.  () is the average diﬀerence in earnings for the treatment versus control groups for those households with characteristics 
assuming all treated households comply.   is the average diﬀerence in earnings between
treatment and control groups, whether or not those in the treatment group accepted the
voucher.   is the average diﬀerence in earnings between those in the treatment group
that accepted the oﬀer of the voucher and those in the control group who would have
accepted the voucher if oﬀered. In the binary treatment context,   is identical to   ,
since the housing voucher oﬀer manipulates the probability of leaving public housing for
a Section 8 subsidized apartment. As we discuss further in Section 5,   terminology
is most commonly invoked when instrumental variables are used to recover causal links
from a continuous treatment to an outcome. For example, since the oﬀer of the housing
voucher caused treated households to move to lower poverty neighborhoods at a higher
rate than control households, one can conceptualize the   of neighborhood poverty
on household earnings. This   only applies to the types of households induced by
the treatment to move to lower poverty neighborhoods, weighted by their fraction in the
population, interacted with the relative probability in treatment versus control groups of
moving to the lower poverty neighborhood.

13

2.3

Continuous Treatments

With continuous treatments, instead of imagining two counterfactual states for each agent
in the population, 0 and 1 , we imagine a continuum of counterfactual states, which we
denote  . To be consistent with the literature and allow parameters of the data generating
process to be tractably estimated using standard techniques, we restrict our attention to
the following linear model which puts only a few additional restrictions on (1).
 =  (   ) +  ( ) +  + 

(4)

While it is commonly implemented as a linear equation, there is no need to interpret
Equation (4) as strictly linear since  could be formulated as a vector of treatments which
are a polynomial in one continuous treatment variable, just as  can incorporate higher
order terms. Note that we typically do not consider the possibility that (   ) and
( ) can be functions of the treatments themselves.
Each of the treatment eﬀects discussed above apply to the continuous case as well with
only slight modification (Heckman, Urzua & Vytlacil, 2006). In general, treatment eﬀects
for a continuous treatment must also be indexed by the specific values of the treatment variables to which they refer. For example, the prior sub-section defines the average treatment
eﬀect for moving from treatment value 0 to treatment value 1, which could be written as
 01 (). Because of the linearity assumption in (4), (or that (·) is not itself a function
of  ), any treatment eﬀects in the continuous case are identical regardless of which unit
iteration of the treatment variable is considered. That is,  01 () =  +1 () for
all . Therefore, each of the treatment eﬀects defined above maintain their definitions in
the continuous case with minimal adjustment for any arbitrary unit iteration in  , understanding of course that this comes by assumption and may not hold beyond the support
of  .
It is important to emphasize that while we sometimes consider the case (   ) = ,
most empirical research should recognize the possibility that there exists some "essential"
heterogeneity across agents in the causal eﬀects of treatment variables of interest. If that
is the case, the assumption of a homogenous treatment eﬀect can lead to invalid interpretations of estimation results. Over the course of this chapter, we lay out which elements
of the distribution of  can be recovered with various estimators commonly applicable to
recovering causal relationships of interest to urban and regional economists.

14

2.4

Randomization

One diﬃculty that comes out of this section’s motivation of using an economic model of
behavior as a starting point for empirical investigation is that as researchers we can never
be sure what the "correct" empirical specification is for an estimating equation because we
never know the true data generating process for . Even if we did know what variables
belong in  and  , it is often the case that diﬀerent particular economic models have
the same such exogenous variables as inputs into the data generating process. Structural
parameters are only informative in the context of the structural model within which they are
defined. Therefore, rather than concerning oneself with recovering structural parameters,
it is often fruitful to concentrate empirical work on recovery of particular treatment eﬀects,
which then may also have interpretations in the context of specific structural models. The
main challenge in doing so is that there are almost always unobservables that influence 
yet may be correlated with treatment variables of interest. This is the classic econometric
identification problem.
One path toward a solution to this identification problem is to recognize that if there is
randomization in treatment variables  , it is unnecessary to observe  and  to recover
some information about (  ). The role of randomization is that it assigns diﬀerent
values of  to agents with the same  and  . That is, it creates comparable treated and
untreated populations. Of course, the reason that we need randomization to achieve this,
rather than simply some assignment rule based on observables, is that  is unobserved. By
its very nature, pure randomization of  over the population balances the joint distribution
of  and  for all treatment levels.
With pure randomization of  over the population and a data generating process described by (4), it is straightforward to see that the OLS estimate of  in a simple regression
of  on  yields the average treatment eﬀect. In particular,
b
 lim(
 ) =  [(  )] =  

which is simply a diﬀerence in means between treatment and control groups. Intuitively,
this result comes about because randomization ensures that the full distribution of individuals in the population receives each level of treatment. One may wish to control for
 in this regression in order to reduce the variance of the error term, and as a result,
b . By extension, it is also straightforward to estimate a series
the standard error of 
of specific average treatment eﬀects  () by regressing  on  interacted with dummy
15

variables capturing various portions of the support of . For example, if a researcher is
interested in knowing the average treatment eﬀect among those with observable attributes
in the sets  and , which partition the full support of , she could estimate the following
regression equation by OLS:
 =  1( ∈ )  +  1( ∈ )  +  + 
b
In this equation, 1(·) is the indicator function. The result is that  lim(
 ) = [(  )| ∈
b as estimated by OLS captures the average treatment eﬀect for the portion
]. That is, 

of the  distribution in the set . It is important to recognize here that the distributions
of unobservables in  and  may be quite diﬀerent. There is no way to know whether the
reason that OLS estimates of   and   may be diﬀerent is because the set  contains individuals with a diﬀerent distribution of observables (on which they have been partitioned)
or unobservables correlated with these observables than those in set . One can extend
this procedure to estimate a broader set of average treatment eﬀects.
Recovery of treatment eﬀects with simple OLS regression typically requires explicit
treatment randomization. However, implementation of randomized control trials (RCTs)
can be quite challenging and expensive. Duflo, Glennerster, and Kremer (2008) provide
a practical guide and toolkit for researchers wishing to introduce randomization as a part
of the research design in a field experiment.5 A general issue with all experiments is that
it is rarely possible or practical to randomize a treatment over the full population. Small
sample sizes often make inference about treatment eﬀects which apply to sub-populations
diﬃcult. For this reason, estimation of treatment eﬀect heterogeneity is often limited to
simple interactions of  and  in a regression model.6
Individual participation in randomized trials is rarely mandatory. This means that
those participating in an experiment may diﬀer on unobservables from other populations
of interest. Randomization of treatment thus often occurs over only a subset of the population of interest. For example, in the Moving to Opportunity (MTO) experiment, housing
vouchers were only oﬀered to those who had the motivation and initiative to show up to
5

Most RCTs conducted by American researchers can be found at the AEA RCT Registry website. Even
though this is a voluntary registry, the AEA encourages the registration of all new RCTs.
6
When researchers are interested in recovering treatment eﬀects for certain sub-populations, these groups
are typically over-sampled relative to their share of the full population. When using data for these groups
to recover other treatment eﬀects or parameters, it is important to apply sampling weights to ensure that
these over-sampled groups do not contribute disproportionately to the estimates.

16

an initial meeting at which the program was described. While it is possible to see whether
these MTO subjects diﬀer on some observables from remaining public housing residents,
they may diﬀer more markedly on unobserved attributes that also influence well-being
measures and labor market outcomes of interest. That is, because the sample over which
the treatment is randomized is almost always self-selected on some unobservables, any results necessarily only apply to this self-selected group. As a result, there is likely to be
some portion of the support of the distribution of  for which treatment eﬀects cannot
be recovered without extrapolation. Equally important is that it is common for many
agents oﬀered treatment not to accept it. That is, even though the treatment and control
groups have the same distribution of unobservables, those who do and do not actually get
treated do not. In these contexts, it is typically infeasible to recover the full distribution
of treatment eﬀects and researchers focus on estimating   and   .
Ludwig et al. (2013) summarize estimated treatment eﬀects of MTO using data 10-15
years after program implementation. The authors find that the program had no detectable
eﬀect on economic outcomes, youth schooling or physical health. However, they do find
some positive eﬀects on mental health and measures of subjective well being. This evidence follows up Kling, Liebman & Katz’s (2007) study, which reports positive eﬀects of
MTO on behavioral outcomes for girls but negative eﬀects for boys 5-8 years after implementation. Galiani, Murphy and Pantano (2012) leverage the MTO randomization to
estimate a structural model of neighborhood choice. They use their estimates to recover
counterfactual distributions of poverty rates in neighborhoods chosen by voucher recipients given alternative voucher assignment policies that were never actually implemented.
They find that takeup of the voucher oﬀer is severely reduced by restricting destination
neighborhoods to the point of being counterproductive if such restrictions limit destination
choice too much. This is a good example of a study that uses clean identification to recover
parameters of a structural model, and ultimately a broader set of treatment eﬀects than
could be recovered using atheoretical methods alone.
There are many potential concerns about extrapolating the causal impacts of the MTO
experiment from program eﬀects to neighborhood eﬀects. Indeed, the neighborhood improvements caused by housing voucher randomization are conflated with the disruption of
moving, changes in neighborhood quality may not have been suﬃciently large to generate
statistically measurable eﬀects, voucher recipients select into particular destination neighborhoods of their choice, and MTO results may not generalize to other settings. Moreover,
the MTO experiment reveals little about the eﬀects of moving the approximately 50% of
17

households who chose not to leave public housing despite receiving the oﬀer of a housing voucher. Despite those caveats, the MTO experiment has produced among the most
convincing estimates of the impacts of changes in neighborhood quality on individual outcomes. In particular, these results have weakened the "Spatial Mismatch Hypothesis" view
that low neighborhood quality and poor job access promote high rates of unemployment
in poor neighborhoods (Kain, 1992).
Explicit treatment randomization has also generated data that is informative about
the internal and external eﬀects of improved housing conditions. Galiani et al. (2013)
examine eﬀects of the randomized provision of pre-fabricated homes for slum dwellers in
El Salvador, Mexico and Uruguay. They find that beneficiaries exhibited no improvement
in labor market outcomes but improved general well-being and housing conditions relative
to a control group. Freedman (2014) finds that tax credits for home improvements that
were allocated to applicants by lottery in St. Louis, MO slightly increase the value of
neighboring homes.
As with treatment eﬀect estimation in most settings, one important general consideration about using data with treatments allocated by lottery is the potential existence of
general equilibrium eﬀects. Interpretation of average diﬀerences in outcomes between treatment and control groups as treatment eﬀects requires that the stable unit treatment value
assumption (SUTVA) (Cox, 1958) of no direct or indirect influence of the treatment of one
observation on outcomes of control observations must hold. For example, if in the MTO
environment some control group households were to hear about neighborhood relocation
options from Experimental group households and act on this information, SUTVA would
be violated. To avoid this problem, many RCTs in development economics randomize
treatment at the village rather than the household level. However, since many questions of
interest to urban and regional economists are fundamentally about the operation of cities
rather than villages, this strategy may be of limited use in our field. Nonetheless, RCTs
for answering urban and regional questions will likely become more common as evaluating
the impacts of urban policy interventions becomes more important in developing countries,
where urbanization is rapidly occurring.
One additional setting in which explicit randomization has been used to learn about
causal eﬀects is in analysis of peer eﬀects. Without randomization, it is very diﬃcult to get
around the problem that people very likely sort into peer groups, including classes in school
and friendship networks, on correlated unobservables. Sacerdote (2001) uses the random
assignment of freshman roommates at Dartmouth college to recover estimates of peer
18

eﬀects in college performance. Bayer et al. (2009) uses the random allocation of juvenile
prisoners to cells to recover information about peer eﬀects in recidivism. However, using
data collected about experimentally manipulated peer groups among freshmen at the Air
Force Academy, Carrell et al. (2013) find negative peer eﬀects on the lowest ability group
members, perhaps partly because of endogenous sub-group formation which separated them
from their highest ability peers. The randomization of students into classrooms in the first
year of the Project Star program in Tennessee has also been used to recover estimates of
peer eﬀects; see Graham (2008) for example.
Much of the remainder of this chapter considers strategies for recovering treatment
eﬀects for settings in which explicit treatment randomization is not available. Section 4 essentially considers various strategies for indirectly controlling for unobservables  . Section
5 considers strategies for identifying and eﬀectively making use of pseudo-random variation
in treatments. Section 6 considers how best to make use of discontinuities in treatment
intensity. As a general principle, we reiterate that whatever the empirical strategy used, it
is critical for the researcher to understand the source of variation that is providing identification for parameters of interest. Thinking through such identification arguments often
reveals the existence of potential endogeneity problems in which the treatment variable
may be correlated with elements in  and/or the extent to which the treatment eﬀects
being estimated only apply to certain narrow sub-populations.
While perhaps not ideal, there are many contexts in which neither randomization nor
credible strategies for controlling for unobservables are available to recover treatment eﬀects
of interest. The main alternative viable strategy is to explicitly model the heterogeneity
and sorting equilibrium and recover treatment eﬀects through model simulation. Holmes
and Sieg discuss such structural options at length in the subsequent chapter of this volume.
It should be emphasized that making use of model structure requires much stronger assumptions than are needed for a randomized treatment to yield credible treatment eﬀects.
Moreover, because no model completely describes the data generating process, credibility
of model derived results still requires careful consideration of the sources of variation in
the data that are identifying estimates, and whether these sources of variation are random
(unlikely), or at least plausibly uncorrelated with mechanisms that could be important but
are not explicitly modeled.

19

3

Spatial Aggregation

Before delving into the specifics of various identification strategies and econometric estimators, we briefly explore the implications of having a data structure that is spatially
aggregated above the individual, household or firm level. Such a data structure may be
imposed by a data provider, make sense because the treatment is administered to regions
rather than individual agents, or by choice of the researcher in order to strengthen the
empirical strategy. When imposed by the researcher, spatial aggregation of data is often
carried out to alleviate concerns about SUTVA violations, in which spillovers occur between spatially proximate geographic units with diﬀerent levels of treatment. Researchers
often aggregate to the local labor market or metropolitan area level in order to avoid this
potential problem.
Suppose that the treatment and outcomes are observed at some level of spatial aggregation like census tracts or zip codes, indexed by . In the case of a binary treatment
that is applied to the same fraction of the measure of each ( ) in each location, a strong
assumption, the equation of the data generating process becomes:
X
e    ) + 1
e + e 
e =  (
 ( ) + 

()

In this equation, tildes (~) indicate sample means over all observations in .  is the total
number of observations in ,  is the fraction of observations in region  that were treated
R
e    ) = (  ) (  ) where  (  ) is the joint cdf of  and  in unit
and (
X
. Notice that because of the heterogeneous coeﬃcients ( ), 1
 ( ) cannot in
()

e . Therefore, controlling for
general be simplified into some simple function of means 
mean values of each element of  does not appropriately control for observables about
individual agents unless ( ) = . Instead, the full distribution of  within each 
shows up in the aggregate equation. Therefore, in this sort of aggregation environment it
makes sense to control not just for the mean but for the full distribution of each observable
characteristic if possible. Therefore, if regional means of  are all that is observed about
control variables, we can think of other elements of the within- distributions of  as being
e .7
part of 
7

If the goal is to recover the treatment eﬀect averaged across individuals (rather than regions ), one
should weight any estimation by  . Doing so allows the more populous regions to influence the estimates

20

In the case of a more general continuous set of treatments and heterogeneous treatment
X
eﬀects, aggregation gives rise to the non-separable treatment terms 1
 (   )
()

e    ) above. Estimation of statistics about the (  ) is thus quite
replacing  (
diﬃcult without further assumptions about the underlying data generating process. One
common simplifying assumption is that of perfect sorting across regions. This assumption
can be justified to an approximation as the equilibrium in a Tiebout (1956) sorting model
like that specified by Epple & Platt (1998). With this structural assumption, which applies
more accurately to finer levels of spatial aggregation, we have a resulting data generating
process given by
e =  (   ) +  ( ) +  + 
e 

Because of homogeneity within each region  in  and  , we need only index these elements
by  to represent any and all quantiles of their distributions in . Without this sort of
homogeneity assumption, it becomes clear that while perhaps some progress can be made
with spatially aggregate data in recovering information about (  ), making use of micro
data or the structure of a sorting model would be preferable for recovering treatment eﬀects,
even in a context with explicit treatment randomization.
Rather than having an underlying data generating process described by (4), in some
contexts the treatment itself is determined at the local area level. For example, the federal
Empowerment Zone program treated certain census tracts with various forms of government
subsidies and the Clean Air Act treated certain counties with pollution reductions. Often
with these sorts of policies, we are interested in the eﬀects on local residents or firms. At
the local area (for example, census tract) level, the data generating process is thus:
e    ) +
e =  (

1 X
e + 
 ( ) + 
e 


(5)

()

e    ) denotes the average eﬀect of the treatment in each
As above, in this equation, (
region  given the distribution of  and  in unit . In this case we do not need assumptions
about homogeneity of populations in local areas or homogeneity of treatment eﬀects to
make some progress in recovering information about (   ). In particular, given global
randomization in  and no changes in location that is related to receiving the treatment,
more than the regions that have few agents. If, however, the goal is to recover the treatment eﬀect averaged
across region, one should not weight such estimation.

21

an OLS regression of mean outcomes on the treatment dummy weighted by the population
of each region  yields a coeﬃcient on the treatment with a probability limit of the average
treatment eﬀect, by the law of iterated expectations.
One key assumption here is that the composition of the population of each region  does
not respond to the treatment. This assumption is a strong one. If the treatment changes
the amenity value of certain locations, we may expect certain types of people to move
out of untreated locations into treated locations, thereby changing the joint distribution
of the population in each location  (  ) and breaking the orthogonality between 
e needed to identify [(
e    )], even with initial treatment randomization across
and 
space. While one can look in the data for such resorting on observables , including
such intermediate outcomes as controls may bias treatment eﬀect estimates since such
intermediate outcomes are now endogenous. Cellini, Ferreira, and Rothstein (2010) provide
an alternative strategy to deal with such situations in the context of a dynamic model. Once
again, making use of an economic model of behavior that takes sorting into account would
aid econometric identification.
The final aggregation structure that we consider here is one in which each a metropolitan area or other large spatial aggregation is an observation, potentially at diﬀerent points
in time. The sorts of questions that lend themselves to be answered with such highly
aggregated data are those for which the full data generating process must be described
at the local labor market level and subsumes a set of complicated micro level interactions. One can conceptualize this by aggregating (4) to the local labor market level while
recognizing that (4) incorporates the simultaneous existence of heterogeneous treatment
eﬀects, heterogeneous treatments across agents within each local labor market and spatial lags. For example, measuring the size of agglomeration within local labor markets
(Glaeser et al.,1992; Henderson, Kuncoro & Turner, 1995) and the eﬀects of highways on
urban decentralization (Baum-Snow, 2007) or urban growth (Duranton & Turner, 2012)
lend themselves to be considered using aggregate data structures. Sorting diﬃculties or
other general equilibrium eﬀects that would make econometric identification diﬃcult when
examining micro data are aggregated away in these examples. For these types of applications, we typically think of the treatment as occurring at the metropolitan area level
because even those metropolitan area subregions that were not explicitly treated are indirectly influenced by the treatment through general equilibrium eﬀects. For this sort of
empirical strategy to be successful, it is essential that the data be at a suﬃcient level of
spatial aggregation that there are minimal links across observations. If the data is not
22

suﬃciently aggregated, the endogeneity problem caused by spillovers across spatial units
of observation may be very diﬃcult to handle.
The following equation captures the data generating process for some local labor market
aggregate statistic  like population or GDP.
 =  (   ) +  ( ) +  + 

(6)

In this equation,  indexes local labor markets or other highly aggregated spatial unit like
states, which are spatial aggregates of . Depending on the context, coeﬃcients may be
heterogeneous as a function of the distribution of household or firm characteristics in  or
other summary attributes of , either of which we denote as the couple (   ). If the
treatment eﬀect of interest is about eﬀects on individuals, this equation is analogous to (5)
and one thus may need to consider any potential re-sorting of the population across  in
response to the treatment. If instead the goal is to recover treatment eﬀects on metropolitan area aggregate measures, this equation is perfectly analogous to (4) and exhibits all
of the same challenges with respect to econometric identification and the interpretation of
estimates, though mechanisms may be subtle due to sorting. One diﬀerence from more
micro analyses which in practice is often important is that typically the number of observations is quite small. For example, historical data on metropolitan areas in the United
States sometimes include information for only 100 regions nationwide. With such a limited
number of observations, statistical power becomes weak very quickly if treatment variables
are defined too nonparametrically. Therefore, little statistical power may be available to
recover a lot of information about the (·) function in (6).
One word of general caution about estimation of empirical models with spatially indexed data is that standard errors are likely to be understated without implementation
of an appropriate correction. This is because common elements of unobservables  in
nearby observations manifest themselves as correlated errors. Spatially and/or temporally
correlated unobservables  (or, equivalently, unexplained components of ) is why such
spatially correlated errors ensue. Bertrand, Duflo & Mullainathan (2004) discuss block
bootstrap (Efron & Tibishirani, 1994) and clustering methods (Moulton, 1986 & Moulton,
1990) to account for these problems in environments in which there is a fixed number of
observations per cluster and the number of clusters increases toward infinity. Cameron,
Gelbach and Miller (2008) compare various procedures for calculating standard errors with
a small number of clusters using Monte Carlo simulation. Their results indicate that the
23

"clustered wild bootstrap-t" procedure generates the most accurate test statistics when
clusters are independent and the number of clusters is small. Bester, Conley & Hansen
(2014) discuss estimation of heteroskedasticity-autocorrelation consistent (HAC) standard
errors and generalized cluster procedures for conducting inference with spatially correlated
errors when clusters are not independent and the number of clusters is fixed but the number
of observations within each cluster goes to infinity.
Now that we specified the possibilities for types of data generating processes that show
up most often in urban and regional empirical applications, we consider various empirical
strategies for recovering treatment eﬀects.

4

Selection on Observables

While having a source of explicit or pseudo randomization is typically the preferred way
to recover the most credible causal relationships in data, there are many important questions that do not lend themselves easily to this sort of empirical strategy. As such, in
this section we consider options for recovering causal parameters of interest in the absence
of such randomization. It should be clear that estimating (4) by simple OLS only recovers ATE, [(  )], in the unlikely event that  is uncorrelated with  , or that  is
fully randomized. This section thus explores alternatives to simple OLS that do not involve explicit or implicit randomization, and therefore may not account for the influence
of unobserved variables in the economic relationship of interest. These other methods are
fixed eﬀects, diﬀerences in diﬀerences, and matching estimators. We emphasize that these
methods can sometimes most successfully be used in tandem with each other and/or other
empirical strategies discussed elsewhere in this chapter. Key decisions in implementing
non-experimental estimators in many contexts are the choices of treatment and particularly control groups. The primary goal in choosing a control group is to choose a set of
observations for whom the distribution of unobservables is likely to be similar to that in the
treatment group. Below we present some formal options for doing this by examining the
distribution of observables, though it is standard to assign all untreated observations to the
control group in a robustness check while explicitly accounting for diﬀerences in observables. For example, the final sub-section discusses estimators that re-weight observations
in the control group to match its distribution of observables with that in the treatment
group.
We emphasize that it is almost as much an art as a science to determine the most
24

convincing identification strategy. This determination depends crucially on the setting and
the structure of the available data. For example, if available data includes an individual
level panel, fixed eﬀects methods are feasible. If the data is structured as two repeated
cross-sections, diﬀerences in diﬀerences may be most feasible. Even within the identification
strategies that we explore, the details of implementation require many decisions. As such,
we hope this section provides a general guide to the available options, along with their
advantages, pitfalls, and examples of their use in published research, rather than specific
recipes for carrying out empirical work.

4.1

Fixed Eﬀects Methods

Fixed eﬀects and panel methods can be used when there are multiple observations per
agent or spatial unit. Inclusion of fixed eﬀects in a regression is intended to remove all
unobserved characteristics that are fixed over time, or across space if multiple agents are
observed in the same spatial unit, from the error term. This means that any components
of unobservables that are fixed over time are controlled for through inclusion of fixed
eﬀects. Diﬀerences in diﬀerences, whose discussion we delay to the following sub-section, is
a particular identification strategy which typically incorporates fixed eﬀects. We consider
the use of panel data on individuals or firms, homes and spatial units at various levels of
aggregation respectively.
A generic fixed eﬀects regression specification, for individuals  at times , looks as
follows:
 =   +   +  + 
(7)
In the absence of the fixed eﬀects  ,  is identified by comparing outcomes at diﬀerent
levels of  both between and within agents . Inclusion of fixed eﬀects is equivalent to
diﬀerencing ,  and  relative to sample means within each . Therefore,  in a fixed
eﬀects regression like (7) is identified by comparing changes in  for diﬀerent changes in
 (or 1st derivatives) within agents. Variation in  between agents is not utilized to
recover information about . With more than 2 time periods, one can also estimate (7)
on first-diﬀerenced data, which identifies  by comparing diﬀerences in diﬀerences (or 2nd
derivatives) within agents.
Because  in the above regression is identified from variation in  over time within
agents, those agents with more variation in  influence the estimate of  more. Therefore,
b
if treatment eﬀects are heterogeneous at   across agents, 
  does not capture the ATE,
25

but rather some combination of individual treatment eﬀects weighted by each individual’s
contribution to econometric identification. Indeed, Gibbons, Suarez Serrato & Urbancic
(2013) derive that the FE estimator for  is:
b



#
"

X
(e )
 b d
=

  d
(e)
=1

In this expression, e is the residual after projecting  onto other covariates, including
fixed eﬀects.  (e ) is the variance of this object within  while  (e) is its variance
overall in the data. Commensurate with the intuition given above, this coeﬃcient is a
particularly weighted combination of individual treatment eﬀects. If such treatment eﬀect
heterogeneity is important, one can instead estimate individual treatment eﬀects   in the
following interacted regression equation, in which 
e  are fixed eﬀects that are distinct from
 in (7):
e  +  
 =    +   + 

Then, these individual treatment eﬀects can be averaged at will. For example, Wooldridge
(2005) suggests the "sample weighted" treatment eﬀect, which is identical to   if each
 h
i
X
 b
agent is sampled the same number of times, as

  . Unfortunately in many ap=1

plications there is no variation in  across time for some agents, making it impossible to
identify their individual treatment eﬀects, nor the sample weighted treatment eﬀect nor
the  .
In the urban economics literature, regression models with individual fixed eﬀects have
been extensively employed to try to understand the eﬀects of city size or density on wages,
and by extension productivity, through agglomeration economies. Glaeser & Maré (2001),
Combes, Duranton & Gobillon (2008), Baum-Snow & Pavan (2012) and De la Roca &
Puga (2013) among others estimate Mincerian regressions of log wages on experience, some
measure of city size and individual fixed eﬀects that resemble the following formulation:
ln  = [] +   +  +  

(8)

Identification of the city size coeﬃcient  comes from individuals’ moves across cities
of diﬀerent sizes. Note that  can be specified as a vector of treatment dummy
variables or as a more continuous measure of city size or density. In the context of the data

26

generating process (4), the role of the individual fixed eﬀects  is to control for the time
invariant component of  . As a consequence, one interpretation of  is as indicators of
time-invariant ability or skill. These studies consistently find strong relationships between
wages and city size even after controlling for individual fixed eﬀects, though inclusion of
individual fixed eﬀects typically reduces the coeﬃcient on city size or density by about
one-third to one-half. The prima facie implication of this result is that while there is a
causal eﬀect of city size or density on wages, there is also important positive sorting of
high fixed eﬀect (unobserved ability) individuals into larger cities that must be accounted
for in any evaluation of agglomeration economies through wages.
The greatest threat to identification in such studies is that some unobservable that may
predict wages and labor market attachment is correlated with decisions to move across cities
of diﬀerent sizes. Individuals with positive unobserved personal productivity shocks may
be more likely to move to larger cities. Potential omitted variables could be marital status,
home foreclosure, winning the lottery, moving to care for a sick relative, losing one’s job
or moving to start a better job. These unobserved variables are time-varying components
of  , though one could argue that variation in job oﬀer or separation rates across cities
should be counted as part of the variation in city productivity.8 If such endogeneity of
the move decision is important, making use of only the within-individual variation in city
size may actually introduce more bias to the estimate of  than not including fixed eﬀects
and making use of comparisons between individuals. Fixed eﬀects models make no use
whatsoever of any potential information in the "control" group of individuals who never
moved but who may have similar unobservables to those who are located in cities of diﬀerent
sizes.9
Heterogeneous treatment eﬀects are also of first-order importance for consideration for
two reasons. First, those who move more frequently are weighted more heavily in the
calculation of the city size eﬀect . If more able people with higher wage growth potential
move more often, they receive higher weight in the estimation of . If this is the case,
8
While diﬀerences across cities of diﬀerent sizes in the arrival rate of job oﬀers and separations is typically
considered one mechanism for agglomeration economies, this data generating process is inherently dynamic
with the job match as an important state variable. Therefore, in the context of an estimation equation like
(8) which could never capture such a data generating process, it is more straightforward to treat search and
matching as showing up in  rather than as part of the coeﬃcient on . Baum-Snow & Pavan (2012)
consider how to recover estimates of the importance of search and matching in agglomeration economies
using a dynamic structural model.
9
Observations about individuals that remain in the same location during the sample period do help
increase the precision of the estimates of .

27

their types  are oversampled from the marginal treatment eﬀect distribution (  )
and  may thus highly overstate  . Moreover, the fact that moves are more prevalent
soon after labor force entry means that the fixed eﬀect estimator recovers the causal eﬀect
of city size primarily for those early in their working lives and not for the average stage
in one’s career. In the language of Section 2, we can think of labor market experience
as an element of  and the marginal treatment eﬀect (  ) as being larger at certain
values of  than others. Therefore, even without an omitted variables problem the fixed
eﬀects estimator in this case recovers a particular local average treatment eﬀect which
may overstate   because of both oversampling of high ability individuals and of moves
early in the life-cycle. Failure to incorporate this treatment eﬀect heterogeneity into the
empirical specification can bias the fixed eﬀects estimates, in which case they would not
be good measures of individual ability. These observations are made by De La Roca &
Puga (2013) using Spanish data and Baum-Snow & Pavan (2012) using US data in their
assessments of the eﬀects of city size on wages.
Absent some source of randomization in treatment, the literature has heretofore been
only partially successful at handling the potential endogeneity of moves without the use of
a structural model, as in Baum-Snow & Pavan (2012). De La Roca & Puga (2013) make
some progress in recovering information about heterogeneity in treatment eﬀects and in
the amount of selective migration by allowing  and  to diﬀer by individual fixed eﬀects
 . They estimate their empirical model iteratively by first capturing fixed eﬀects and
then interactions until a stable set of fixed eﬀects is estimated. They find that returns to
experience are larger for higher ability individuals in larger cities but wage level diﬀerences
do not depend much on ability. By examining the distributions of fixed eﬀects in diﬀerent
locations, Combes et al. (2012) argue that selective migration is not a big enough phenomenon in French data to drive a large wedge between the true   and OLS estimates
of city size coeﬃcients, a conclusion that Baum-Snow & Pavan (2012) and De La Roca &
Puga (2013) share.
Another context in which fixed eﬀects methods are standard is in hedonic models. Using
data on home prices from transactions and home characteristics, fixed eﬀects remove timeinvariant unobserved home characteristics that contribute to home value. Repeat sales
hedonic models (which originally excluded observable home characteristics) are the basis
of housing price indices going back to Bailey, Muth & Nourse (1963), including the S&P
Case-Schiller index (Case & Schiller, 1987; Case & Schiller, 1989). Repeat sales indices are
constructed using a regression model like the following, typically with some adjustment for
28

potential heteroskedasticity in the errors.
ln  =   +   +  + 
In this equation, ln  is the log transaction price of home  in market  at time . The
fixed eﬀects  account for unobserved fixed home characteristics,   captures the home
price index for market  at time , and  includes time variant home characteristics.
Rosenthal (2013) uses a similar specification with homeowner’s log income on the left hand
side to account for fixed unobserved home characteristics in his investigation of filtering.
This repeat sales specification also forms the basis for several studies which evaluate
the willingness to pay for various local public goods and services, including various aspects
of actual and perceived school quality. For example, Figlio & Lucas (2004) examine how
housing prices and mobility changed when new school report cards in Florida provided
the public with condensed information about local public school quality. To achieve this,
 . In this expression, 
they partition   =  +   + 
 is a vector of dummy
variables for the locally zoned elementary school’s state-assigned grades in attendance
 is a vector of school characteristics that go into construction of the grade.
zone  and 
The estimated treatment eﬀect  reflects a causal eﬀect of school grades on local housing
values. Econometric identification comes from the assertion that reported grades were a
surprise and involve considerable random noise, and therefore are unlikely to be correlated
with neighborhood unobservables. Moreover, all time-varying observable attributes about
local schools are controlled for in   and there is no possible correlation between better
school grades and time-invariant influences on home prices because of controls for home
fixed eﬀects  . The interpretation of the  vector is thus the average eﬀects of changing
neighborhood school grades on local home prices. It is important to recognize that the
hedonic valuation of an A grade is likely identified mostly oﬀ of variation in homes in
pretty wealthy neighborhoods with a strong taste for school quality, because these are
the locations in which schools had variation in the A grade dummy, whereas the hedonic
valuation of an F grade is identified primarily from poor neighborhoods. Therefore, these
are local treatment eﬀects which only apply for the subset of the full distribution of homes
that experienced variation in relevant grades.
Beyond the local nature of such  estimates, clear interpretation of hedonic regression
results requires careful consideration of the data generating process for home prices. Hedonic models starting with Rosen (1974) indicate that shifts in quality of one attribute
29

of a product may induce a shift in the composition of buyers of this product. In addition, the elasticity of housing supply determines the extent to which such quality increases
may be reflected in prices versus quantities. In this context, an increase in perceived local
school quality and the resulting outward shift in local housing demand may be driven by
wealthier residents looking to move into the neighborhood. These wealthier residents may
seek higher quantities of housing services and the demand shift may spur developers to
increase the housing stock. Therefore, even if a regression like that specified above is well
identified and  is a causal eﬀect of school grades on home prices, it is not straightforward to interpret it as the marginal willingness to pay by any particular potential buyer
for this increase in local public goods. Indeed, Figlio & Lucas (2004) demonstrate that A
grades induced sorting of higher achieving students into the schools’ attendance zones students whose parents are likely willing to pay more for school quality than the families
they replaced. Greenstone & Gallagher (2008) consider how to recover estimates of welfare
consequences of toxic waste cleanups using home price data aggregated to the census tract
level. In general, because neighborhoods with diﬀerent attributes have diﬀerent household
compositions,  in the standard hedonic equation above only recovers marginal willingness
to pay under the strong assumption that all households have homogeneous preferences over
neighborhood attributes.10
Another setting in which fixed eﬀects have been eﬀectively used is to control for unobserved neighborhood characteristics in cross-sectional or repeated cross-sectional data with
geographic identifiers. A typical specification is as follows, in which  indexes local units
like census tracts or block groups.
 =  +   +   + 
Campbell, Giglio & Pathak (2011) use this sort of specification to examine the eﬀects
of forced sales, through foreclosure or resident death for example, on home prices. In
their context, the treatment is a dummy that equals 1 if a home transaction was a forced
sale or 0 otherwise. Census tract-period fixed eﬀects  control for the possibility that
10
Recovery of heterogeneity in marginal willingness to pay for neighborhood attributes typically requires
additional economic modelling. Bayer, Ferreira, & McMillan (2007), which we discuss in Section 6, shows
how to recover the distribution of willingness to pay for school quality and socio-demographic characteristics
of neighborhoods using a structural model married with a regression discountinuity identificaton strategy to
control for unobserved neighborhood characteristics. Kuminoﬀ, Smith, & Timmins (2013) present a review
of the many structural models of supply and demand equilibrium in housing markets that can be used to
recover willingness to pay for public goods.

30

homes may be more likely to be force sold in lower socioeconomic status neighborhoods.
Autor, Palmer & Pathak (2014) use a similar specification to measure the eﬀects of rent
decontrol in Cambridge, MA on housing values and Ellen, Lacoe & Sharygin (2013) do
so for examining the eﬀects of foreclosures on crime. Bayer, Ross & Topa (2008) use
census block group fixed eﬀects to control for sorting and unobserved job options in their
evaluation of job referral networks in which each observation is set up as a worker pair.
Their basic identifying assumption is that those looking for a home can at best find one
in a particular block group rather than a particular block, yet they find that living on the
same block is strongly related to working on the same block conditional on individual and
block fixed eﬀects.
One somewhat arbitrary feature of the standard use of spatial unit fixed eﬀects is
the assignment of each observation to only one particular spatial region fixed eﬀect, even
though observations typically diﬀer in their centrality in such regions. That is, those
observations on the edge of a census tract or block group may receive some spillover from
neighboring tracts’ unobserved characteristics and not all locations within spatial unit 
are likely to have exactly the same set of unobservables. To the extent that the treatment
diﬀers as a function of location (because of spillovers from nearby regions for example) in a
way that is correlated with sub-region level unobservables, estimates of  would be biased
and inconsistent. One way of accounting for microgeographic fixed eﬀects that alleviates
this problem is by using a spatial moving average specification. Replace  in the above
regression equation with:
 =

i
Xh
 [( )]e


Assuming knowledge of the exact location of each  and indexing spatial units by , one
can take a weighted average of nearby fixed eﬀects. In this expression,  (·) is a weighting function that equals 1 when the distance between observations is 0 and declines with
distance or adjacency. This weighting function could have one estimated parameter 
and could take a standard form with exponential or linear decay, as in  () = − or
 () = [1 −   0]. Estimation of the fixed eﬀects and e and decay parameter  could
be implemented by nonlinear least squares or GMM. One could also generalize this specification to incorporate a separate individual fixed eﬀect for smaller spatial aggregations.
This is a particular case of the spatial MA model which is discussed at greater length in
Gibbons, Overman and Pattachini’s chapter in this volume and in which the endogenous
portion of the error term is controlled for.
31

We delay our discussion of fixed eﬀects estimators applied to data aggregated to the
local labor market level to the following sub-section.

4.2

Diﬀerences in Diﬀerences Methods

The "Diﬀerence in Diﬀerence" (DD) identification strategy is a particularly common application of fixed eﬀects. To be viable, it typically requires a data structure in which
"treatment" and "control" groups are observed in multiple treatment environments, at
least one of which is the same for the two groups. Typically, one diﬀerence is over time
such that in initial periods the treatment has not yet been implemented, though in some
studies treatment and control groups are instead compared in diﬀerent locations or contexts
other than time periods. Diﬀerencing over time (or across contexts), often implemented
by including group or sub-group fixed eﬀects, purges from the error term any time invariant unobservables  that may diﬀer between treatment and control groups. Diﬀerencing
across groups, typically implemented by including time fixed eﬀects, purges from the error
term time-varying elements of unobservables  that are the same in the treatment and
control groups. The primary identification assumption in DD estimators is that there are
no time-varying diﬀerences in unobservables that are correlated with the treatment. The
DD strategy can be generalized to the case in which the treatment is given to diﬀerent
observations at diﬀerent points in time and/or to incorporate additional "diﬀerences".
Implementation of the DD identification strategy is straightforward. With data in
levels, one can think of the coeﬃcient of interest as that on the interaction between the
treatment group and a post-treatment dummy. One can equivalently calculate a simple
diﬀerence in diﬀerence in mean outcomes for treatment versus control groups in posttreatment versus pre-treatment periods. The following regression equation, which can be
estimated by OLS, incorporates the standard diﬀerence in diﬀerence specification for panel
data, in which  is the coeﬃcient of interest. It includes period fixed eﬀects  , individual
fixed eﬀects  (which can be constrained to be the same within entire treatment and
control groups, or subsets thereof) and the treatment variable of interest  , which is only
nonzero for the post-treatment period.
 =  +  +   +   + 

(9)

One may also wish to control for . However, if unobservables are diﬀerenced out by
the DD estimator, observable controls  should get diﬀerenced out as well. Therefore, in
32

most cases controlling for  will not matter for estimating  since  is orthogonal to 
conditional on the fixed eﬀects. Below we consider the consequences of controlling for 
in cases in which  is correlated with  . At least one period of data in both pre and post
treatment environments is required in order to recover a DD estimate. To ease exposition,
we denote period 0 as the pre-treatment period and period 1 as the post-treatment period.
Depending on the context, the DD estimator may consistently recover diﬀerent treatment eﬀects or no treatment eﬀect at all. In the context of the data generating process
described by (5), consistent estimation of any treatment eﬀect requires that any shocks to
 are not correlated with the treatment. Put another way, any diﬀerences in the composition of the treatment and control groups in period 1 versus period 0 must be random. In
mathematical terms, the key identification assumption is:
([ |1 = 1  = 1] − [ |1 = 1  = 0]) − ([ |1 = 0  = 1] − [ |1 = 0  = 0]) = 0
(10)
This assumption is valid as long as there are no time-varying unobservables that are diﬀer
across treatment and control groups and predict the outcome of interest. Diﬀerencing
between treatment and control groups over time (or, equivalently, including group fixed
eﬀects  ) purges all fixed diﬀerences between the treatment and control groups, even
if the distribution of unobservables is diﬀerent in these two groups. Diﬀerencing across
groups at each point in time (or, equivalently, including time fixed eﬀects  ) controls for
diﬀerences in the pre and post treatment environments. The comparison between these two
diﬀerences thus recovers a treatment eﬀect averaged over the distribution of observables
and unobservables in the treatment group provided that any diﬀerences in unobservables
between the treatment and control groups are not time-varying.
b
It is straightforward to derive that 
 only consistently estimates   = [(  )]
if all of those in the treatment group receive a full treatment, none in the control group do,
and the treatment is fully randomized, meaning that the treatment and control groups have
the same joint distribution of observables and unobservables. However, because the DD
estimator is typically applied in settings in which some selection into treatment can occur,
it is unlikely that an   is recovered. This selection into treatment can be conceptualized
as existing for spatial units or for individuals within spatial units. Because spatial units
cannot select out of treatment, a well identified DD estimator recovers the   for data
generating processes like (6), in which the object of interest is at the level of spatial units
rather than individual agents. If we think of the treatment as being applied to spatial
33

units but individual agents to be the objects of interest as in (5), we can also think of
DD as delivering   for spatial units. However, if those for whom  = 1 can refuse
treatment (as is typical) and the set of agents oﬀered treatment is representative of the
overall population, the DD estimator at best recovers   as defined at the individual agent
level. If the researcher has information about the probability that agents who received the
oﬀer of treatment accept it, this   estimate can be rescaled to produce an agent level
estimate of   .
It is common to use the DD identification strategy to analyze situations in which a
treatment is applied to specific regions and outcomes of interest are at the individual
level. Though the researcher may care about such individual level outcomes, outcomes
may only be reported at spatially aggregated levels like census tracts or counties, as in (5).
In this context, the treatment group is in practice identified as treated locations, in which
individuals are presumably more likely to be treated. An important threat to identification
in such a setting in which aggregate data is used is the potential re-sorting of individuals
(on unobservables) between the treatment and control groups. If the treatment is valuable
to some people in untreated areas, they may migrate to treated areas, thereby displacing
some that do not benefit as much from the treatment. Such sorting on unobservables that
is correlated with (and happens because of) the treatment would violate a version of the
identification condition (10) with aggregate data (that looks exactly the same because of
the law of iterated expectations), thereby invalidating the DD identification strategy.
One indicator pointing to a high likelihood of diﬀering distributions in unobservables
in the treatment and control groups existing pre versus post-treatment is diﬀering pretreatment trends in outcomes for the two groups. For example, if the control group experienced a positive shock in period 0 and is reverting toward its long-run mean between
periods 0 and 1, that would cause the DD estimator to overstate the true eﬀect of the
treatment. Similarly, if the treatment group received a negative shock prior to treatment,
this would similarly make it look like the treatment had a causal eﬀect when all that is
diﬀerent is simply mean reversion. Indeed, in some settings agents are selected for treatment because of low values of observables, some of which may be transitory. This threat
to identification is colloquially known as the "Ashenfelter Dip" (Ashenfelter, 1978).
As empirical researchers, we often have access to a data set with some observables
that are available to be included as controls. It is not clear that these variables should
always be used. Indeed, one should think of most elements of  as analogous to the 
variables that make up  , except that they are observed. Including these elements of 
34

should thus not influence the estimate of  in (9) if the DD strategy is sound, though
they may reduce its estimated standard error. However, in some settings there may be
elements of  that describe attributes of agents on which they sort in response to the
treatment. This phenomenon may arise, for example, in cases in which the treatment and
control groups are defined as geographic units rather than individuals. If such sorting
across treatment/control groups is fully predicted by attributes, then controlling for  is
appropriate as it rebalances the treatment and control groups in both periods. That is, the
two identification requirements on conditional expectations of  listed above may be true
conditional on  even if not unconditionally. However, if inclusion of  in (9) influences
the estimate of  for this reason, and sorting on observables exists, it is likely that sorting on
unobservables also exists, thereby invalidating the identification assumptions listed above.
Therefore, comparison of estimates of  including and excluding controls for  is some
indication as to whether sorting on unobservables may be biasing the coeﬃcient of interest.
In some settings, it may be the case that some elements of  respond directly to
the treatment. For example, it may be that incomes increased in areas that received
federal empowerment zone funding at the same time that income influences the outcome
of interest  like the homeownership rate. In this example, controlling for income changes
the estimate of  because absent controls for income and assuming ( ) = 0,  measures
a full derivative whereas controlling for income,  captures a partial derivative. However,
controlling for an endogenous variable like income runs the risk of violating the basic
b
identification condition [] = 0, thereby rendering 
 inconsistent. This violation
would occur if, in this example, income were a function of  and some unobservable in
, thereby making  correlated with  as well. Therefore, a less fraught approach for
recovering the partial eﬀect of  on  holding income constant is to directly estimate the
treatment’s eﬀect on income (by making it an outcome), and then partialing out that eﬀect
directly to recover the residual eﬀect of the treatment on the real outcome of interest ,

which does require knowledge of 
from elsewhere. Note that a standard robustness check
in DD estimators is to control for pre-treatment  variables interacted with time. These
are exogenous to the treatment because the treatment is 0 in all pre-treatment observations.
Ham et al. (2011) use several flavors of the DD estimator to evaluate various impacts
of several local economic development programs, including the federal Empowerment Zone
(EZ) program. This program’s first round started in 1994 and provided tax credits to
businesses to hire local residents, reduced borrowing costs for community development and
committed billions of dollars in community development block grants to these communities.
35

EZ status was awarded to a group of poor census tracts in each of eleven cities selected
for the program. Ham et al. (2011) use census tract data to evaluate the eﬀects of EZ
status on poverty, labor earnings and employment and argue that EZs improved all of
these outcomes. Their initial analysis uses data from the 1990 and 2000 censuses with
nearby tracts acting as a control group for EZ tracts. One may be concerned that tracts
with negative economic shocks prior to 1990 got selected to be EZ tracts because of this,
violating the assumption of common pre-treatment trends. To handle this, the authors
introduce a third diﬀerence - between 1980 and 1990, making this a DDD estimator. In
practice, one can implement a DDD estimator by carrying out the DD estimator exactly
as is laid out above on first-diﬀerenced data for each of two time spans. The advantage of
the DDD estimator in this context is that any common linear trends in unobservables in
treatment and control groups are diﬀerenced out, eliminating any potential bias because of
an "Ashenfelter Dip". However, any higher-order (like quadratic) trends are not accounted
for, nor is the possibility that treatment status itself changed tract compositions. That is,
if the treated tracts and control tracts have a diﬀerent composition of residents and firms
in 1990 and 2000 that is partly unobserved, part of any estimate recovered may reflect this
composition shift.
Busso, Gregory & Kline’s (2013) evaluation of the EZ program also employs DD and
DDD strategies but instead uses census tracts in areas that were barely rejected for inclusion
in empowerment zones in other cities as the control group. As with the Ham et al. (2011)
study, the disadvantage of using this control group is that these locations were likely
rejected for inclusion in the first round of the EZ program because they were slightly less
distressed than those that ended up being included. The advantage of Busso, Gregory &
Kline’s (2013) approach is that they use an estimator that reweights the control group
on observables to be more comparable than the equal weighting given by standard OLS.
This study is further discussed in the following sub-section, along with Kline & Moretti’s
(2014) use of the same estimator in tandem with a DD identification strategy to evaluate
the eﬀects of the Tennessee Valley Authority on long-run outcomes.
Greenstone, Hornbeck & Moretti (2010) use a DD estimator to recover the eﬀects of
large new industrial plants on incumbent plants’ total factor productivity. Their treatment
group is the set of counties which received new industrial plants and their control group is
the set of counties that were barely rejected for the siting of an industrial plant. The idea
is that counties chosen for these new plants should be similar on unobservables to those
barely rejected and indeed the paper shows evidence that the treatment and control groups
36

of counties have similar pre-treatment observable characteristics and pre-treatment trends.
Incumbent plant outcomes in treatment and control counties are compared before and
after the arrival of new industrial plants, as are diﬀerential post-treatment trends in these
outcomes. Their results indicate that these large new industrial plants had significant
spillovers of about 5 percent on average to incumbent plant TFP, with larger eﬀects in
closely related industries. This is direct evidence of positive agglomeration spillovers.
Figure 1, taken from Greenstone, Hornbeck & Moretti (2010), is an instructive illustration of how the DD strategy can be implemented. Its top panel shows average TFP in
incumbent manufacturing plants in treatment and control counties each year from 7 years
before to 5 years after the arrival of the new large industrial plant in each treatment county,
normalized to 0 in the year prior to entry. This plot shows that pre-treatment trends were
very similar for treatment and control groups, with these trends diverging starting at period 0. The bottom panel shows the diﬀerences between treatment and control groups in
each period, and a marked shift up in these diﬀerences after period 0. The simplest DD
estimator, which could be estimated with a specification like (9), is indicated on the lower
panel as the gap in average gaps between treatment and control groups post relative to pretreatment. The authors extend the simplest DD specification (9) to recover information
about dynamic responses to the treatment. Greenstone & Gallagher (2008) use a similar
strategy to argue that cleaning up hazardous waste sites had negligible eﬀects on housing
prices, housing quantities, population and population composition in nearby census tracts.
These can be thought of as special cases of the regression discontinuity estimator discussed
in detail in Section 6.
A non-exhaustive list of other prominent empirical studies in urban and regional economics which make use of DD or DDD identification strategies follows. Field (2007) examines the labor supply eﬀects of land titling in Peru by comparing squatters to those
with land title in areas with recent title provision to these groups in areas in which title
provision happens soon after the study’s completion. Costa & Kahn (2000) examine the
extent to which large cities better foster "power couple" location or formation by examining diﬀerences between large and small cities and various demographic groups who have
more versus fewer constraints on forming a dual-worker couple over time. Linden & Rockoﬀ (2008) show that home values declined nearer to the homes of sex oﬀenders moving
into neighborhoods relative to those further way. In a similar vein, Schwartz et al. (2006)
demonstrate that new subsidized housing developments in New York City increased values
of nearby homes more than those further away. These two spatial diﬀerence in diﬀerence
37

studies employ more flexible specifications than in (9) because they allow for full spatial
variation in responses to treatment to be captured in the regression specification.
The DD identification strategy has also been applied in settings with data generating
processes that operate at the metropolitan area or county levels. For example, Redding
& Sturm (2008) show that after the German division, population growth rates in areas
near the West German border were less rapid whereas after reunification they were more
rapid than elsewhere in the country. This study uses diﬀerences over time and between
border and non-border regions. Baum-Snow & Lutz (2011) evaluate the eﬀects of school
desegregation on residential location patterns by race. Identification in this study comes
from comparing metropolitan areas that had been recently treated to those that had been
not by treated by 1970 or 1980. The years 1960 and 1990 bookend their study, in which
all metropolitan areas in the sample were untreated and treated respectively. This is
implemented as regressions of the form of (9) in which  indexes metropolitan areas and
 is a binary for whether the central school district in the metropolitan area is under
court-ordered desegregation at time . Because of variation in the timing of treatment,
the compositions of the treatment and control groups depend on the year. Identification
in this case depends on there not being unobservables that are correlated with the timing
of treatment. Because all metropolitan areas go from being untreated to treated during
the sample period exactly once, the resulting treatment eﬀect estimates apply broadly
within the sample used and can be interpreted as average treatment eﬀects for the set of
metropolitan areas considered.
Abadie, Diamond, & Hainmueller (2014) describe how to implement a method of "synthetic controls" as a way to construct the control group in DD type estimation environments. This method is often applied when the treatment group is very small or consists of
just one unit but there are many candidate control units. Instead of cherrypicking a few
particular units for the control group that may or may not represent good counterfactuals
for treated units, the authors show how to use a weighted combination of all available
control observations, with weights set to represent how close they are to treated obser=1
X
b
vations. The resulting treatment eﬀect estimate is  = 1 −
∗  , where 1 is the
=2

outcome in time  for the treated unit (or an average amongst treated units),  are the
outcomes for the control units, and ∗ is a set of weights. These weights are chosen in a way
that minimizes some distance criteria between pre-determined characteristics of the treated
units and the pre-determined characteristics of the control units. For example, Abadie &
38

Gardeazabal (2003) and Abadie, Diamond & Hainmueller (2010) choose the vector  ∗ as
the value of  that minimizes

X

=1

 (1 − 0  )2 

In this expression, 1 denotes the average value characteristic  for treated observations
while 0 is the vector of the same characteristic for control observations, all calculated
prior to treatment.  is a measure of the importance of characteristic , which can be
chosen to be proportional to the predictive power of characteristic  for the outcome.
The problem with the synthetic controls approach is that the choice of predetermined
characteristics and distance criteria can be ad-hoc, and one may end up giving too much
weight to control units that are not appropriate counterfactuals due to diﬀerential pretrends or other unobserved components. But the interesting characteristic about this
approach is that it allows for simple construction of generalized control groups. In the
following sub-section, we analyze matching methods that more directly use this idea.

4.3

Matching Methods

The DD and fixed eﬀects identification strategies discussed thus far are only credible if the
treatment group is observed prior to treatment and there are no time-varying unobservables
correlated with the treatment. However, there are may settings in which either a pretreatment period is not observed or time-varying unobservables that are diﬀerent in the
treatment and control groups and may influence outcomes are likely to exist. One potential
solution to such problems is to use an estimator that makes use of information about
observables to try to infer information about unobservables. We focus on cases in which
the treatment is binary.
As a starting point, consider trying to recover information about the causal eﬀect of
treatment in the constant coeﬃcient version of the data generating process in (1) using
cross-sectional data. That is, suppose the true data generating process is as follows:
 =   +   +   + 
Note that because this is a constant coeﬃcient model by assumption and if  and  are
uncorrelated, the OLS estimate of  is the  . Trying to estimate this equation by OLS

39

leads to biased estimates of  if some unobservables  are correlated with the treatment.
One common heuristic method for addressing such potential bias is to estimate this equation
varying the set variables in the control set . The idea is that as variables are moved from
unobservables  to observables , any reductions in estimates of  indicate omitted
variables bias is influencing these estimates. If  is stable with inclusion of additional
controls, there is more confidence that omitted variables bias is not a problem. Crucial for
this method to be informative is for the R-squared of the model to increase as variables
are moved from  to . If the R-squared does not increase, these are irrelevant variables
with true coeﬃcients of 0. As crucial, is that the set of controls in  is in some sense
representative of the full set of possible control variables [  ]. At the end of this subsection, we consider how examples in the literature have attempted to correct the bias
using a proportional selection bias assumption, formalizing this intuition.
Standard practice for attempting to estimate causal eﬀects in the absence of implicit
randomization is to employ a propensity score matching estimator. The idea of such
estimators, originally proposed by Rosenbaum and Rubin (1983), is to compare outcomes
of individuals with the same propensity to be treated, some of whom receive treatment and
others of whom who do not. The underlying "propensity score"  () is the probability of
being treated, and depends on observables only. This score can be estimated by a probit
or logit with a flexible specification.
The main diﬃculty with matching estimators is that they assume that selection into
or out of treatment is fully predicted either by observables or by unobservables that do
not predict the outcome of interest. If unobservables both influence outcomes and whether
agents receive treatment, treated and untreated observations are not comparable for any
given propensity score, and matching estimators are not informative about any treatment
eﬀect. If unobservables influence outcomes but not the probability of treatment, matching
estimators are still informative about treatment eﬀects. This intuition is the same intuition
about potential threats to identification in OLS regression, so it is not surprising that OLS
is a particular form of a propensity score matching estimator. Heckman & Navarro-Lozano
(2004) demonstrate that matching estimators can be quite sensitive to the conditioning sets
used and argue that control function methods in which choices are more explicitly modeled
are more robust. We briefly consider such methods in the beginning of the following section.
Formally, the following conditions must hold in order for a propensity score estimator

40

to produce consistent treatment eﬀect estimates (Wooldridge, 2002):
( 0 |  ) = ( 0 |) (1 |  ) = ( 1 |)

(11)

These conditions say that those receiving the treatment have the same mean outcomes
whether treated or not as those who do not receive the treatment. That is, actually receiving treatment cannot predict outcomes in either the treated or untreated counterfactual
states of the world. These assumptions are sometimes called "selection on observables"
because they allow selection into treatment to be fully predicted by , but not by  . This
assumption implies   () =  (), but not necessarily that   =  .
Provided that the data set being used is rich with observables, there is information in
the propensity score coupled with treatment status about whether unobservables correlated
with the treatment may be an important source of bias. If there is very little overlap in the
range of the propensity score in which both treated and untreated observations exist, this
indicates that since treatment and control groups diﬀer on observables, they may be more
likely to diﬀer on unobservables as well. Consequently, the range of the propensity score
for which there is overlap is the region of the data for which the propensity score matching
estimator is providing more convincing identification. As a result, it is often informative
to graph the density of treated and untreated observations against the propensity score,
plus the implied treatment eﬀect at each level of the propensity score, to get a sense of
the treatment eﬀect over the range of the propensity score for which unobservables are
less likely to be driving selection into treatment. To calculate such a treatment eﬀect,
one can nonparametrically estimate the conditional expectations (| ()  = 1) and
(| ()  = 0) and then take the diﬀerence for every value of  (). This uses the
argument that unobservables act in some sense like observables.
Figure 2 provides two schematic diagrams which match these suggested graphs. Panel
A shows the density of treatment and control group observations as a function of the
propensity score. In this example, there is very little overlap between the treatment and
control groups. Indeed, just a few observations from both groups have similar propensity scores. Panel B presents nonparametric plots of some fictional outcome against the
propensity score for treatment and control groups. Standard error bands are not included
to make the figure less busy. However, it should be clear that standard error bands must
be tighter at values of  () near which there is more data. That is, even though it may be
possible to calculate a nonparametric regression line for the treatment group at low values
41

of the propensity score, it will be very imprecisely estimated because of the thin data in
this region. The main message from Figure 2 is to show that there are very few comparable
observations across treatment and control groups at most propensity scores. Comparability
between these two groups typically exists at propensity scores near 0.5, but may not for
other regions. As a result, it may make sense to limit considerations of treatment eﬀects to
treated observations with control observations that have comparable propensity scores.11
As discussed in Dehejia & Wahba (2002), identifying "matched" observations in propensity score neighborhoods of treated observations is a fruitful way of identifying a reasonable
control group if not many observations have been treated relative to the number of candidate controls. They suggest choosing a propensity score window and only making use
of control observations within this window of each treated observation. Given that the
resulting control group observations are suﬃciently close on observables to the treated
observations, one can calculate TT as follows:
d
 =

1
 =1

X

[ −

 =1

1 X
 ]

()

In this expression,  =1 is the total number of treated observations and  is the number
of "matched" control observations for treated observation . Those control observations
matched to  are indexed by (). Treated observations without a match are discarded, with
appropriate reinterpretation of   to apply only to the remaining treated observations.
Standard implementation of the propensity score estimator, which strictly assumes the
conditions in (11), uses all available data. Given first-step estimation of the propensity
score  (), the following equation can be estimated in a second step by OLS regression:
 = 0 + 1  + 2  ( ) + 3  ( ( ) − [ ()]) + 
In this regression, 1 is the   provided that [ 1 | ()] and ( 0 | ()] are both linear
in  (). A related but more nonparametric procedure that allows for direct recovery of
 () and   () is to estimate a regression like the following:
 = 0 + 1  +  2 +  ( − )3 + 
11

While we would have liked to use an example from the urban economics literature to depict graphs like
in Figure 2, this depiction has hardly ever been used in our field.

42

Here,  () =   () = 1 + ( − )3 and   = 1 . If there is no treatment
eﬀect heterogeneity and  () =  , then this equation reduces to a standard linear
regression of  on  and . Calculation of the propensity score using a linear probability
model and no treatment eﬀect heterogeneity reduces the first equation to standard OLS as
well. Therefore, we can interpret the OLS as a propensity score matching estimator that
incorporates no treatment eﬀect heterogeneity.
Some prominent recent applications of matching estimators have adopted a variant due
to Kline (2011) which can be implemented in two steps. First, estimate regressions of the
form:
 = 0 + 1  + (1 −  ) 2 + 
Here,  is accounted for in the control group only and not the treatment group. The
purpose is to determine Oaxaca-Blinder type weights 2 which serve as inputs into the
following treatment eﬀect calculation:
d

 =b
1 −

1
 =1


X
=1

b2
  

This procedure compares the average outcome in treated observations to the average outcome in observations with the same distribution of  but that did not receive the treatment.
Information from untreated observations in the first step is used to determine the counterfactual mean for the treated set of observations absent treatment. Kline (2011) shows that
this is equivalent to a propensity score reweighting estimator.
The best use of matching and propensity score methods is when there is a good reason to
believe that conditional on , treatment and control groups are similar on unobservables.
In recent successful applications, this often involves marrying a matching estimator with
a diﬀerences in diﬀerences type estimator, which is intended to make the treatment and
control groups similar on unobservables. In addition, some observations in the untreated
group are typically omitted from the control group in order to make the treatment and
control groups as comparable as possible. Such use of propensity score matching estimators
is a slightly more sophisticated version of the DD estimator, as they reweight control group
observations to look like those in the treatment group on observables.
Busso, Gregory & Kline (2013) use the Oaxaca-Blinder estimator to compare outcomes
in census tracts in federal Empowerment Zones to those in areas that were just rejected for
inclusion the program. They find that EZ tracts experienced 12 to 21 percent increases in
43

total employment and 8 to 13 percent increases in weekly wages, but little change in rents
or the composition of the population, though housing values and the percent of residents
with a college degree do increase. They carry out a placebo exercise that compares tracts
that are similar on pre-treatment observables but not assigned to EZs in EZ counties to
the same control group and find no significant eﬀects. Kline & Moretti (2014) use the same
estimator in their evaluation of the Tennessee Valley Authority program, for which they
trim counties adjacent to the TVA region and potential remaining control counties with
propensity scores in the lowest 25 percent and from the control group. Their estimates
indicate long run significant positive eﬀects on manufacturing employment, incomes and
land values and negative eﬀects on agricultural employment.
Gobillon, Magnac & Selod (2012) employ a standard propensity score reweighting estimator to evaluate the eﬀects of the French enterprise zone program, which provides wage
subsidies for firms to hire local workers. They find that the program had a small significant eﬀect on the rate at which unemployed workers find a job. McMillen & McDonald
(2002) use such an estimator to examine how the type of zoning in Chicago influenced
land values immediately after zoning was introduced in 1923. Using the propensity score
to match pre-zoning characteristics between plots zoned for residential versus commercial
use, they find that residential plots experienced greater price appreciation. As with the
other studies discussed above, the propensity score estimator may be more defensible for
this study since the treatment was presumably assigned based on observables and so there
is less opportunity for plots of land to sort in or out of treatment based on unobservable
characteristics. When analyzing individuals, such sorting concerns are more serious.
In addition to recovering treatment eﬀects in cases of selection on observables, propensity scores can be useful to identify a control group of matched observations for cases in
which a specific set of observations has been treated and a very large set of potential control
group observations must be pared down to include just close matches. Alesina, Baqir &
Hoxby (2004) employ such an approach for evaluating the eﬀects of racial heterogeneity
on the number of jurisdictions. They identify "treatment" counties as those in northern
states which experienced at least a 2 percentage point increase in the black population
share during 1910-1920 (during WWI) or 1940-1950 (during WWII). Their challenge is to
identify "control" counties that look as similar as possible on observables, and therefore
(hopefully) unobservables. To achieve this goal, they first estimate a propensity score for
all counties in aﬀected states through a probit regression of treatment status on state fixed
eﬀects and various baseline county demographic characteristics and polynomials thereof.
44

As in Dehejia & Wahba (2002), they identify propensity score windows around treated
counties in which no significant diﬀerence in any observable exists. Then, these treatment
and control groups were analyzed both descriptively and in a regression context. Results
indicate that greater increases in racial heterogeneity were strong predictors of smaller
declines in the number of school districts in the county.
Rather than using propensity score matches to identify a control group that look similar
on observables to the treatment group, another strategy that also works with continuous
treatments is to think of  as a representative set of potential control variables. Altonji,
Elder & Taber (2005) use this idea to evaluate the magnitude of omitted variables bias in the
context of evaluating the causal eﬀects of Catholic schools on high school graduation rates,
college attendance and test scores. Their basic assumption is that including an additional
randomly chosen unobservable variable would have the same eﬀect in reducing selection
bias as including an additional available observable in  in an OLS regression. Oster
(2013) reformulates this assumption as the following proportional selection relationship:


( )
(  )
=
 ()
 ( )

That is, the correlation between observables and the treatment is proportional to the
correlation between the unobservables and the treatment.
To implement the resulting estimator, consider the following two regression equations,
0
which can be estimated by OLS yielding  and  00 in addition to R-Squareds of 0 and
00 respectively:
 = 0 +   0 + 0
 = 00 +   00 +  00 + 00
Having estimated these regressions and capturing their coeﬃcients and R-squareds, the
only remaining required objects are the constant of proportionality  and the maximum
R-squared that would be recovered by estimating the full model, max . These can be used
in the following relationship, which incorporates the bias adjustment to the OLS regression
from the full model.
( 0 −  00 )(max − 00 )

 →  00 − 
(00 − 0 )
Of course, the main diﬃculty is that  and max are unknown. But one can get

45

an idea of how large the bias could be by determining what  would need to be for  = 0
given max = 1. Standard errors need to be bootstrapped to conduct inference on the
resulting bias corrected coeﬃcient.
The key obstacle to the use of matching, DD and FE estimators is the lack of any source
of randomization. In some sense, all of these estimators end up in an environment in which
we must assume that  is allocated in a way that is as good as random conditional on the
other observed elements of the estimation equation. The following section’s exploration of
instrumental variables (IV) estimators instead focuses on environments in which there is
some randomization in  , which is usually implicit.

5

Instrumental Variables Estimators

Instrumental variables (IV) estimators are used to recover consistently estimated coeﬃcients on treatment variables of interest when treatments are endogenous. One way of
conceptualizing such an endogeneity problem is that a treatment variable is generated by
a second linear equation which includes some unobservables that are correlated with unobservables which appear in the main estimation equation of interest. This makes the
treatment  correlated with the  part of the error term in the primary estimation equation, rendering the OLS estimate of the coeﬃcient on the treatment biased and inconsistent.
In the language of structural systems, there needs to be an "exclusion restriction" in which
at least one observed variable must be excluded from one equation in order to identify
coeﬃcients of both equations without making ad-hoc distributional assumptions. In the
language of single-equation linear regression, there needs to be an "instrument" which
isolates variation in  that is not correlated with any part of the error term in the main
estimating equation. We sometimes label such variation "pseudo-random" because the role
of the instrument is essentially to pick out random variation in  .
Consideration of how to estimate the classic Roy (1951) model by Gronau (1974) and
Heckman (1979) is informative about the more structural background of the IV estimator.
In this model, there is a binary treatment  into which individuals may self-select because
it is presumably valuable for them. This self-selection generates a correlation between 
and the error term in a linear regression of some outcome of interest on  and control
variables  because of sorting on unobservables into the treatment. In particular, the
underlying data generating process is assumed to be:

46

0 =  0 + 0 ;  1 =  1 + 1 
Heckman (1979) shows that If 0 and 1 are jointly normal, one can identify  1 and
evidence of selection into treatment. The key insight is that the choice of whether to accept
treatment can be recovered explicitly using the fact that only those for whom  1   0 select
into treatment. Operationally, one way of estimating the model is by estimating the model
as a "Heckman two-step". First, predict the probability of treatment as a function of 
using a probit regression. Second, estimate the equation
 1 =  1 +   () + 
In this equation, (·) is the inverse Mills ratio constructed from the first step, which controls
for selection into treatment. Because  0 was never observed in the original application, the
standard treatment does not have a second step equation for 0 , though one could be
constructed using analogous logic. The sign and magnitude of estimated  indicates the
nature of selection into treatment on unobservables. One important insight of this work
is thus that one can treat non-random selection into treatment as an omitted variables
problem. The diﬃculty is that if the errors are not truly jointly normal, the model is misspecified and coeﬃcients in the second step equation are inconsistenly estimated unless an
exclusion restriction is imposed.
Altonji, Elder & Taber (2005) also consider a two equation structural system in their
exploration of evaluating the eﬀects of attending Catholic schools on college attendance.
They consider a bivariate probit model in which a set of demographic characteristics predict
both Catholic school attendance and college attendance, such that Catholic school attendance is an explicitly endogenous treatment variable. They demonstrate how the estimate
of the coeﬃcient on  (Catholic school attendance) depends crucially on the magnitude of
the correlation between the errors in the two equations. Higher correlations between the
error terms means that there are more similar unobservables driving both Catholic school
attendance and success in school. As a consequence, the causal eﬀect on Catholic school
attendance declines because this variable simply reflects more positively selected students
as the error correlation increases.12 In the context of a data generating process like (4),
12

Neal (1997) considers a similar bivariate probit setup to address the same questions except that he
excludes religious aﬃliation and local Catholic population density from the graduation equation. These
exclusion restrictions allow for recovery of estimates of the covariance of the errors between the two equations

47

one way to make progress in breaking a potential correlation between  and  which
renders OLS or probit estimates inconsistent, is to find variables that predict  but are
not correlated with  . These are instruments, or exclusion restrictions.
In summary, the IV estimator is used to break a potential correlation between  and .
This correlation could exist because individuals with high values of  are sorting into the
treatment at higher rates than others, as in the classic two equation structural selection
model in which  is "endogenous" because it is generated by a second equation. Or this
correlation could exist because, regardless of where  comes from, there are many variables,
for which the researcher cannot control, that end up in  as a result, and  is correlated
with some of them. That is, because there is an omitted variables problem. These two
ways of thinking about why (  ) 6= 0 have distinct intellectual histories but many of the
same implications.

5.1

Foundations

To be mathematically precise, we can think of IV estimators as those that recover  in the
following system of equations:
 =   +   + 
 =

1  1

+  2 + 

(12)
(13)

In the second equation,  1 is the set of excluded instruments of which there must be
at least one per treatment variable for this econometric model to be identified. These
additional  1 variables are "excluded" from the first equation. In the first equation, recall
that  =  +  from (4). Denote the set of exogenous variables as  = [ 1 ]. IV
estimators recover consistent estimates of  if () = 0 and the coeﬃcients on the
excluded instruments  1 in (13) are suﬃciently diﬀerent from 0 in a statistical sense. We
sometimes use the "reduced form" of this two-equation system, which looks as follows:
 = 1 1 +  2 +  
If there is just one excluded instrument per endogenous variable, one simple way to estimate


1
b
 is through indirect least squares: 
. This is an intuitive object which shows
 = 
 1

and the coeﬃcient on catholic schooling in the estimation equation of primary interest.

48

how the first stage coeﬃcient rescales the reduced form eﬀect of the instrument on the
outcome.
Another simple intuitive way to estimate  is by substituting (13) into (4) and then
explicitly including a proxy for  in the estimation of the resulting equation (14) below.
This proxy acts as a "control function" for unobservables correlated with  . In the linear
case above,  can be properly estimated by using 
b  consistently recovered as residuals
from OLS estimation of the first stage equation (13).
 =   +   + 
b   + 

(14)

This method is closely related to the two-stage least squares (2SLS) estimator in which
b is predicted from the first stage and inserted in place of  in (12), which can then
13 owever, as is discussed in Imbens & Wooldridge
b
be estimated by OLS to recover 
2 .
(2007), the control function approach sometimes provides additional flexibility when dealing
with non-linear models. Moreover, the coeﬃcient  has a useful economic interpretation.
  is positive for those observations which got treated more than expected as predicted
by  1 and . One could thus interpret those agents as having higher than predicted
returns to receiving treatment. Therefore, the sign of  indicates whether the type of agent
who received higher return from the treatment had better or worse outcomes  than the
types of agents who received lower treatment returns. That is,  tells us about the nature
of selection into treatment, much like the coeﬃcient on the inverse Mills’ ratio does in
Heckman (1979), as is fleshed out further in Heckman & Honoré’s (1990) development of
the empirical content of Roy’s (1951) model.
In addition to ILS, 2SLS and control function methods, Generalized Method of Moments
(GMM), which makes use of the moment condition [ 1 ] = 0, and Limited Information
Maximum Likelihood (LIML) are options for estimating  in the two equation econometric
model specified in (12) and (13). All of the various estimators of  in (12) suﬀer from weak
small sample properties, though LIML has been found to be most robust in small samples.
All of these estimators are identical if the model is just identified, meaning that there is
the same number of excluded variables as there are endogenous variables. Recent work has
found that 2SLS can be more robust in some instances with many instruments if they not
only predict  but also an element of  (Kolesar et al., 2013).
13

For 2SLS estimation, it is important that the standard errors use estimates of  calculated using the
actual rather than the predicted  .

49

Most important for successful implementation of IV is the choice of good excluded
instruments. One fruitful way of conceptualizing an instrument is as a source of random
variation in  conditional on . That is, a good instrument generates variation in 
conditional on  that is not correlated with any unobservables in  . However, each
element of  must also be exogenous. Therefore, the best instruments are those that
generate truly random variation in  and therefore require no conditioning on  in the
first equation. With such ideal instruments, which typically are only found with explicit
randomization, the prudent researcher can avoid having to control for any elements of 
and facing the associated danger of introducing any potential endogeneity problems. We
discuss using IV estimators as means to make use of explicit randomization in the context
of regression discontinuity in the following section.
The more typical situation is that a researcher is concerned about the endogeneity of
some treatment  and there is no explicit randomization available. The following is one
strategy for selecting good candidate instruments: Consider all of the possible sources of
variation in  . From this list, select the ones that are least likely to be correlated with
variables that directly predict  or are correlated only with observables that predict 
that are very likely exogenous. Coming up with this list typically requires both creativity
and a detailed investigation into the process by which the treatment was assigned. There
is no direct test for instrument exogeneity, only a set of exogeneity arguments that are
unique to each setting, though there are various standard auxiliary tests, some of which
are suggested below in the context of examples from the literature. The next step is to
estimate the first stage, equation (13) above, and to evaluate whether the instrument(s) are
suﬃciently strong predictors of  . If not, the researcher has to keep looking. If multiple
strong instruments are identified, special care is needed, as is also discussed below.
If the partial F-statistic from the test of whether coeﬃcients on excluded instruments
are each significantly diﬀerent from 0 is above about 9, then the instruments are strong
enough predictors of  such that the estimated standard errors on  can be used.14 If
not, standard errors on  must be adjusted upwards to account for a "weak instrument"
problem. Stock & Yogo (2005) provide standard critical values on F-tests for evaluating
instrument strength. When implementing the primary specification of an IV estimator, one
should control only for those predictors of  that may be correlated with the instrument
so as to avoid controlling for endogenous variables.
14

This is equivalent to evaluating if the t-statistic is above 3 if there is just one excluded instrument.

50

While the exposition thus far assumes a common coeﬃcient , in general we expect there
to be heterogeneous coeﬃcients on  of (  ). Crucial to understanding IV estimates
is to recognize that IV recovers a local average treatment eﬀect ( ), which is the
average eﬀect of the treatment for the sub-population whose behavior was influenced by
the excluded instrument, conditional on  (Imbens & Angrist, 1994). It typically requires
further investigation to gather information about the particular   that is recovered
from any given instrument. Continuous instruments and treatments in particular usually
require some detective work to determine for whom the treatment eﬀect being estimated
by IV applies. With multiple instruments, it becomes even more complicated. Indeed,
Heckman, Urzua & Vytlacil (2006) lament that with many instruments it is often virtually
impossible to determine which combination of   s is being estimated by IV.
Because of the fact that IV recovers  , and that in typical urban economics applications it is diﬃcult enough to find one valid instrument let alone many, it is prudent
to stick to using only one excluded instrument at a time in most settings, with additional
candidate instruments possibly used for robustness. The only reason to use multiple instruments at once is if one instrument by itself is too weak. Though it is possible to test for
stability in  when switching between diﬀerent instruments as a test of instrument validity, this process crucially assumes that the data is generated by a process with a constant
coeﬃcient. If instead there are heterogeneous coeﬃcients, it may well be the case that
multiple instruments generate diﬀerent legitimate treatment eﬀect estimates, all of which
are diﬀerent  s.

5.2

Examples of IV in Urban Economics

In the urban and regional economics literature, the IV empirical strategy has been most
commonly used when the unit of observation is aggregated to the local labor market level.
That is, the data generating processes that have best lent themselves to IV estimation are
either fully conceptualized at the aggregate level, as in (6), or are agent based but involve
a treatment that operates at some aggregate geographic level, as in (5). Here we review
examples of how IV has been used to successfully isolate exogenous components of local
labor demand and labor supply shocks, construction of infrastructure, the implementation of local economic development policies, and the prevalence of various drivers of local
agglomeration spillovers.
The classic use of IV in economics is to isolate exogenous supply or demand shifters in

51

some particular market. Since supply and demand functions are fundamentally theoretical
constructs, use of instrumental variables to isolate demand or supply shocks is probably
most eﬀective when an economic model is incorporated into the analysis in some way in
order to organize thoughts about the most important forces buttressing equilibrium prices
and quantities. Given the centrality of the demand-supply paradigm in economics, use of IV
to isolate exogenous variation in demand and supply has a strong tradition. For example,
Angrist, Graddy & Imbens (2000) use weather variables as a source of exogenous variation
in supply shifts to recover demand system parameters using the well known Fulton street
Fish Market data (Graddy, 1995).
Following in this tradition, one of the most common uses of IV estimation in the urban
and regional economics literature is to isolate sources of exogenous variation in local labor
demand. The most common instruments for doing so are attributed to Bartik (1991)
and Blanchard & Katz (1992). The idea is to isolate shifts in local labor demand that
only come from national shocks in each sector of the economy, thereby purging potentially
endogenous local demand shocks driving variation in employment or wages. While this type
of instrument has been used to help recover parameters of local labor supply functions, it
has more often been used to isolate exogenous variation in metropolitan area wages or
employment levels.
There are two ways that "Bartik" instruments are most commonly constructed. A
quantity version of the instrument is constructed by fixing each local labor market’s industry composition of employment at some base year and calculating the employment growth
that would have occurred in each market had the industry composition not changed but
employment in each industry had grown at the national rate for that industry. The price
version of the instrument instead calculates the wage growth that would have occurred in
each market had wages in each industry grown at the national rate for that industry, again
holding the employment composition in each local labor market fixed to a base year. In
order to allay potential concerns of a mechanical relationship between base year industry
composition and unobservables driving an outcome of interest, researchers typically take
industry composition from a year that predates measurements of any other variables used
for estimation.15
15
To allay the potential concen that any particular local labor market influences national employment
or wage growth, many studies exclude the own local labor market or state in the calculation of national
growth rates by sector. This means that this growth component of the instrument is slightly diﬀerent for
each observation.

52

A host of papers make use of such instruments for identification. Notowidigdo (2013)
uses exogenous variation from Bartik instruments to demonstrate that positive local labor
demand shocks increase population more than negative demand shocks reduce it, and that
this asymmetry is more pronounced for less skilled workers. However, he finds that housing prices, wages and rents do not exhibit the same asymmetric responses. Through the
structure of a Roback (1982) style spatial equilibrium model, these results are interpreted
as indicating low mobility costs for everyone and a concave local housing supply function.
Leveraging the same exogenous variation in local labor demand for identification, GMM
estimates of the full model reveal that less skilled workers are more highly compensated
through various transfers for negative local labor demand shocks than highly skilled workers, which accounts for the diﬀerent mobility rates of these two groups. In a precursor to
Notowidigdo (2013), Bound & Holzer (2000) examine the general equilibrium population
responses by skill to exogenous local labor demand shocks. Through GMM estimation of
a spatial equilibrium model, Diamond (2013) uses the identifying variation available from
Bartik instruments to recover how local labor demand shocks lead to knock-on shifts in
local skill composition and skill-specific amenities. Boustan et al. (2013) use Bartik instruments to help demonstrate that jurisdictions with greater increases in income inequality
collected more local government revenues and had higher expenditures. Luttmer (2005)
uses Bartik instruments in a reduced form specification to control for changes in average
area incomes in showing that people falling behind their neighbors are less happy, even if
everyone’s incomes are increasing. Gould, Weinberg & Mustard (2002) use Bartik shocks
as an instrument for income in examining the causal eﬀects of income on local crime rates.
In an important study, Saiz (2010) uses Bartik instruments to isolate exogenous local
housing demand shocks interacted with a measure of land unavailable for development
and an index of housing market regulation to recover an estimate of the housing supply
elasticity for each U.S. metropolitan area. He estimates inverse housing supply regression
equations of the form
∆ ln  = 0 + 1 ∆ ln  + 2 _ ∆ ln  + 3   ∆ ln  +  ,
in which  indexes metropolitan area,  denotes housing price,  denotes housing quantity
and   is an index of local housing market regulation. Diﬀerences are taken for the 19702000 period. Bartik quantity instruments provide exogenous variation in all terms which

53

include ∆ ln  .16 Housing supply elasticity estimates from this study have been widely
used. Beaudry, Green & Sand (2014) interact such estimates with Bartik instruments
to form a series of instruments in the estimation of a spatial equilibrium model which
incorporates unemployment and wage bargaining frictions. Mian & Sufi (2009) and Chaney,
Sraer & Thesner (2012) are two prominent examples from the finance literature that use
these Saiz (2010) housing elasticity measures.
The main source of identifying variation in Bartik instruments comes from diﬀering
base year industry compositions across local labor markets. Therefore, validity of these
instruments relies on the assertion that neither industry composition nor unobserved variables correlated with it directly predict the outcome of interest conditional on controls. As
with any instrumental variable, the credibility of this identification assumption depends
on the context in which the instrumental variable is being applied. Generically, one may
be concerned that base year industrial composition may be correlated with fundamentals
related to trends in labor supply. For example, it may be the case that manufacturing intensive cities have declined not only because the demand for skill has declined more in these
locations, but also because they have deteriorated more in relative amenity values with the
increasing blight and decay generated by obsolete manufacturing facilities. That is, negative labor supply shifts may be correlated with negative labor demand shifts. Indeed,
when implementing Bartik instruments using 1-digit industry classifications, as is often
done, initial manufacturing share tends to drive a lot of the variation in the instrument. In
these cases, one can conceptualize this instrumental variable as generating a comparison
between manufacturing and non-manufacturing heavy local labor markets. Finally, depending on how it is implemented, the Bartik instrument may isolate variation in diﬀerent
components of labor demand depending on the skill composition of the workforce in the
industry mix in the base year. For example, two local labor markets may be predicted to
have similar employment growth because of prevalence of retail and wholesale trade in one
and business services in the other. In fact, the latter likely would have experienced a much
greater outward shift in labor demand if measured in eﬃciency units terms, which may be
the more appropriate quantity measure depending on the application.
Another common use of IV is to isolate exogenous variation in local labor supply.
Following Card (2001), one common strategy for doing so is to make use of immigration
16

Saiz (2010) also makes use of hours of January sun and immigration inflows as additional sources
of exogenous variation in ∆ ln  and the prevalence of evangelical Christians as a source of exogenous
variation in   .

54

shocks. As is discussed in more detail in Lewis & Peri’s chapter in this Handbook, this
variation has been used extensively in the immigration literature to instrument for the flow
of immigrants to domestic local labor markets. This instrument is typically constructed by
interacting the fraction of immigrants to the U.S. from various regions of origin worldwide
that reside in each metropolitan area in a base year with the total flow of immigrants into
the United States from each region over some subsequent time period, and then summing
over all regions of origin.17 As in Lewis (2011), an analogous exercise can be carried out by
observed skill to generate variation across local labor markets in the relative supply of skill,
though this exercise has a stronger first stage for less skilled groups. Boustan (2010) uses
a similar historical pathways procedure to instrument for the size of the African American
population in northern metropolitan areas after WWII.
IV has also been widely used to isolate exogenous variation in infrastructure treatments.
The most common types of instruments used for transportation infrastructure variables are
historical plans and networks. For example, Baum-Snow (2007) estimates the impacts of
the construction of radial limited access highways serving central cities in U.S. metropolitan
areas on population decentralization. This paper finds that each radial highway emanating from a central city decentralized about 9 percent of the central city’s population to
the suburbs. He uses the highways laid out in a 1947 federal plan for a national highway
system as a source of exogenous variation. The validity of this empirical strategy rests
on the fact that the 1947 highway plan delineated routes that were chosen because they
would facilitate military transportation and intercity trade. Local travel demand was not
considered in making up this highway plan. The 90% federal funding commitment for
highway construction ensured that virtually all planned highways got built, with considerable additions to the interstate system to serve local travel demand. The primary analysis
in Baum-Snow (2007) involves estimating 1950-1990 diﬀerenced regressions of central city
population on radial highways, controlling for metropolitan area population, in order to
subsume the full time period during which the interstate system was constructed. Central to successful identification here is control for variables that may be correlated with
planned highways and drive decentralization. Controls for central city size, 1950 metropolitan area population and industrial structure in various specifications serve this purpose,
though only the central city size control matters. Baum-Snow (2007) also reports estimates from a DD type specification using data from decades intervening 1950 and 1990
17

As with Bartik instruments, some studies leave out the own local labor market or state when calculating
national immigrant flows from each world region of origin.

55

and including metropolitan area and year fixed eﬀects. For this empirical strategy, 1990
radial highways interacted with the fraction of federally funded mileage completed by the
year of the observation enters as the highways instrument. Michaels (2008) uses a similar
1944 plan as an instrument for highways serving rural counties in his investigation of how
better market integration changed the demand for skill. Though the instruments turn out
to be insuﬃciently strong, he also tries instrumenting with the existence of nearby cities
on the North-South or East-West axes relative to each county in question, as the interstate
system is oriented in this way.
Duranton & Turner (2011, 2012) and Duranton, Morrow & Turner (2013) also use
the 1947 plan as an instrument for highways, but supplement it with 1898 railroads and
an index of continental exploration routes during the 1528 to 1850 period. These papers
evaluate the eﬀects of highways on the amount of intra-city travel, urban growth, and
the composition of interregional trade respectively. Baum-Snow et al. (2014) similarly
use aspects of historical urban road and railroad networks to instrument for their modern
counterparts in their investigation of changes in urban form in post-1990 Chinese cities.
The idea for using historical infrastructure as instruments is that though such infrastructure
is obsolete today, its rights of way are likely to be preserved, allowing for lower cost modern
construction. Dinkelman (2011) uses land gradient as an instrument for the prevalence of
rural electrification in South Africa. She finds that much like new highways, electrification
led to employment growth. As is discussed further in Redding and Turner’s chapter in
this Handbook, how to distinguish between the eﬀects of infrastructure on growth versus
redistribution is still very much an open question. Whatever their interpretation, however,
well identified IV regressions can recover some causal eﬀects of infrastructure.
Hoxby (2000) is one of the earlier uses of IV estimation in the local public finance
literature. This paper attempts to recover the eﬀects of public school competition, as
measured by the number of public school districts in metropolitan areas, on student test
scores. To account for the potential endogeneity of the number of school districts, Hoxby
instruments with the prevalence of rivers and streams in the metropolitan area. The idea
is that metropolitan areas with more rivers and streams had more school districts because
historically it was diﬃcult for students to cross rivers to get to school, but these natural
features do not directly influence levels or accumulation of human capital today. Potentially
crucial for identification, of course, is to control for factors that might be correlated with
rivers and streams but predict test scores. For example, metropolitan areas with more
rivers and streams may be more likely to be located in more productive parts of the country
56

like the Northeast and Midwest, so controlling for parents’ education and outcomes may
be important.18 More recently, Suarez Serrato & Wingender (2014) use city population
revisions because of decennial censuses to isolate exogenous variation in federal transfers
to recover that the local income multiplier is 1.57 per federal dollar and the fiscal cost per
additional job is $30,000 per year.
One additional common type of instrument uses variation in political power and incentives. For example, Levitt (1997) uses mayoral election cycles to instrument for the number
of police deployed in cities in a given month in his investigation of the eﬀects of police on
crime. The idea is that mayors up for re-election expand the police force during this time
in an attempt to reduce crime. Consistent with the intuition of indirect least squares, this
study essentially compares crime rates during election cycles with those at other times,
scaling by the diﬀerence in numbers of police in these two environments. Of course, isolating a causal eﬀect of police requires controlling for other policy changes implemented
during election cycles.19 Hanson (2009) and Hanson & Rohlin (2011) use congressional
representation on the Ways and Means Committee to instrument for selection of proposed
empowerment zones (EZs) for federal funding.
We hope that this incomplete survey of the use of IV in the urban and regional literature has shown that credible implementation of IV is far from a mechanical process.
As with any empirical strategy, the successful use of IV requires careful thought about the
identifying variation at play. A convincing logical argument must be made for exogeneity of
each instrument conditional on exogenous control variables, or equivalently that remaining
variation in the instrument is uncorrelated with unobservables that drive the outcome of
interest. In addition, ideally some idea should be given of which local average treatment
eﬀects IV estimates using each instrument return.
One can use the mechanics of the IV estimator to recover   in environments in which
the treatment is explicitly randomized, as in the MTO studies discussed in Section 2.4.
Katz, Kling & Liebman (2001) walk through this process in detail. In the MTO context,
assign  = 1 to households in the Section 8 treatment group and  = 0 to households
in the control group.  = 1 if a household moves out of public housing with a Section
8 voucher and  = 0 if not. One can think of  as being a valid instrument for .
Households receiving a voucher choose whether or not to use it, making  endogenous.
Recall from Section 2.2 the definition of  , which in this binary treatment context
18
19

Rothstein (2007) provides additional analysis of the question using additional data.
See McCrary (2002) for a re-analysis of the same data set.

57

[|=1]−[|=0]
becomes   ≡ Pr(=1|=1)−Pr(=1|=0)
. The numerator is the coeﬃcient on  in
a "reduced form" regression of  on . The denominator is the coeﬃcient on  in a
"first stage" regression of  on . That is, we see in this simple context how   is
a restatement of the indirect least squares (ILS) IV estimator. Additionally recall from
Section 2.2 the definition   ≡ ( 1 −  0 | = 1) = [|=1]−[|=0]
. Therefore,   =
Pr(=1|=1)
  if Pr( = 1| = 0) = 0, or no members of the control group use a Section 8 voucher
to move out of public housing.
It is also typical to use the IV estimator to implement the regression discontinuity
empirical strategy. The following section details how this is done.

6

Regression Discontinuity

Use of the Regression Discontinuity (RD) research design in economics has dramatically
increased in the past decade, as attested in recent reviews by Lee & Lemieux (2010) and
Imbens & Lemieux (2008). Our interpretation of RD estimates has also changed in this
period. Initially thought of as another method to deal with selection on observables, RD
was subsequently motivated as a type of local instrumental variable, and then finally defined
as a creative way of implementing random assignment in a non-experimental setting. In
this section, we discuss the diﬀerent interpretations of the RD framework, the relevant
details on how to implement the approach, and some of its notable uses in urban and
regional economics. Even though RD designs have been quite rare in urban papers until
recently20 , the approach shows much promise for future research and we expect its use in
urban economics to grow over time in the same way experienced by other applied economics
fields. This section can be thought of as a first gateway on the approach; more detailed
discussions are presented in Lee & Lemieux (2010) and Imbens & Lemieux (2008).

6.1

Basic Framework and Interpretation

There are two main pre-requisites for Regression Discontinuity to apply as a potential
empirical strategy. First, the researcher needs to know the selection into treatment rule,
and there should be a discontinuity in how the treatment is assigned. For example, U.S.
cities often promote referenda that ask local citizens if they would approve raising extra
funds through bond issuances that will be used to invest in local infrastructure. The
20

For example, zero papers used the RD design as recently as 2010 in the Journal of Urban Economics.

58

selection rule in this case is based on the vote share needed to approve the bond issue, let’s
say 2/3 of the local vote. The discontinuity in treatment is obvious: cities whose referenda
got less than 2/3 of the votes will not raise the funds, while cities whose referenda achieved
the 2/3 mark will be able to issue the bonds and subsequently invest the proceeds in
local infrastructure. The second pre-requisite is that agents are not able to sort across the
selection threshold. Such "selection" would by definition invalidate the ability to compare
similar individuals in the control and treatment groups on either side of the threshold. In
the referenda example, this no endogenous sorting condition means that cities are not able
to manipulate the election in order to influence their ability to get one additional vote to
reach the 2/3 threshold. At the end of the section we will discuss how researchers can
potentially deal with violations of this condition, such as in boundary type applications in
which sorting is expected to happen over time.
If both conditions above are met, the RD estimate will provide a comparison of individuals in treatment and control groups that were "matched" on a single index, i.e.,
the selection rule. This single index is usually refereed to as the running variable or the
assignment variable.
To formalize those concepts, define  as the outcome of interest,  as the relevant
binary treatment status, assume   = , and  a vector of covariates:
 =  +   +   +  + 

(15)

where  = 1( ≥  ).  is the single index for selection into treatment, and  is the
discontinuity threshold. Individuals with  ≥  are assigned to the treatment group,
while the remaining individuals are assigned to the control group. Such a set up is usually
referred to as the "sharp" RD design because there is no ambiguity about treatment status
given the known and deterministic selection rule. In this setting, the   of  on 
around the threshold is
[ | =  + ∆] − [ | =  − ∆] =  + {[ | =  + ∆] − [ | =  − ∆]} +
+{[ +  | =  + ∆] − [ +  | =  − ∆]}
Note that this   only applies to the agents with characteristics of those near the
threshold. Two key assumptions allow for the identification of  . First, continuity
of the joint distribution of  and  . This assumption makes the term {[ | =
59

 + ∆] − [ | =  − ∆]} in the equation above negligible, and guarantees that
both control and treatment groups will have similar observed characteristics around the
discontinuity threshold. This assumption is easily tested in the data, and it is one of the
reasons for interpreting RD as a selection on observables type of framework. The second
assumption is that the joint distribution of the unobserved component ( +  ) and  is
continuous, which makes the term {[ +  | =  + ∆] − [ +  | =  − ∆]} also
negligible. This assumption can never be tested. This type of sharp RD is analogous to
random assignment in the sense that, around the threshold, the assignment of individuals
to control and treatment groups is exogenous given the two assumptions above.
In some circumstances, however, the selection rule may not be deterministic. For example, even when local citizens approve a bond issue, overall market conditions may prevent
the municipality from raising the funds. Or U.S. cities that failed a bond referendum today
may try to pass other bond measures in the near future. Those events may turn the selection rule into a probabilistic equation, leading to the so-called fuzzy RD design. Formally,
the treatment status  could be rewritten as:
 = 0 + 1  + 
where  = 1( ≥  ) and  corresponds to the other unobserved components that
determine treatment status. Plugging in the new equations for  and  on the outcome
equation generates:
 =  + 0 +  1 +   +   +  + 
and the new treatment eﬀect around the threshold becomes:
[ | =  + ∆] − [ | =  − ∆] = 1 + {[ | =  + ∆] − [ | =  − ∆]}
+{[ | =  + ∆] − [ | =  − ∆]} + {[ +  | =  + ∆] − [ +  | =  − ∆]}
In order to estimate the parameter  we first need to back out the parameter 1 that
establishes the relationship between  and  :
[ | =  + ∆] − [ | =  − ∆] = 1 + {[ | =  + ∆] − [ | =  − ∆]}
and a local average treatment eﬀect ( ) can be recovered using the ratio of the reduced
60

form impact of the single index  on outcome  , and of the first stage described above:
=

[ | =  + ∆] − [ | =  − ∆]
[ | =  + ∆] − [ | =  − ∆]

(16)

This expression closely resembles the definition of   in (3). The reason the fuzzy RD
design can be thought of as delivering a local average treatment eﬀect is that the treatment
eﬀect is only recovered for some agents. If the set of agents induced into treatment by having an assignment variable value that is beyond the critical threshold is random, then this
coincides with the same average treatment eﬀect estimated in the sharp RD environment.
However, if the fuzzy RD occurs because a group of agents do not comply with the "treatment" of being beyond the threshold, presumably because they diﬀer from compliers on
some observables or unobservables, then the fuzzy RD design only allows the researcher to
recover a  , which can also be thought of as a particular version of treatment on the
treated (  ).
The validity of the fuzzy RD design relies on the following assumptions: 1) there is
random assignment of control and treatment groups around the threshold; 2) there is a
strong first stage, allowing the estimation of 1 ; 3) an exclusion restriction, so that the
term {[ | =  + ∆] − [ | =  − ∆]} also becomes negligible.21 This setup is
very similar to the instrumental variable approach covered in the previous section, and the
fuzzy RD is sometimes interpreted as a local instrumental variable.
As is emphasized in DiNardo & Lee (2011), the simplistic IV interpretation misses the
most important characteristic of the RD design: the random assignment of treatment and
control groups. Even though the fuzzy design resembles the mechanics of an instrumental
variable approach, the key characteristic of the design is the ability of mimicking random
assignment in a non-experimental setting. In fact, the fuzzy RD design could be more
properly designated as a locally randomized IV.
An important issue in RD designs is external validity, as one potential interpretation
of the approach is that "it only estimates treatment eﬀects for those individuals close to
the threshold". DiNardo & Lee (2011) clarify the interpretation of those estimates, by
using the idea that individuals do not get to choose where they locate with respect to
the RD threshold. If that is the case, RD estimates can be viewed as a weighted average
21

This approach also relies on a monotonicity assumption, similar to the one used to cleanly interpret
  in an IV setting. It means that as one moves across the assignment variable threshold, the probability
of treatment for every combination of observables  and unobservables  increases.

61

eﬀect, where the weights are proportional to the ex-ante likelihood that the value of the
individual’s assignment variable would lie in a neighborhood of the threshold.
Independent of using a sharp or fuzzy design, the RD approach provides a method of
approximating the empirical estimation to a randomization setting. As discussed in earlier
sections, randomization is the Holy Grail of empirical work, and any method that allows
non-experimental approaches to replicate the characteristics of a experimental design is
bound to be welcomed by researchers.

6.2

Implementation

The popularity of the RD approach is explained not only by its relationship with randomized experiments, but also because of the transparency of the framework. RD estimation
can be transparently shown in a graphical format. The standard RD figure plots conditional or unconditional means of the treatment and/or outcome of interest by bins of the
assignment variable. Following the bond issue example, Cellini, Ferreira, and Rothstein
(2010) show average expenditures and average capital outlays per pupil by the vote share
in a bond election (see Figure 3). This simple figure first shows that a treatment exists:
total expenditures and capital outlays increased for school districts that had vote shares
above the threshold, and only in the three years after the bond measure was approved. It
also tests the sharpness of the research design: school districts whose referenda had vote
shares below the threshold had similar expenditures and capital outlays in the year before
and in the three years after the election. The combination of these results for treatment
and control groups are a clear discontinuity of a given magnitude around the threshold.
A similar graphical approach should be used to test the validity of the research design.
All relevant covariates should be displayed in unconditional plots by bins of the assignment
variable, and the statistical test of a discontinuity for each covariate should be presented.
This is the main test of the assumption that control and treatment groups have balanced
characteristics around the discontinuity threshold. An additional test of sorting around
the discontinuity can be performed by plotting the total number of observations in each
bin against the running variable. That will test whether there is a disproportional number
of individuals in each side of the threshold, which could potentially indicate the ability
of individuals to manipulate their treatment status and therefore invalidate the research
design - see McCrary (2008). In practice though, such sorting would usually show up as
diﬀerences in other covariates as well. Finally, other common robustness tests including

62

testing for a discontinuity in pre-determined covariates (in the case of a treatment that
has a time component), testing if the outcome variable presents a discontinuity at a fake
discontinuity threshold, meaning that a discontinuity only happens at the true threshold,
and testing whether other unrelated outcomes have a similarly discontinuous relationship
with the running variable, which would indicate that the treatment may not be the only
mechanism impacting outcomes.
Many RD applications also plot parametric or non-parametric estimates of the  
along the unconditional means of the assignment variable. When using a parametric estimate, the graphical analysis can also help with the choice of functional form for the RD
single index. As mentioned earlier, the assignment variable  can be interpreted as a single
index of the sources of observed bias in the relationship between outcome and treatment
status. If the single index is smooth at the RD threshold 0 , that indicates that any discontinuity in  would be due to  . In the easiest case, there is no correlation between
the outcome  conditional on treatment status and the running variable  .and a simple
regression like  = 0 +   +  would generate proper estimates of the  . A more
common situation is where  is also some function of  , with similar slopes on either side
of the threshold. A more general empirical model that allows for diﬀerent functions of 
above and below 0 which is commonly used to implement sharp RD estimation is

 = 0 +  1 + 1 (0 −  )1(  0 ) + 2 ( − 0 )1( ≥ 0 ) +   +  

(17)

where  = 1( ≥ 0 ) in the sharp RD case. Many researchers implement 1 (·) and 2 (·)
as cubic or quadratic polynomials with estimated coeﬃcients, imposing the constraints
that 1 (0) = 2 (0) = 0 by excluding intercept terms from the polynomials. The inclusion
of 0 in (17) allows the level of 0 at  = 0 − ∆ to be nonzero. This equation can
be estimated by OLS. The underlying idea, again, is to compare treatment and control
units near the threshold 0 . The role of the 1 (·) and 2 (·) control functions in (17) is
to control for (continuous) trends in observables and unobservables moving away from the
assignment variable threshold. Though not necessary if the RD empirical strategy is sound,
it is common to additionally control for observables  in order to reduce the variance of the
error term and more precisely estimate 1 . As with our discussion of including observables
in the diﬀerences in diﬀerences estimators, it is important not to include any observables
that may respond to the treatment, meaning they are endogenous. Moreover, it is common
63

not to utilize data beyond a certain distance from the threshold 0 for estimation because
such observations do not contribute to identification yet they can influence parametric
estimates of the control functions.
The empirical model in (17) can also be used as a basis for estimating a   in
environments that lend themselves to using a fuzzy RD research design. Here, however,
the researcher also must consider the following auxiliary treatment equation:

 =  0 +   + 1 (0 −  )1(  0 ) + 2 ( − 0 )1( ≥ 0 ) +   +  ,
where  = 1( ≥ 0 ) and  in (17) is simply a treatment indicator. As this is now a
simultaneous equations model, the fuzzy RD   can thus be estimated using any IV
estimator. Commensurate with (16), the indirect least squares (ILS) estimate of the fuzzy
1
RD   is 

 .
Non-parametric estimation can also be used to recover the   at the discontinuity
threshold - see Hahn, Todd, & van der Klaauw (2001). The randomization nature of the RD
design implies that most estimation methods should lead to similar conclusions. If  
estimates from diﬀerent methods diverge, that is usually a symptom of a more fundamental
problem, such as a small number of observations near 0 . In fact, the main practical limitation of non-parametric methods is that they require a large number of observations near
the threshold, especially since non-parametric estimators are quite sensitive to bandwidth
choice at boundaries.
To this point, we have assumed that we know the critical value 0 of the assignment
variable at which there is a discontinuous change in treatment probability. In some contexts, that critical value is unknown. It is possible to estimate the "structural break" 0
jointly with the treatment eﬀect at 0 . This can be done by estimating (17) by OLS for
every candidate 0 , and then choosing the b0 that maximizes the R-Squared. Card, Mas, &
Rothstein (2008) is the notable example in the urban economics literature that carries out
this procedure. This paper recovers estimates of the critical fraction of the population that
is black in neighborhoods at which they "tip", meaning they lose a large number of white
residents. Jointly estimated with these tipping points are the magnitudes of this tipping.

64

6.3

RD Examples in Urban Economics

There are various examples of RD applications in urban economics. Ferreira & Gyourko
(2009) study the impacts of local politics on fiscal outcomes of U.S. cities. Chay & Greenstone (2005) recover hedonic estimates of willingness to pay for air quality improvements
in U.S. counties. Baum-Snow & Marion (2009) estimate the impacts of low income housing
subsidies on surrounding neighborhoods. Ferreira (2010) studies the impact of property
taxes on residential mobility and Pence (2006) studies the impact of mortgage credit laws
on loan size. In this sub-section we first discuss the bond referenda example that has
been mentioned above in detail. We then discuss the use of the "boundary discontinuity"
research design, which is a particular application of RD that comes with its own challenges.
Cellini, Ferreira & Rothstein (2010) investigate the importance of capital spending in
education. There are two central barriers to identification in this setting. First, resources
may be endogenous to local outcomes. Spending is usually correlated with socioeconomic
status of students. Second, even causal estimates of the impact of school investments may
not be able to capture all measured benefits to students, such as non-academic benefits. To
deal with this second issue they look at housing markets. Given standard theory (Oates,
1969), if home buyers value a local project more than they value the taxes they pay to
finance it, spending increases should lead to higher housing prices - also implying that the
initial tax rate was ineﬃciently low.
In order to isolate exogenous variation in school investments they create control and
treatment groups based on school districts in California that had very close bond elections.
The logic is that a district where a proposed bond passes by one vote is likely to be similar
to one where the proposal fails by the same margin. They test and confirm this assumption
using three methods: they show that control and treatment groups have balanced covariates
around the margin of victory threshold, they show that pre-bond outcomes and trends of
those outcomes are also balanced, and they show that the distribution of bond measures
by vote share is not discontinuous around the threshold.
They also test whether the design is sharp or fuzzy by looking at the future behavior of
districts after a bond referenda. Districts that failed a bond referendum were more likely
to pass and approve another bond measure within the next 5 years. The authors deal
with the dynamic nature of bond referenda by developing two estimators of   and   .
Estimates indicate that passage of a bond measure causes house prices to rise by about
6%, with this eﬀect appearing gradually over 2-3 years following the election, and the eﬀect

65

persists for about a decade. Finally, the authors convert their preferred   estimates of the
impact of bond passage on investments and prices into the willingness to pay for marginal
home buyers. They find a marginal willingness to pay of $1.50 or more for each $1 of
capital spending. Even though several papers in the public choice literature emphasize
the potential for "Leviathan" governments, those estimates suggest the opposite for this
California case.
We now consider the boundary discontinuity research design. Many researchers have
used geographic boundaries to construct more comparable treatment and control groups
that are likely to mitigate omitted variable biases. Holmes (1998), for example, aspires
to disentangle the eﬀects of state policies from other state specific characteristics. As is
discussed in Section 4.2 above, a diﬀerence-in-diﬀerence approach is often less than ideal
when applied to large geographies such as states. Holmes’ strategy is to zoom in on state
borders at which one state has right-to-work laws and the other state does not. Geography,
climate, fertility of soil, access to raw materials, access to rivers, ports, etc. may be the
same for cities on either side of the border. Such a design thus mitigates potential biases
arising from diﬀerences in omitted factors. Looking across these borders, Holmes (1998)
finds that manufacturing activity is much higher on the "pro-business" sides of the borders.
But borders are usually not randomly assigned. They may follow certain geographic
features, such as rivers, or they may be the result of a political process, such as when
states choose boundaries for congressional districts. The lack of randomization implies that
there might be more than one factor that is not similar across geographies separated by
boundaries. For example, some boundaries may be used to separate multiple jurisdictions,
such as cities, school districts, counties, states, and perhaps countries. It may be diﬃcult to
pin down the precise source of variation in the data driving the results of a given research.
Even if borders were randomly assigned, there is ample opportunity for sorting of agents
or policies across borders on unobservable characteristics.
These issues can be illustrated in the example of valuation of school quality. Black
(1999) compares house prices on either side of school attendance boundaries in order to
estimate valuation of school quality in the high quality side versus the low quality side.
Attendance zone rather than school district boundaries are used because no other local
service provision is diﬀerent on either side of these boundaries. School district boundaries
would have two problems: they may also be city or county boundaries, and diﬀerent
districts may have very diﬀerent systems of school financing. School attendance zones, on
the other hand, have similar financing systems, and are unlikely to be used to separate
66

other types of jurisdictions. Black also shows that distance to the boundary matters. Only
small distances, within 0.2 miles, are likely to guarantee similarity in local features.
However, even those precise local attendance zones may not deal with the issue of endogenous sorting of families. Given a discontinuity in local school quality at the boundary,
one might expect that residential sorting would lead to discontinuities in the characteristics of the households living on opposite sides of the same boundary - even when the
housing stock was initially identical on both sides. Bayer, Ferreira, & McMillan (2007)
empirically report those discontinuities for the case of the San Francisco Bay Area. High
income, high education, and white households are more likely to be concentrated on the
high school quality side of the attendance zone boundaries. Those diﬀerences are noticeable
even within very small distances to the boundary. Given these sorting patterns, it becomes
important to control for neighborhood demographic characteristics when estimating the
value of school quality, since the house price diﬀerences may reflect the discontinuities
in school quality and also the discontinuities in sociodemographics. As in Black (1999),
Bayer, Ferreira, & McMillan (2007) find that including boundary fixed eﬀects in standard
hedonic regressions reduces the estimated valuation of school quality. But they also find
that such valuation is reduced even further, by approximately 50%, when adding precise
sociodemographic characteristics.
Additional caveats are that even the best data sets will not have all of the sociodemographic characteristics that may influence house prices. Also, most data sets have limited
information about detailed characteristics of houses, such as type of floor, views, etc. Biases
may arise if such unobserved housing features or unobserved demographic characteristics
diﬀer across boundaries used for identification. These problems could be mitigated in settings where boundaries were recently randomly assigned, and therefore families or firms
still did not have enough time to re-sort.
In another use of the boundary discontinuity empirical setup, Turner, Haughwout &
van der Klaauw (2014) examine land prices across municipal borders to decompose the
welfare consequences of land use regulation into own lot, external and supply components.
The idea is that as long as land use regulation is enforced evenly over space up to municipal
borders, one can recover the direct costs of regulation by comparing across borders. Indirect
(spillover) costs of regulation can be found with a spatial diﬀerencing type estimator within
jurisdictions adjacent to those with regulatory changes. Supply eﬀects of regulation are
reflected in diﬀerences across municipal borders in the share of land that gets developed.
Results indicate strong negative eﬀects of land use regulations on the value of land and
67

welfare that operate through all three channels.
Recent developments in labor economics and public finance have also uncovered many
discontinuities in slopes, using the so-called Regression Kink (RK) design (Card et al.,
2012). These kinks are a common feature of many policy rules, such as the formulas that
establish the value of unemployment insurance benefits as a function of previous earnings.
Card and coauthors explain that the basic intuition of the RK design is similar to that of
the regression-discontinuity design and is based on a comparison of the relationship between
the outcome variable (e.g., duration of unemployment) and the treatment variable (e.g.,
unemployment benefit levels) at the point of the policy kink. However, in contrast to a
regression discontinuity design, which compares the levels of the outcome and treatment
variables, the estimated causal eﬀect in an RK design is given by the ratio of the changes in
slope of the outcome and treatment variables at the kink point. As with RD, one threat to
identification is sorting at the kink. This type of sorting often results in visible bunching in
the distribution of the running variable at the kink point and invalidates the assumptions
underlying the RK design. However, though such bunching may invalidate RD and RK
designs, many researchers in public economics - such as Saez (2010) and Chetty et al. (2011)
- have been able to leverage this type of bunching to recover estimates of the behavioral
responses to various public policies such as income taxes. The idea in such “bunching
designs” is to compare the actual bunching observed in the data with the predictions from
a behavioral model that does not have the policy kink. Assuming everything else constant,
any diﬀerences between the amount of bunching observed in the data and the amount that
would be implied by the model in the absence of the policy kink can be attributed directly
to the policy variation around the kink. Recent applications of this approach to housing
markets include Best & Kleven (2014), Kopczuk & Munroe (2014) and Defusco & Paciorek
(2014).
Finally, in some situations one may observe both an RD and an RK at the same
threshold - see Turner (2012). New developments in these areas of research may arise in
the coming years, as researchers thrive to understand the underlying sources of variation
in the data that allow for identification of treatment eﬀects that are diﬃcult to credibly
estimate with non-experimental data.

68

7

Conclusion

This chapter lays out some best practices for recovering causal empirical relationships
in urban and regional economics contexts. We hope that we have successfully conveyed
the idea that carrying out quality empirical work requires creativity and careful thought.
Beyond basic decisions about the general empirical strategy to be used are always many
smaller decisions that are inherently particular to the question at hand and available data.
In general, however, two central considerations should permeate all empirical work that
aspires to recover causal relationships in data. The first is to consider the sources of
variation in treatment variables that identify these relationships of interest. The second is
to recognize which treatment eﬀect is being estimated, if any.
We see a bright future for empirical research in urban and regional economics. The
wide integration of tractable economic theory and empirical inquiry among those working
on urban and regional questions in economics positions our field well to make convincing progress on important questions. The wide range of detailed spatially indexed data
available to us provides many opportunities for the beginnings of serious investigations of
new topics. Indeed, while recovery of treatment eﬀects is important, a descriptive understanding of important patterns in the data is perhaps more important for new questions.
Particularly in our field, which is finding itself overwhelmed with newly available data,
the first step should always be to get a handle on the facts. Doing so often leads to ideas
about convincing identification strategies that can be used to recover causal relationships
of interest.

69

References
Abadie, Alberto, Joshua Angrist and Guido Imbens. 2002. "Instrumental Variables Estimates
of the Effect of Subsidized Training on the Quantiles of Trainee Earnings,"
Econometrica, 70(1): 91-117.
Abadie, Alberto, Alexis Diamond and Jens Hainmueller. 2010. “Synthetic Control Methods
for Comparative Case Studies: Estimating the Effect of California’s Tobacco Control
Program,” Journal of the American Statistical Association, 105: 493-505.
Abadie, Alberto, Alexis Diamond and Jens Hainmueller. 2014. “Comparative Politics and the
Synthetic Control Method,” American Journal of Political Science, forthcoming.
Abadie, Alberto and Javier Gardeazabal. 2003. “The Economic Costs of Conflict: A Case
Study of the Basque Country,” American Economic Review, 93(1): 113-132.
Alesina, Alberto, Reza Baqir and Caroline Hoxby. 2004. “Political Jurisdictions in
Heterogeneous Communities,” Journal of Political Economy, 112(2): 348-396.
Altonji, Joseph, Todd Elder and Christopher Taber. 2005. "Selection on Observed and
Unobserved Variables: Assessing the Effectiveness of Catholic Schools," Journal of
Political Economy, 113(1): 151-184.
Angrist, Joshua, Kathryn Graddy and Guido Imbens. 2000. “The Interpretation of
Instrumental Variables Estimators in Simultaneous Equations Models with an
Application to the Demand for Fish,” Review of Economic Studies, 67(3): 499-527.
Angrist, Joshua and Alan Krueger. 1999. "Empirical Strategies in Labor Economics," in
Handbook of Labor Economics, edited by Orley Ashenfelter and David Card. Elsevier,
Volume 3, Part A: 1277-1366.
Ashenfelter, Orley. 1978. "Estimating the Effect of Training Programs on Earnings," Review
of Economics and Statistics, 60(1): 47-57.
Athey, Susan and Guido Imbens. 2006. "Identification and Inference in Nonlinear
Difference-in-Differences Models," Econometrica, 74(2): 431-497.
Autor, David, Christopher Palmer and Parag Pathak. 2014. "Housing Market Spillovers:
Evidence from the End of Rent Control in Cambridge Massachusetts," Journal of
Political Economy, 122(3): 661-717.
Bailey, Martin, Richard Muth and Hugh Nourse. 1963. "A Regression Method for Real Estate
Price Index Construction," Journal of the American Statistical Association, 58: 933-42.
Bartik, Timothy. 1991. Who Benefits from State and Local Economic Development Policies?
Kalamzoo, MI: Upjohn Institute.
Baum-Snow, Nathaniel. 2007. “Did Highways Cause Suburbanization?” Quarterly Journal of
Economics, 122(2): 775-805.
Baum-Snow, Nathaniel, Loren Brandt, J. Vernon Henderson, Matthew Turner and Qinghua
Zhang. 2014. “Roads, Railroads and Decentralization of Chinese Cities,” manuscript.
Baum-Snow, Nathaniel and Byron Lutz. 2011. “School Desegregation, School Choice and
Changes in Residential Location Patterns by Race,” American Economic Review, 101(7):
3019-3046.
Baum-Snow, Nathaniel and Justin Marion. 2009. “The Effects of Low Income Housing Tax
Credit Developments on Neighborhoods,” Journal of Public Economics, 93(5-6): 654666.

Baum-Snow, Nathaniel and Ronni Pavan. 2012. “Understanding the City Size Wage Gap,”
Review of Economic Studies, 79(1): 88-127.
Bayer, Patrick, Fernando Ferreira and Robert McMillan. 2007. "A Unified Framework for
Measuring Preferences for Schools and Neighborhoods," Journal of Political Economy,
115(4): 588-638.
Bayer, Patrick, Randi Hjalmarsson, and David Pozen. 2009. "Building Criminal Capital
Behind Bars: Peer Effects in Juvenile Corrections," Quarterly Journal of Economics,
124(1): 105-147.
Bayer, Patrick, Stephen Ross and Giorgio Topa. 2008. "Place of Work and Place of
Residence: Informal Hiring Networks and Labor Market Outcomes," Journal of Political
Economy, 116(6): 1150-1196.
Beaudry, Paul, David Green and Ben Sand. 2014. “Spatial Equilibrium with Unemployment
and Wage Bargaining: Theory and Estimation,” Journal of Urban Economics, 79(C): 219.
Bertrand, Marianne, Esther Duflo and Sendhil Mullainathan. 2004. "How Much Should We
Trust Differences-in-Differences Estimates?" Quarterly Journal of Economics, 119(1):
249-275.
Best, M.C. and Kleven, H.J. 2014. “Housing Market Responses to Transaction Taxes:
Evidence from Notches and Stimulus in the UK,” Mimeo.
Bester, Alan, Timothy Conley and Christian Hansen. “Inference with Dependent Data Using
Cluster Covariance Estimators,” Journal of Econometrics, forthcoming.
Black, Sandra. 1999. "Do Better Schools Matter? Parental Valuation of Elementary
Education," Quarterly Journal of Economics, 114(2): 577-599.
Blanchard, Oliver Jean and Lawrence F. Katz. 1992. "Regional Evolutions," Brookings
Papers on Economic Activity, 0(1): 1-69.
Bound, John and Harry J. Holzer. 2000. "Demand Shifts, Population Adjustments and Labor
Market Outcomes During the 1980’s," Journal of Labor Economics,
Boustan, Leah, Fernando Ferreira, Hernan Winkler, and Eric M. Zol. 2013. “The Effect of
Income Inequality on Taxation and Public Expenditures: Evidence from U.S.
Municipalities and School Districts, 1970-2000,” The Review of Economics and
Statistics, 95(4): 1291-1302.
Boustan, Leah Platt. 2010. "Was Postwar Suburbanization “White Flight”? Evidence from
the Black Migration," Quarterly Journal of Economics, 125(1): 417-443.
Busso, Matias, Jesse Gregory and Patrick Kline. 2013. “Assessing the Incidence and
Efficiency of a Prominent Place Based Policy,” American Economic Review, 103(2):
897-947.
Bjorklund, Anders and Robert Moffitt. 1987. “The Estimation of Wage Gains and Welfare
Gains in Self-Selection Models,” Review of Economics and Statistics, 69(1): 42-49.
Cameron, A. Colin, Jonah B. Gelbach, and Douglas L. Miller. 2008. “Bootstrap-Based
Improvements for Inference with Clustered Errors,” Review of Economics and Statistics,
90 (3): 414–27.
Campbell, John, Stefano Giglio and Parag Pathak. 2011. "Forced Sales and House Prices,"
American Economic Review, 101(5): 2108-2131.

Card, David. 2001. “Immigrant Inflows, Native Outflows, and the Local Labor Market
Impacts of Higher Immigration,” Journal of Labor Economics, 19, 22–64.
Card, David, David Lee, Zhuan Pei and Andrea Weber. 2012. “Nonlinear policy rules and the
identification and estimation of causal effects in a generalized regression kink design,”
NBER Working Paper No. 18564.
Card, David, Alexandre Mas and Jesse Rothstein. 2008.”Tipping and the Dynamics of
Segregation,” Quarterly Journal of Economics, 123(1): 177-218.
Carrell, Scott, Bruce Sacerdote and James West. 2013. "From Natural Variation to Optimal
Policy? The Importance of Endogenous Peer Group Formation," Econometrica. 81(3):
855-882.
Case, Karl and Robert Shiller. 1987. "Prices of Single Family Homes Since 1970: New
Indexes for Four Cities," New England Economic Review, September/October, 45-56.
Case, Karl and Robert Shiller. 1989. "The Efficiency of the Market for Single-Family
Homes," American Economic Review, 79(1): 125-137.
Chaney, Thomas, David Sraer and David Thesmar. 2012. “The Collateral Channel: How Real
Estate Shocks affect Corporate Investment,” American Economic Review, 102(6): 23812409.
Chay, Kenneth and Michael Greenstone. 2005. "Does Air Quality Matter? Evidence from the
Housing Market,” Journal of Political Economy, 113(2): 376-424.
Cellini, Stephanie, Fernando Ferreira and Jesse Rothstein. 2010. “The Value of School
Facility Investments: Evidence from a Dynamic Regression Discontinuity Design,”
Quarterly Journal of Economics, 125(1): 215-261.
Chernozhukov, Victor and Christian Hansen. 2005. "An IV Model of Quantile Treatment
Effects," Econometrica, 73(1): 245-261.
Chetty, Raj, John N. Friedman, Nathaniel Hilger, Emmanuel Saez, Diane Schanzenbach, and
Danny Yagan. 2011. “How Does Your Kindergarten Classroom A§ect Your Earnings?
Evidence from Project STAR,” Quarterly Journal of Economics, 126(4): 1593-1660.
Combes, Pierre-Philippe, Gilles Duranton and Laurent Gobillon. 2008. "Spatial Wage
Disparities: Sorting Matters!" Journal of Urban Economics, 63(2): 723-742
Combes, Pierre-Philippe, Gilles Duranton, Laurent Gobillon and Sebastien Roux. 2012.
"Sorting and Local Wage and Skill Distributions in France," Regional Science and
Urban Economics, 42(6): 913-930.
Costa, Dora and Matthew Kahn. 2000. “Power Couples: Changes in the Locational Choice of
the College Educated, 1940–1990,” Quarterly Journal of Economics, 115(4): 1287-1315.
Cox, David R. 1958. "Some Problems Connected With Statistical Inference," The Annals of
Mathematical Statistics, 29(2): 357-372.
Cullen, Julie and Steven Levitt. 1999. "Crime, Urban Flight and the Consequences for
Cities," Review of Economics and Statistics, 81(2): 159-169.
Davis, Donald and David Weinstein. 2002. "Bones, Bombs, and Break Points: The
Geography of Economic Activity," American Economic Review, 92(5): 1269-1289.
De La Roca, Jorge and Diego Puga. 2013. "Learning by Working in Big Cities," manuscript.

DeFusco, Anthony A. and Andrew Paciorek. 2014. “The Interest Rate Elasticity of Mortgage
Demand: Evidence From Bunching at the Conforming Loan Limit," Finance and
Economics Discussion Series 2014-11.
Dehejia, Rajeev and Sadek Wahba. 2002. “Propensity Score-Matching Methods for
Nonexperimental Causal Studies,” Review of Economics and Statistics, 84(1): 151-161.
Diamond, Rebecca. 2013. “The Determinants and Welfare Implications of US Workers’
Diverging Location Choices by Skill: 1980-2000,” manuscript.
DiNardo, John and David Lee. 2011. "Program Evaluation and Research Designs," in
Handbook of Labor Economics, edited by Orley Ashenfelter and David Card. Elsevier,
Volume 4, Part A: 463-536.
Dinkelman, Taryn. 2011. “The Effects of Rural Electrification on Employment: New
Evidence from South Africa,” American Economic Review, 101(7): 3078-3108.
Duflo, Esther, Rachel Glennerster and Michael Kremer. 2008. "Using Randomization in
Development Economics Research: A Toolkit," in Handbook of Development Economics,
edited by T.N. Srinivasan and Jere Behrman. Elsevier, Volume 4: 3895-3962.
Duranton, Gilles, Peter Morrow & Matthew A. Turner. 2013. "Roads and Trade: Evidence
from the U.S." Review of Economic Studies, forthcoming.
Duranton, Gilles and Matthew Turner. 2011. “The Fundamental Law of Road Congestion:
Evidence from the US,” American Economic Review, 101(6): 2616-2652.
Duranton, Gilles and Matthew Turner. 2012. “Urban Growth and Transportation,” Review of
Economic Studies, forthcoming.
Ellen, Ingrid, Johanna Lacoe and Claudia Sharygin. 2013. "Do Foreclosures Cause Crime?"
Journal of Urban Economics, 74: 59-70.
Efron, Bradley and Robert Tibishirani. 1994. An Introduction to the Bootstrap, Monograph in
Applied Statistics and Probability, No 57. New York, NY: Chapman & Hall, 1994.
Epple, Dennis and Glenn Platt. 1998. “Equilibrium and Local Redistribution in an Urban
Economy when Households Differ in both Preferences and Incomes,” Journal of Urban
Economics, 43(1): 23-51.
Ferreira, Fernando. 2010. “You Can Take It with You: Proposition 13 Tax Benefits,
Residential Mobility, and Willingness to Pay for Housing Amenities,” Journal of Public
Economics, 94, 661-673.
Ferreira, Fernando and Joseph Gyourko. 2009. “Do Political Parties Matter? Evidence from
U.S. Cities,” Quarterly Journal of Economics, 124(1): 399-422.
Field, Erica. 2007. "Entitled to Work: Urban Property Rights and Labor Supply in Peru,"
Quarterly Journal of Economics, 122(4): 1561-1602.
Figlio, David and Maurice Lucas. 2004. “What’s in a Grade? School Report Cards and the
Housing Market,” American Economic Review, 94(3): 591-605.
Freedman, Matthew. 2014. “Tax Incentives and Housing Investment in Low Income
Neighborhoods,” manuscript.
Frolich, Markus. 2007. “Nonparametric IV Estimation of Local Average Treatment Effects
with Covariates,” Journal of Econometrics, 139(1): 35-75.

Frolich, Markus and Blaise Melly. 2010. “Estimation of quantile treatment effects with Stata,”
The Stata Journal, 10(3): 423-457.
Fu, Shihe and Stephen Ross. 2013. “Wage Premia in Employment Clusters: How Important
Is Worker Heterogeneity?” Journal of Labor Economics, 31(2): 271-304.
Galiani, Sebastian, Paul Gertler, Ryan Cooper, Sebastian Martinez, Adam Ross and
Raimundo Undurraga. 2013. “Shelter from the Storm: Upgrading Housing Infrastructure
in Latin American Slums,” NBER Working Paper 19322.
Galiani, Sebastian, Alvin Murphy and Juan Pantano. 2012. “Estimating Neighborhood
Choice Models: Lessons from a Housing Assistance Experiment,” mauscript.
Gibbons, Charles, Juan Carlos Suarez Serrato and Michael Urbancic. 2013. “Broken or Fixed
Effects?” Working paper.
Gibbons, Steve, Henry Overman and Eleonora Patacchini. 2015. “Spatial Methods,” in
Handbook of Urban and Regional Economics.
Glaeser, Edward, Hedi Kallal, Jose Scheinkman and Andrei Shleifer. 1992. “Growth in
Cities,” Journal of Political Economy, 100: 1126-1152.
Glaeser, Edward and David Maré. 2001. “Cities and Skills,” Journal of Labor Economics,
19(2): 316-342.
Gobillon, Laurent, Thierry Magnac and Harris Selod. 2012. "Do Unemployed Workers
Benefit from Enterprise Zones? The French experience," Journal of Public Economics,
96 (9-10): 881-892.
Gould, Eric, Bruce Weinberg and David Mustard. 2002. “Crime Rates and Local Labor
Market Opportunities in the United States: 1979-1997,” Review of Economics and
Statistics, 84(1): 45-61.
Graddy, Kathryn. 1995. “Testing for Imperfect Competition at the Fulton Fish Market,”
Rand Journal of Economics, 26: 75-92.
Graham, Bryan. 2008. “Identifying Social Interactions Through Conditional Variance
Restrictions,” Econometrica, 76(3): 643-660.
Greenstone, Michael and Justin Gallagher. 2008. "Does Hazardous Waste Matter? Evidence
from the Housing Market and the Superfund Program," Quarterly Journal of Economics,
123(3): 951-1003.
Greenstone, Michael, Richard Hornbeck and Enrico Moretti. 2010. “Identifying
Agglomeration Spillovers: Evidence from Winners and Losers of Large Plant Openings,”
Journal of Political Economy, 118(3): 536-598.
Gronau, Reuben. 1974. “Wage Comparisons. A Selectivity Bias,” Journal of Political
Economy, 82(6): 1119-1143.
Hahn, Jinyong, Petra Todd and Wilbert van der Klaauw. 2001. “Identification and Estimation
of Treatment Effects with a Regression-Discontinuity Design,” Econometrica, 69(1):
201-209.
Ham, John, Charles Swenson, Ayse Imbroglu and Heonjae Song. 2011. "Government
programs can improve local labor markets: Evidence from State Enterprise Zones,
Federal Empowerment Zones and Federal Enterprise Community," Journal of Public
Economics, 95(7-8): 779-797.

Hanson, Andrew. 2009. “Local Employment, Poverty, and Property Value Effects of
Geographically-Targeted Tax Incentives: An Instrumental Variables Approach,”
Regional Science and Urban Economics, 39(6): 721–731.
Hanson, Andrew and Shawn Rohlin. 2011. “The Effect of Location Based Tax Incentives on
Establishment Location and Employment Across Industry Sectors,” Public Finance
Review, 39(2): 195–225
Hastings, Justine, Thomas Kane and Douglas Staiger. 2006. “Gender and Performance:
Evidence from School Assignment by Randomized Lottery,” American Economic
Review, 96(2): 232-236.
Hastings, Justine, Thomas Kane and Douglas Staiger. 2007. “The effect of randomized
school admissions on voter participation,” Journal of Public Economics, 91(5-6): 915937.
Heckman, James. 1979. “Sample Selection Bias as a Specification Error,” Econometrica,
47(1): 153-162.
Heckman, James and Bo Honoré. 1990. “The Empirical Content of The Roy Model,”
Econometrica, 58(5): 1121-1149.
Heckman, James and Edward Vytlacil. 2005. “Structural Equations, Treatment Effects, and
Econometric Policy Evaluation,” Econometrica, 73(3): 669-738.
Heckman, James, Robert Lalonde and Jeffrey Smith. 1999. “The Economics and
Econometrics of Active Labor Market Programs,” in Handbook of Labor Economics,
edited by Orley Ashenfelter and David Card. Elsevier, Volume 3, Part A: 1865-2097.
Heckman, James, Sergio Urzua and Edward Vytlacil. 2006. “Understanding Instrumental
Variables in Models with Essential Heterogeneity,” Review of Economics and Statistics,
88(3): 389-432.
Heckman, James and Salvador Navarro-Lozano. 2004. “Using Matching, Instrumental
Variables, and Control Functions to Estimate Economic Choice Models,” Review of
Economics and Statistics, 86(1): 30-57.
Henderson, Vernon, Ari Kuncoro and Matthew Turner. 1995. “Industrial Development in
Cities,” Journal of Political Economy, 103: 1067-1090.
Holland, Paul. 1986. “Statistics and Causal Inference,” Journal of the American Statistical
Association, 81(396): 945-960.
Holmes, Thomas. 1998. “The Effects of State Policies on the Location of Industry: Evidence
from State Borders,” Journal of Political Economy, 106(4): 667-705.
Holmes, Thomas and Holger Sieg. 2015. “Structural Estimation in Urban Economics” in
Handbook of Urban and Regional Economics
Hoxby, Caroline. 2000. “Does competition among public schools benefit students and
taxpayers?” American Economic Review 90(5): 1209-1238.
Imbens, Guido and Joshua Angrist. 1994. "Identification and Estimation of Local Average
Treatment Effects," Econometrica, 62(2): 467-475.
Imbens, Guido and Thomas Lemieux. 2008. “Regression discontinuity designs: A guide to
practice,” Journal of Econometrics, 142(2): 615-635.
Imbens, Guido and Jeffrey Wooldridge. 2007. "Control Function and Related Methods," in
What’s New In Econometrics? NBER Lecture Note 6.

Jacob, Brian. 2004. “Public Housing, Housing Vouchers and Student Achievement: Evidence
from Public Housing Demolitions in Chicago,” American Economic Review, 94(1): 233258.
Jacob, Brian and Jens Ludwig. 2012. “The Effects of Housing Assistance on Labor Supply:
Evidence from a Voucher Lottery,” American Economic Review, 102(1): 272-304.
Kain, John F. 1992. “The Spatial Mismatch Hypothesis: Three Decades Later,” Housing
Policy Debate, 3(2): 371-462.
Katz, Lawrence F., Jeffrey R. Kling and Jeffrey B. Liebman. 2001. “Moving To Opportunity
In Boston: Early Results of a Randomized Mobility Experiment.” Quarterly Journal of
Economics, 116(2): 607-654.
Kline, Patrick and Enrico Moretti. 2014. “Local Economic Development, Agglomeration
Economies, and the Big Push: 100 Years of Evidence from the Tennessee Valley
Authority,” Quarterly Journal of Economics, forthcoming.
Kline, Patrick. 2011. “Oaxaca-Blinder as a Reweighting Estimator,” American Economic
Review, 101(3): 532-537.
Kling, Jeffrey, Jens Ludwig and Lawrence Katz. 2005. “Neighborhood Effects on Crime for
Female and Male Youth: Evidence from a Randomized Housing Mobility Experiment,”
Quarterly Journal of Economics, 120(1): 87-130.
Kling, Jeffrey, Jeffrey Liebman and Lawrence Katz. 2007. “Experimental Analysis of
Neighborhood Effects,” Econometrica, 75(1): 83-119.
Koenker, Roger and Gilbert Bassett. 1978. “Regression Quantiles,” Econometrica, 46(1): 3350.
Kolesar, Michal, Raj Chetty, John Friedman, Edward Gleaser and Guido Imbens. 2013.
"Identification and Inference with Many Invalid Instruments," manuscript.
Kopczuk, Wojciech and David J. Munroe. 2014. "Mansion tax: The Effect of Transfer Taxes
on the Residential Real Estate Market," American Economic Journal: Economic Policy,
forthcoming.
Kuminoff, Nicolai V, V Kerry Smith and Christopher Timmins. 2013. “The new economics
of equilibrium sorting and policy evaluation using housing markets,” Journal of
Economic Literature, 51(4): 1007-1062.
Lalonde, Robert. 1986. “Evaluating the Econometric Evaluations of Training Programs with
Experimental Data,” American Economic Review, 76(4): 604-620.
Lee, David and Thomas Lemieux. 2010. “Regression Discontinuity Designs in Economics,”
Journal of Economic Literature, 48(2): 281-355.
Levitt, Steven. 1997. Using Electoral Cycles in Police Hiring to Estimate the Effect of Police
on Crime,” American Economic Review, 87(3): 270-290.
Lewis, Ethan. 2011. "Immigration, skill mix, and capital skill complementarity," Quarterly
Journal of Economics, 126(2): 1029-1069.
Lewis, Ethan and Giovanni Peri. 2015. “Immigration and the Economy of Cities and Regions”
in Handbook of Urban and Regional Economics.
Linden, Leigh and Jonah Rockoff. 2008. “Estimates of the Impact of Crime Risk on Property
Values from Megan’s Laws,” American Economic Review, 98(3): 1103-1127.

Ludwig, Jens, Greg J. Duncan, Lisa A. Gennetian, Lawrence F. Katz, Ronald C. Kessler,
Jeffrey R. Kling, and Lisa Sanbonmatsu. 2013. "Long-Term Neighborhood Effects on
Low-Income Families: Evidence from Moving to Opportunity," American Economic
Review, 103(3): 226-31.
Luttmer, Erzo. 2005. “Neighbors as Negatives: Relative Earnings and Well-Being,”
Quarterly Journal of Economics, 130(3): 963-1002.
McCrary, Justin. 2002. “Using Electoral Cycles in Police Hiring to Estimate the Effect of
Police on Crime: Comment,” American Economic Review, 92(4): 1236-1243.
McCrary, Justin. 2008. “Manipulation of the running variable in the regression discontinuity
design: A density test,” Journal of Econometrics, 142(2): 698-714.
McMillen, Daniel and John McDonald. 2002. “Land Values in a Newly Zoned City,” Review
of Economics and Statistics, 84(1): 62-72.
Mian, Atif and Amir Sufi. 2009. “The Consequences of Mortgage Credit Expansion:
Evidence from the U.S. Mortgage Default Crisis,” Quarterly Journal of Economics,
124(4): 1449-1496.
Michaels, Guy. 2008. "The Effect of Trade on the Demand for Skill - Evidence from the
Interstate Highway System," Review of Economics and Statistics, 90(4): 683-701.
Moulton, Brent. 1986. “Random Group Effects and the Precision of Regression Estimates,”
Journal of Econometrics, 32(3): 385-397.
Moulton, Brent. 1990. “An Illustration of a Pitfall in Estimating the Effects of Aggregate
Variables on Micro Units,” Review of Economics and Statistics, 72(2): 334-338.
Neal, Derek. 1997. “The Effects of Catholic Secondary Schooling on Educational
Achievement,” Journal of Labor Economics, 15(1): 98-123.
Notowidigdo. 2013. “The Incidence of Local Labor Demand Shocks,” manuscript.
Oates, Wallace E. 1969. "The Effects of Property Taxes and Local Public Spending on
Property Values: An Empirical Study of Tax Capitalization and the Tiebout
Hypothesis," Journal of Political Economy, 77(6): 957-971.
Oreopolous, Philip. 2003. “The Long-Run Consequences of Living in a Poor Neighborhood,”
Quarterly Journal of Economics, 118(4): 1533-1575.
Oster, Emily. 2013. “Unobservable Selection and Coefficient Stability: Theory and
Validation,” Working Paper.
Pearl, Judea. 2009. “Causal Inference in Statistics: An Overview” Statistics Surveys, 3, 96146.
Pence, Karen M. 2006. “Foreclosing on Opportunity: State Laws and Mortgage Credit,” The
Review of Economics and Statistics, 88(1): 177-182.
Redding, Stephen and Daniel Sturm. 2008. “The Costs of Remoteness: Evidence from
German Division and Reunification,” American Economic Review, 98(5): 1766-1797.
Redding, Stephen and Matthew Turner. 2015. “Transportation Costs and the Spatial
Organization of Economic Activity,” in Handbook of Urban and Regional Economics.
Roback, Jennifer. 1982. "Wages, Rents and the Quality of Life," Journal of Political
Economy, 90: 1257-1278.

Rosen, Sherwin. 1974. “Hedonic Prices and Implicit Markets: Product Differentiation in Pure
Competition,” Journal of Political Economy, 82(1): 34-55.
Rosenbaum, Paul R and Donald B. Rubin. 1983. “The Central Role of the Propensity Score
in Observational Studies for Causal Effects,” Biometrika, 70(1): 41-55.
Rosenthal, Stuart. 2013. “Are Private Markets and Filtering a Viable Source of Low-Income
Housing? Estimates from a "Repeat Income" Model,” American Economic Review,
forthcoming.
Rothstein, Jesse. 2007. “Does Competition Among Public Schools Benefit Students and
Taxpayers? A Comment on Hoxby (2000).” American Economic Review 97(5): 20262037.
Roy, A. D. 1951. “Some thoughts on the distribution of earnings,” Oxford Economic Papers,
New Series, 3(2): 135-146.
Rubin, Donald B. 1974. “Estimating causal effects of treatments in randomized and
nonrandomized studies,” Journal of Educational Psychology, 66(5): 688-701.
Sacerdote, Bruce 2001. "Peer Effects with Random Assignment: Results for Dartmouth
Roommates." Quarterly Journal of Economics, 116.2: 681-704.
Saiz, Albert. 2010. “The Geographic Determinants of Housing Supply,” The Quarterly
Journal of Economics, 125(3): 1253-1296.
Saez, Emmanuel. 2010. “Do Taxpayers Bunch at Kink Points?” American Economic Journal:
Economic Policy, 2(3): 180-212.
Schwartz, Amy Ellen, Ingrid Gould Ellen, Ioan Voicu and Michael Schill. 2006. “The
External Effects of Place-Based Subsidized Housing,” Regional Science and Urban
Economics, 36(6): 679-707.
Stock, James and Motohiro Yogo. 2005. “Testing for weak instruments in linear IV
regression,” In Identification and Inference for Econometric Models: Essays in Honor of
Thomas J. Rothenberg, edited by James Stock and Donald Andrews. Cambridge:
Cambridge University Press, 109-120.
Suarez Serrato, Juan Carlos and Philippe Wingender. 2014. “Estimating Local Fiscal
Multipliers,” manuscript.
Tiebout, Charles. 1956. “A Pure Theory of Local Expenditures,” Journal of Political
Economy, 64(5): 416-424.
Turner, Matthew A., Andrew Haughwout and Wilbert van der Klaauw. 2014. “Land Use
Regulation and Welfare,” Econometrica, forthcoming.
Turner, Nicholas. 2012. “Who benefits from student aid? The economic incidence of tax
based federal student aid,” Economics of Education Review, 31(4): 463-481.
Wooldridge, Jeffrey. 2002. Econometric Analysis of Cross Section and Panel Data.
Cambridge, MA: MIT Press, 2002.
Wooldridge, Jeffrey. 2005. “Inverse probability weighted M-estimators for sample selection,
attrition, and stratification,” Portuguese Economic Journal, 1(2): 117-139.

Table 1: The Empirical Work and Methods Used in the Journal of Urban Economics
Empirical
Year
1980
1990
2000
2010

57%
49%
62%
71%

OLS
87%
79%
64%
77%

IV
10%
17%
32%
46%

As Percentages of Empirical Papers
logit/probit panel data diff in diff
3%
0%
0%
13%
4%
0%
36%
14%
4%
26%
62%
8%

randomiz.
0%
0%
0%
3%

matching
0%
0%
0%
5%

Notes: Source is authors' calculations from all published articles in the Journal of Urban Economics in the indicated year.

Figure 1: TFP of incumbent firms in “Winning” and “Losing” Counties
from Greenstone, Hornbeck & Moretti (2010)

DD

Figure 2: Schematic Diagrams for Matching Estimators
Panel A: Comparing Density of the Data for Treatment and Control Groups
1
T
0

0

Propensity Score P(X)

1

Panel B: Nonparametric Regression Lines
y

E[y|T=1]

region with best identification

E[y|T=0]

0

Propensity Score P(X)

1

Figure 3: Total Spending and Capital outlays per Pupil, by Vote Share, One Year before and
Three Years after Election (Cellini, Ferreira & Rothstein, 2010)

Notes: Graph shows average total expenditures (left panel) and capital outlays (right panel) per pupil, by the vote share in the focal
bond election. Focal elections are grouped into bins two percentage points wide: measures that passed by between 0.001% and 2% are
assigned to the 1 bin; those that failed by similar margins are assigned to the -1 bin. Averages are conditional on year fixed effects, and
the -1 bin is normalized to zero.

