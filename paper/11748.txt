NBER WORKING PAPER SERIES

UNDERSTANDING ORDER FLOW
Martin D. D. Evans
Richard K. Lyons
Working Paper 11748
http://www.nber.org/papers/w11748
NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
November 2005

Corresponding author: Martin Evans. Both authors thank the National Science Foundation for financial
support, including a clearing-house for micro-based research on exchange rates (at
georgetown.edu/faculty/evansm1 and at faculty.haas.berkeley.edu/lyons). The views expressed herein are
those of the author(s) and do not necessarily reflect the views of the National Bureau of Economic Research.
©2005 by Martin D. D. Evans and Richard K. Lyons. All rights reserved. Short sections of text, not to
exceed two paragraphs, may be quoted without explicit permission provided that full credit, including ©
notice, is given to the source.

Understanding Order Flow
Martin D. D. Evans and Richard K. Lyons
NBER Working Paper No. 11748
November 2005
JEL No. F3, F4, G1
ABSTRACT
This paper develops a model for understanding end-user order flow in the FX market. The model
addresses several puzzling findings. First, the estimated price-impact of flow from different end-user
segments is, dollar-for-dollar, quite different. Second, order flow from segments traditionally thought
to be liquidity-motivated actually has power to forecast exchange rates. Third, about one third of
order flow's power to forecast exchange rates one month ahead comes from flow's ability to forecast
future flow, whereas the remaining two-thirds applies to price components unrelated to future flow.
We show that all of these features arise naturally from end-user heterogeneity, in a setting where
order flow provides timely information to market-makers about the state of the macroeconomy.
Martin D. D. Evans
Department of Economics
Georgetown University
Washington, DC 20057
and NBER
evansm1@georgetown.edu
Richard K. Lyons
Haas School of Business
University of California, Berkeley
Berkeley, CA 94720-1900
and NBER
lyons@haas.berkeley.edu

Introduction
This paper addresses order ‡ow heterogeneity and its empirical implications. By order ‡ow heterogeneity, we mean transactions initiated by agents of di¤erent types (e.g., non-…nancial corporations
versus hedge funds versus mutual funds). Recent theoretical work on exchange rates stresses the
analytical importance of heterogeneity across agents, stemming from both dispersed information
and non-informational shocks to asset demands (e.g., Bacchetta and van Wincoop 2003, Hau and
Rey 2002, Dunne, Hau, and Moore 2004, Evans and Lyons 2004a,b). Empirical predictions from
these models are borne out: trades have causal and persistent e¤ects on price, a …nding that runs
counter to textbook exchange rate models (e.g., Evans and Lyons 2002a,b, Payne 2003, among
many others).2 Theory generally assumes, however, that agents are symmetrically heterogeneous;
that is to say, they di¤er, but in the same way. In contrast, trades in the foreign exchange (FX)
market come from categories of agents that are quite di¤erent: they have di¤erent motivations,
di¤erent attitudes toward risk, and di¤erent horizons. Extant theory provides little guidance for
empiricists seeking to exploit transaction data that is disaggregated into segments.3
Several puzzling empirical …ndings suggest that new modeling is needed. First, the price impact of order ‡ow is, dollar–for–dollar, quite di¤erent across end–user segments. This is not what
one would expect to see if agents are symmetrically heterogeneous. Second, order ‡ow from segments traditionally thought to be liquidity–motivated actually has power to forecast exchange rates.
Third, about one third of order ‡ow’s power to forecast exchange rates comes from ‡ow’s ability
to forecast future ‡ow, whereas the remaining two–thirds applies to price components unrelated
to future ‡ow. In this paper, we present a model where all these features arise naturally from
heterogeneity across end–user segments, in a setting where order ‡ow provides timely information
to market-makers about the state of the macroeconomy.
A one-period version of the Kyle (1985) model illustrates why intuition based on standard
microstructure models is an unreliable guide to empirical work using order ‡ow data from di¤erent
end-user (henceforth "customers") segments. In this model, the change in price quoted by a marketmaker (i.e., the change in the log exchange rate st ) depends on the total order ‡ow arriving in the
2

In textbook models, all of which assume that variables relevant to exchange rates are common knowledge (CK),
trades per se have no causal e¤ect on price. Demand shifts have causal e¤ects on price. But because demand shifts
come from public information only, prices adjust before transactions occur, so no causality from trades to price is
present. Put di¤erently, in CK environments demand and order ‡ow are quite di¤erent, whereas in purely non-CK
environments they are the same.
3
Recent research using transaction data from di¤erent segments includes Froot and Ramadorai (2002), Carpenter
and Wang (2003), Mende and Menkho¤ (2003), Bjønnes, Rime, and Solheim (2004), Marsh and O’Rourke (2005),
and Sager and Taylor (2005).

1

market, xt :
st = xt ;
where , the price–impact coe¢ cient, governs the sensitivity of the market–maker’s price quote to
order ‡ow. By assumption, the market-maker cannot distinguish di¤erent order ‡ow components,
but must instead respond to the aggregated total ‡ow xt . Expected order ‡ow in this model is
zero. Even in dynamic versions of the Kyle model, the market-maker expects order ‡ow to be zero
in each period (a property that also applies to standard versions of the other canonical information
model, the Glosten and Milgrom 1985 model). This conditional i.i.d. structure is an analytically
attractive feature of these models.
Now suppose that a researcher has a dataset that breaks total FX customer ‡ow at a given
bank into three segments, say short-term investors (e.g., hedge funds), long-term investors (e.g.,
mutual funds), and international-trade-based (e.g., non-…nancial corporations); xit for i = 1; 2; 3.
The researcher then runs the regression:
st =

1
1 xt

+

2
2 xt

+

3
3 xt

+ t:

With the perspective of the Kyle model, it would be natural to interpret the

(1)

i

coe¢ cients as

price–impact parameters. However, this would be problematic for three reasons: First, the three
regressors are not likely to be independent intratemporally. Indeed, in our data the order ‡ows
from di¤erent segments are signi…cantly correlated. If the xit s are known to covary, and each of
the

’s are non-zero, then no one coe¢ cient summarizes the total price–impact of changes in a

single ‡ow segment. Second, the three regressors are not likely to be independent intertemporally.
In fact, the ‡ow segments in our dataset are signi…cantly auto-correlated. In this context, the
speci…cation in (1) is a reduced-form for potentially complex microeconomic dynamics. As nonstructural estimates, the

’s are not reliable measures of the price–impact of incremental trades.

Third, the speci…cation misses the fact that regressors in equation (1) come from a single bank,
whereas the ‡ows that move the exchange rate are the market-wide ‡ows from all segments. This is
problematic in terms of price–impact parameters: positive correlation between ‡ow segments across
banks means that when the regression omits other-bank ‡ows, the ‡ows from the source bank are
getting too much price–impact credit (a form of omitted variable bias). More fundamentally, the
FX market is not transparent, at least not with respect to customer ‡ows, so that the ‡ows that
drive

st proximately are in fact the interdealer ‡ows. The exchange rate re‡ects the information

in any individual bank’s customer ‡ows only when other dealers learn that information.

2

We present both simulation results and empirical estimates. The simulation results address the
relation in our model between exchange rates and customer order ‡ows. The empirical estimates
are based on roughly six years of customer transaction data from Citibank. Our simulations show
that:
customer ‡ows provide more precise information about fundamentals when the mix of customers is tilted toward longer-horizon participants;
‡ows from customer segments can produce negative coe¢ cients in contemporaneous return
regressions, even when positively correlated with fundamentals; and
customer ‡ows forecast returns because they are correlated with the future market-wide
information ‡ow that dealers use to revise their FX prices.
Based on our empirical analysis we …nd that:
both the aggregate and disaggregated customer ‡ows received by Citibank are positively
auto-correlated;
contemporaneous correlations across ‡ow segments are low at the daily frequency, but high
at the monthly frequency;
some customer segments do produce negative coe¢ cients in contemporaneous return regressions;
the proportion of excess return variation that segment ‡ows explain rises with the horizon;
and
about one-third of order ‡ow’s power to forecast exchange rates one month ahead comes
from ‡ow’s ability to forecast future ‡ow, with the remaining two-thirds applying to price
components unrelated to future ‡ow.
The remainder of the paper is in three sections. Section 1 presents the model. Section 2 describes
our data, and presents our empirical analysis and the model simulations. Section 3 concludes. We
provide technical details on how we solve the model in an appendix.

3

1

Model

The model we develop is based on Evans and Lyons (2004a,b). These papers embed the salient
features of the spot FX market in a general equilibrium setting to study how information concerning the macroeconomy is transmitted to exchange rates via trading. The model we present here
considers this transmission process in greater detail, emphasizing the role of end–user heterogeneity.
Our model focuses on the behavior of two groups of participants in the spot FX market: dealers
and end–user customers. Dealers act as …nancial intermediaries. They quote prices at which they
are willing to trade, and they initiate trade with each other. All non-dealer market participants are
termed customers. This group comprises individuals, …rms, and …nancial institutions such as hedge
and mutual funds. Customers have the opportunity to initiate trade with dealers at the prices they
quote. The resulting pattern of trade de…nes customer order ‡ow. In particular, positive customer
order ‡ow occurs at a given bank when the value of customer orders to purchase foreign currency at
the quoted spot rate exceeds the value of orders to sell. Customer order ‡ow is only observed by the
recipient dealer. Any information contained in customer order ‡ow only becomes known to dealers
across the market as the result of interdealer trading. This information aggregation process was
the focus of earlier models of FX trading (e.g., Evans and Lyons 2002a, and 2004a). In this paper
we focus on how the information contained in customer order ‡ow is related to customer–type. For
this purpose we distinguish between liquidity-motivated traders, short-term investors, and longterm investors. We then examine how di¤erences across customer types a¤ects the information
contained in customer order ‡ow, and how this, in turn, a¤ects the joint dynamics of order ‡ows
and exchange rates.

1.1

Dealers

There are a large number of dealers who act as intermediaries in the spot FX market. As such,
each dealer quotes prices at which he stands ready to buy or sell foreign currency to customers
and other dealers. Dealers also have the opportunity to initiate transactions with other dealers at
the prices they quote. Thus, unlike standard international macro models, the behavior of the spot
exchange rate is determined entirely by the FX prices dealers quote.
In Evans and Lyons (2004a) we derive an expression for the foreign currency prices dealers quote
from their preferences and the trading rules in the market. These rules determine the sequence
of quoting and trading during each period. We are interested in the transmission of information
over periods of a month or more, so we refer to each period as a month. At the start of each
month dealers quote FX prices to customers. Under our trading rules these prices are good for
4

any amount and are publicly observed. Each dealer then receives orders from a distinct subset
of customers. Customer orders are only observed by the recipient dealer and so may represent a
source of private information. Dealers next quote prices in the interdealer market. These prices,
too, are good for any quantity and are publicly observed. Dealers then have the opportunity to
trade among themselves. Interdealer trading is simultaneous and trading with multiple partners is
feasible.
This sequencing of events obviously oversimpli…es actual trading in the market. In reality dealers
quote prices to customers and other dealers, receive orders from customers and other dealers, and
initiate their own trades on an continual basis. Our simpli…ed sequencing allows us to focus on
how information conveyed by customer orders is transmitted among dealers and embedded in spot
rates. In this sense, trading between dealers and customers, and among dealers in our model, are
metaphors for the many rounds of quoting and trading that take place during an actual month.
As in Evans and Lyons (2004a), we allow for greater transparency in interdealer trading than is
present in the actual FX market to compensate for the simpli…ed sequencing.
In our trading environment, optimal quote decisions take a simple form; all dealers quote the
same price for foreign currency to both customers and other dealers. We represent the month-t
quote as
st = (1

b)Edt

1
X

bi ft+i ;

(2)

i=0

where 1 > b > 0: st is the log price of foreign currency quoted by all dealers, and ft denotes
exchange rate fundamentals. While equation (2) takes the present value form familiar from standard
international macro models, here it represents how dealers quote the price for foreign currency in
equilibrium. In the market setting we consider, all dealers choose to quote the same price because
doing otherwise opens them up to arbitrage, a costly proposition. Consequently, the month-t quote
must be a function of information known to all dealers. We incorporate this requirement in (2) with
the expectations operator Edt ; that denotes expectations conditioned on information common to all
dealers at the start of month t,

d.
t

This is not to say that all dealers have the same information. Far

from it. The customer order ‡ows received by individual dealers represent an important source of
private information, so there is likely to be a good deal of information heterogeneity across dealers
at any one time. Equation (2) implies that dealer quotes only re‡ect that part of fundamental
information that is common to all dealers.
The de…nition of fundamentals in equation (2) depends on the macroeconomic structure of the
model. For example, ft may include home and foreign money supplies and household consumption,

5

as in Evans and Lyons (2004b), or “output gaps” and in‡ation rates as in Engel and West (2005).
For our purpose here we need not take a stand on the composition of fundamentals. It su¢ ces that
all dealers agree on the elements of ft ; and its equilibrium process. For simplicity, we assume that
this process is a random walk:
ft = ft
where ut

i:d:d:N (0;

2)
u

and vt

i:d:d:N (0;

1

+ ut + vt ;
2 ).
v

(3)

Innovations to fundamentals come from two

sources. ut shocks are immediately observed by all dealers and customers (i.e., ut is publicly
observed at the start of month t): These shocks represent public news that has an immediate and
known consequence for fundamentals. The vt shocks to fundamentals are not immediately observed.
Individual dealers and customers may have some information on vt as it occurs, but the information
is imprecise and private. This information may come from private research, in the case of hedge
or mutual funds, or from orders for goods and services in case of individual …rms (i.e., in the form
of micro information). Over time, information on vt is collected and aggregated by government
agencies.
The distinction between the ut and vt shocks plays an important role in our model. The month–
t spot exchange rate is determined by the foreign currency price that all dealers quote at the start
of month t: This price can incorporate information contained in the ut shock because it is observed
by all dealers and has a known consequence for fundamentals. By contrast, vt shocks will not a¤ect
the month t spot rate because they are not known to all dealers. Our focus is on how information
concerning the vt shocks becomes known to dealers, and how this information is re‡ected in the
dynamics of spot rates.
Dealers learn about the vt shocks from two sources. The …rst is via the scheduled macroeconomic
announcements made by government agencies. These announcements provide information about
past values of vt because it takes time for the agencies to compile and aggregate the information.
We shall assume that macro announcements at the start of month t reveal the true value of vt
This means that the true state of fundamentals in month t

2; ft

2;

2:

is common knowledge after

the month t announcement. The second source of information to dealers comes from order ‡ow.
Recall that customer order ‡ow is a source of private information to dealers. In general, customer
order ‡ows will not be perfectly correlated across dealers because customers have heterogenous
reasons for trading. Consequently, information contained in individual customer order ‡ows only
becomes known to all dealers if and when it is re‡ected in interdealer trading. The process by
which private information from customer order ‡ows becomes common knowledge to all dealers is
analyzed in detail in Evans and Lyons (2004a). Here we make a reduced-form assumption about
6

this information aggregation process. In particular, we assume it takes a month of interdealer
trading before all dealers know the aggregate of customer orders hitting the market. Let xt denote
aggregate customer order ‡ow from month t trading (i.e., xt is the sum of the signed customer
orders placed with individual dealers at the start of month t). We assume that interdealer trading
in month–t is su¢ ciently informative to reveal the value of xt to all dealers by the start of month
t + 1: Interdealer trading does not reveal the constituent components of xt .
In summary, the information available to all dealers at the start of each month is given by:
d
t+1

= fut+1 ; vt

1 ; xt g

[

d
t:

(4)

Since the spot exchange rate in month t is simply the FX price quoted by all dealers given common
information

1.2

d;
t

the evolution of

d
t

shown here plays a key role in driving exchange rates.

Customers

The customer orders received by actual foreign exchange dealers come from a variety of sources:
individuals, non-…nancial …rms, and …nancial …rms such as pension funds, mutual funds and hedge
funds. We will not attempt to model each separately. Instead, we note that the customer pool comprises heterogeneous agents with di¤erent preferences. We represent this heterogeneity by splitting
the customer pool into three groups: short-term investors, long-term investors, and internationaltrade-based agents.
Both short– and long-term investors choose to allocate their wealth between domestic and
foreign bonds based on their private forecasts of returns. In particular, we assume that there is
a continuum of short-term investors on the unit interval indexed by i. The desired foreign bond
position for investor i is given by
asi;t =
where

s

s

Ei;t [st+1

st ] ;

(5)

> 0 and Ei;t denotes expectations conditioned on short-term investor i’s information at

the start of month t;
equal so st+1

s :
i;t

For simplicity we assume that domestic and foreign interest rates are

st represents the excess return on foreign bond holdings. Of course, if investors

held equities or other risky assets in addition, returns on these assets would also a¤ect their desired
s

portfolio position. Again we ignore this possibility for the sake of clarity. The

parameter

measures the sensitivity of the investor’s portfolio choice to expected returns. Greater risk aversion
and/or uncertainty concerning future returns is represented by a smaller value for
7

s:

Long-term investors have a two– rather than one–month horizon. In equilibrium, it takes two
months before shocks to fundamentals are fully and permanently re‡ected in the spot rate. A twomonth horizon is therefore su¢ cient to represent the preferences of far-sighted investors. Again,
there is a continuum of these investors on the unit interval. The desired foreign bond position of
long-term investor j is given by
alj;t =
where

l

l

Ej;t [st+2

st ] ;

> 0 and Ej;t denotes expectations conditioned on

l :
j;t

(6)
As above, we ignore the possibility

that long-term investors could hold other assets. The portfolio position of long-term investors may
be more or less sensitive to variations in expected returns depending of the value of

l:

Changes in the desired portfolio positions drive the customer order ‡ows from both short–and
long–term investors. In particular, the customer order ‡ows from each group in month t are given
by
xst
xlt

=

Z

1

0

=

Z

0

1

asi;t

asi;t

1

di;

(7a)

alj;t

alj;t

1

dj:

(7b)

Notice that both order ‡ows aggregate the expectations of individual investors concerning the future
path of the exchange rate. As such, they aggregate the private information that individuals use in
forming these expectations. We assume that this private information comes in the form of signals
concerning vt : In particular, at the start of month t; each short–term investor i and long–term
investor j receives a noisy signal concerning the value of vt ; v~i;t and v~j;t , where

The idiosyncratic noise terms,
and variances equal to

2;

and

v~i;t = vt +

i;t ;

(8a)

v~j;t = vt +

j;t :

(8b)

i;t and j;t ;
R1
0 i;t di =

are i.i.d. normally distributed shocks with zero means
R1
0 j;t dj = 0: Unlike dealers, investors do not observe

order ‡ows. Rather they observe spot rates, public news, macro announcements and private signals.
The information used in their portfolio decisions is therefore characterized by:
s
i;t+1

= fut+1 ; vt

~i;t+1 g
1 ; st+1 ; v

[

s
i;t ;

(9a)

l
j;t+1

= fut+1 ; vt

~j;t+1 g
1 ; st+1 ; v

[

l
j;t :

(9b)

8

The third component of order ‡ow comes from the agents engaged in international trade in
goods and services. We do not model this source of order ‡ow in any detail but rather assume a
speci…cation with two key features.4 First, order ‡ows from this source are persistent, and second
they are correlated with exchange rate fundamentals. Speci…cally, we assume that the order ‡ow
associated with real trade, hereafter trade-based order ‡ow, xtt ; follows an AR(1) process:
xtt = xtt
with j j < 1; where "t

i:i:d:N (0;

2 ):
"

1

+ vt + "t ;

When

(10)

is non–zero, changes in real economic activity

that a¤ect exchange rate fundamentals also a¤ect the demand for foreign currency by trade-based
agents, which in turn shows up order ‡ow. Our speci…cation also includes a liquidity shock "t , a
component of trade-based order ‡ow unrelated to changing fundamentals.
Equations (7) and (10) describe the three components that comprise aggregate customer order
‡ow during month t :
xt = xst + xlt + xtt :

(11)

A key assumption in our model is that interdealer trading allows all dealers to learn the value of
xt by the end of month t trading, but not the constituent components, xst ; xlt and xtt

1.3

Solving the Model

An equilibrium in our model comprises: (i) a process for spot rates consistent with the quote
equation (2) given the equilibrium evolution of common dealer information

d
t

in (4), and (ii) a

process for aggregate customer order ‡ow in (11) consistent with investor expectations. Finding
these processes is complicated by the fact that the information conveyed to dealers by order ‡ow
is itself a function of how investors use their private information in forecasting the future exchange
rate.
We solve the model by the “conjecture and veri…cation”method. Speci…cally, we …rst conjecture
the form for equilibrium quotes consistent with (2) and an assumption about the form of

d:
t

Next,

we compute the components of customer order ‡ow consistent with the exchange rate process
implied by these conjectures. This provides us with an expression for aggregate customer order ‡ow,
xt . Finally, we verify that our initial conjecture concerning dealer information, (i.e., the evolution
d)
t

of

can be supported by an inference problem based on public news, macro announcements and

the process for xt :
4

See Osler (1998) for a model in which the currency demands of exporters and importers are explicitly considered.

9

We start with the process for the exchange rate. Our speci…cation for the fundamentals process
in (3) implies that the quote equation in (2) simpli…es to st = Edt ft : Thus, the log price of FX quoted
by all dealers is simply their estimate of current fundamentals based on common information. This
implies that the equilibrium depreciation rate can be written as

st+1 = Edt+1 ft+1

Edt ft : Now

equation (3) also implies that Edt ft+1 = Edt ft ; so combining these expressions gives:
st+1 = (Edt+1

Edt )ft+1 :

(12)

Thus, the equilibrium depreciation rate between t and t + 1 is solely determined by the ‡ow of
new information to all dealers concerning the state of fundamentals in t + 1: We term this, the
market-wide information ‡ow. On important implication of (12) is that the depreciation rate must
d:
t

be uncorrelated with any elements in

This rules out serial correlation in

st , among other

things.
The next step is to break down the market-wide information ‡ow into its component parts.
For this purpose, we apply the expectations operators Edt+1 and Edt to the identity ft+1 = ft
ut+1 + ut + ut

1

+ (vt+1 + vt + vt

st+1 = (Edt+1

Edt )ft

= ut+1 + (Edt+1

2

1 ):

2+

This gives

+ (Edt+1

Edt )vt + (vt

Edt ) (ut+1 + ut + ut
Edt vt

1

1)

+ (Edt+1

Edt )(vt+1 + vt + vt

1 ):

1 );

(13)

The simpli…cations in the last line follow from three important aspects of the model. First, public
news and macro announcements make the true state of fundamentals common knowledge with a
two month delay. This means that Edt+1 ft

2

= Edt ft

2

= ft

are by de…nition common knowledge and unanticipated so

2:

Second, the public news shocks, ut ;

(Edt+1

Edt ) (ut + ut

1)

= 0; Edt ut+1 = 0;

and Edt+1 ut+1 = ut+1 : Third, dealer estimates of the vt shocks combine their priors with their
observations of order ‡ow and macro announcements. At the start of month t; dealers know the
order ‡ows from earlier trading months (i.e., xt
(i.e., vt

2 ; vt 3 ; :::).

1 ; xt 2 ; :::);

and the history of macro announcements

These sources are uninformative about the value of vt or vt+1 because customers

were unaware of these shocks when making their trading decisions in month t
a consequence, Edt+1 vt+1 = Edt vt+1 = 0; and Edt+1 vt

1

= vt

1 and earlier. As

1:

Equation (13) is helpful for understanding the joint dynamics of exchange rates and order ‡ow.
The equation provides a decomposition of the new information dealers use in revising the FX prices
they quote between t and t + 1: As one would expect, the public news component, ut+1 , has an
immediate impact on the depreciation rate because it leads all dealers to revise their estimate
10

of fundamentals, ft+1 : The other two components of the information ‡ow come from revisions in
dealer estimates of vt and vt
on the value of vt
xt : The (Edt+1

1

1:

These revisions come from two sources: the macro announcement

made at the start of t + 1; and the customer order ‡ow from month t trading,

Edt )vt component identi…es what dealers learn about vt before it becomes known

publicly via the macro announcement in t + 2: The last component, vt

1

Edt vt

1;

identi…es the

new information in the macro announcement made at the start of t + 1: The relative importance
of these last two components depends on the information content of customer order ‡ow.
The information in order ‡ow depends on the actions of customers. In particular, investor
order ‡ows, xst and xlt ; will only contain information on vt if investors …nd it useful to use their
private information on vt to forecast returns. To analyze the information content in customer order
‡ow we must therefore examine how investors allocate their portfolios. For this purpose, we need a
conjecture for the equilibrium depreciation process. This conjectured process needs to be consistent
with (13) and so relies on an assumption about dealer expectations which must also be veri…ed. We
conjecture (and verify below) that the equilibrium process for the depreciation rate can be written
as
st+1 = ut+1 + vt + (1
where

and

)vt

1

+ "t

"t

1;

(14)

are parameters that need to be determined.

Recall that both short– and long–term investors receive a private signal concerning the value
of vt at the start of month t: These signals are described in equation (8). This speci…cation
implies that for short-term investor i; Ei;t vt = v~i;t ; and long-term investor j; Ej;t vt = v~j;t where
2 =( 2 + 2 ):
v
v

v~i;t

1

Investor expectations concerning the value of vt

and Ej;t vt = v~j;t

1:

1

are similarly given by Ei;t vt

1

=

It might seem strange that these estimates incorporate no information

from month t variables. However, recall from equation (12) that the depreciation rate depends on
the new information received during month t by all dealers: Thus, variables known to dealers are the
start of t will be of no use to investors in forecasting

st+1 : This leaves investors’month t signals,

v~i;t and v~j;t ; but these variables are uncorrelated with vt
best estimate of vt

1

1;

so the month t

1 estimate remains the

for each investor in month t: Investor expectations concerning the "t shocks

are more straightforward. Only dealers observe customer order ‡ow, so individual investors have no
information on the values of "t and "t

1

at the start of month t:5 Investor expectations concerning

5
Investors eventually learn the values of "t using the information in news, macro announcements and the history
of exchange rates.

11

the rate of depreciation can therefore be computed from (14) as:
Ei;t [st+1

st ] =

Ej;t [st+2

st ] =

v~i;t + (1

) v~i;t

v~j;t + (1

) v~j;t

1;
1:

Using these expressions to identify investor expectations in (5) and (6), and combining the results
with (7) and (8), gives us the following expressions for the investor components of customer order
‡ow:
xst =

s

( vt + (1

xlt =

l

(vt

vt

2 )vt
1

(1

1

(1

)vt

)vt

2) ;

(15)

2) :

(16)

Notice that in aggregate the investor order ‡ows provide information on vt and vt

1

even though

the value of these shocks is not known to individual investors. Aggregation of the order ‡ows
eliminates the idiosyncratic component of investors’private information so that dealers can make
more precise inferences about vt and vt

1

using aggregate order ‡ow than would be possible from

the currency orders of individual customers. Equations (15) and (16) also show the investor order
‡ows are related to fundamentals even though investors are not concerned with the behavior of
fundamentals per se. Investors care about returns which are in turn determined by how dealers
change their FX quotes. They only use their information on vt insofar as it helps them predict
dealer quotes. If investor behavior makes customer order ‡ow more informative to dealers about
the behavior of fundamentals, it will only be because investors found it in their best interest to use
their private information on vt in managing their portfolios.
All that now remains is to verify that equation (14) is consistent with equation (13) given dealer
inferences regarding vt and vt
customer order ‡ow, xt =

xst

1

based on macro announcements and their observations of aggregate

+ xlt + xtt ; where xst ; xlt and xtt follow (10), (15) and (16). This is a

relatively complex problem, so we relegate the technical details to the Appendix.

1.4

Customer Characteristics and Order Flow

We now turn to the properties of the equilibrium. Equation (14) shows that the equilibrium
depreciation rate

st+1 is driven by three factors: public news ut+1 ; fundamental news vt ; and

liquidity shocks, "t :
st+1 = ut+1 + vt + (1

12

)vt

1

+ "t

"t

1:

(14)

The

parameter measures the equilibrium in‡uence of liquidity shocks on the depreciation rate.

Recall that liquidity shocks are uncorrelated with actual fundamentals, ft ; so if dealers observed ft
contemporaneously (i.e., Edt ft = ft ), their FX quotes would not depend on liquidity shocks. Dealers
can use order ‡ow, xt ; to revise their estimates of ft+1 between the start of months t and t + 1;
and these revisions drive spot rates (see equation 12). So any shock that contributes to unexpected
aggregate order ‡ow, xt

Edt xt ; will a¤ect

st+1 provided order ‡ow contains some information

on the behavior of fundamentals that cannot be learnt from other sources. In sum, therefore,
will be non-zero in any equilibrium where dealers …nd customer order ‡ow informative about
fundamentals. Note, however, that even in these cases, the e¤ect of a liquidity shock on the price
of FX is short-lived. Equation (14) implies that the e¤ect of a "t shock increases dealer quotes for
the log price of FX by "t in month t + 1; and lowers their quotes by "t in month t + 2. Intuitively,
by the start of month t + 2; all dealers can infer the exact value of "t from macro announcements
and their observations on order ‡ow. They can therefore re…ne their earlier inferences regarding
fundamentals based on xt :
The

parameter indicates the speed with which dealers learn about fundamentals from order

‡ow. In the extreme case where order ‡ow is completely uninformative, macro announcements
would be the only source of information on vt : In this case

would equal zero, and vt shocks would

impact dealer quotes with a two month lag, which is the reporting lag for macro announcements.
At the other extreme, if observations on xt allowed dealers to estimate the value of vt with complete
precision by the start of month t + 1;

would equal one. Under these circumstances, the month

t + 1 announcement concerning the value of vt
dealers were concerned, so the value of vt

1

1

would be informationally redundant as far as

would not a¤ect the change in their FX quotes,

st+1 :

We can now turn to the focus of our analysis; namely, the question of how the information
content of order ‡ow is related to the characteristics of customers. In our model, the characteristics
of customer order ‡ow depend on the investors’ sensitivities,

s

and

l;

the precision of private

information, ; and the correlation between fundamentals and trade-based order ‡ow, governed by
: Ideally, we would like to study the analytical dependence of

and

on these parameters, but

the complexity of the model makes this impossible. We therefore base our analysis on calibrated
solutions to the model.
Figure 1 plots the equilibrium values of
from solutions to the model where

2
v

= 2;

and
2
u

for di¤erent values of

= 0:01;

6

2
"

= 10;

s

= 0:3 and

and

l

computed

= 1:6 We have

The parameters s ; l and are not separately identi…ed because they only appear in the order ‡ow equations as
and l : For simplicity, we normalize to one so that we can disscuss the results in terms of s and l : Of couse,
increasing (decreasing) the precision of the private signals increases (decreases) ; and so is analytically equilivant to
s

13

examined the equilibrium values of

and

based on many other calibrations and found that

the basic characteristics displayed in Figure 1 are robust. We will therefore use these values as a
baseline parameterization in much of the numerical analysis of the model below. As we shall see,
their use enables the model to replicate many important features of the data.
Figure 1A:

Notes: Equilibrium values for and
l
): The solid lines represent the case
and dot-dashed lines the case where
2
2
= 0:3; and =
u = 0:01; " = 10;

Figure 1B:

graphed as functions of the investor sensitivity parameters = ( s ;
where = s = l ; dashed lines the case where = s and l = 0;
= l and s = 0: The other parameters in the model are 2v = 2;
= 1:

Two features stand out from the plots in Figure 1. First, the equilibrium values of
s

relatively insensitive to the di¤erent values for

and

l;

the values for

are

range between 0.13 and

0.23. Second, the greater the sensitivity of investors to expected returns, the faster is the speed
with which dealers learn about fundamentals from order ‡ow (i.e.,

is increasing in

To understand the economics behind these results, we …rst note that

=

s

and

l ).

= 0:17 when

customer order ‡ow is driven solely by trade-based agents. In this equilibrium, order ‡ow, xt ; is
not particularly informative about fundamentals because it does not incorporate any of the private
information on vt available to investors. Consequently, most of the impact of vt shocks on spot
rates is delayed for two months until it is fully revealed by macro announcements. The equilibrium
value of

rises with increases in both

s

and

l

because aggregate order ‡ow now contains private

information from investors on the values of vt : Importantly, order ‡ow is more informative to dealers
in these equilibria because investors have a greater incentive to act on their private information.
Investors recognize that dealers place greater weight on order ‡ow when revising their FX quotes,
raising (lowering)

s

and

l

:

14

and use their private information on vt to forecast these revisions. At the same time, their own
portfolio choices are more sensitive to private information, with the result that in aggregate, order
‡ow provides a more precise signal to dealers concerning vt :
Figure 1 also shows how

and

are related to the degree of forward–looking behavior driving

order ‡ow. The dashed and dashed-dot plots show the equilibrium values of
investors are either all short–term (i.e.,

l

= 0) or long–term (i.e.,

s

and

for cases where

= 0). Here we see that order

‡ow is more informative when only long-term investors contribute to order ‡ow. The reason is that
private information has a larger impact on investor expectations concerning two-month returns
than one-month returns (i.e., @Ej;t [st+2

st ] =@~
vj;t =

and @Ej;t [st+1

st ] =@~
vj;t =

<

).

Consequently, the order ‡ows generated by long-term investors will be more sensitive to vt shocks
than the ‡ows from short-term investors (see equations 15 and 16).
To summarize, our model shows how the mix of customer-types a¤ects the information content
of order ‡ow. In particular, we have demonstrated that customer order ‡ows provide more precise
and timely information concerning fundamentals to dealers when the pool of customers is more
forward-looking and willing to react to private information.

2
2.1

Empirical Analysis
Data

Our empirical analysis utilizes a dataset that comprises customer order ‡ows, spot rates and interest rates over approximately six years. The order ‡ows come from the customer orders received
by Citibank in the USD/EUR market from April 1993 to June 1999.7 . Citibank’s share of customer orders in the USD/EUR market at that time was in the 10-15 percent range, no other bank
had a larger market share in these currencies. The customer orders are aggregated at the daily
frequency and measure in $m the imbalance between customer orders to purchase and sell euros.
Days “begin”at 00:00 GMT and any trades executed with customers over a weekend –a relatively
rare event –are included in Monday’s order ‡ows. Thus a trading week comprises …ve days. Daily
order ‡ows are split into three categories: non-…nancial corporations –henceforth “Corporations”,
unleveraged …nancial institutions (e.g., mutual funds)— henceforth “Investors”, and leveraged …nancial institutions (e.g., hedge funds)— henceforth “Hedge”. We also distinguish between trades
executed with Citibank in the US, and those elsewhere within Citibank’s global trading operation
7
Before January 1999, data for the euro are synthesized from data in the underlying markets against the dollar,
using weights of the underlying currencies in the euro.

15

(referred to as “Non-US”). Thus, our customer order ‡ows are partitioned into six non-overlapping
segments corresponding to three participant types and two trade locations. We take the day d spot
rate as the o¤er rate (USD/EUR) quoted by Citibank at the end of trading (approximately 17:00
GMT) on day d

1: Excess returns are computed from these quotes using Euro deposit rates of

the appropriate maturity from Datastream.
Table 1 presents descriptive statistics on depreciation rates and the customer order ‡ows. Since
overnight interest rates are approximately equal in our sample, the daily depreciation rate behaves
very similarly to excess returns, and neither displays any signi…cant serial correlation. By contrast, both the aggregate and disaggregated customer order ‡ows received by Citibank are serially
correlated. The estimated autocorrelation coe¢ cients are quite small, but many are positive and
highly statistically signi…cant. These statistical patterns are repeated at the weekly and monthly
frequency: Depreciation rates and excess returns are serially uncorrelated while some of the order
‡ow segments display a small but signi…cant degree of autocorrelation. (We do not report these
lower frequency results to conserve space.) Our theoretical model is consistent with these features of
the data. The depreciation rate is serially uncorrelated by construction, as we noted above. Aggregate customer order ‡ow is slightly positively autocorrelated under our baseline parameterization
with

s

=

l

= 1 : The …rst order autocorrelation in xt is equal to 0.05.

The lower portion of Table 1 reports the contemporaneous order ‡ow correlations at the daily
and monthly frequency. At the daily frequency, the correlations between the ‡ow segments are quite
small, but at the monthly frequency they range from approximately -0.95 to 0.95. This di¤erence
in the correlation structure is important for understanding the results presented below.

2.2

Customer Orders and Returns

We begin our empirical analysis of the relationship between exchange rates and customer order ‡ows
in Table 2. Here we report the results of regressing excess returns on Citibank’s customer ‡ows at the
one day, one week and one month horizon. Excess returns are computed as erd+h

sd+h

sd + rihd

where sd is the log of the quote at the start of day d; and rihd is the interest di¤erential on day d
for h day deposits. Order ‡ows for each segment are aggregated from day d to day d + h

1: Thus

the order ‡ows cover the same period as the revision in dealer quotes determining excess returns.
The results in Table 2 contain several noteworthy features. First, the coe¢ cients on the order
‡ow segments are quite di¤erent from each other. Some are positive, some are negative, some
are highly statistically signi…cant, others are not. Second, while the coe¢ cients on order ‡ow are
jointly signi…cant in every regression we consider, the proportion of the variation in excess returns

16

Table 1: Sample Statistics

mean

std

skew

kurt.

Depreciation Rate
s

-0.009

0.544

0.149

4.691

-0.022
(0.448)

0.003
(0.918)

-0.011
(0.658)

Order Flows
Corporate
US: xc

-3.424

45.555

-1.650

19.692

Non-US: x
^c

-11.879

81.666

0.573

11.440

0.075
(0.018)
0.033
(0.192)

0.053
(0.060)
0.045
(0.091)

-0.035
(0.255)
0.028
(0.286)

Hedge
US: xh

-0.783

138.745

0.502

15.426

Non-US: x
^h

2.257

82.462

0.400

7.598

0.114
(0.003)
-0.025
(0.506)

0.046
(0.076)
-0.023
(0.397)

0.001
(0.967)
-0.029
(0.212)

Investors
US: xi

3.821

59.977

-1.946

33.632

Non-US: x
^i

3.170

112.391

2.472

40.441

0.063
(0.048)
0.068
(0.003)

0.023
(0.437)
0.038
(0.070)

0.031
(0.188)
0.027
(0.175)

Aggregate
x

-4.940

226.073

0.677

9.418

0.098
(0.001)

0.059
(0.016)

0.026
(0.310)

xc

x
^c

xh

x
^h

xi

x
^i

x

0.960

0.370
0.261

-0.948
-0.943
-0.323

-0.923
-0.951
-0.056
0.889

-0.620
-0.645
-0.483
0.578
0.467

0.781
0.748
0.549
-0.713
-0.682
-0.257

Correlations
DailynMonthly
xc
x
^c
xh
x
^h
xi
x
^i
x

0.020
0.033
-0.014
-0.031
-0.013
0.209

-0.048
-0.038
0.014
-0.022
0.319

-0.012
-0.063
0.038
0.601

0.021
-0.011
0.339

1

0.067
0.265

2

3

0.521

Notes: The depreciation rate, s, are calculated as the daily change in the natural log of
the spot price (USD/EUR) x 100. Order ‡ows are daily aggregates for the euro in $m.
The statistics reported below i are the sample autocorrelations at lag i. P-values for the
null hypothesis of no autocorrelation are reported in parenthesis. The lower panel reports
correlations between the order ‡ows at the daily frequency below the leading diagonal and
at the monthly frequency above the leading diagonal. The sample spans the period 4/01/93
–6/30/99, and includes observations on 1682 trading days.

17

Table 2: Contemporaneous Return Regressions

Horizon
1 day

Corporate
US
Non US
-0.155
(0.113)

Hedge
US
Non US

-0.240
(0.067)

1 week

-0.214
(0.064)
-0.469
(0.083)

0.153
(0.054)

1 month

-0.358
(0.077)
-0.594
(0.126)

0.275
(0.064)

-0.376
(0.102)

0.194
(0.056)

0.024
-0.047
(0.120)
-0.029
(0.121)

0.369
(0.060)
0.353
(0.059)

0.044
0.078

0.114
(0.096)

0.069
(0.090)

0.077
-0.005
(0.154)
-0.051
(0.143)

0.523
(0.086)
0.447
(0.080)

0.105
0.195
0.129

0.389
(0.135)

0.120
(0.185)

0.204
(0.060)

0.061
0.349
(0.069)

-0.167
(0.133)
0.065
(0.266)

R2
0.015

0.174
(0.055)

-0.147
(0.107)
-0.118
(0.138)

Investors
US
Non US

0.214
(0.137)

0.166
(0.225)

-0.074
(0.196)

0.103
-0.091
(0.215)
0.000
(0.208)

0.719
(0.119)
0.583
(0.130)

0.205
0.299

2

15.133
(0.001)
21.791
(<0.001)
38.261
(<0.001)
75.465
(<0.001)
32.07
(<0.001)
27.965
(<0.001)
37.728
(<0.001)
111.527
(<0.001)
22.434
(<0.001)
8.75
(0.013)
34.636
(<0.001)
58.424
(<0.001)

Notes: The table reports OLS estimates of the coe¢ cients in the regression of excess returns,
erd+h ; on the customer order ‡ow segments that aggregate net orders for the euro in $m
on days d to d + h 1: Estimates are computed at the daily frequency, with h = 5 and
20 for the 1-week and 1-month horizon regressions. The table reports asymptotic standard
errors corrected for heteroskedasticity in parentheses. For the 1-week and 1-month results,
standard errors are also corrected for the induced MA(h-1) process in from overlapping
observations. The right hand column reports Wald tests and p-values for the null that all
the coe¢ cients on the order ‡ows are zero.

18

that they account for rises with the horizon. For example, using all six order ‡ow segments, the
R2 statistics rise from 8 percent at one day, to 30 percent at the one month horizon. Third, the
explanatory power of the order ‡ows shown here is much less than that reported for interdealer
order ‡ows. Evans and Lyons (2002a), for example, report that interdealer order ‡ow accounts for
approximately 60 percent of the variations in the $/DM at the daily frequency.
These …ndings appear puzzling when judged against the perspective of a standard marketmaking model, like Kyle (1985). In particular, the negative coe¢ cients in Table 2 seem to indicate,
rather counter–intuitively, that market-makers view orders to purchase the euro from some customers as an indicator that the euro is overvalued. Similarly, it is hard to understand why orders
from some customers appear to carry information at one frequency but not at others. Remember
that there is no serial correlation in returns, so quote revisions at the monthly frequency are just
the sum of daily revisions.
Our model provides the key to understanding the results in Table 2. Recall from the model that
the depreciation rate re‡ects the revision in dealer quotes driven by new information concerning
fundamentals. This information arrives in the form of public news, macro announcements and
interdealer order ‡ow, but not the customer order ‡ows of individual dealers such as Citibank:
Any information concerning fundamentals contained in the customer ‡ows received by individual
banks a¤ects the FX price quoted by dealers only once it is inferred from the interdealer order ‡ows
observed by all dealers. This distinction between individual customer order ‡ows and aggregate
interdealer order ‡ow is crucial to understanding the results in Table 2.
Our model simulations are useful in quantify this distinction. Speci…cally, we …rst solve the
model for our baseline parameterization with
of

and

s

=

l

to simulate data on the depreciation rate,

= 1: We then use the equilibrium values
st+1 ; aggregate order ‡ow, xt ; and its

components, xtt ; xst and xlt for a sample spanning 10,000 months. Table 3 reports the results from
regressing the depreciation rate on the customer order ‡ows in this simulated data.
Rows (i) –(iii) of Table 3 show that the revision in dealer quotes between the start of months
t and t + 1 is positively correlated with the individual components of customer order ‡ow. Notice
that none of these individual ‡ows accounts for more that one third of the variation in quotes.
This is not due to the presence of public news shocks, they account for less than one percent of
the variance in

st+1 in our simulations.8 Rather, the low R2 statistics indicate that none of the

8

This implication of our simulations is consistent with empirical evidence on the exchange rate e¤ects of macro
news. For example, while Andersen et al. (2003) …nd that news items can account for a signi…cant proportion of
the variation in exchange rates in the …ve-minutes following their release, their results also imply that news items
account for less than 5 percent of exchange rate variations over their full sample. For further discussion, see Evans

19

Table 3: Simulated Return Regressions

xtt
(i)

xst

xlt

0.225
(0.075)

(ii)

0.329
0.506
(0.013)

(iii)

0.138
0.220
(0.008)

(iv)
(v)

0.075
0.160
(0.002)

0.203
(0.003)

R2

xt

1.073
(0.028)

-0.479
(0.017)

0.333
0.426

Notes: The table reports OLS estimates of the coe¢ cients in regressions of
the depreciation rate, st+1 ; on aggregate order ‡ow, xt ; trade-based order
‡ow, xtt ; and the order ‡ows from short–and long–term investors, xst and xlt :
The regressions are estimated with 10,000 months of simulated data computed from the solution of our model using the baseline parameterization
with s = l = 1: OLS standard errors are reported in parenthesis.

order ‡ow components is strongly correlated with the ‡ow of information dealers use to revised
their quotes. Of course dealers in our model are assumed to observe aggregate customer order ‡ow,
xt ; rather than its components, but in row (iv) we see that xt accounts for only one third of the
variation in quotes. Individual order ‡ows are not strongly correlated with the ‡ow of information
dealers use to revise quotes.
In row (v) we report the results from regressing the depreciation rate on all three components
of customer order ‡ow. Here we see two important implications of the model. First, the coe¢ cients
on the order ‡ow components are quite di¤erent from each other. The coe¢ cients on the shortterm component, xst ; is twice the size of the estimate from the univariate regression in row (ii),
and the coe¢ cient on the long-term component, xlt ; falls from the univariate estimate of 0.22 to
-0.48. Thus, the model can produce heterogeneity of the kind observed in the coe¢ cient estimates
on Citibank’s customer order ‡ows. The second implication concerns the R2 statistic of 0.43. The
individual components of customer order ‡ow in our model account for almost 30 percent more of
the variation in dealer quotes than aggregate customer order ‡ow alone.
and Lyons (2003).

20

The results in Table 3 are robust to variations in the parameter values used to solve the model.
They arise from two key features: First, realizations of aggregate order ‡ow, xt ; are much less
informative about shocks to fundamentals than the ‡ow of information reaching dealers between
the start of month t and t + 1: In our model dealers make inferences regarding fundamentals by
combining their observation on xt with the history of macro announcements (i.e., vt
earlier ‡ows (i.e., xt

1 ; xt 2 ; :::):

1 ; vt 2; ::)

and

The resulting dealer estimates of vt are much more precise than

any estimate of vt based solely on xt : Consequently, variations in xt account for a relatively small
fraction of the variation in depreciation rates because they poorly approximate the actual ‡ow
of information on fundamentals dealers use in revising the FX quotes. The second key feature
concerns the correlations between the order ‡ow components. In our simulations the correlation
between the investor components is approximately 0.9, and the correlation between the tradebased and either investor component is approximately 0.3. These positive correlations are a robust
feature of the model because, as equations (10), (15) and (16) show, the components of order ‡ow
are driven by common shocks to fundamentals. At the same time, the components are less than
perfectly correlated thanks to di¤erences in investor preferences and the presence of liquidity shocks.
These characteristics imply that variations in the three order ‡ow segments are jointly a better
approximation to the ‡ow of information a¤ecting dealer quotes than a single order ‡ow, even the
aggregate order ‡ow observed by dealers. This is why the R2 statistic in row (v) of Table 3 is almost
30 percent higher than the statistics from regressions using a single order ‡ow. The correlation
across order ‡ow segments also means that the coe¢ cients on the order ‡ow components have no
structural interpretation. Realizations of vt ; vt

1;

"t and "t

1

characterize the ‡ow of information

from aggregate order ‡ow and macro announcements dealers use to revise quotes (see equation 14).
The di¤erent coe¢ cients on the order ‡ows simply re‡ect how these shocks are re‡ected in the
depreciation rate and the order ‡ow components.9
Although there is no exact mapping from Citibank’s customer ‡ows to the components of customer order ‡ow in our model, the discussion above provides theoretical perspective on the empirical
…ndings in Table 2. Citibank’s customer ‡ows are representative of the customer orders received
by other (large) dealers, but they are not the vehicle through which information is impounded into
FX quotes. Rather they represent one factor driving interdealer order ‡ow that is itself an important source of information to dealers setting FX quotes across the market. Essentially the same
relationship exists in our model between the components of customer order ‡ow and the aggregate
9
For example, liquidity shocks, "t ; contribute one-for-one to trade-based order ‡ow, xtt ; and increases the log FX
quote between t and t + 1 (see equation 14). Since liquidity shocks have no e¤ect on the other order ‡ow components,
regression analysis tells us that the coe¢ cient on xtt in row (v) of Table 3 re‡ects these co-movements.

21

order ‡ow used by dealers to revise quotes. The one di¤erence is that Citibank’s’customer orders
undoubtedly contain idiosyncratic elements that are absent from xtt ; xst and xlt : According to this
view then, the results in Table 2 re‡ect the fact that Citibank’s customer ‡ows approximate the
‡ow of information dealers are using across the market to revise their FX quotes. The individual
coe¢ cients have no structural interpretation in terms of measuring the price-impact of di¤erent
customer orders, they simply map variations in customer ‡ows into an estimate of the information
‡ow being used by dealers across the market. This interpretation can also account for the increase
in explanatory power of customer ‡ows as we move from horizons of one day to one month. As
the horizon lengthens, the idiosyncratic elements in Citibank’s’ customer ‡ows become relatively
less important, with the result that the ‡ows are more precise proxies for the market-wide ‡ow of
information driving quotes. This interpretation is also consistent with the observation from Table
1 that the correlations between customer ‡ow segments are much higher at the monthly frequency
than at the daily frequency.

2.3

Forecasting Returns

One novel implication of our model is that it takes time before shocks to fundamentals are fully
re‡ected in exchange rates. This fact is clear from the equation for the equilibrium depreciation
process:
st+1 = ut+1 + vt + (1

)vt

1

+ "t

"t

1:

(14)

Recall that in the extreme case where order ‡ow is completely uninformative about fundamentals,
equals 0; so vt shocks a¤ect dealer quotes with a two month lag. At the other extreme, if
observations on order ‡ow allow dealers to make completely precise estimates of vt by the start
of month t + 1;

equals one. In equilibrium, the value of

lies between these extremes because

order ‡ow is somewhat informative. In fact, our numerical results in Figure 1 showed that the
equilibrium value of

is higher when the pool of customers placing orders with dealers is more

forward-looking.
In this section, we examine the implications of equation (14) for the intertemporal relationship
between customer order ‡ows and returns. We begin by examining the relationship between future
excess returns and current customer order ‡ows. In particular, Table 4 reports the results of
regressing excess returns between month t and month t + 1; ert+1 ; on Citibank’s customer order
‡ows during month t

1: Notice that unlike the regressions in Table 2, the customer order ‡ows

come from trading prior to the period covering the revision in quotes.
The results in Table 4 show that customer order ‡ows have remarkable forecasting power for
22

Table 4: Forecasting Regressions

Corporate
US
Non US
1.179
(0.306)

Hedge
US
Non US

-0.051
(0.133)

-0.008
(0.137)

R2
0.119

0.090
(0.160)

0.985
(0.259)

Investors
US
Non US

0.001
(0.136)

0.135
(0.173)

-0.038
(0.182)

0.010
-0.965
(0.264)
-0.762
(0.242)

0.131
(0.109)
0.146
(0.128)

0.110
0.185

2

18.041
(<0.001)
1.116
(0.572)
15.434
(<0.001)
33.629
(<0.001)

Notes: The table reports OLS estimates of the coe¢ cients in the regression of
monthly excess returns, erd+h ; on the customer order ‡ow segments from trading
on days d h to d 1: Estimates are computed at the daily frequency with h = 20
trading days The table reports asymptotic standard errors in parentheses corrected
for heteroskedasticity and an MA(h-1) process. The right hand column reports
Wald tests and p-values for the null that all the coe¢ cients on the order ‡ows are
zero.

future quote revisions. The six ‡ow segments jointly account for approximately 19 percent of
the variation in future excess returns. This level of forecasting power is an order of magnitude
above that usually found in exchange rate equations. For example, the forecast power of interest
di¤erentials for monthly excess returns is only in the 2 – 4 percent range. We also note, once
again, that there are large di¤erences in the estimated coe¢ cients across ‡ow segments and across
speci…cations.
To gain theoretical perspective on these results, we return to simulations of our model. Table
5 reports the results of regressing the depreciation rate,
customer order ‡ows from trading in month t 1; {xt

1

st+1 ; on the aggregate and disaggregate

xtt 1 ; xst 1 ; xlt 1 g: As above, the regressions

are estimated from 10,000 monthly observations of simulated data computed from a solution to the
model using our benchmark parameterization.
Row (i) of Table 5 shows that aggregate customer order ‡ow has no forecasting power for the
future depreciation rate; both the coe¢ cient estimate and R2 statistic are very close to zero. By
contrast, as the results in row (ii) show, the components of customer order ‡ow have substantial
forecasting power. In this case the R2 statistic is approximately 0.25 – a …gure somewhat higher
than we found using all six segments of Citibank’s customer ‡ows. The estimated coe¢ cients on
23

the three order ‡ow segments are also quite di¤erent from each other, but each is highly statistically
signi…cant.

Table 5: Simulated Forecasting Regressions

xtt

xst

xlt

(i)
(ii)

-0.151
(0.004)

0.191
(0.033)

xt

R2

-0.001
(0.003)

<0.001

0.250
(0.019)

0.254

Notes: The table reports OLS estimates of the coe¢ cients in the regression
of the depreciation rate, st+1 ; on the aggregate and disaggregate customer
order ‡ows from trading in mounth t 1; {xt 1 xtt 1 ; xst 1 ; xlt 1 g:The
regressions are estimated with 10,000 months of simulated data computed
from the solution of our model using the baseline parameterization with
s
= l = 1: OLS standard errors are reported in parenthesis.

The results in Table 5 are easily understood using the equation for the equilibrium depreciation
rate, equation (14). The equilibrium values for

and

are approximately 0.57 and 0.22 under our

baseline parameterization. These values imply that order ‡ow is informative about fundamentals,
but dealer inferences are not so precise that all the e¤ects of vt shocks are immediately re‡ected
in FX quotes. In short, it takes time in this equilibrium for dealers to fully learn about shocks to
fundamentals. As consequence, the market-wide ‡ow of information driving the revision in dealer
quotes between t and t + 1 depends on the history of vt and "t shocks before they become common
knowledge to dealers. This history–dependence shows up in the presence of the vt
in equation (14). Now, in sofar as order ‡ow segments from month t
with vt

1

and "t

1;

1

and "t

1

terms

1 trading are correlated

these ‡ows will be correlated with the market-wide information ‡ow driving

quote revisions, and so they will have forecasting power for the future depreciation rate as we see
in Table 5.
It should be stressed that this result does not rely on ine¢ cient inference by dealers. In our
model, dealers make optimal use of their observations on aggregate order ‡ow and macro announcements to revised their FX quotes. Rather, the forecasting power from the ‡ow segments re‡ects
the fact that they jointly contain more information about fundamentals than the observed history
of aggregate order ‡ow and macro announcements up to the start of month t: Aggregating the
segments destroys this information advantage, with the result that aggregate order ‡ow should
24

have no forecasting power for the future depreciation rate. Indeed, this is exactly what we see in
row (i) of Table 5.
We conjecture that this same mechanism accounts for the forecasting power of Citibank’s customer ‡ows. If these order ‡ows contain more information about fundamentals than was contemporaneously known to dealers across the market, and some of this information became widely known
via the ensuing interdealer order ‡ow and incorporated into quotes, then the customer ‡ows should
have forecasting power for future excess returns. Once again, the estimated coe¢ cients on the ‡ow
segments do not have a structural interpretation, they simply map variations in the ‡ow segments
into the ‡ow of information concerning fundamentals that has yet to be fully assimilated by dealers
across the market.

2.4

Returns, Order Flows and the Pace of Information Aggregation

We have argued that Citibank’s customer orders have forecasting power for future returns because
they are correlated with the market-wide information ‡ow that dealers use to revise their FX
quotes. Moreover, this correlation arises because it takes time for information about fundamentals
to be fully assimilated across the market. If, on the contrary, information about the latest change in
fundamentals becomes available to dealers quickly because interdealer order ‡ow is very informative,
customer ‡ows would have no forecasting power for future returns.
If the quality of market-wide information means that dealers are slow to fully learn about
changes in fundamentals, customer order ‡ows will contain private information on not just the
latest changes in fundamentals, but also past changes that are not yet common knowledge. In our
model, the revision in quotes between t and t + 1 depends on both vt and vt

1

when 1 <

equation 14). This means that investors use their private information on both vt and vt

< 0 (see
1

when

forecasting returns and placing their month–t FX orders. Aggregate customer order ‡ow in month
t will therefore aggregate private information on not just the most recent shock to fundamentals, vt ;
but also the earlier shock, vt

1;

which is not yet known to all dealers. Notice that this backward–

looking feature of order ‡ow does not arise because investors are backward–looking. It occurs,
instead, because forward–looking investors recognize that information aggregation across dealers is
not instantaneous.
These observations provide a new perspective on the contemporaneous relationship between
returns and customer order ‡ows shown in Table 2. In particular, they raise the possibility that
Citibank’s customer ‡ows proxy for the market-wide ‡ow of information received by dealers concerning a history of changes in fundamentals. If this is indeed the case, the projection of returns

25

on contemporaneous customer ‡ows should be forecastable with lagged ‡ows. To investigate this
possibility, we …rst compute the …tted values and residuals, er
b t+1 and ^t+1 ; from the contempora-

neous regression for excess returns between month t and t + 1 on the six customer ‡ow segments
reported in the lower panel of Table 2. We then regress er
b t+1 and ^t+1 on the six ‡ow segments

from trading during month t

1: The regression estimates are reported in Table 6.

Table 6: Order Flow Decompositions

Corporate
US
Non US

US

Hedge
Non US

Investors
US
Non US

R2

2

(i)

0.202
(0.169)

-0.073
(0.069)

0.052
(0.047)

0.091
(0.112)

-0.239
(0.098)

0.010
(0.067)

0.070

13.383
(0.037)

(ii)

0.706
(0.244)

0.091
(0.112)

0.035
(0.100)

-0.252
(0.174)

-0.492
(0.186)

0.188
(0.123)

0.130

20.897
(0.002)

Notes: The table reports OLS estimates of the coe¢ cients of regressions of er
b d+20 (row i)
and ^d+20 (row ii) on the six order ‡ow segments from trading on days d 20 to d 1; where
er
b d+20 and ^d+20 are the …tted values and residuals from the regression of erd+20 on the six
‡ows from days d to d + 19 (see the last row in Table 2). Estimates are computed at the
daily frequency. The table reports asymptotic standard errors in parentheses corrected for
heteroskedasticity and an MA(19) process. The right hand column reports Wald tests and
p-values for the null that all the coe¢ cients on the order ‡ows are zero.

The results in row (i) show that Citibank’s customer ‡ows have signi…cant forecasting power for
the projection of returns on contemporaneous ‡ows estimated by er
b t+1 : This …nding is consistent

with the idea that the market-wide information ‡ow during month t contains information about
earlier changes in fundamentals that are not yet common knowledge to dealers. Row (ii) of Table
6 reports the results of regressing the residuals from the contemporaneous regression, ^t+1 ; on the

lagged customer ‡ows. Here too the ‡ows have signi…cant forecasting power. Over our sample they
account for 13 percent of the variations in the residuals:
These …nding are broadly consistent with our model. In Table 7 we report the results from
regressing cst+1 and ^t+1 on the lagged customer ‡ow components, {xt ; xs ; xl g where cst+1
t 1

t 1

t 1

and ^t+1 are the …tted values and residuals from the contemporaneous regression of

st+1 on xtt ;

xst ; and xlt shown in row (v) of Table 3. As in the Citibank data, we see that lagged customer ‡ows
have forecasting power for both the projection of the depreciation rate on the contemporaneous
‡ow components, and the associated projection error. The only signi…cant di¤erence between these
26

…ndings and the results in Table 6 is that the R2 statistics are approximately 3.5 times larger –a
point we shall return to.

Table 7: Simulated Forecast Decompositions

xtt

xst

xlt

R2

(i)

0.049
(0.002)

-0.637
(0.021)

0.531
(0.013)

0.247

(ii)

-0.200
(0.002)

0.828
(0.020)

-0.281
(0.012)

0.490

Notes: The table reports OLS estimates of the coe¢ cients from regressions
of cst+1 (row i) and ^t+1 (rows ii) on the lagged customer ‡ow components,
{xtt 1 ; xst 1 ; xlt 1 g; where cst+1 and ^t+1 are the …tted values and residuals
from the regression of st+1 on xtt ; xst ; and xlt shown in row (v) of Table
3. OLS standard errors are reported in parenthesis.

The results in row (i) of Table 7 indicate that about one quarter of the market-wide information
‡ow captured by variations in the contemporaneous projection relates to historical changes in
fundamentals. Recall that these results are derived from simulations in which the equilibrium
value of

is approximately 0.57, so dealer learning about earlier changes in fundamentals makes a

signi…cant contribution to quote revisions. Citibank’s customer ‡ows are a less precise proxy for the
market-wide information ‡ow than the customer ‡ow segments in our model, so the R2 statistic of
0.07 in row (i) of Table 6 almost surely understates the importance of dealer learning in the actual
market.
Dealer learning also explains the results in row (ii) of Table 7. Here we see that lagged customer
‡ows have forecasting power for the component of the depreciation rate that is uncorrelated with
contemporaneous customer ‡ows. Public news shocks, ut+1 , contribute to this component in our
model (see equation 14), but they are uncorrelated with order ‡ows by construction and so cannot
account for the results in the table. Instead the forecasting power comes from elements in the
market-wide information ‡ow driving quote revision that are not proxied by current customer
‡ows. Recall that dealers use observations on aggregate customer ‡ow and macro announcements
to revise their quotes. When
and "t

1;

is less than unity, these variables capture information from vt ; vt

an information ‡ow that cannot be precisely represented by the projection of

xtt ; xst and xlt . The associated projection error will therefore contain both vt
27

1

and "t

1;

1 ; "t

st+1 on
elements

that are correlated with lagged customer ‡ows. Thus, the three customer ‡ow segments contain
more information about fundamentals than aggregate ‡ow, but they cannot be used to completely
characterize the market-wide information ‡ow when it takes time for dealers to learn about changes
in fundamentals. Similarly, Citibank’s customer ‡ows are not known across the market but appear
to provide a partial contemporaneous characterization of the market-wide information ‡ow. Other
elements in this market-wide ‡ow relate to earlier changes in fundaments that are not yet common
knowledge to dealers but are correlated with lagged Citibank’s customer ‡ows. The R2 statistic in
row (ii) of Table 6 is lower than its counterpart in Table 7 because Citibank’s customer orders are
less informative about the market-wide information ‡ow than the components of customer order
‡ow in our model.

3

Conclusion

This paper addressed order ‡ow heterogeneity and its empirical implications. It is common for empiricists working in this area to apply results from stylized microstructure models when interpreting
their results. Our analysis highlights the many pitfalls. For example, when employing datasets with
‡ows from multiple end-user segments, some researchers have neglected to account for the contemporaneous correlation among the ‡ow regressors. In this setting, estimated coe¢ cients are not
unbiased re‡ections of the total price-impact of order ‡ow from a given segment. Another pitfall
stems from the fact that ‡ow regressors are correlated across time. In this case, speci…cations that
include contemporaneous ‡ows only are reduced-forms for complex microeconomic dynamics, and
cannot produce structural estimates of the price-impact of incremental trades. A third pitfall is
that the data available to the researcher may not be available across the market in real time. In the
FX market, for example, data on customer ‡ows from a given bank do not capture the proximate
‡ow driver of prices, interdealer order ‡ow.
To clarify these matters, we compared simulated results from a model with customer-type heterogeneity with empirical estimates based on Citibank’s customer ‡ows. Our simulations showed
that: (1) customer ‡ows provide more precise information about fundamentals when the mix of customers is tilted toward longer-horizon participants; (2) ‡ows from customer segments can produce
negative coe¢ cients in contemporaneous return regressions, even when positively correlated with
fundamentals; and (3) customer ‡ows forecast returns because they are correlated with the future
market-wide information ‡ow that dealers use to revise their FX prices. Of these four simulation results, (2) is perhaps the most counter-intuitive. It arises because disentangling liquidity-motivated
order ‡ow from informative order ‡ow in a dynamic setting is quite complex. On the empirical side,
28

we showed that: (1) both the aggregate and disaggregated customer ‡ows received by Citibank are
positively auto-correlated; (2) contemporaneous correlations across ‡ow segments are low at the
daily frequency, but high at the monthly frequency; (3) some customer segments do produce negative coe¢ cients in contemporaneous return regressions; (4) the proportion of excess return variation
that segment ‡ows can account for rises with the horizon; and (5) about one-third of order ‡ow’s
power to forecast exchange rates one month ahead comes from ‡ow’s ability to forecast future ‡ow.
An important direction for future work is to move toward true structural estimation. Part
of the di¢ culty here is that there is no exact mapping between Citibank’s customer ‡ows and
the components of customer order ‡ow in our model. The components of customer ‡ow in our
model are market–wide ‡ows, whereas Citibank’s customer ‡ows are but one sample from that
market–wide ‡ow. Moreover, Citibank’s segment ‡ows are surely correlated with those from other
banks, in part because many participant types split their orders across multiple banks (to reduce
trading costs). This correlation introduces the potential for omitted-variable bias into any structural
estimates. More fundamentally, a structural model must recognize that the customer orders received
by Citibank (and other large dealers) are not the vehicle through which information is impounded
into FX quotes. Rather, they correlate with price contemporaneously, and with future price, only
to the extent that they correlate with the ‡ow information that does drive quoted price proximately,
namely market–wide interdealer ‡ow. Put di¤erently, ‡ow information from a given bank is both
more informative than the interdealer ‡ow available to the whole market (in the sense that other
banks to not observe Citibank’s ‡ow mix), and less informative because the market has access to
both interdealer ‡ow and other sources of information that are not available to researchers. Any
structural model needs to account for this complex information structure.

29

References
Bacchetta, P., and E. van Wincoop (2003), Can information dispersion explain the exchange rate
disconnect puzzle? NBER Working Paper 9498, February, forthcoming, American Economic
Review.
Bjønnes, G., D. Rime, and H. Solheim (2004), Liquidity provision in the overnight foreign exchange
market, Journal of International Money and Finance, forthcoming.
Carpenter, A., and J. Wang (2003), Sources of private information in FX trading, typescript,
University of New South Wales, January.
Dunne, P., H. Hau, and M. Moore (2004), Macroeconomic order ‡ows: Explaining equity and
exchange rate returns, typescript, November.
Engel, C., and K. West (2005), Exchange rates and fundamentals, Journal of Political Economy,
113: 485-517.
Evans, M., and R. Lyons (2002a), Order ‡ow and exchange rate dynamics, Journal of Political
Economy, 110: 170-180.
Evans, M., and R. Lyons (2002b), Informational integration and FX trading, Journal of International Money and Finance, 21: 807-831.
Evans, M., and R. Lyons (2003), How is Macro News Transmitted to Exchange Rates? NBER
Working Paper 9433, January.
Evans, M., and R. Lyons (2004a), A New Micro Model of Exchange Rates, NBER Working Paper
10379, March.
Evans, M., and R. Lyons (2004b), Exchange Rate Fundamentals and Order Flow, typescript,
Georgetown University, available at http://www.georgetown.edu/faculty/evansm1/.
Evans, M., and R. Lyons (2005), Meese-Rogo¤ Redux: Micro-Based Exchange Rate Forecasting, American Economic Review, forthcoming, available at http://www.georgetown.edu /faculty/evansm1/.
Froot, K., and T. Ramadorai (2002), Currency returns, institutional investor ‡ows, and exchange
rate fundamentals, NBER Working Paper 9101, August, forthcoming, Journal of Finance.

30

Glosten, L., and P. Milgrom (1985), Bid, ask, and transaction prices in a specialist market with
heterogeneously informed agents, Journal of Financial Economics, 14: 71-100.
Hau, H., and H. Rey (2002), Exchange rates, equity prices, and capital ‡ows, NBER Working
Paper 9398, December, Review of Financial Studies, forthcoming.
Kyle, A. (1985), Continuous auctions and insider trading, Econometrica, 53, 1315-1335.
Marsh, I., C. O’Rourke (2005), Customer Order Flow and Exchange Rate Movements: Is There
Really Information Content? Typescript, April.
Mende, A., and L. Menkho¤ (2003), Di¤erent counterparties, di¤erent foreign exchange trading?
The perspective of a median bank, March.
Osler, C. (1998), Short-term speculators and the puzzling behavior of exchange rates, Journal of
International Economics, 45: 37-57.
Payne, R. (2003), Informed trade in spot foreign exchange markets: An empirical investigation,
Journal of International Economics, 61: 307-329.
Rime, D. (2001), Private or public information in foreign exchange markets? An empirical analysis,
typescript, Central Bank of Norway.
Sager, M., and M. Taylor (2005), Order Flow and Exchange Rate Movements, Typescript, University of Warwick.

31

Appendix
This appendix provides technical description of how we solve the model. We proceed in three
steps:
1. Guess the form of the equilibrium depreciation process. This is equation (14) in the text.
2. Derive an equation for customer order ‡ows consistent with (14) and the information available
to investors. This gives us the equations for the components of customer order ‡ows in (10),
(15) and (16).
3. Use the results from step 2 to show that equation (14) is consistent with the dynamics of the
dealer quotes shown in equation (12) given the evolution of dealers’common information in
(4).
Steps 1 and 2 are described in the text. To complete step 3, we …rst write the model in state
space form:
2
6
6
6
6
6
6
6
6
6
6
6
6
6
6
6
6
4

2

ut

6
6 xt
4
vt

1
2

3

ft+1

3

2

7 6
6
xtt+1 7
7 6
7 6
6
vt+1 7
7 6
7 6
ut+1 7 6
7=6
7 6
xtt 7 6
7 6
6
vt 7
7 6
7 6
6
vt 1 7
5 4
vt 2

2

1 0 0 0 0 0 0 0
0
0 0
0 0
0 1
0 0
0 0
0 0

0 0 0 1 0
7 6
7=6 0 0 0 0 1
5 4
0 0 0 0 0

32

76
6
0 0 0 0 0 0 7
76
76
6
0 0 0 0 0 0 7
76
76
0 0 0 0 0 0 76
76
76
0 0 0 0 0 0 76
76
6
1 0 0 0 0 0 7
76
76
6
0 0 0 1 0 0 7
54
0 0 0 0 1 0

0
(

s

+

ft

3

2

7 6
6
xtt 7
7 6
7 6
6
vt 7
7 6
7 6
ut 7 6
7+6
7 6
xtt 1 7 6
7 6
6
vt 1 7
7 6
7 6
6
vt 2 7
5 4
vt 3

1 1 0
1
0
0
0
0
0

7
0 1 7
7
7
2
0 0 7
7 v
7
t+1
1 0 76
7 6 ut+1
74
0 0 7
7 "t+1
0 0 7
7
7
0 0 7
5
0 0

0
l)

[(1

0

2 )
1

32

s

l]

3

(1

3

7
7;
5

2

6
6
6
6
36
6
0
6
76
s
l
7
)( + ) 5 6
6
6
6
0
6
6
6
6
4

ft

3

7
xtt 7
7
7
vt 7
7
7
ut 7
7;
7
xtt 1 7
7
vt 1 7
7
7
vt 2 7
5
vt 3

or, more compactly
Yt+1 = AYt + BVt+1 ;
Zt = CYt :
Note that Zt is the vector containing the most recent information to all dealers at the start of
month t: Applying the steady state kalman …ltering algorithm to this system gives:
Yt+1jt+1 = AYtjt + K(Zt+1

KC) ) A0 + B

= A ((I
K =

Zt+1jt );

C0 C C0

1

where Ytjt denote estimates of Yt conditioned on fZt ; Zt

vB

0

:

;
1;:::: g

d
t

=

and

v

= E[Vt Vt0 ]:

Now let { be a 1 8 vector that picks out the …rst element in Yt : We can write the log price of
FX quote at the start of month t + 1 as
st+1 = Edt+1 ft+1
= {Yt+1jt+1
= {AYtjt + {K(Zt+1

Zt+1jt )

Next, note that {A = {; so the …rst term on the right is {Ytjt = st . Making this substitution and
using the equation for Zt gives us
st+1 = st + {KCBVt+1 + {KCAY^t ;
where Y^t

Yt

(18)

Ytjt : Using the …lter equations and the state space form we can show that this

vector of estimation errors follows
Y~t = AYt
=
where

I

1

AY~t

+ BVt
1

AYt

1jt 1

KC Yt

Ytjt

1

;

+ BVt ;

KC: Combining this expression with equation (18) above gives
st+1 = {KCBVt+1 + {KCA

33

X1

i=0

i Vt i ;

where

( A)i B: It is straightforward to check that the

i

i

are null vectors for i > 1; so this

equation simpli…es to
st+1 = {KCBVt+1 + {KCA(

0 Vt

Direct calculations also verify that {KCBVt+1 = ut+1 ; {KCA
(1

)vt

1

"t

1:

+
0 Vt

1 Vt 1 ):

= vt + "t ; and {KCA

Hence, (18) has the same form as equation (14) in the text.

34

1 Vt 1

=

