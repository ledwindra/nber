NBER WORKING PAPER SERIES

MACROECONOMIC UNCERTAINTY PRICES WHEN BELIEFS ARE TENUOUS
Lars Peter Hansen
Thomas J. Sargent
Working Paper 25781
http://www.nber.org/papers/w25781

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
April 2019

Alfred P. Sloan Foundation Grant G-2018-11113 for the financial support. The views expressed
herein are those of the authors and do not necessarily reflect the views of the National Bureau of
Economic Research.
At least one co-author has disclosed a financial relationship of potential relevance for this
research. Further information is available online at http://www.nber.org/papers/w25781.ack
NBER working papers are circulated for discussion and comment purposes. They have not been
peer-reviewed or been subject to the review by the NBER Board of Directors that accompanies
official NBER publications.
Â© 2019 by Lars Peter Hansen and Thomas J. Sargent. All rights reserved. Short sections of text,
not to exceed two paragraphs, may be quoted without explicit permission provided that full
credit, including Â© notice, is given to the source.

Macroeconomic Uncertainty Prices when Beliefs are Tenuous
Lars Peter Hansen and Thomas J. Sargent
NBER Working Paper No. 25781
April 2019
JEL No. C52,C58,D81,D84,E7,G12
ABSTRACT
A representative investor does not know which member of a set of well-defined parametric
"structured models'' is best. The investor also suspects that all of the structured models are
misspecified. These uncertainties about probability distributions of risks give rise to components
of equilibrium prices that differ from the risk prices widely used in asset pricing theory. A
quantitative example highlights a representative investor's uncertainties about the size and
persistence of macroeconomic growth rates. Our model of preferences under ambiguity puts
nonlinearities into marginal valuations that induce time variations in market prices of uncertainty.
These arise because the representative investor especially fears high persistence of low growth
rate states and low persistence of high growth rate states.

Lars Peter Hansen
Department of Economics
The University of Chicago
1126 East 59th Street
Chicago, IL 60637
and NBER
lhansen@uchicago.edu
Thomas J. Sargent
Department of Economics
New York University
19 W. 4th Street, 6th Floor
New York, NY 10012
and NBER
thomas.sargent@nyu.edu

1

Introduction

This paper describes prices of macroeconomic uncertainty that emerge from how investors
evaluate consequences of alternative specifications of state dynamics. Movements in these
uncertainty prices induce variations in asset values. We construct a quantitative example in
which uncertainty about macroeconomic growth rates plays a central role. Adverse consequences for discounted expected utilities make a representative investor fear macroeconomic
growth rate persistence in times of weak growth and absence of growth rate persistence in
times of strong growth.
To construct uncertainty prices, we posit a stand-in investor who has a family of structured models with either fixed or time-varying parameters that we represent with a recursive
structure suggested by Chen and Epstein (2002) for continuous time models with Brownian
motion information flows. Because the investor distrusts all of his structured models, he
adds unstructured nonparametric models that reside within statistical neighborhoods of
them.1 To represent the investorâ€™s concerns about such unstructured statistical models, we
use preferences proposed by Hansen and Sargent (2019), a continuous-time version of the
dynamic variational preferences of Maccheroni et al. (2006a).2
The representative investor in our quantitative example impersonates â€œthe marketâ€ and
is uncertain about prospective macroeconomic growth rates. Shadow prices that isolate aspects of model specifications that most concern a representative investor equal uncertainty
prices that clear competitive security markets. Multiplying an endogenously determined
vector of worst-case drift distortions by minus one gives a vector of local prices that are
increments to expected returns associated with exposures to alternative shocks over an
instant of time that compensate the representative investor for bearing model uncertainty.3
The representative investorâ€™s concerns about the persistence of macroeconomic growth rates
make uncertainty prices depend on the state of the economy and therefore vary over time.
These findings extend earlier quantitative results that had indicated that investorsâ€™ responses to modest amounts of model ambiguity can substitute for the implausibly large
risk aversions during economic downturns that are required to explain observed market
1

By â€œstructuredâ€ we mean more or less tightly parameterized statistical models. Thus, â€œstructured
modelsâ€ arenâ€™t what econometricians working in the tradition either of the Cowles commission or of rational
expectations econometrics would call â€œstructuralâ€ models.
2
Hansen and Sargent (2019) extends models of Hansen and Sargent (2001) and Hansen et al. (2006)
that surround a single structured baseline probability model with an infinite dimensional family of difficultto-discriminate unstructured models.
3
This object also played a central role in the analysis of Hansen and Sargent (2010).

1

prices of risk.
Section 2 specifies an investorâ€™s baseline probability model and perturbations to it, both
cast in continuous time for analytical convenience. To create a set of structured models,
the representative investor uses a set of positive, mean one martingales as alterations to a
baseline model. She uses other positive, mean one martingales as perturbations to those
structured models to express her suspicion that all of her structured models are misspecified.
Section 3 describes discounted relative entropy, a statistical measure of discrepancy between
martingales, and uses it to construct a convex set of probability measures that interest the
investor. A martingale representation proves to be a tractable way for us to formulate a
robust decision problem in section 4.
Section 5 describes and compares relative entropy and Chernoff entropy, each of which
measures statistical divergence from a set of martingales. We show how to use these
measures 1) to assess plausibility of worst-case models as recommended by Good (1952),
and 2) to calibrate a penalty parameter that we use to represent the investorâ€™s preferences.
By extending the approach of Hansen et al. (2008), section 6 calculates key objects in a
quantitative version of a baseline model together with worst-case probabilities associated
with a convex set of alternative models that concern both a robust investor and a robust
planner. Section 7 constructs a recursive representation of a competitive equilibrium of
an economy with a representative robust investor. Then it links worst-case probabilities
that emerge from a robust planning problem to equilibrium uncertainty compensations that
the representative investor receives in competitive equilibrium. Section 8 offers concluding
remarks.

2

Martingales and probabilities

Martingales play an important role in a large literature on pricing derivative claims. They
play a different role in this paper. This section describes convenient mathematical representations of nonnegative martingales that alter a baseline probability model. Following
Hansen and Sargent (2019), section 3 constructs a set of martingales that determine a set
of structured models that interest a decision maker. We describe additional martingales
that generate statistically nearby unstructured models that concern a decision maker who
fears that all of the structured models are misspecified.
.
For concreteness, we use the following baseline model of a stochastic process Z â€œ tZt :

2

t Ä› 0u that governs the exogenous dynamics.4
ppZt qdt ` ÏƒpZt qdWt ,
dZt â€œ Âµ

(1)

where W is a multivariate standard Brownian motion.5 We will also have cause to introduce
endogenous state dynamics that can be altered by the actions of a fictitious planner. With
this in mind, a plan is a tCt : t Ä› 0u that is a progressively measurable process with respect
to the filtration F â€œ tFt : t Ä› 0u associated with the Brownian motion W augmented by
information available at date zero. The date t component Ct is measurable with respect to
Ft .
A decision maker who does not fully trust baseline model (1) explores utility consequences of plans under alternative probability models that she obtains by multiplying
probabilities associated with (1) by likelihood ratios depicted as positive martingales with
unit expectations. Following an extensive literature in probability theory, we represent a
likelihood ratio by a positive martingale M U with respect to the baseline Brownian motion
specification
dMtU â€œ MtU Ut Â¨ dWt

(2)

or

1
(3)
d log MtU â€œ Ut Â¨ dWt Â´ |Ut |2 dt,
2
where U is progressively measurable with respect to the filtration F. In the event that
Å¼t
|UÏ„ |2 dÏ„ Äƒ 8

(4)

0

ÅŸt
with probability one, the stochastic integral 0 UÏ„ Â¨ dWÏ„ is an appropriate probability limit.
Imposing the initial condition M0U â€œ 1, we express the solution of stochastic differential
equation (2) as the stochastic exponential
Ë†Å¼ t
MtU

â€œ exp
0

1
UÏ„ Â¨ dWÏ„ Â´
2

4

Å¼t

Ë™
2

|UÏ„ | dÏ„

.

(5)

0

We let Z denote a stochastic process, Zt the process at time t, and z a realized value of the process.
Although applications typically use a Markov formulation, this restriction is not essential. Our formulation could be generalized to allow other stochastic processes constructed as functions of a Brownian
motion information structure.
5

3

As specified so far, MtU is a local martingale, but not necessarily a martingale.6
Definition 2.1. M denotes the set of all martingales M U constructed as stochastic exponentials via representation (5) with a U that satisfies (4) and is progressively measurable
with respect to F â€œ tFt : t Ä› 0u.
Associated with U are probabilities defined by the conditional mathematical expectations
â€œ
â€°
E U rBt |F0 s â€œ E MtU Bt |F0
for any t Ä› 0 and any bounded Ft -measurable random variable Bt , so the positive random
variable MtU acts as a Radon-Nikodym derivative for the date t conditional expectation
operator E U r Â¨ |X0 s.
Under baseline model (1), W is a standard Brownian motion, but under the alternative
U model, it has increments
dWt â€œ Ut dt ` dWtU ,
(6)
where W U is now a standard Brownian motion. Furthermore, under the M U probability
ÅŸt
measure, 0 |UÏ„ |2 dÏ„ is finite with probability one for each t. In light of (6), we can write
model (1) as:
dZt â€œ Âµ
ppZt qdt ` ÏƒpZt q Â¨ Ut dt ` ÏƒpZt qdWtU .
While (3) expresses the evolution of log M U in terms of increment dW , the evolution in
terms of dW U is
1
(7)
d log MtU â€œ Ut Â¨ dWtU Â´ |Ut |2 dt.
2

3

Measuring statistical discrepancies

We use a log-likelihood ratio to construct entropy relative to a probability specification
affiliated with a martingale M S generated by a drift distortion process S. Rather than using
a log likelihood ratio log MtU with respect to the baseline model, we use a log likelihood
ratio log MtU Â´ log MtS with respect to the structured MtS model to arrive at:
E

â€œ

MtU

`

log MtU

Â´

log MtS

Ë˜

|F0

â€°

1
â€œ E
2

6

Ë†Å¼ t
MÏ„U |UÏ„

Ë‡ Ë™
Ë‡
Â´ SÏ„ | dÏ„ Ë‡F0 .
2

0

It is inconvenient here to impose sufficient conditions for the stochastic exponential to be a martingale
like Kazamakiâ€™s or Novikovâ€™s. Instead, we will verify that an extremum of a pertinent optimization problem
does indeed result in a martingale.

4

When the following limits exist, a notion of relative entropy appropriate for stochastic
processes is:
Ë†Å¼ t
Ë‡ Ë™
Ë˜Ë‡ Ä±
1
1 â€ U`
Ë‡
U
2
U
S Ë‡
MÏ„ |UÏ„ Â´ SÏ„ | dÏ„ Ë‡F0
lim E Mt log Mt Â´ log Mt Ë‡F0 â€œ lim E
tÃ‘8 2t
tÃ‘8 t
Ë†Å¼ 80
Ë‡ Ë™
Î´
Ë‡
U
2
â€œ lim E
exppÂ´Î´Ï„ qMÏ„ |UÏ„ Â´ SÏ„ | dÏ„ Ë‡F0 .
Î´Ã“0 2
0
The second line is a limit of exponentially weighted averages (Abel averages), where scaling
by the positive discount rate Î´ makes the weights Î´ exppÂ´Î´Ï„ q integrate to one. To assess
model misspecification, instead of undiscounted relative entropy, we shall use Abel averages
with a discount rate equal to the subjective rate that the decision maker uses to discount
future expected utility flows. We define a discrepancy between two martingales M U and
M S as:
Å¼
Ë‡ Â¯
Â´
` U
Ë˜ Î´ 8
Ë‡
S
âˆ† M ; M |F0 â€œ
exppÂ´Î´tqE MtU | Ut Â´ St |2 Ë‡F0 dt.
2 0
We start from a convex set of structured models that we represent as martingales
M P Mo with respect to a single structured baseline model. In subsection 3.1, we use
undiscounted entropy relative to the baseline model to constrain the set Mo . Structured
models in Mo are well articulated alternatives to the baseline model that are of particular
interest to a decision maker. The decision maker is also interested in poorly articulated
unstructured models that are statistically similar to these structured models. For a real
number Î¸ Ä… 0, define a scaled discrepancy of martingale M U from a set of martingales Mo
as
`
Ë˜
Î˜pM U |F0 q â€œ Î¸ inf âˆ† M U ; M S |F0 .
(8)
S

M S PMo

Scaled discrepancy Î˜pM U |F0 q equals zero for M U in Mo and is positive for M U not in
Mo . We use discrepancy Î˜pM U |F0 q to define a set of unstructured models that are near
the set Mo ; our decision maker wants to know utility consequences of these nearby models
too. The scaling parameter Î¸ measures how an expected utility maximizing decision maker
penalizes an expected utility minimizing agent for distorting probabilities relative to models
in Mo .

5

3.1

A family Mo of structured models

We construct a family of structured probabilities by forming a set of martingales M S with
respect to a baseline probability associated with model (1). Formally,
(
Mo â€œ M S P M such that St P Ît for all t Ä› 0

(9)

where Î is a process of convex sets adapted to the filtration F. Chen and Epstein (2002)
also used an instant-by-instant constraint on St like (9) to construct a set of probability
models.7 A consequence of forming a set of structured models according to formula (9) is
that the associated set of probabilities is rectangular in the sense of Epstein and Schneider
(2003) so that a dynamic version of a Gilboa and Schmeidler (1989) max-min decision
maker using this as the set of probabilities would have preferences over plans that are
dynamically consistent.
As we show below, in continuous time we can achieve a rectangular specification by
restricting the time derivative of the conditional expectation of relative entropy. The key
idea is to note that restricting a derivative of a function at every instant can be far more
constraining than restricting the magnitude of the function obtained by integrating the
derivative. For us, the pertinent function is conditional relative entropy. We find an
instant-by-instant restriction on the derivative of conditional relative entropy to be an attractive way of constructing a set (9) of what we call structured models. But it is too
constraining when we also want to consider potential misspecifications of those structured
models. It is relative entropy itself (and not a local counterpart) that provides a statistical
discrepancy measure suitable for exploring misspecifications of the structured models. But
using relative entropy to restrict it causes us in the end to work with a set of unstructured
models that is not rectangular. The reason is that, as Hansen and Sargent (2019) show
formally, embedding relative entropy neighborhoods into a larger rectangular set of probabilities essentially compels a decision maker to entertain any alternative probability that is
represented as a positive martingale with unit expectation. To avoid this extreme outcome,
we move beyond max-min preference specifications of Gilboa and Schmeidler (1989) and
Epstein and Schneider (2003). Instead we use a version of the more general dynamic variational preferences of Maccheroni et al. (2006b) that accommodate a recursive procedure
that penalizes relative entropies of unstructured models.
7

Anderson et al. (1998) also explored consequences of a constraint like (9) but without the state dependence in Î. Allowing for state dependence is important in the applications featured in this paper.

6

We form a set of structured models by restricting the drift or local mean of relative
entropy via a Feynman-Kac relation. The (undiscounted) entropy for a stochastic process
M S relative to the baseline model is:
Å¼
Ë‡ Â¯
1 t Â´ S
Ë‡
S
ÎµpM q â€œ lim
E MÏ„ |SÏ„ |2 Ë‡F0 dÏ„.
tÃ‘8 2t 0
Notice that ÎµpM S q is the limit as t Ã‘ `8 of a process of mathematical expectations of
time series averages
Å¼
1 t
|SÏ„ |2 d Ï„
2t 0
under the probability measure implied by M S . Suppose that M S is defined by the drift
distortion process S â€œ Î·pZq, where Z is an ergodic Markov process with transition probabilities that converge to a unique well-defined stationary distribution Q under the M S
probability. In this case, we can use Q to evaluate relative entropy by computing:
1
2

Å¼
|Î·|2 dQ.

We represent the instantaneous counterpart to the one-period transition distribution
for a Markov process in terms of an infinitesimal generator. A generator tells how conditional expectations of the Markov state evolve locally and can be derived informally by
differentiating the family of conditional expectation operators with respect to the gap of
elapsed time. For a diffusion, the infinitesimal generator AÎ· of transitions under the M S
probability is the second-order differential operator:
Ë†
Ë™
2
1
BÏ
1 B Ï
Â¨ pp
Âµ ` ÏƒÎ·q ` trace Ïƒ
Ïƒ
A Ïâ€œ
Bz
2
BzBz 1
BÏ
â€œ A0 Ï `
Â¨ pÏƒÎ·q
Bz
Î·

for St â€œ Î·pZt q, where the test function Ï resides in an appropriately defined domain of the
generator A.
Given Î·, to compute relative entropy associated with a process defined by generator
AÎ· , we solve equation
q2 |Î·|2
AÎ· Ï â€œ
Â´
,
(10)
2
2
simultaneously for q and the function Ï. This equation is a special case of a resolvent or

7

2

Feynman-Kac equation. Relative entropy ÎµpM S q â€œ q2 and q is a mean-square measure of
the magnitude of the corresponding drift distortion. The function Ï that satisfies (10) is a
long-horizon refinement of relative entropy in the sense that
Å¼
Ïpzq Â´

1
ÏdQ â€œ lim
tÃ‘8 2

Å¼t
`
Ë˜
E MÏ„S |SÏ„ |2 Â´ q2 | Z0 â€œ z ,
0

where Q is the stationary distribution for the probability associated with the St â€œ Î·pZt q
probability model.8
2
Having described how we compute relative entropy q2 and our refined measure of relative
entropy Ïpzq for a Markov process that governs z, we move on to tell how we restrict a family
of potential structured models in terms of their relative entropies ÎµpM S q. In addition to
2
specifying q2 , we now also specify Ï a priori. For reasons discussed in Hansen and Sargent
(2019), restricting q alone is insufficient to allow us to get a set of martingales expressible
in the form (9). Therefore, we require that the S process belong to the sequence of sets
that does bring us to a representation of the form (9):
*
"
q2 |s|2
BÏ
0
Â´
Ît â€œ s : A ÏpZt q ` pZt q Â¨ rÏƒpZt qss Ä
Bz
2
2

(11)

for a given choice of pq, Ïq. The boundary of a set Ît defined in this way includes models
ÅŸ
2
having the same long-horizon relative entropy q2 as well as the same refinement ÏpzqÂ´ ÏdQ
of relative entropy. However, for a given sequence of sets Ît defined by (11), there exist
many S processes that have relative entropy ÎµpM S q less than or equal to q but that violate
the inequality on the right side of definition (11). This is the sense in which, by using the
sequence of sets Î defined by equation (11) to form the set of probabilities defined in (9),
we are imposing a refinement of the relative entropy constraint: many processes satisfy
the relative entropy constraint but violate the rectangularity constraint incorporated in
definition (11).
When we solve a robust plannerâ€™s problem in section 4.2.2, it will turn out to be convenient that it is easy to characterize the set Ît because it is a constructed by constraining a
quadratic function of s given Zt . The set of possible sâ€™s is a disc with state dependent center
2
and radius q2 Â´ A0 Ï. As mentioned above, if our decision maker were interested only
Â´Ïƒ 1 BÏ
Bz
in the set of models defined by (9) and (11), we could stop here and use a dynamic version
of the min-max preferences of Gilboa and Schmeidler (1989). That way of proceeding could
8

The function test function Ï stated here is evidently defined only up to translation by a constant.

8

indeed lead to interesting applications and is worth pursuing. But the decision maker to
be studied in this paper wants to investigate the utility consequences of models not in the
set defined by (9).

3.2

Misspecification of structured models

Our decision maker wants to evaluate consequences of the structured models in Mo and
also of unstructured models that statistically are difficult to distinguish from them. For
that purpose, he employs the scaled statistical discrepancy measure Î˜pM U |F0 q defined
in (8) and uses relative entropy multiplied by parameter Î¸ Äƒ 8 to calibrate a set of
nearby unstructured models.9 The decision maker solves a minimization problem in which
Î¸ serves as a penalty parameter that deters considering unstructured probabilities that
are statistically too far from the structured models. The minimization problem induces a
preference ordering over consumption plans that belongs to a class of dynamic variational
preferences that Maccheroni et al. (2006a) showed are dynamically consistent.
To understand how our formulation relates to dynamic variational preferences, notice
how structured models represented in terms of their drift distortion processes St appear
separately from unstructured models represented in terms of drift distortion Ut on the right
side of the statistical discrepancy measure
`

U

S

âˆ† M ; M |F0

Ë˜

Î´
â€œ
2

Å¼8

Ë‡ Â¯
Â´
Ë‡
exppÂ´Î´tqE MtU | Ut Â´ St |2 Ë‡F0 dt.

0

Specification (8) leads to a conditional discrepancy
Î¾t pUt q â€œ inf |Ut Â´ St |2
St PÎt

and an associated scaled integrated discounted discrepancy
`

U

Î˜ M |F0

Ë˜

Î¸Î´
â€œ
2

Å¼8

â€
exppÂ´Î´tqE

Ë‡

Ë‡
MtU Î¾t pUt qË‡F0

Ä±
dt.

(12)

0

Our decision maker wants to know utility consequences of statistically close unstructured
`
Ë˜
models that he describes with the discrepancy measure Î˜ M U |F0 . Therefore, he ranks
alternative hypothetical state-contingent and date-contingent consumption plans by the
9

Watson and Holmes (2016) and Hansen and Marinacci (2016) discuss several misspecification challenges
confronted by statisticians and economists.

9

minimized value of a discounted sum of expected utilities plus a Î¸-scaled relative entropy
penalty Î˜pM U |F0 q, where minimization is over the implied set of models.

4

Recursive Representations of Preferences and Decisions

This section prepares the way for the section 6 quantitative application by describing a
set of structured models and a continuation value process over consumption plans. A
scalar continuation value stochastic process ranks alternative consumption plans. Date t
continuation values tell a decision makerâ€™s date t ranking. Continuation value processes
have a recursive structure that makes preferences be dynamically consistent. For Markovian
decision problems, a Hamilton-Jacobi-Bellman (HJB) equation describes the evolution of
continuation values.

4.1

Continuation values

For a consumption plan tCt u, the continuation value process tVt u8
tâ€œ0 is
Ë†Å¼ 8
Vt â€œ

min
tUÏ„ :tÄÏ„ Äƒ8u

E

Ë†
exppÂ´Î´Ï„ q

0

U
Mt`Ï„
MtU

ïš¾
Ë™
Ë™â€
Ë† Ë™
Î¸Î´
Î¾t`Ï„ pUt`Ï„ q dÏ„ | Ft
ÏˆpCt`Ï„ q `
2

(13)

where Ïˆ is an instantaneous utility function and Î¾t pUt q â€œ inf St PÎt |Ut Â´ St |2 . We set
Ïˆ â€œ log in computations that follow. Equation (13) builds in a recursive structure that
can be expressed as
" â€Å¼ 
Ë† U Ë™â€
Ë† Ë™
ïš¾
ïš¾
Mt`Ï„
Î¸Î´
Vt â€œ
min
E
exppÂ´Î´Ï„ q
ÏˆpCt`Ï„ q `
Î¾t`Ï„ pUt`Ï„ q dÏ„ | Ft
tUÏ„ :tÄÏ„ Äƒt`u
2
MtU
0
â€Ë† U Ë™
ïš¾*
Mt`
` exppÂ´Î´qE
Vt` | Ft
(14)
MtU
for  Ä… 0. Heuristically, we can â€œdifferentiateâ€ the right-hand side of (14) with respect to 
to obtain an instantaneous counterpart to a Bellman equation. Viewing the continuation
value process tVt u as an Ito process, write:
dVt â€œ Î½t dt ` Ï‚t Â¨ dWt .

10

A local counterpart to (14) is
â€
ïš¾
Î¸Î´
0 â€œ min ÏˆpCt q Â´ Î¾t pUt q Â´ Î´Vt ` Ut Â¨ Ï‚t ` Î½t ,
Ut
2

(15)

where Ut is restricted to be Ft measurable. The term Ut Â¨ Ï‚t comes from an Ito adjustment
dM U
to the local covariance between M Ut and dVt . It is an adjustment to the drift Î½t of dVt
t
that is induced by using martingale M U to change the probability measure. Preferences
ranked by continuation value processes Vt are continuous-time counterparts to the dynamic
variational preferences of Maccheroni et al. (2006a).

4.2

Markovian decision problem

By ranking consumption processes with continuation value processes satisfying (15), a
decision maker evaluates utility consequences of a set of models that includes unstructured
models that our relative entropy measure asserts are difficult to distinguish from members
of the set of structured models Mo . In particular, to construct a set of models, the decision
maker:
1) Begins with a Markovian baseline model.
2) Creates from the baseline model a set Mo of structured models by naming a sequence
of closed convex sets tÎt u that satisfy (11) and associated drift distortion processes tSt u
that satisfy structured model constraint (9).
3) Augments Mo with additional unstructured models that violate (9) but according to
discrepancy measure (8) are statistically close to models that do satisfy it.
We now describe how to implement some of these steps for the section 6 quantitative
model. We begin by describing the baseline model used by a key decision maker in our
application, a robust planner. For step 1, the planner uses a particular instance of the
diffusion (1) as a Markovian baseline model. Step 2 adds other Markovian models. Step 3
includes statistically similar models that are not necessarily Markovian.
4.2.1

Step 1

For the decision makerâ€™s baseline model, we use a single capital version of an Eberly and
Wang (2011) model with a long-term risk state z. The decision maker is a robust planner
11

who faces an AK model subject to adjustment costs with capital evolution:
Ë†â€
dKt â€œ Kt

It
pk ` Î²pk Zt `
Î±
Â´Ï†
Kt

Ë†

It
Kt

Ë™ïš¾

Ë™
dt ` Ïƒk Â¨ dWt ,

where Ï† is convex with Ï†p0q â€œ 0, Kt is the capital stock, It is investment, and W is a 2 Ë† 1
Brownian motion. It is convenient to use log K as the endogenous state variable process.
By Itoâ€™s formula it follows that
â€
Ë† Ë™
ïš¾
2
I
I
|Ïƒ
|
t
k
t
pk ` Î²pk Zt `
d log Kt â€œ Î±
Â´Ï†
Â´
dt ` Ïƒk Â¨ dWt .
Kt
Kt
2
Consumption is restricted by
Ct â€œ ÎºKt Â´ It .
The process Z evolves according to
Â´
Â¯
pz Â´ Î²pz Zt dt ` Ïƒz Â¨ dWt ,
dZt â€œ Î±
pz {Î²pz and
which implies that a stationary distribution for Z is normal with mean zÌ„ â€œ Î±
variance |Ïƒz |2 {p2Î²pz q. Let
Â«
ff
log K
Xâ€œ
Z
and stack the two state evolution equations as follows:
Ë† Ë™
ïš¾
â€
It
|Ïƒk |2
It
p
pk ` Î²k Zt `
Â´Ï†
Â´
dt ` Ïƒk Â¨ dWt
d log Kt â€œ Î±
Kt
Kt
2
Â´
Â¯
pz Â´ Î²pz Zt dt ` Ïƒz Â¨ dWt .
dZt â€œ Î±
4.2.2

(16)

Step 2

A planner forms the following collection of structured parametric models:
â€
Ë† Ë™
ïš¾
It
It
|Ïƒk |2
d log Kt â€œ Î±k ` Î²k Zt `
Â´Ï†
Â´
dt ` Ïƒk Â¨ dWtS
Kt
Kt
2
dZt â€œ pÎ±z Â´ Î²z Zt q dt ` Ïƒz Â¨ dWtS ,

12

(17)

where parameters pÎ±k , Î²k , Î±z , Î²z q distinguish structured models (17) from the baseline
model, pÏƒk , Ïƒz q are parameters common to model (16) and all models (17), W S is a 2 Ë† 1
Brownian motion, and the Brownian motions W and W S are related by
dWt â€œ St dt ` dWtS ,

(18)

where St is the drift distortion implied by parameter values pÎ±k , Î²k , Î±z , Î²z q. Collection (17)
nests baseline model (16).
We represent members of a parametric class defined by (17) in terms of our section 2
structure with drift distortions S of the form
St â€œ Î·pZt q â€ Î·0 ` Î·1 pZt Â´ zÌ„q,
then use (1), (17), and (18) to deduce the following restrictions on Î·1 :
Â«
ff
Î²k Â´ Î²pk
ÏƒÎ·1 â€œ
,
Î²pz Â´ Î²z
where

Â«
ff
pÏƒk q1
Ïƒâ€œ
.
pÏƒz q1
2

To compute relative entropy q2 and the function Ïpzq, we apply the method of undetermined coefficients to solve the following instance of differential equation (10):
|Ïƒz |2 d2 Ï
q2 |Î·pzq|2
dÏ
p
pzqrÂ´Î²z pz Â´ zÌ„q ` Ïƒz Â¨ Î·pzqs `
pzq Â´
`
â€œ 0.
dz
2 dz 2
2
2

(19)

Under parametric alternatives (17), Ï is quadratic in z Â´ zÌ„:
1
Ïpzq â€œ Ï1 pz Â´ zÌ„q ` Ï2 pz Â´ zÌ„q2 .
2
We first compute Ï1 and Ï2 by matching coefficients on the terms pz Â´ zÌ„q and pz Â´ zÌ„q2 ,
2
respectively. Matching constant terms then implies q2 .
We assume that the robust plannerâ€™s instantaneous utility function is logarithmic. Then
p
guess that the value function takes the additively separable form Î¨pxq â€œ log k ` Î¨pzq,
where pk, zq are potential realizations of the state vector pKt , Zt q. If misspecifications of

13

the structured models were not of concern, we would be led to solve the following HamiltonJacobi-Bellman (HJB) equation:
!
p
pk ` Î²pk z ` i Â´ Ï†piq ` Ïƒk Â¨ s
0 â€œ max min Î´ logpÎº Â´ iq Â´ Î´ Î¨pzq
`Î±
s
i
+
2p
p
dÎ¨
dÎ¨
1
` rÂ´Î²pz pz Â´ zÌ„q ` Ïƒz Â¨ ss pzq ` |Ïƒz |2 2 pzq ,
dz
2
dz

(20)

where i is a potential choice of the investment-capital ratio and s is a potential choice of
the structured drift distortion and where s satisfies restriction (11), which we rewrite as:
â€
Ä± |Ïƒ |2
q2 s Â¨ s
z
rÏ1 ` Ï2 pz Â´ zÌ„qs Â´Î²pz pz Â´ zÌ„q ` Ïƒz Â¨ s `
Ï2 Â´
`
Ä 0,
2
2
2

(21)

an inequality implied by our quadratic Ïpzq function.
By fixing pÏ1 , Ï2 , qq, we can trace out a one-dimensional family of parametric models
having the same relative entropy. For example, given pÏ1 , Ï2 , qq, we can first solve equation
(19) for Î·0 and Î·1 . By matching a constant, a linear term, and a quadratic term in z Â´ zÌ„,
we obtain three equations in four unknowns that imply a one dimensional curve for Î·0 and
Î·1 that imply nonlinear St â€™s as functions of z. In this way, nonlinear structured models are
included in the set of structured models near the baseline model as measured by relative
2
entropy. These nonlinear models also have relative entropy q2 . We can represent the
resulting nonlinear model as a time-varying coefficient model by solving
rrpzq â€œ Ïƒ rÎ·0 ` Î·1 pz Â´ zÌ„qs
for Î·0 and Î·1 , z by z, along the one-dimensional curve in Î·0 and Î·1 . We provide the following
example upon which we shall base calculations to be discussed at length later in this paper.
Illustration 4.1. In order to focus structured uncertainty on how drifts for pK, Zq respond
to the state variable Z, suppose that the decision maker sets
Î·pzq â€œ Î·1 pz Â´ zÌ„q,
In this case, Ï1 â€œ 0 and inequality (21) becomes
Â´

q2 |Ïƒz |2
`
Ï2 â€œ 0
2
2
14

or equivalently,
Ï2 â€œ

q2
.
|Ïƒz |2

Notice that restriction (21) implies that
sâ€œ0
when z â€œ zÌ„. Also given |Ïƒz |2 , the value of Ï2 is determined by q. More generally, q and Ï
cannot be specified independently.
To connect to a time-varying parameter specification, first construct the convex set of
Î·1 â€™s that satisfy
Ë† 2 Ë™Â´
Â¯
q
1
pz ` Ïƒz Â¨ Î·1 Ä 0.
Î·1 Â¨ Î·1 `
Â´
Î²
(22)
2
|Ïƒz |2
Next form the boundary of the convex set of alternative parameter configurations constrained
by (22)
Â«
ff
Î²k Â´ Î²pk
ÏƒÎ·1 â€œ
Î²pz Â´ Î²z
for pÎ²k , Î²z q associated with alternative choices of Î·1 .
p and state realization z, the component of the objective for the HJB
For a given Î¨
equation (20) that depends on s is the inner product
Ä±

â€
1

p
dÎ¨
pzq
dz

Ïƒs.

It is pedagogically convenient to set r â€œ Ïƒs. The two distinct entries of r â€œ Ïƒs alter
evolution equations for the state variables k and z, both of which appear in the objective
function on the right side of equation HJB (20). Evidently, from HJB equation (20), the
first entry, r1 , shifts the log capital evolution equation and the second entry, r2 , shifts the
evolution equation for the exogenous state z. The criterion appearing in HJB equation (20)
remains linear in r with a translation; linearity pushes the minimizing r to an ellipsoid that
is the boundary of the convex constraint set for each z. Under calibrated parameters for
the baseline model that we present in section 6, figure 1 shows ellipsoids associated with
two alternative values of z.
Notations for qâ€™s: The caption of figure 1 indicates values for two versions of q, a quantity
qs,0 that indicates entropy of a structured model to the baseline model that we denote model
15

0; and a quantity qu,s that denotes entropy of an unstructured model relative to a structured
model. Subsection 5.1 describes how we define and compute qu,s . Later we also use qu,0 to
denote entropy of an unstructured model to the baseline model.
For every feasible choice of r2 , two choices of r1 satisfy the implied quadratic equation
p
for the ellipse mentioned above. Provided that ddzÎ¨ pzq Ä… 0, which is true in our calculations,
we take the lower of the two solutions for r1 because the objective has positive weights on
the two entries of r. The minimizing solution occurs at a point on the lower left of the
p
1
ellipse where dr
â€œ Â´ ddzÎ¨ pzq and depends on z, as Figure 1 indicates.
dr2

Figure 1: An illustration for section 6, figure 3 configuration for qs,0 â€œ .1 and qu,s â€œ .2. The
figure displays parameter contours for pr1 , r2 q, holding relative entropies fixed. The upper
right contour depicted in red is for z equal to the .1 quantile of its stationary distribution
under the baseline model and the lower left contour is for z at the .9 quantile. The dot
depicts the pr1 , r2 q â€œ p0, 0q point corresponding to the baseline model. Tangency points
denote worst-case structured models.

16

4.2.3

Step 3

We now alter the HJB equation in a way that acknowledges the decision makerâ€™s fear that
all of his structured models are misspecified. He does this by adding unstructured models
via a penalized entropy term. This results in the modified version of HJB equation (20):
!
p
pk ` Î²pk z ` i Â´ Ï†piq ` Ïƒk Â¨ us
0 â€œ max min Î´ logpÎº Â´ iq Â´ Î´ Î¨pzq
`Î±
u,s
i
+
2p
p
1
d
Î¨
d
Î¨
Î¸
` rÂ´Î²pz pz Â´ zÌ„q ` Ïƒz Â¨ us pzq ` |Ïƒz |2 2 pzq ` |u Â´ s|2
dz
2
dz
2

(23)

where s is constrained by (21). Consider minimizing with respect to u. First-order conditions imply that
Â«
ff
1
1 1
u â€œ s Â´ Ïƒ dÎ¨p
.
Î¸
pzq
dz
Substituting this choice of u into HJB equation (23) leads us to
Problem 4.2. Robust planning problem
!
p
pk ` Î²pk z ` i Â´ Ï†piq ` Ïƒk Â¨ s
0 â€œ max min Î´ logpÎº Â´ iq Â´ Î´ Î¨pzq
`Î±
i

s

p
p
dÎ¨
1
Î¸â€
d2 Î¨
` rÂ´Î²pz pz Â´ zÌ„q ` Ïƒz Â¨ ss pzq ` |Ïƒz |2 2 pzq Â´
1
dz
2
dz
2

Â«
p
dÎ¨
pzq
dz

Ä±

ÏƒÏƒ 1

ff+
1
p
dÎ¨
pzq
dz

where maximization and minimization are both subject to
Ä± |Ïƒ |2
q2 s Â¨ s
z
p
Ï2 Â´
`
Ä 0.
rÏ1 ` Ï2 pz Â´ zÌ„qs Â´Î²z pz Â´ zÌ„q ` Ïƒz Â¨ s `
2
2
2
â€

Notice that in the HJB equation in Problem 4.2, the objective is additively separable
in i and s. This implies that the order of extremization is inconsequential, confirming a
Bellman-Isaacs condition. Moreover, for this particular economic environment, the maximizing solution iËš for i is state independent, since the first-order conditions are:
1 Â´ Ï†1 piq â€œ

Î´
.
ÎºÂ´i

Thus, the consumption-capital ratio is constant and logarithms of consumption and capital

17

share a common evolution equation under the baseline model, namely,
â€Â´
Â¯
Ä±
p
pc ` Î²c Zt dt ` Ïƒc Â¨ dWt
d log Ct â€œ .01 Î±
where the .01 scaling is used so that the implied parameters are represented as growth
rates,
|Ïƒk |2
Î±c â€œ Î±
pk ` iËš Â´ Ï†piËš q Â´
.01p
,
2
.01Î²pc â€œ Î²pk , and .01Ïƒc â€œ Ïƒk . This model illustrates again a finding of Hansen et al. (1999)
and Tallarini (2000) for economies with a single capital stock, namely, that effects of concerns about robustness operate mostly on asset prices, not on allocations.10

5

Alternative entropy measures

Preference orderings described in section 4 use the penalty parameter Î¸ in conjunction with
relative entropy to restrict a set of unstructured models that express the decision makerâ€™s
fear that all of the structured models are misspecified. Good (1952) recommended that users
of a max-min expected utility approach should verify that a worst-case model is plausible.11
We implement Goodâ€™s suggestion here by characterizing both a worst-case structured model
and a worst-case unstructured model and also exploring how the plannerâ€™s Î¸ in Problem 4.2
affects the implied relative entropy of the worst-case unstructured model. In calibrating
Î¸ in actual decision problems, we find it enlightening also to measure the magnitude of a
worst-case adjustment for misspecifications of the structured models. Finally, although we
use relative entropy in formulating the decision problems, we find it helpful also to consult
another measure of statistical discrepancy called Chernoff entropy.
Let logarithms of two martingales M S and M U evolve according to appropriate versions
of (7), namely,
1
d log MtS â€œ Â´ |St |2 dt ` St Â¨ dWt
2
1
d log MtU â€œ Â´ |Ut |2 dt ` Ut Â¨ dWt .
2
10

This outcome does not occur in environments with multiple capital stocks having different exposures
to uncertainty. For a multiple capital stock example with a different specification of model ambiguity, see
Hansen et al. (2018)
11
See Berger (1994) and Chamberlain (2000) for related discussions.

18

Think of a pairwise model selection problem that statistically compares a structured model
generated by a martingale M S with an unstructured model generated by a martingale
M U . For a given value of Î¸ in HJB equation (23), we compute worst-case structured and
unstructured models in terms of the drift distortions
St â€œ Î·s pZt q
Ut â€œ Î·u pZt q
implied for example by the minimization that appears in the problem on the right side of
equation (23).

5.1

Relative entropy

A gauge of divergence between two probability distributions is the following expected log
likelihood ratio called relative entropy:
Ë˜
â€°
`
1 â€œ
Î›pM U , M S q â€œ lim E MtU log MtU Â´ log MtS |F0 .
tÃ‘8 t
Since the worst-case structured and unstructured probability models are both Markovian,
we can compute Î›pM U , M S q using the same procedures that we applied in section 3.1 to
compute entropy relative to the baseline model. In particular, instead of solving equation
(19), we now solve
Â´
Â¯ 1
dÏ
q2
d2 Ï |Î·u Â´ Î·s |2
pz Â´ Î²pz z ` ÏƒÎ·u ` |Ïƒz |2 2 `
pzq Î±
Ä
dz
2
dz
2
2
2

for q2 and for Ï, up to a constant of translation. We denote the solution for q as qu,s
to emphasize that it is relative entropy of an unstructured model relative to a structured
model. In the application below, we report
qu,s â€œ

a

2Î›pM U , M S q.

as a convenient measure of the magnitude of the drift distortion of a worst-case model u
relative to a worst-case model s.
Appendix A.2 describes our computational approach. Entropy concept Î›pM U , M S q is
typically independent of date zero conditioning information when the Markov process is

19

asymptotically stationary.

5.2

Chernoff entropy

A dynamic version of an idea of Chernoff (1952) provides an alternative concept of discrepancies between probability measures. Chernoff entropy emerges from studying how, by
disguising distortions of a baseline probability model, Brownian motions make it challenging to distinguish models statistically. Although Chernoff entropyâ€™s explicit connection to
a statistical decision problem makes it attractive, it is less tractable than relative entropy.
To address this intractability, Anderson et al. (2003) used Chernoff entropy measured as a
local rate to make direct connections between magnitudes of market prices of uncertainty,
on the one hand, and statistical discrimination between two models, on the other hand.
That local rate is state-dependent and for diffusion models is proportional to the local drift
in relative entropy. We follow Newman and Stuck (1979) and proceed to characterize a
long-run version of Chernoff entropy and show how to compute it. There are important
quantitative differences when we measure Chernoff entropy globally instead of locally as in
the approach of Anderson et al. (2003).12
Think of a pairwise model selection problem that statistically compares a structured
model generated by a martingale M S with an unstructured model generated by a martingale
M U . Consider a statistical model selection rule based on a data history of length t that
checks whether log MtU Â´ log MtS Ä› h. This selection rule sometimes incorrectly chooses
the unstructured model when the structured model governs the data. We can bound the
probability of this incorrect selection outcome by using an argument from large deviations
theory based on the inequalities
1tlog M U Â´log M S Ä›hu â€œ 1tÂ´Î³ ph`log M U Â´log M S qÄ›0u
t
t
t
t
â€œ 1texppÂ´Î³hqpM U qÎ³ pM S qÂ´Î³ Ä›1u
t

Ä

t

exppÂ´Î³hqpMtU qÎ³ pMtS qÂ´Î³ ,

for 0 Ä Î³ Ä 1. Under the structured model, the mathematical expectation of the term on
the left side multiplied by MtS equals the probability of mistakenly selecting the alternative
model when data are a sample of size t generated under the structured model. We can
12

The local measure is more closely aligned with local uncertainty prices, a connection that Anderson
et al. (2003) feature.

20

bound this mistake probability for large t by following Donsker and Varadhan (1976) and
Newman and Stuck (1979) and studying
â€
Ä±
â€`
Ä±
` U Ë˜Î³ ` S Ë˜1Â´Î³
Ë˜ ` S Ë˜1Â´Î³
1
1
U Î³
lim log E exppÂ´Î³hq Mt
Mt
|F0 â€œ lim log E Mt
Mt
|F0
tÃ‘8 t
tÃ‘8 t
for alternative choices of Î³. We apply these calculations for given specifications of U and
S, checking that the limits are well defined. The threshold h does not affect the limit.
Furthermore, the limit is often independent of the initial conditioning information. To get
the best bound, we compute
â€`
Ä±
Ë˜Î³ ` S Ë˜1Â´Î³
1
log E MtU
Mt
|F0 ,
0ÄÎ³Ä1 tÃ‘8 t
inf lim

which is typically negative because mistake probabilities decay with sample size. Chernoff
entropy is then
Î“pM U , M S q â€œ Â´ inf lim inf
0ÄÎ³Ä1

tÃ‘8

Ä±
â€`
Ë˜Î³ ` S Ë˜1Â´Î³
1
log E MtU
Mt
|F0 .
t

Setting Î“pM U , M S q â€œ 0 would include only those alternative models M U that cannot be distinguished from M S on the basis of histories of infinite length.13 Because we
want to include more possible alternative models than that, we entertain positive values of
Î“pM U , M S q.
To interpret Î“pM U , M S q, note that if the decay rate of mistake probabilities were constant, say d, then mistake probabilities for two sample sizes Ti , i â€œ 1, 2, would be
mistake probabilityi â€œ

1
exp pÂ´Ti du,s q
2

for du,s â€œ Î“pM U , M S q. We define a half-life as an increase in sample size T2 Â´ T1 Ä… 0 that
multiplies a mistake probability by a factor of one half:
mistake probability2
exp pÂ´T2 dq
1
â€œ
â€œ
,
2
mistake probability1
exp pÂ´T1 dq
13
That is what is done in extensions of the rational expectations equilibrium concept to self-confirming
equilibria that allow probability models to be wrong, but only off equilibrium paths, i.e., for events that
in equilibrium do not occur infinitely often. See Fudenberg and Levine (1993, 2009) and Sargent (1999).
Our decision theory differs from that used in most of the literature on self-confirming equilibria because
our decision maker acknowledges model uncertainty and wants to adjust decisions accordingly. But see
Battigalli et al. (2015).

21

so the half-life is approximately
log 2
.
d
The bound on the decay rate should be interpreted cautiously because the actual decay
rate is not constant. Furthermore, the pairwise comparison understates the challenge truly
confronting the decision maker, which is statistically to discriminate among multiple models.
A symmetrical calculation reverses the roles of the two models and instead conditions
on the perturbed model implied by martingale M U . The limiting rate remains the same.
Thus, when we select a model by comparing a log likelihood ratio to a constant threshold,
the two types of mistakes share the same asymptotic decay rate.
To implement Chernoff entropy, we follow an approach suggested by Newman and Stuck
(1979). Because our worst-case models are Markovian, in appendix A.1 we can use PerronFrobenius theory to characterize
T2 Â´ T1 â€œ

â€`
Ä±
Ë˜ ` S Ë˜1Â´Î³
1
U Î³
lim log E Mt
Mt
|F0
tÃ‘8 t
for a given Î³ P p0, 1q as a dominant eigenvalue of a semigroup of linear operators. This
limit does not depend on the initial state x and is characterized as a dominant eigenvalue
associated with an eigenfunction that is strictly positive.14

6

Quantitative example

Our example builds on the physical technology and continuation value process described in
section 4 and features a representative investor who wants to explore utility consequences of
alternative models portrayed by sets of tMtU u and tMtS u processes. Some models included in
these sets have troublesome but difficult to detect predictable components of consumption
growth.15
14

Appendix A describes how we evaluate both Chernoff entropy and relative entropy numerically for the
nonlinear Markov specifications that we use in subsequent sections.
15
While we appreciate the value of a more comprehensive empirical investigation with multiple macroeconomic time series, here our aim is to illustrate a mechanism within the context of relatively simple time
series models of predictable consumption growth.

22

6.1

Baseline model

We think of capital broadly and base our quantitative application on an empirical calibration of the consumption dynamics. Our example blends elements of Bansal and Yaron
(2004) and Hansen et al. (2008). Because we want to focus exclusively on fluctuations in
uncertainty prices that are induced by a representative investorâ€™s specification concerns, we
assume no stochastic volatility, in contrast to Bansal and Yaron (2004). We use a vector
autoregression (VAR) to construct a quantitative version of a baseline model like (16) that
approximates responses of consumption to permanent shocks. Our VAR follows Hansen
et al. (2008) in using several macroeconomic time series to infer information about long-term
consumption growth. We deduce a calibration of our baseline model (16) from a trivariate
VAR for the first difference of log consumption, the difference between logs of business
income and consumption, and the difference between logs of personal dividend income
and consumption. This specification makes levels of logarithms of consumption, business
income, and personal dividend income be cointegrated additive functionals that share a
single common martingale component that can be extracted using a method described by
Hansen (2012). In Appendix B we describe our data and our method for estimating the
discrete-time VAR that we use to deduce the following parameters for the baseline model
(16):16
pc â€œ .484
Î±
Î²pc â€œ 1
Î±
pz â€œ 0
Î²pz â€œ .014
â€
Ä±
pÏƒc q1 â€œ .477 0
â€
Ä±
pÏƒz q1 â€œ .011 .025

(24)

We suppose that Î´ â€œ .002. Under this model, the standard deviation of the Z process in
the implied stationary distribution is .163.

6.2

Structured models and a robust plan

We solve HJB equation (20) for two different configurations of structured models. We
describe our numerical implementation in Appendix C.
16

We remind the reader that we set .01Î²pc â€œ Î²pk , and .01Ïƒc â€œ Ïƒk .

23

6.2.1

Uncertain growth rate responses

We compute a solution by first focusing on an Illustration 4.1 specification in which Ï1 â€œ 0
and Ï2 satisfies:
q2
Ï2 â€œ
|Ïƒz |2
where here we use q as a synonym for qs,0 . When Î· is restricted to be Î·1 pz Â´ zÌ„q, a given
value of q imposes a restriction on Î·1 and implicitly on pÎ²c , Î²k q. Figure 2 plots iso-entropy
contours for pÎ²c , Î²z q associated with qs,0 â€œ .1 and qs,0 â€œ .05, respectively.

Figure 2: Parameter contours for pÎ²c , Î²k q holding relative entropy qs,0 fixed. The outer
curve depicts qs,0 â€œ .1 and the inner curve qs,0 â€œ .05. The small diamond depicts the
baseline model.

24

While Figure 2 displays contours of time-invariant parameters with the same relative
entropy, the robust planner actually chooses a two-dimensional vector of drift distortions
r â€œ Ïƒs for a structured model in a more flexible way. As happens when there is uncertainty
about pÎ²c , Î²z q, sets of possible râ€™s differ depending on the state z. As we remarked earlier
in subsection 4.2 when we discussed illustration 4.1, when z â€œ 0 the only feasible r is
r â€œ 0. Figure 1 also reported iso-entropy contours when z is at the .1 and .9 quantile of
the stationary distribution under the baseline model. The larger value of z results in a
downward shift of the contour relative to the smaller value of z. The points of tangency
in Figure 1 are the worst-case structured models. A tangency point occurs at a lower drift
distortion for the .9 quantile than for the .1 quantile.
Consider next the adjustment for model misspecification. Since
1
ÏƒpuËš Â´ sËš q â€œ Â´ ÏƒÏƒ 1
Î¸

Â«

1

ff

p
dÎ¨
dz

and entries of ÏƒÏƒ 1 are positive, the adjustment for model misspecification is smaller in
magnitude for larger values of the state z. Taken together, the vector of drift distortions
is:
ÏƒuËš â€œ ÏƒpuËš Â´ sËš q ` rËš .
The first term on the right is smaller in magnitude for a larger z and conversely, the second
term is larger in magnitude for smaller z.
2
Under the restrictions on structured models that Ï1 â€œ 0, Ï2 â€œ |Ïƒqz |2 , and Î·pzq â€œ Î·1 pz Â´ zÌ„q,
the first derivative of the value function is not differentiable at z â€œ zÌ„. We can compute the
value function and the worst-case models by solving two coupled HJB equations, one for
z Äƒ zÌ„ and another for z Ä… zÌ„. We obtain two second-order differential equations in value
functions and their derivatives; these value functions coincide at z â€œ 0, as do their first
derivatives.

25

Figure 3: Worst-case structured model growth rate drifts. Left panel: larger structured
entropy (qs,0 â€œ .1). Right panel: smaller structured entropy (qs,0 â€œ .05). The penalty
parameter Î¸ was reset to hit two different targeted values of qu,s . Black: baseline model;
red: worst-case structured model; blue: qu,s â€œ .1; and green: qu,s â€œ .2.
Figure 3 shows adjustments of the drifts due to aversion to not knowing which structured
model is best and to concerns about misspecifications of the structured models. Setting
Î¸ â€œ 8 silences concerns about misspecification of the structured models, all of which
are expressed through minimization over s. When we set Î¸ â€œ 8, the implied worst-case
structured model has state dynamics that take the form of a threshold autoregression with
a kink at zero. The distorted drifts in z again show less persistence than does the baseline
model for negative values of z and more persistence for larger values of z. We activate a
concern for misspecification of the structured models by setting Î¸ to attain targeted values
of qu,s computed using the structured and unstructured worst-case models. This adjustment
shifts the implied worst-case drift as a function of the state downwards, more for negative
values of z than for positive ones. The impact of the drift for log k or equivalently log c is
much more modest.

26

qs,0

qu,s

du,s

.10
.10
.05
.05

.10
.20
.10
.20

.0010
.0049
.0011
.0048

half life u, s qu,0
668
142
631
144

.33
.62
.19
.36

du,0

half life u, 0

.0035
.0116
.0024
.0082

198
60
289
84

Table 1: Entropies and half lives. 12 q2 measures relative entropy and d measures Chernoff
entropy. The subscripts denote the probability models used in performing the computations.

Table 1 reports Chernoff and relative entropies implied by structured and unstructured
worst-case models. The first two columns tell relative entropy magnitudes that we imposed
by adjusting the value of Î¸. The remaining columns report other measures of entropy as
implied by these settings. Recall that the qâ€™s measure magnitudes of the drift distortions
under associated distorted measures. Thus, qu,0 measures how large the drift distortion is
relative to the baseline model. As expected, increasing the targeted values of qs,0 and qu,s
increases the implied values qu,0 . There is one peculiar finding. From Table 1, we see that
qu,s ` qs,0 Äƒ qu,0 ,
which does not satisfy a Triangle Inequality. This happens because qu,s and qu,0 are computed under the stationary probability measure implied by the worst-case unstructured
model induced by U , while qs,0 is computed under the measure implied by worst-case
structured model.
Table 1 also reports Chernoff entropies and their implied half lives. These numbers
indicate that statistical discrimination is challenging for all four pqs,0 , qu,s q configurations.
The half lives associated with the qu,s â€™s that quantify potential model misspecification
exceed 140 quarters. Even the smallest half-life associated with the qu,0 that expresses
the overall discrepancy from the benchmark model exceeds 60 quarters. Discrimination
is especially challenging when we limit the extent of model misspecification by setting
qu,s â€œ .1.
How are the entropy measures are related? We know no formula that transforms relative
entropy into long-run Chernoff entropy, but a formula from Anderson et al. (2003) is valid

27

locally and leads us to expect that
q2
Â« 4d,
2
an approximation that becomes exact when relative drift distortions are constant. It is
evidently a good approximation for computed qu,s and du,s , but not for qu,0 and du,0 . As
we have seen, the composite drift distortions show substantial state dependence via the
worst-case structured model.

Figure 4: Distribution of Yt Â´Y0 under the baseline model and worst-case model for qs,0 â€œ .1
and qu,s â€œ .2. The gray shaded area depicts the interval between the .1 and .9 deciles for
every choice of the horizon under the baseline model. The red shaded area gives the region
within the .1 and .9 deciles under the worst-case model.

Figure 4 portrays impacts of the drift distortion on distributions of future consumption
growth over alternative horizons. It shows how the consumption growth distribution adjusted for not knowing the best structured model and for distrusting all of the structured
models tilts down relative to the baseline distribution.

28

6.2.2

Altering the scope of uncertainty

Until now, we have imposed that the alternative structured models have no drift distortions
for Z at Zt â€œ zÌ„ by setting
q
Ï2 â€œ
.
|Ïƒz |2
We now alter this restriction by cutting the value of Ï2 in half. Consequences of this change
are depicted in the right panel of Figure 5. For sake of comparison, this figure includes the
previous specification in the left panel. The worst-case structured drifts no longer coincide
with the baseline drift at z â€œ zÌ„ and now vary smoothly in the vicinity of z â€œ zÌ„.

Figure 5: Distorted growth rate drift for Z. Relative entropy qs,0 â€œ .1. Left panel: Ï2 â€œ
p.01q
p.01q
. Right panel: Ï2 â€œ 2|Ïƒ
2 . Black: baseline model; red: worst-case structured model;
|Ïƒz |2
z|
blue: qu,s â€œ .1; and green: qu,s â€œ .2.
Adding the restriction that Ï2 â€œ 0 makes the robust plannerâ€™s value function become
linear and makes the minimizing s and u become constant and therefore independent of z.
Specifically,
p
Î²p
dÎ¦
â€œ .01
,
dz
Î´ ` Î²pz
and
Â«
sËš 9 Â´ Ïƒ 1

29

.01
.01
Î´`Î²pz

ff

1
uËš Â´ sËš â€œ Â´ Ïƒ 1
Î¸

Â«

ff

.01
.01
Î´`Î²pz

The constant of proportionality for sËš is determined by the constraint |sËš | â€œ q. So setting
Ï1 and Ï2 to zero results in parallel downward shifts of worst-case drifts for both Y and Z.
This amounts to changing the coefficients Î±y and Î±z in ways that are time invariant and
that leave Î²y â€œ Î²py and Î²z â€œ Î²pz .

7

Uncertainty prices

In this section, we construct equilibrium prices that a representative investor receives for
bearing ill-understood risks. These equal shadow prices for the robust planning problem of
section 4. We decompose equilibrium risk prices into distinct compensations for bearing risk
and for bearing model uncertainty. Appendix D describes in detail how we use competitive
markets to decentralize implementation of the allocation chosen by a robust planner.17

7.1

Local uncertainty prices

The equilibrium stochastic discount factor process Sdf for our robust representative investor
economy is
Â´
Â¯
1
pc ` Î²pc Zt dt Â´ .01Ïƒc Â¨ dWt ` UtËš Â¨ dWt Â´ |UtËš |2 dt.
d log Sdft â€œ Â´Î´dt Â´ .01 Î±
2
Components of the vector Ï‰ Ëš pZt q â€œ p.01qÏƒc Â´ Î· Ëš pZt q equal minus the local exposures to
the Brownian shocks.18 While these are usually interpreted as local â€œrisk prices,â€ the
decomposition
minus stochastic discount factor exposure â€œ

.01Ïƒc
risk price

Â´UtËš ,
uncertainty price

motivates us to think of .01Ïƒc as risk prices induced by the curvature of log utility and Â´UtËš
as â€œuncertainty pricesâ€ induced by a representative investorâ€™s doubts about the baseline
17

We evaluate risk and uncertainty prices relative to the baseline model (1), which we regard as approximating the data well. The plannerâ€™s and the representative investorâ€™s doubts about that model are
reflected in the computed compensations.
18
Please see equation (35) for derivation of this formula for Ï‰ Ëš pzq.

30

model. Here UtËš is state dependent. Local prices are large in both good and bad macroeconomic growth states. Prices of uncertainty at longer horizons display more complicated
responses to shocks to the macro growth state.

7.2

Uncertainty prices over alternative investment horizons

In the previous subsection, we interpreted Â´UtËš as a local price of uncertainty. In this
subsection, we provide a corresponding family of conditional expectations:
Ë˜
Ë˜
`
`
Ë˜
â€œ
Ëš
Ëš
Ëš
Â´E MtU UtËš | X0 â€œ x â€œ Â´E MtU StËš |X0 â€œ x Â´ E MtU pUtËš Â´ StËš q | X0 â€œ x .
(25)
ambiguity price
misspecification price
We interpret the first term on the right side as coming from not knowing the best structured
model and the second term as coming from concerns that all of the structured models might
be misspecified. We motivate these measures by constructing â€œshock price elasticitiesâ€ for
being exposed to future shocks.
We construct shock elasticities that fit within a framework proposed by BorovicÌŒka et al.
(2011). These are related to but distinct from objects computed by BorovicÌŒka et al. (2014).
BorovicÌŒka et al. (2014) use a typical impulse response timing convention by reporting
elasticities that tell how changing exposures to a shock next period affects the expected
return today of an asset that pays off Ï„ periods in the future. In contrast, here we shift the
date of an assetâ€™s exposure to a shock Ï„ time periods in the future, the same time that the
asset pays off. We then study how the expected return as of today varies as we alter Ï„ Ä… 0.
We express responses of expected rates of return as elasticities by normalizing a change
in an exposure to a shock to be a unit standard deviation and by studying responses of
logs of expected returns. Shock-price elasticities constructed in this way can enlighten us
about how state dependence in exposures to future shocks affects expected returns today
of payoffs that materialize across different Ï„ â€™s. Here we regard different Ï„ â€™s as different
investment horizons. We shall show that in addition to being intrinsically interesting,
elasticities defined in this way link uncertainty prices to relative entropy.
We let consumption be the hypothetical payoff of interest. The logarithm of the expected return from a consumption payoff at date t is the sum of two terms:
Ëœ
log E

Ë‡
Â¸
Â«
ff
Ë† Ë™ Ë‡Ë‡
Ë‡
Ct Ë‡
Ct Ë‡
Ë‡X0 â€œ x Â´ log E Sdft
Ë‡X 0 â€œ x ,
C0 Ë‡
C0 Ë‡

31

(26)

where log Ct â€œ Yt . The first term is an expected payoff and the second is the cost of
purchasing
Â´ Â¯ that payoff. The unitary elasticity of substitution in our example implies via
Ëš
Ëš
Sdft CC0t â€œ MtU that the second term features the martingale MtU contributed by the
representative investorâ€™s concern that he does not know which member of his set of structured models is correct and also his concern that all of the structured models are misspecified.
A shock-price elasticity tells the change in an expected return that results from a local
change in the exposure of consumption to the underlying Brownian motion. Malliavin
derivatives are important inputs into calculating a shock-price elasticity. These derivatives
measure how a shock at a given date affects consumption and stochastic discount factor
processes. The Sdft and Ct processes both depend on the same Brownian motion between
dates zero and t. We are particularly interested in the consequences at time 0 of being
exposed to shock at date t. Computing the derivative of the logarithm of the expected
return given in (26) results in
â€
Ä±
E rDt Ct |F0 s
UËš
Â´ E Dt Mt |F0 ,
E rCt |F0 s
Ëš

where Dt Ct and Dt MtU denote two-dimensional vectors of Malliavin derivatives with respect to the two-dimensional Brownian increment at date t for consumption and the worstcase martingale, respectively.
A formula familiar from other forms of differentiation implies
Dt Ct â€œ Ct pDt log Ct q .
The Malliavin derivative of log Ct â€œ Yt is the vector .01Ïƒy , which is the exposure vector of
log Ct to the Brownian increment dWt :
Dt Ct â€œ .01Ct Ïƒc ,
so

E pDt Ct |F0 q
â€œ .01Ïƒc .
E pCt |F0 q

Similarly,
Ëš

Dt MtU â€œ UtËš .

32

Therefore, the term structure of prices that interests us is
Â¯
Â´
UËš Ëš
.01Ïƒc Â´ E Mt Ut |F0 .

(27)

The first term is the risk price familiar from consumption-based asset pricing. It is a (small)
state independent-term that is independent of the horizon. In contrast, the equilibrium
drift distortion in the second term contains a state-dependent component, namely, the
conditional expectation of the worst-case drift distortion under the distorted probability
measure.
Proposition 7.1. Including contributions from both worst-case structured and unstructured
models, horizon-dependent uncertainty prices are:
Â´
Â¯
UËš Ëš
Ï… pxq â€ Â´E Mt Ut |X0 â€œ x ,
t

which depend on the horizon t and the initial state x. The limiting uncertainty price vector
as t Ã‘ `8 is the unconditional expectation of the composite drift distortion under the
distorted probability distribution.

33

Figure 6: Shock price elasticities Ï… t pxq for alternative horizons. The change in exposure
occurs at the same future date as the consumption payoff. The figure reports the median
and deciles for the section 6 specification with pÎ²c , Î²z q structured uncertainty. Black:
median of the Z stationary distribution red: .1 decile; and blue: .9 decile.

34

Figure 7: Structured and unstructured contributions to shock price elasticities for alternative horizons. The panels in the left-hand side column plot the ambiguity component
in equation (25). The panels in the right-hand side column plot the misspecification component in equation (25). The change in exposure occurs at the same future date as the
consumption payoff. The figure reports the median and deciles for the section 6 specification with pÎ²c , Î²z q structured uncertainty. Black: median of the Z stationary distribution
red: .1 decile; and blue: .9 decile.

Figure 6 shows shock price elasticities for our section 6 economy. Figure 7 plots separate
components of these elasticities given by the right-hand side of equation (25). We feature
35

the case in which qu,s â€œ .1. Notice that although the price elasticity is initially smaller for
the median specification of z than for the .9 quantile, this inequality is eventually reversed
as the horizon increases. Figure 7 reveals a similar pattern for the instantaneous uncertainty prices: especially for the second shock, instantaneous uncertainty prices are high
for the .1 and .9 quantiles of the z distribution relative to the median growth state. Over
longer investment horizons, elasticities diminish for the .9 quantiles to magnitudes that are
eventually lower than the median elasticities for the same investment horizons. (The blue
and black curves cross.) Notice that the misspecification components plotted in Figure 7
are ordered according to quantile, with the lowest quantile have the highest contribution.
In contrast, the contribution from ambiguity about the structured models is substantially
higher for the .9 quantile than for the other two, with median contributions starting at
zero. The misspecification contributions are thus important for understanding both the
magnitudes and initial orderings as well as the subsequent reversals of the uncertainty
price elasticities. The structured uncertainty components of the elasticities and hence the
elasticities themselves diminish with horizon because the probability measure implied by
Ëš
the martingale MtU has reduced persistence for positive growth states. Under the MtU
probability, the growth rate state variable is expected to spend less time in the positive
region. This is reflected in smaller ambiguity components of price elasticities at the .9
quantile than at the median over longer investment horizons. For longer investment horizons, but not necessarily for very short ones, an endogenous nonlinearity makes uncertainty
prices larger for negative values than for positive values of z. Horizon dependence of shock
price elasticities is an important avenue through which concerns about misspecification and
ambiguity aversion influence valuations of assets.
There is an intriguing connection between long-horizon prices and relative entropy.
While the uncertainty price trajectories do not converge over the time span reported in
Figure 6, well defined limiting uncertainty prices do emerge over longer time horizons.19
UËš
These limits equal E M pÂ´UtËš q, i.e., the unconditional expectation of the corresponding
drift distortion vector computed under the worst-case stationary probability measure. In
Table 2, we compare these limit prices to the relative
b entropy divergence qu,0 , which measures the overall magnitude of these distortions by

Ëš

2E M U r|UtËš |2 s, i.e., the square root of

19
Hansen and Scheinkman (2012) study a limiting growth rate risk price that is based on a different
conceptual experiment but leads to a similar characterization. Whereas formula (27) has an adjustment
for current consumptionâ€™s exposure to shocks, the limiting Hansen and Scheinkman measure replaces this
term by the proportionate exposure of the martingale component of consumption. Both adjustments are
small in our quantitative example.

36

twice the expected square of the absolute value of the vector of drift distortions, also under
worst-case stationary probability measures. Indeed, these mean contributions account for
most of the relative entropy measures. This is evident by comparing the square of the
number in the third column of Table 2 to the sum of the squares in the fourth and fifth
columns. Thus, the square root of twice relative entropy provides a good approximation to
the magnitude of long-run uncertainty prices.
qs,0

qu,s

qu,0

.10
.05

.20
.20

.62
.36

shock one price shock 2 price
.34
.20

.52
.30

Table 2: Entropies and limit prices. 12 q2 denotes relative entropy. The limiting long-horizon
prices are the expectations of Â´U Ëš under the probability model implied by U Ëš .

We have designed our quantitative example to activate a particular mechanism that
causes statistically plausible amounts of uncertainty to generate fluctuations in uncertainty
prices. We inferred parameters of the baseline model for these examples solely from time
series of macroeconomic quantities, thus completely ignoring asset prices during calibration.
We intentionally did not impose the cross-equation and cross-frequency restrictions on the
consumption process that our asset pricing theory implies. We proceeded in this way in
order to respect concerns that Hansen (2007) and Chen et al. (2015) expressed about using
asset market data to calibrate macro-finance models that assign a special role to investorsâ€™
beliefs about future asset prices.20

8

Concluding remarks

This paper formulates and applies a tractable model of the effects of macroeconomic uncertainties on equilibrium prices. We quantify investorsâ€™ concerns about model misspecification
in terms of the consequences of alternative statistically plausible models for discounted expected utilities. We characterize the effects of concerns about misspecification of a baseline
20

Hansen (2007) and Chen et al. (2015) describe situations in which it is the behavior of expected rates
of return on assets that, through the cross-equation restrictions, lead an econometrician to make inferences
about the behavior of macroeconomic quantities like consumption that are much more confident than can
be made from the quantity data alone. How could investors put those cross-equation restrictions from
returns into quantity processes before they had observed returns?

37

stochastic process for individual consumption as shadow prices for a plannerâ€™s problem that
supports competitive equilibrium prices.
To illustrate our approach, we have focused on the growth rate uncertainty featured
in the â€œlong-run riskâ€ literature initiated by Bansal and Yaron (2004). Further applications seem natural. For example, the tools developed here could shed light on a recent
public debate between two groups of macroeconomists and economic historians, one prophesying secular stagnation because of technology growth slowdowns, the other discounting
those pessimistic forecasts.21 The tools that we describe can be used, first, to quantify
how challenging it is to infer persistent changes in growth rates, and, second, to guide
macroeconomic policy in light of evidence.
Specifically, we have produced a model of a log stochastic discount factor whose uncertainty prices reflect a robust plannerâ€™s worst-case drift distortions U Ëš and have shown that
these drift distortions can be interpreted as prices of model uncertainty. The dependence
of uncertainty prices U Ëš on the growth state z is shaped partly by how our robust investor
responds to the presence of alternative parametric models among a huge set of unspecified
alternative models that also concern him.
It is worthwhile comparing this paperâ€™s way of inducing time-varying prices of risk with
three other macro/finance models that also get them. Campbell and Cochrane (1999)
proceed in the rational expectations tradition with its assumption of a single-knownprobability-model and so exclude fears of model misspecification from the mind of their
representative investor. Campbell and Cochrane construct a utility function in which the
history of consumption expresses an externality. This history dependence makes the investorâ€™s local risk aversion respond in a countercyclical way to the economyâ€™s growth state.
Ang and Piazzesi (2003) use an exponential-quadratic stochastic discount factor in a noarbitrage statistical model as a vehicle for exploring links between the term structure of
interest rates and other macroeconomic variables. Their approach allows movements in
risk prices to be consistent with historical evidence without specifying all components of
a general equilibrium model. A third approach introduces stochastic volatility into the
macroeconomy by positing that the volatilities of shocks driving consumption growth are
themselves stochastic processes. A stochastic volatility model induces time variation in
risk prices via exogenous movements in the conditional volatilities of shocks that impinge
on macroeconomic variables. A related approach is implemented by Ulrich (2013) and Ilut
and Schneider (2014), who use exogenous stochastic fluctuations in ambiguity concerns to
21

See Gordon and Mokyr (2016).

38

induce additional macroeconomic fluctuations.
In Hansen and Sargent (2010), we used a representative investorâ€™s robust model averaging to drive countercyclical uncertainty prices. The investor carries along two difficult-todistinguish models of consumption growth, one with substantial growth rate persistence,
the other with little such persistence. The investor uses observations on consumption
growth to update a Bayesian posterior over these models and expresses his specification
distrust by pessimistically exponentially twisting a posterior over alternative models. That
leads the investor to act as if good news is temporary and bad news is persistent, an outcome that is qualitatively similar to what we have found here. Learning occurs in Hansen
and Sargentâ€™s analysis because the parameterized structured models are time invariant and
hence learnable.
In this paper, we propose a different way to make uncertainty prices vary in a way
that turns out to be qualitatively similar. We exclude learning by including alternative
models with parameters whose prospective variations cannot be inferred from historical
data. These time-varying parameter models differ from the decision makerâ€™s baseline model,
a fixed parameter model whose parameters can be well estimated from historical data. The
alternative models include ones that allow parameters persistently to deviate from those
of the baseline model in statistically subtle and time-varying ways. In addition to this
parametric class of alternative models, a robust planner and a representative investor both
worry about many other specifications. A robust plannerâ€™s worst-case model responds to
these forms of model uncertainty partly by having more persistence in bad states and less
persistence in good states.
Adverse shifts in a worst-case shock distribution that increase the absolute magnitudes
of uncertainty prices were also present in some of our earlier work (for example, see Hansen
et al. (1999) and Anderson et al. (2003)). But in this paper, we induce state dependence
in uncertainty prices in a new way, namely, by specifying a set of alternative models in
a way that captures concerns about the baseline modelâ€™s specification of persistence in
consumption growth.
Our continuous-time formulation (15) exploits mathematically convenient properties of
a Brownian information structure. There also exists a discrete-time version of our formulation that starts from a baseline model cast in terms of a nonlinear stochastic difference
equation; counterparts to structured and unstructured models play the same roles here.
Furthermore, preference orderings defined in terms of continuation values are dynamically
consistent.
39

While our example used entropy measures to restrict the decision makerâ€™s set of structured models, two other approaches could be explored instead. One would use a more
direct implementation of a robust Bayesian approach; the other would refrain from imposing absolute continuity when constructing a family of structured models. We conclude by
discussing these in turn.
We could start with a set of structured models with time-invariant parameters and a
convex set of priors over those parameters. A model-by-model Bayesian approach might
be tractable if the implied set of posteriors could be characterized and computed date-bydate, through the use of conjugate priors. However, after augmenting a set of probabilities
to make the larger set rectangular as recommended by Epstein and Schneider (2003), the
worst-case structured model coming from the rectangular set would typically not come
from applying Bayesâ€™ rule to a single prior. That would prevent applying Goodâ€™s way of
assessing the plausibility of max-min choice theory. On the other hand, stopping at the
first step and not surrounding an initial rectangular set of models could conceivably may
place models on the table that are substantively interesting in their own right, including
possibly the worst-case structured model. By incorporating a concern for misspecification
of an initial prior as it does, this approach provides an alternative to the robust learning
in Hansen and Sargent (2007).
Finally, we mention an approach that would abandon the absolute continuity that we
have built in when we assumed that the structured model probabilities can be represented
as martingales with respect to a baseline model. Peng (2004) uses a theory of stochastic
differential equations under a broad notion of model ambiguity that is rich enough to allow
uncertainty about the conditional volatility of Brownian increments. Alternative probability specifications here fail to be absolutely continuous and standard likelihood ratio analysis
ceases to apply. If we could construct bounds on uncertainty under a non-degenerate rectangular embedding, we could extend the construction of worst-case structured models and
still restrain relative entropy as a way to limit a decision makerâ€™s set of unstructured models.22

22

See Epstein and Ji (2014) for an application of the Peng analysis to asset pricing that does not use
relative entropy.

40

Appendices
A

Computing Chernoff and relative entropy

We show how to compute Chernoff and relative entropies for Markov specifications where
the associated Sâ€™s and U â€™s take the forms
Ut â€œ Î·u pZt q
St â€œ Î·s pZt q.

A.1

Chernoff entropy

The Markov structure of both models allows us to compute Chernoff entropy by using an
eigenvalue approach of Donsker and Varadhan (1976) and Newman and Stuck (1979). We
Ë˜Î³ ` S Ë˜1Â´Î³
`
gpZt q for 0 Ä Î³ Ä 1 at t â€œ 0:
Mt
start by computing the drift of MtU
Î³p1 Â´ Î³q
.
rGpÎ³qgspzq â€œ Â´
|Î·u pzq Â´ Î·s pzq|2 gpzq ` gpzq1 Ïƒ Â¨ rÎ³Î·u pzq ` p1 Â´ Î³qÎ·s pzqs
2
Â´
Â¯ g 2 pzq
pz Â´ Î²pz z `
` g 1 pzq Î±
|Ïƒz |2 ,
2
where rGpÎ³qgspzq is the drift given that Z0 â€œ z. Next we solve the eigenvalue problem
rGpÎ³qsepz, Î³q â€œ Â´Î»pÎ³qepz, Î³q.
We seek the eigenvalue for which exprÂ´Î»pÎ³qs is largest in magnitude; the associated eigenfunction is positive.
We compute Chernoff entropy by solving
Î“pM H , M S q â€œ max Î»pÎ³q,
Î³Pr0,1s

where we compute Î»pÎ³q numerically using a finite-difference approach. For a pre-specified Î³,
we evaluate rGpÎ³qsg at each of n grid points and replace derivatives by two-sided symmetric
differences except at the edges, where we use corresponding one-sided differences. This
procedure yields a linear transformation of g evaluated at the n grid points. The outcome
of this calculation is an n by n matrix applied to a vector containing the entries of g
41

evaluated at the n grid points. The eigenvalue of the resulting matrix that has the largest
exponential equals Â´Î·pÎ³q. We we use a grid for z over the interval rÂ´2.5, 2.5s with grid
increments equal to .01, choices that imply that n â€œ 501.

A.2

Relative entropy

We solve
q2 dÏ
|Ïƒz |2 d2 Ï
|Î·u pzq Â´ Î·s pzq|2
Î±z Â´ Î²pz z ` Ïƒz Â¨ Î·u pzqs Â´
Â´ pzqrp
pzq
â€œ
2
dz
2 dz 2
2

(28)

for q numerically using a finite difference approach
Â´ 2 Â¯ like that described in section A.1. Notice
that the left-hand side of (28) is linear in Ï, q2 . We evaluate equation (28) at the n grid
points for z and use a finite difference approximation for the derivatives. We write the
2
resulting left-hand side equations as a matrix times a vector containing q2 and Ï evaluated
at n Â´ 1 grid points omitting z â€œ 0 because we set Ïp0q â€œ 0 for convenience. We write the
right-hand side as a vector evaluated at the n grid points and solve the resulting equation
system via matrix inversion.

B

Statistical calibration

B.1

Calibrating the baseline model

We set Î±
pz â€œ 0 and Î²pc â€œ 1. For other parameters we:
i) Let
Â»

fi
log Ct`1 Â´ log Ct
â€”
ffi
Yt`1 â€œ â€“log Gt`1 Â´ log Ct`1 fl ,
log Dt`1 Â´ log Ct`1
Â«
ff
log
G
t
Ypt â€œ
log Dt
where as described in the body of this paper, Ct is consumption, Gt is business income,
and Dt is personal dividend income. Business income is measured as proprietorâ€™s income plus corporate profits per capita. Dividends are personal dividend income per

42

capita. The time series are quarterly data from 1948 Q1 to 2018 Q3. Our consumption measure is nondurables plus services consumption per capita. The nominal
consumption data come from BEAâ€™s NIPA Table 1.1.5 and their deflators from BEAâ€™s
NIPA Table 1.1.4. The business income data with IVA and CCadj are from BEAâ€™s
NIPA Table 1.12. Personal dividend income data were obtained from from FREDâ€™s
B703RC1Q027SBEA. Population data comes from FREDâ€™s CNP16OV. By including
proprietorsâ€™ income in addition to corporate profits, we use a broader measure of business income than Hansen et al. (2008) who used only corporate profits. Hansen et al.
(2008) did not include personal dividends in their VAR analysis.
Â»
fi
Yt
â€”
ffi
â€”YtÂ´1 ffi
ffi
ii) Let Xt â€œ â€”
â€”Y ffi. Express a vector autoregression in the stacked form
tÂ´2
â€“
fl
p
YtÂ´3
Xt`1 â€œ H ` AXt ` BWt`1
where A is a stable matrix (i.e., its eigenvalues are all bounded in modulus below
unity) and BB 1 is the innovation covariance matrix. Let selector matrix J verify
Yt`1 â€œ JXt`1 . The level variables log Ct , log Gt , log Dt are cointegrated. Each of
log Ct , log Gt , log Dt is an additive functional in the sense of Hansen (2012). Each has an
additive decomposition into trend, martingale, and stationary components that can be
constructed using a method described in Hansen (2012). The martingale components
of the three series are identical. The innovation to this martingale process is identified
as the only shock having long-term consequences. We identify B by assuming that the
square matrix JB is lower triangular.
iii) Compute the implied mean Âµ of the stationary distribution for X from
Âµ â€œ pI Â´ AqÂ´1 H
and the associated covariance matrix Î£ that solves a discrete Lyapunov equation
Î£ â€œ AÎ£A1 ` BB 1
that can be solved by a doubling algorithm.

43

iv) Compute the implied mean for log Ct`1 Â´log Ct â€œ u1 Âµ and set it to .01p
Î±c ; here u1 selects
the consumption growth rate from the vector Xt`1 .
v) Compute the state-dependent component of the expected long-term growth rate by
evaluating:
â€œ
â€°
pc |Ft q â€œ u1 pI Â´ AqÂ´1 Xt Â´ pI Â´ AqÂ´1 H
Ztp â€œ lim E plog Ct`j Â´ log Ct Â´ j Î±
jÃ‘8

implied by the VAR estimates. The analogue to Ztp for the continuous time version of
the model is
.01
pc |Zt q â€œ
Ztp â€œ lim E plog Ct`j Â´ log Ct Â´ j Î±
Zt .
jÃ‘8
Î²pz
vi) Compute the implied autoregressive coefficient for the analogous limit log Ctp in the
discrete-time specification using the VAR parameter estimates and equate it to 1 Â´ Î²pz :
u1 ApI Â´ AqÂ´1 AÎ£pI Â´ A1 qÂ´1 A1 u
.
1 Â´ Î²pz â€œ 1
u ApI Â´ AqÂ´1 Î£pI Â´ A1 qÂ´1 A1 u
vii) Compute the VAR implied covariance matrix for the one-step-ahead forecast error
for the limit log Ctp and form the covariance matrix for the growth rate process for
p
consumption and for Zt`1
.
ff
ff
Â«
pÏƒc q1 â€
u1 BB 1 u
u1 BB 1 pI Â´ A1 qÂ´1 A1 u
pÏƒc q
â€œ .0001 1
1
pÏƒ
q
u1 ApI Â´ AqÂ´1 BB 1 u u1 ApI Â´ AqÂ´1 BB 1 pI Â´ A1 qÂ´1 A1 u
z
p
Î²

Â«

1
pÏƒz q
Î²p z

z

We identify Ïƒz and Ïƒc by imposing a zero restriction on the second entry of Ïƒc and
positive signs on the first coefficient of Ïƒc and on the second coefficient of Ïƒz .

B.2

Estimation and inference

Consider the VAR
Xt`1 â€œ H ` AXt ` BWt`1 ,
where A is a stable matrix, Wt`1 is a multivariate standard normal, and data are available
for X0 , X1 , ...., XN . We use importance sampling to construct medians and deciles for the
parameters of interest by using formulas in appendix B.1.

44

Ä±
.

i) Construct a â€œposteriorâ€ for the coefficients of the VAR by using a special case of a
method described by Zha (1999). Following Zha, we exploit the lower triangularity of
JB by first transforming the equation system to make the implied population residuals
be uncorrelated. We impose conjugate priors on the transformed system and initialize
them at a â€œnon-informativeâ€ prior. This method conditions on X0 . We use Monte
Carlo simulation to produce a sequence tÎ¸j :â€œ 1, 2, ...., N u where N is the sample size
of the simulated data. We use this simulation to form a synthetic empirical distribution
that assigns probability N1 to each Î¸j , rejecting all draws that do not imply a stationary
VAR.
ii) Let f pÂ¨ | Âµ, Î£q be the multivariate normal density and assign weight
f pX0 | Âµj , Î£j q
Å™N
jâ€œ1 f pX0 | Âµj , Î£j q
to outcome Î¸j where Âµj and Î£j are the mean vector and covariance matrix for the
stationary distribution implied by Î¸j . This weighting scheme adjusts the empirical
distribution for the contribution to the likelihood function from the random initial
state X0 . We construct medians and deciles from this discrete distribution.
In our computations, we set N â€œ 10, 000, 000. The resulting medians and .1 and .9
deciles are:
Parameter 10th
Î±c
Î²z
Ïƒc1
Ïƒz1
Ïƒz2

percentile 50th
.321
.005
.452
.003
.013

percentile 90th
.484
.014
.477
.011
.025

percentile
.646
.037
.501
.029
.039

We used medians in computations underlying figures and tables in the text.
User-friendly Python code can be found at https://github.com/lphansen/TenuousBeliefs.

C

Solving the ODEâ€™s

For large |z|, the value function and minimizing worst-case r are approximately linear in
the state variable. The linear approximations differ depending on whether z is greater or
45

less than zÌ„. The linear approximations provide good Neumann boundary conditions to use
in an approximation that restricts z to be in a compact interval that includes z â€œ zÌ„.
Recall the constraint:
â€
Ä± |Ïƒ |2
1 1 ` Â´1 Ë˜1 Â´1
q2
z
p
r Ïƒ
Ïƒ r ` rÏ1 ` Ï2 pz Â´ zÌ„qs Â´Î²z pz Â´ zÌ„q ` r2 `
Ï2 Â´
Ä 0.
2
2
2
1

where Î› â€œ pÏƒ Â´1 q Ïƒ Â´1 . Let d denote a vector of approximate slopes for a minimizing r.
Since the quadratic terms in z dominate the constraint, impose the following restriction on
d:
1 1
d Î›d Â´ Ï2 Î²pz ` Ï2 d2 â€œ 0
(29)
2
where d2 is the second coordinate of d. From the HJB equation:
pÂ´Î´ Â´ Î²pz ` d2 qÏˆ ` .01pÎ²pk ` d1 q â€œ 0
Â« ff Â« ff
0
.01
Î›d `
9
Ï2
Ïˆ

(30)

where Ïˆ is the approximate slope of value function. The first equation in equation (30) is
the derivative of the value function for constant coefficients, putting minimization aside.
The second block in (30) consists of two equations derived as the large z approximation to
the first-order conditions implied by (23). After taking ratios of these two latter equations
we can cancel the constant of proportionality (the multiplier on the constraint) leaving
us with one equation that emerges from the second block. Thus we are left solving three
equations in the three unkowns d and Ïˆ.
Depending on which boundary we target, minimization will result in different choices
of d. We let dÂ´ be the approximate solution for the left boundary with a corresponding
value function derivative Ïˆ Â´ . We define d` and Ïˆ ` analogously. Combining equation (29)
and the two equations that emerge from (30), we are left with three equations that deterÂ´
` `
Â´
`
Â´
`
mine pdÂ´
1 , d2 , Ïˆ q and pd1 , d2 , Ïˆ q, where Ïˆ and Ïˆ are the two approximate boundary
conditions for the derivative of the value function. We used bvp4c in Matlab to solve the
odeâ€™s over the two intervals rÂ´2.5, 0s and r0, 2.5s, where z â€œ 0.

46

D
D.1

Decentralization
Robust investor portfolio problem

A representative investor solves a continuous-time Merton portfolio problem in which individual wealth A evolves as
dAt â€œ Â´Ct dt ` At Î¹pZt qdt ` At Ft Â¨ dWt ` At Ï‰pZt q Â¨ Dt dt,

(31)

where Ft â€œ f is a vector of chosen risk exposures, Î¹pzq is an instantaneous risk-free rate,
and Ï‰pzq is a vector of risk prices evaluated at state Zt â€œ z. Initial wealth is A0 . The
investor discounts the logarithm of consumption and distrusts his probability model.
Key inputs to a representative investorâ€™s robust portfolio problem are the baseline model
(1), the wealth evolution equation (31), the vector of risk prices Ï‰pzq, and the quadratic
2
function Ï and relative entropy q2 that define alternative structured models.
r
Under a guess that the value function takes the form Î¨pzq
` log a ` log Î´, the HJB
equation for the robust portfolio allocation problem is
c
r
0 â€œ max min Â´Î´ Î¨pzq
Â´ Î´ log a Â´ Î´ log Î´ ` Î´ log c Â´ ` Î¹pzq
u,s
c,f
k
â€
Ä±
2
r
|f |
dÎ¨
` Ï‰pzq Â¨ f ` f Â¨ u Â´
`
pzq Â´Î²pz pz Â´ zÌ„q ` Ïƒz Â¨ u
2
dz
2r
Î¸
d
Î¨
1
` |Ïƒz |2 2 pzq ` |u Â´ s|2
2
dz
2

(32)

where extremization is subject to
|s|2 dÏ
|Ïƒz |2 d2 Ï
q2
p
` pzqrÂ´Î²z pz Â´ zÌ„q ` Ïƒz Â¨ ss `
pzq Â´
â€œ 0.
2
dz
2 dz 2
2

(33)

The first-order condition for consumption is
Î´
1
â€œ
,
cËš
a
which implies that cËš â€œ Î´a, an implication that follows from the unitary elasticity of
intertemporal substitution associated with the logarithmic instantaneous utility function.

47

First-order conditions for a and u are
Ï‰pzq ` uËš Â´ f Ëš â€œ 0

(34a)

r
dÎ¨
pzqÏƒz â€œ 0.
dz

(34b)

f Ëš ` Î¸puËš Â´ sËš q `

These two equations determine aËš and uËš Â´ sËš as functions of Ï‰pzq and the value function
r We determine sËš as a function of uËš by solving
Î¨.
Î¸
min |u Â´ s|2
s 2
subject to (33). Taken together, these determine pf Ëš , uËš , sËš q. We can appeal to arguments
like those of Hansen and Sargent (2008, ch. 7) to justify stacking first-order conditions as
a way to collect equilibrium conditions for the two-person zero-sum game that the robust
portfolio problem solves.23

D.2

Competitive equilibrium prices

We show that the drift distortion Î· Ëš that emerges from a robust plannerâ€™s problem determines prices that a competitive equilibrium awards for bearing model uncertainty. In
particular, we compute a vector Ï‰pxq of competitive equilibrium risk prices by finding a robust plannerâ€™s marginal valuations of exposures to the W shocks. We decompose that price
vector into separate compensations for bearing risk and for accepting model uncertainty.
We verify that the plan for log C that emerges from the robust plannerâ€™s problem coincides
with the plan for consumption that solves the portfolio problem of a robust investor who
takes those prices as given.
Noting from the robust planning problem that the shock exposure vectors for log A and
log C must coincide implies
f Ëš â€œ p.01qÏƒc x.
From (34b) and the solution for sËš
uËš â€œ Î· Ëš pzq,
where Î· Ëš can be shown to be the worst-case drift from the robust planning problem if we
23

An alternative timing protocol that allows the maximizing player to take account of the impact of its
decisions on the minimizing agent implies the same equilibrium decision rules described in the text. See
Hansen and Sargent (2008, ch. 5).

48

r â€œ Î¨,
p where Î¨
p is the value function for the robust planning problem.
can show that Î¨
Thus, from (34a), Ï‰ â€œ Ï‰ Ëš , where
Ï‰ Ëš pzq â€œ p.01qÏƒc Â´ Î· Ëš pzq.

(35)

Similarly, in the problem faced by a representative investor within a competitive equilibrium, the drifts for log A and log C coincide:
Â´Î´ ` Î¹pzq ` rp.01qÏƒc Â´ Î· Ëš pzqs Â¨ aËš Â´

.0001
Ïƒc Â¨ Ïƒc â€œ p.01qpp
Î±c ` Î²pc zq,
2

so that Î¹ â€œ Î¹Ëš , where
.0001
Ïƒ c Â¨ Ïƒc .
Î¹Ëš pzq â€œ Î´ ` .01pp
Î±c ` Î²pc zq ` .01Ïƒy Â¨ Î· Ëš pzq Â´
2

(36)

r â€œ Î¨,
p we use these formulas for equilibrium prices to construct a solution to
By setting Î¨
the HJB equation of a representative investor in a competitive equilibrium.

49

References
Anderson, Evan W., Lars Peter Hansen, and Thomas J. Sargent. 1998. Risk and Robustness
in Equilibrium. Available on webpages.
â€”â€”â€”. 2003. A Quartet of Semigroups for Model Specification, Robustness, Prices of Risk,
and Model Detection. Journal of the European Economic Association 1 (1):68â€“123.
Ang, Andrew and Monika Piazzesi. 2003. A No-Arbitrage Vector Autoregression of the
Term Structure Dynamics with Macroeconomic and Latent Variables. Journal of Monetary Economics 50:745â€“787.
Bansal, Ravi and Amir Yaron. 2004. Risks for the Long Run: A Potential Resolution of
Asset Pricing Puzzles. Journal of Finance 59 (4):1481â€“1509.
Battigalli, Pierpaolo, Simone Cerreia-Vioglio, Fabio Maccheroni, and Massimo Marinacci.
2015. Self-Confirming Equilibrium and Model Uncertainty. American Economic Review
105 (2):646â€“677.
Berger, James O. 1994. An Overview of Robust Bayesian Analysis (with discussion). Test
3 (1):5â€“124.
BorovicÌŒka, Jaroslav, Lars Peter Hansen, Mark Hendricks, and JoseÌ A. Scheinkman. 2011.
Risk-Price Dynamics. Journal of Financial Econometrics 9 (1):3â€“65.
BorovicÌŒka, Jaroslav, Lars Peter Hansen, and JoseÌ A. Scheinkman. 2014. Shock Elasticities
and Impulse Response Functions. Mathematics and Financial Economics 8 (4):333â€“354.
Campbell, John Y. and John Cochrane. 1999. Force of Habit: A Consumption-Based Explanation of Aggregate Stock Market Behavior. Journal of Political Economy 107 (2):205â€“
251.
Chamberlain, Gary. 2000. Econometric Applications of Maxmin Expected Utility. Journal
of Applied Econometrics 15 (6):625â€“644.
Chen, Hui, Winston Wei Dou, and Leonid Kogan. 2015. Measuring the â€˜Dark Matterâ€™ in
Asset Pricing Models. MIT Sloan School of Management.
Chen, Zengjing and Larry Epstein. 2002. Ambiguity, Risk, and Asset Returns in Continuous
Time. Econometrica 70:1403â€“1443.
50

Chernoff, Herman. 1952. A Measure of Asymptotic Efficiency for Tests of a Hypothesis
Based on the Sum of Observations. Annals of Mathematical Statistics 23 (4):pp. 493â€“507.
Donsker, Monroe E. and S. R. Srinivasa Varadhan. 1976. On the Principal Eigenvalue
of Second-Order Elliptic Differential Equations. Communications in Pure and Applied
Mathematics 29:595â€“621.
Eberly, Janice C and Neng Wang. 2011. Reallocating and Pricing Illiquid Capital: Two
Productive Trees.
Epstein, Larry G. and Shaolin Ji. 2014. Ambiguous Volatility, Possibility and Utility in
Continuous Time. Journal of Mathematical Economics 50:269 â€“ 282.
Epstein, Larry G. and Martin Schneider. 2003. Recursive Multiple-Priors. Journal of
Economic Theory 113 (1):1â€“31.
Fudenberg, Drew and David K. Levine. 1993. Self-Confirming Equilibrium. Econometrica
61:523â€“46.
â€”â€”â€”. 2009. Self-confirming Equilibrium and the Lucas Critique. Journal of Economic
Theory 144 (6):2354â€“2371.
Gilboa, Itzhak and David Schmeidler. 1989. Maxmin Expected Utility with Non-unique
Prior. Journal of Mathematical Economics 18 (2):141â€“153.
Good, Irving J. 1952. Rational Decisions. Journal of the Royal Statistical Society. Series
B (Methodological) 14 (1):pp. 107â€“114.
Gordon, Robert J. and Joel Mokyr. 2016. Boom or Doom: Debating the future of the U.S.
economy. /https://news.northwestern.edu/stories/2016/11/podcast-boom-vs-doom.
Hansen, Lars Peter. 2007. Beliefs, Doubts and Learning: Valuing Macroeconomic Risk.
American Economic Review 97 (2):1â€“30.
â€”â€”â€”. 2012. Dynamic Valuation Decomposition Within Stochastic Economies. Econometrica 80 (3):911â€“967.
Hansen, Lars Peter and Massimo Marinacci. 2016. Ambiguity Aversion and Model Misspecification: An Economic Perspective. Statistical Science 31 (4):511â€“515.

51

Hansen, Lars Peter and Thomas J. Sargent. 2001. Robust Control and Model Uncertainty.
American Economic Review 91 (2):60â€“66.
â€”â€”â€”. 2007. Recursive Robust Estimation and Control Without Commitment. Journal
of Economic Theory 136 (1):1 â€“ 27.
â€”â€”â€”. 2008. Robustness. Princeton, New Jersey: Princeton University Press.
â€”â€”â€”. 2010. Fragile Beliefs and the Price of Uncertainty.
1 (1):129â€“162.

Quantitative Economics

â€”â€”â€”.
2019.
Structured
Uncertainty
and
Model
https://www.ssrn.com/abstract=3280597. SSRN Working Paper.

Misspecification.

Hansen, Lars Peter and JoseÌ A. Scheinkman. 2012. Pricing Growth-rate Risk. Finance and
Stochastics 16 (1):1â€“15.
Hansen, Lars Peter, Thomas J. Sargent, and Thomas D. Tallarini. 1999. Robust Permanent
Income and Pricing. The Review of Economic Studies 66 (4):873â€“907.
Hansen, Lars Peter, Thomas J. Sargent, Gauhar A. Turmuhambetova, and Noah Williams.
2006. Robust Control and Model Misspecification. Journal of Economic Theory
128 (1):45â€“90.
Hansen, Lars Peter, John C. Heaton, and Nan Li. 2008. Consumption Strikes Back?:
Measuring Long Run Risk. Journal of Political Economy .
Hansen, Lars Peter, BaÌlint SzoÌ‹ke, Lloyd S. Han, and Thomas J. Sargent. 2018. Twisted
Probabilities, Uncertainty, and Prices. Unpublished manuscript.
Ilut, Cosmin L. and Martin Schneider. 2014. Ambiguous Business Cycles. American Economic Review 104 (8):2368â€“99.
Maccheroni, Fabio, Massimo Marinacci, and Aldo Rustichini. 2006a. Dynamic Variational
Preferences. Journal of Economic Theory 128:4â€“44.
â€”â€”â€”. 2006b. Dynamic Variational Preferences. Journal of Economic Theory 128 (1):4 â€“
44.
Newman, Charles M. and Barton W. Stuck. 1979. Chernoff Bounds for Discriminating
between Two Markov Processes. Stochastics 2 (1-4):139â€“153.
52

Peng, Shige. 2004. Nonlinear Expectations, Nonlinear Evaluations and Risk Measures.
Stochastic Methods in Finance: Lectures given at the C.I.M.E.-E.M.S. Summer School
held in Bressanone/Brixen, Italy, July 6-12, 2003. Berlin, Heidelberg: Springer Berlin
Heidelberg.
Sargent, Thomas J. 1999. The Conquest of American Inflation. Princeton, New Jersey:
Princeton University Press.
Tallarini, Thomas D. 2000. Risk-Sensitive Real Business Cycles. Journal of Monetary
Economics 45 (3):507â€“532.
Ulrich, Maxim. 2013. Inflation Ambiguity and the Term Structure of U.S. Government
Bonds. Journal of Monetary Economics 60 (2):295 â€“ 309.
Watson, James and Chris Holmes. 2016. Approximate Models and Robust Decisons. Statistical Science 31 (4):465â€“489.
Zha, Tao. 1999. Block recursion and structural vector autoregressions. Journal of Econometrics 90 (2):291â€“316.

53

