NBER WORKING PAPER SERIES

LIQUIDITY NEEDS IN ECONOMIES WITH INTERCONNECTED FINANCIAL
OBLIGATIONS
Julio J. Rotemberg
Working Paper 14222
http://www.nber.org/papers/w14222

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
August 2008

¸˛I wish to thank for Stephen Cecchetti for conversations as well as Michael Woodford for extremely
valuable discussions and comments. The views expressed herein are those of the author(s) and do
not necessarily reflect the views of the National Bureau of Economic Research.
NBER working papers are circulated for discussion and comment purposes. They have not been peerreviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.
© 2008 by Julio J. Rotemberg. All rights reserved. Short sections of text, not to exceed two paragraphs,
may be quoted without explicit permission provided that full credit, including © notice, is given to
the source.

Liquidity Needs in Economies with Interconnected Financial Obligations
Julio J. Rotemberg
NBER Working Paper No. 14222
August 2008
JEL No. D53,D85,G20
ABSTRACT
A model is developed where firms in a financial system have to settle their debts to each other by using
a liquid asset. The question that is studied is how many firms must obtain how much of this asset from
outside the financial system to make sure that all debts within the system are settled. The main result
is that these liquidity needs are larger when these firms are more interconnected through their debts,
i.e. when they borrow from and lend to more firms. Two pecuniary externalities are discussed. One
involves the choice of paying one creditor first rather than another. The second involves the extent
to which firms borrow and acquire claims on other firms with the proceeds. When a group of firms
raises their involvement in this activity, firms outside the group may face more difficulties in settling
their debts.

Julio J. Rotemberg
Graduate School of Business
Harvard University, Morgan Hall
Soldiers Field
Boston, MA 02163
and NBER
jrotemberg@hbs.edu

The last few years have seen an explosion of two types of financial transactions. First, the
volume of derivative instruments that are purchased and sold has ballooned. To give just one
example, the face value of “credit derivative swaps” may have reached $60 trillion by May
2008.1 Second, a vast number of intermediaries that call themselves hedge funds have been
created. While hedge funds vary a great deal in the transactions they pursue, many are quite
active in derivative markets. These hedge funds borrow from a set of financial intermediaries
while simultaneously acquiring claims on other intermediaries. Because many hedge funds
transact with a multitude of parties, the financial system has become quite interconnected.
This raises the obvious question of whether this interconnectedness strengthens or weakens
the financial system as a whole. Within this broad question, the current paper focuses on a
narrower one, namely whether this interconnectedness exacerbates the difficulties that firms
have in meeting their obligations in periods where the volume of assets that is acceptable
for this purpose is reduced.
The financial obligations that firms have vis-a-vis one another require these firms to make
payments. To focus on the problems caused by insufficient liquidity, I abstract from solvency
issues and consider firms whose required payments are no larger than the amount that each
firm expects to receive from its debtors. These payments should thus present no problem
if firms can borrow freely: any borrowing that a firm makes to settle its obligations is then
extinguished as soon as its debtors pay their own obligations.
This situation can usefully be contrasted with one where loans for the purpose of settling
pre-existing obligations are difficult or impossible to obtain. To honor their required payments on their obligations firms must obtain acceptable (or “liquid”) assets in some other
manner. The payments that firms receive from their debtors are an obvious source of funds
for this purpose. Indeed, the ability of firms to use funds they receive from their debtors to
pay off their creditors implies that a dollar of acceptable liquid assets in the financial system
can be used to settle more than a single one dollar obligation. Nonetheless, I show that the
interconnectedness of the financial system impairs the system’s capacity to use liquid assets
1

See Reguly (2008) who also discusses the relationship of this volume to hedge funds.

1

multiple times. As a result, more interconnected financial systems require more liquidity
(from sources outside the financial system) to settle a given volume of debt.
To gain intuition for this result, it is useful to start by noticing that the partial payments
of debts generate a pecuniary externality when firms have multiple creditors. A firm whose
liquid assets are currently smaller than its outstanding obligations may have to choose the
subset of its creditors to whom it will make payments. Some firms care about this choice
even though their influence on this choice is likely to be negligible. This is true, in particular,
of the firms that have claims on the original firm’s creditors. If firm i has claims on firm j, it
cares a great deal whether firm k uses its limited liquidity to pay off j or whether it chooses
to pay off a fourth firm ` instead.
From the point of view of the financial system as a whole, this choice may not be immaterial either. Imagine, in particular, that firm ` has no further outstanding obligations
perhaps because it started out with sufficient liquid assets to pay off all its creditors. Then,
firm k’s decision concerning whether it should pay off firm ` or firm j (which then pays k)
also affects the total volume of debts that is extinguished with the given supply of liquidity.
As the financial system becomes more interconnected, debtors with limited funds face
a larger array of potential recipients for these funds. It then becomes easier to envisage
situations where these funds go to firms that either have no further obligations themselves,
or that have creditors with no further obligations. There thus exist “worst case scenarios”
where the existing liquidity settles many fewer obligations than is theoretically possible. By
way of contrast, this problem does not arise when each firm has only one creditor. Firms
then have no choice regarding whom they pay and this reduces the scope for “wasting”
payments on firms that have no further obligations left. This lends credence to the idea
that the difficulties caused by periods of scarce liquidity are exacerbated when there exists
a larger set of debt connections among firms.
Because I am concerned with the capacity of solvent firms to settle their obligations in
situations where interconnectedness differs, the paper focuses on a system where all firms
have current claims that equal or exceed their current obligations. This is not to suggest that
2

interconnectedness does not matter in other settings. Indeed, there is a literature studying
what happens in interconnected systems when some firms have total current liabilities that
exceed their current assets. This literature includes the studies by Allen and Gale (2000),
Freixas et al. (2000), Eisenberg and Noe (2001), Cifuentes et al (2005) and Nier et al (2007).2
This literature suggests that interconnectedness has two mutually opposing effects on the
extent to which the financial system is able to withstand the failure of one institution. Interconnections appear to have the potential both of spreading the failure of a single institution
but also of cushioning its impact (by ensuring that a single institution has only a modest
effect on any given other institution).
In common with Eisenberg and Noe (2001), Cifuentes et al (2005) and Nier et al (2007),
the current paper uses graph-theoretic techniques. One difference, though, is that I use
numerical techniques sparingly, with most of the results being established analytically. The
cost of this, of course, is that I am able to do this only for relatively simple environments.
My focus on solvent institutions that are subject to trading frictions leads the model to be
closely related to the literature that analyzes interbank payment systems. In such systems,
banks send messages telling one another that they wish to make a payment. In “real time
gross settlements” (RTGS) systems, this message is supposed to lead to an immediate debit
to the paying bank (and a credit to the receiving bank). If the paying bank lacks funds and
does not receive a loan, these debits and credits are not possible in a pure RTGS system,
and one solution is to put them on hold. This was the solution adopted by the Swiss SIC
2

Current obligations can exceed expected receipts from assets either because the firm is insolvent long
term or because, as in the Diamond and Dybvig (1983) model, contracts are written in such a way that firms
can only meet their short term commitments if a subset of the agents who are entitled to withdraw funds do
so. This latter situation is often described as one of illiquidity, and it is useful to note the similarities and
differences between this notion of illiquidity and the problems of liquidity faced by the firms in my model.
What is similar is that, in both cases, firms have difficulty converting their existing claims into assets that
can be used to pay their current obligations. The difference is that, in the Diamond and Dybvig (1983)
setup, there is no role for liquid assets during a crisis, and the crisis persists even if there is a competitive
centralized market for assets at this time. By contrast, my focus is on a situation where the distinction
between liquid and illiquid assets is crucial during the crisis itself, and liquid assets play a role precisely
because there is no centralized mechanism for settling obligations. It is also worth noting that Freixas et
al. (2000) use the term “gridlock” to describe an equilibrium where depositors at numerous banks decide to
withdraw their deposits prematurely in a variant of the Diamond and Dybvig (1983) model. This term is
used for a different purpose below.

3

system in the period 1987–1999, when it offered no loans to banks (see Martin 2005).
This solution seems inefficient when, using the terminology of Bech and Soramäki (2001),
there is “gridlock” in that bank A lacks X dollars that it wishes to pay to bank B, who lacks
X dollars that it wishes to pay to bank C, who in turn lacks X dollars that it wishes
to pay to bank A. In such cases, it is more efficient to “net” the positions of these three
banks. Some settlements systems, such as CHIPS, are designed to look for sets of payment
messages that can be netted. These systems clear these sets of payments as soon as they
are found. A common alternative, used both by the Fedwire (the U.S. Federal Reserve’s
settlements system) and the Swiss system after 1999, is to simply offer loans (“daylight
overdrafts”) to banks that lack sufficient funds to complete their desired payments.3 The
study of settlements systems thus shows that “netting” and the provision of liquidity can be
substitutes for dealing with gridlock.
The current study is related to this literature because it considers situations where, since
all firms have claims that are at least as large in value as their obligations, the financial
system would operate smoothly if there were extensive netting. My analysis, however, is
more applicable to firms like investment banks and other “nonbank” actors in the financial
system, who are not members of either a settlements systems with netting like CHIPS or a
settlements system with access to daylight credit from a central bank. They thus rely on
their own liquidity to settle their obligations. A key issue I study, then, is how extensive this
liquidity has to be to avoid gridlock.
The paper proceeds as follows. Section 1 is designed so that it can be skipped. Its purpose
is to contrast the more standard view where intermediaries are modeled as channeling funds
from ultimate borrowers to ultimate lenders (see Diamond (1984) for a classic example) with
a setting where there are debt “cycles” among intermediaries. A simple cycle would be a
situation where a bank B lends to hedge fund A, which acquires claims on a financial firm
3

In the case of Fedwire, Mengle (1985) notes that these daylight overdrafts came into existence because
Fedwire regulations only required paying banks to have sufficient funds “at the end of the day.” In the case
of the Swiss system, the performance of the system without central bank liquidity provision was evidently
unsatisfactory.

4

C, which in turn uses its funds to lend to B. Such cycles emerge easily when financial firms,
such as hedge funds, borrow from one firm while holding derivatives that impose financial
obligations on another. To complete the cycle, the bank financing the hedge fund must also
have a contract that obligates it to make payments to the hedge fund’s counterparty. Section
2 then presents a more complex model of interconnected lending and shows that the degree
of interconnectedness increases the number of firms that must be provided with liquidity if
all debts are to be settled.
Section 3 endogenizes the debt structure of Section 2. The purpose of this is to demonstrate a pecuniary externality that arises at the stage at which firms decide to whom they
wish to extend loans. When a financial firm decides not to lend to another, this can easily
reduce the interconnectedness of the financial system (since the second firm may well be
forced to curtail its lending as well). This means that a firm’s decision not to lend can
increase the ease with which other firms settle their obligations in times where liquidity is
short. Thus, the equilibrium degree of interconnectedness can be excessive from a social
point of view.
Section 4 considers a setting where there is an exogenous limit on the number of times that
a unit of liquidity can be used to settle obligations within a period. This may constitute a step
towards realism relative to the case of potentially infinite chains of payments considered in
section 2. This limitation on payments implies, in particular, that a larger volume of liquidity
is needed to settle a larger volume of debt, even if interconnectedness is held constant. The
earlier result that interconnectedness makes it more likely that a financial system with limited
liquidity finds itself unable to settle all obligations is shown to carry over to this case as well.
Section 5 offers some concluding remarks.

1

Setting the stage: Vertical lending versus debt cycles

A simple, and standard, view of financial intermediaries is that these channel funds from
ultimate lenders to ultimate borrowers. As ultimate borrowers repay their obligations, intermediaries are able to repay their obligations to ultimate lenders as well. If contracts are
5

simple and intermediaries have claims on borrowers that equal their liabilities to lenders, the
capacity of all ultimate borrowers to repay all their debts assures that all intermediaries are
able to settle their own obligations as well. To see this, start with a simple example where
a lender has a claim of z against an intermediary, who in turn has a claim of z against a
borrower. When the borrower repays the z that he owes, the intermediary is able to fulfill
his obligation as well.
This result readily extends to other situations where claims are “vertical,” so that any
firm A that must repay funds to a firm B is acting as a channel from ultimate borrowers to
firm B itself. To show this, I briefly consider a setting where there are two layers of potential
intermediaries, with layer 2 being restricted to receive funds from ultimate borrowers. Layer
1 is restricted to receiving funds directly from ultimate borrowers or indirectly through a firm
from layer 2. Let there be I ultimate lenders indexed by i and J ultimate borrowers indexed
by j. There are also two types of intermediaries. The N type 2 intermediaries indexed by
n can only have claims on ultimate borrowers, and the claim of firm n on final borrower j
2B
equals cnj
. By contrast, the M type 1 intermediaries indexed by m can have claims on both

ultimate borrowers and on type 2 firms, with the size of firm m’s direct claims on borrower j
12
and on firm n being denoted by c1B
mj and cmn respectively. Lastly the size of the direct claims
L2
LB
of lender i on firm m, firm n and borrower j are denoted by cL1
im , cin and cij respectively.

As suggested in the Introduction, I focus on situations where firms are solvent. A fairly
strict version of this holds for each of the two types of intermediaries if
∀m ∈ {1, . . . , M },

I
X

cL1
im

≤

∀n ∈ {1, . . . , N },

i=1

c12
mn

+

n=1

i=1
I
X

N
X

cL2
in

+

M
X
m=1

c12
mn

J
X

c1B
mj

(1)

c2B
nj

(2)

j=1

≤

J
X
j=1

Firms of type 2 are assumed to pay their debts whenever they can. Equation (2) then implies that, if the final borrowers pay their obligations, firms of type 2 pay all their obligations
to both the ultimate borrowers and to firms of type 1. Equation (1) then implies that firms
of type 1 are able to pay all their creditors as well. Thus, in this vertical case, nondefault
6

by ultimate borrowers implies trivially that all debts are settled. As long as the vertical
structure is maintained, this result does not depend on the number and type of creditors (or
debtors) acquired by the agents.
As we shall see, these variables do matter when there are “horizontal” ties across financial
intermediaries. Before demonstrating this, it is worth showing that such horizontal ties can
create cycles. If firms 1 owes z to firm 2, who owes z to firm 3, who owes z to firm 1, all
three firms are “solvent” but none is an ultimate borrower. Without any outside source of
liquidity, these firms are unable to settle their debts. In this particular case, the needed
liquidity can be obtained by inserting one of them into a vertical lending relationship. This
is depicted in panel (a) of Figure 1, which can be seen as combining the cycle I just described
with a debt of z from B to 1 and a corresponding debt of z from 1 to L. Now, when B repays
his debt, firm 1 can first repay firm 2, which repays firm 3, which then makes z available to
firm 1 so that it can repay L. Thus, all debts can be settled by the simple device of giving
firm 1 access to liquidity from outside the system consisting of {1, 2, 3}.
While this device can be effective, it is not infallible. Its success requires, in particular,
that firm 1 repay firm 2 before it repays L. In this simple case, it may seem obvious that this
is in firm 1’s interest. However, consider the simple variant depicted in panel (b) of Figure 1.
Here, firm 1 does not owe funds to an identifiable ultimate lender L but to firm 4 who in turn
owes funds to L. If firm 1 does not know the creditors of firm 2 and 4, he may sometimes
pay firm 4 before he pays firm 2. It might then be necessary to give firm 1 additional sources
of liquidity to guarantee that all debts are settled. This example demonstrates that, when
there exist horizontal debt ties, full repayment by ultimate borrowers is no longer sufficient
to ensure the settlement of all debts.
One potential way to proceed at this point might be to consider more general debt
patterns that include both vertical relationships and cycles. Because the analysis becomes
intractable quickly, I follow a simpler route. I consider more complicated debts among the
firms that lend to one another (the insiders of the financial system) and then ask about the
properties that liquidity provision from outside this set must satisfy for all debts to be settled.
7

One conclusion from this analysis is that, as financial firms become more interconnected,
ensuring that one firm has access to outside liquidity may no longer be sufficient for settling
all debts.

2

A settlement model with long payments chains

Consider an economy populated by N financial institutions (or firms) indexed by i ∈
[0, 1, . . . , N − 1] and let these firms be arrayed in a circle so that firm N − 1 is followed
by firm 0. At the start of the settlement period these firms have debts that they are expected to repay. Each firm starts out by being expected to pay z dollars to the firms whose
index is i + j with j ≤ K where the addition is taken modulo N . Notice that, since each
firm owes zK and is owed zK, this combination of debt and assets leaves each firm solvent.
Some firms, in fact, also receive an endowment of a “liquid” asset. What makes this asset
liquid is that it is acceptable by firms that expect to receive a payment of z. One obvious
question is what set of assets passes this test. The main reason an asset is acceptable as
payment to firm j is that firm j expects it to be acceptable to its own creditors. Thus, as
emphasized by Kiyotaki and Wright (1993) and Wright (1997), extrinsic beliefs on whether
an asset is acceptable can influence whether an asset is in fact acceptable in equilibrium.
A “liquidity crisis” may thus be thought of as a situation where only a small set of assets
remains acceptable for payment. Firms may, for example, become barred from using their
own IOU’s as methods of repaying others (or, what may be equivalent, from using their own
IOU’s to quickly raise funds with which to pay others).
Even in a liquidity crisis, some assets are likely to remain acceptable for payment, if
for no other reason than the existence of legal tender laws that force lenders to accept
currency for this purpose.4 It thus seems useful to analyze how the financial sector settles
its inter-firm obligations when it has a finite but reduced supply of such liquid assets. If
all these obligations need to be settled simultaneously with liquid assets, the problem is not
4

In practice, many government-issued securities appear to maintain this role even when other assets
become unacceptable.

8

be very interesting. For full settlement to occur in this case, each firm needs an to have an
endowment of liquid assets that equals its total debt zK. It is more realistic, however, to
suppose that that some liquid assets can be used more than once in the same period because
firms can use the liquidity they receive as payment to pay some of their debts in turn.
One way of capturing this idea is to imagine that debts must be settled by the end of a
period of discrete length and that multiple rounds of payments can take place within this
period. This fits to some extent with the practice of dating obligations by calendar date without also specifying the precise time-of-day in which they are due. To allow this mechanism
to be as useful as possible, I suppose that any firm that finds itself simultaneously with some
liquid assets and some obligations transfers liquidity to creditors so as to reduce its debts as
much as possible. Aside from the transfer of liquidity, no other form of communication is
allowed. In practice, the process of consummating, verifying and recording payments does
take some time, so there may be a finite upper bound R to the number of payments that
can be made within the period using a single unit of liquidity. Below, I consider the case
where the upper bound R is binding. I start with an even simpler case where each payment
is processed so rapidly R is effectively infinite.
To model the consequences of the finiteness of the supply of liquidity, I sequentially endow
the financial firms with units of liquidity and study the resulting outcomes. One can think of
this endowment as arising, as in section 1, from transactions with agents outside the system.
Transactions with outsiders might also drain liquidity from the financial system. However,
as a first pass, this is ignored and left for further research. This considerably simplifies the
analysis, as does the assumption that financial firms receive their endowments of liquidity
sequentially.
After one firm receives some liquidity, it uses it to make payments, and the recipients
of these payments make payments in turn. No further liquidity is injected into the system
until the existing units of liquidity can no longer be used to settle existing obligations.
When no further units of liquidity are introduced, and when all the existing liquidity can
no longer be used to satisfy obligations, the settlement period ends. A firm i that still has
9

open obligations at this point must pay a cost c. This section focuses on the number of
(sequential) distributions of liquidity from outside the financial system are needed to settle
all the debts.
Under certain additional conditions, a somewhat surprising result emerges from this
setup. This is that the minimum amount of liquidity that is needed to settle all debts
is arbitrarily small and that it is enough that one firm be endowed with this minuscule
amount of liquidity. To demonstrate this result, it is helpful to notice that one can represent
the claims that firms have against one another with a directed graph G where the vertices
represent firms and where there is an “edge” going from vertex i to vertex j whenever i owes
z to j. The graph G thus has N vertices and N K edges. Because each of these N vertices
has K edges emanating from it and K edges pointing towards it, I use the symbol CNK to
denote it.
In graph theory, the in-degree of a vertex is the number of edges that end at this vertex
while the out-degree of a vertex is the number of edges that originate at the the vertex.
Further, a directed graph is connected if one can travel from any vertex to another by going
along a series of edges, where travel always goes from the origin to the destination of the
edge. When traveling in this way, a cycle denotes a set of edges that constitute a path from
one vertex back to the same vertex. An Eulerian cycle is a cycle that traverses every edge
of the graph once, and does so in the direction of the edge.
A graph is Eulerian if it has an Eulerian path. One elementary result in graph theory is
that a graph is Eulerian if it is connected and each vertex has an in-degree that equals its
out-degree. A second result that is relevant for this paper is that an Eulerian graph can be
decomposed into cycles which are edge-disjoint so that these cycles do not have any edges
in common while the union of all these cycles contains all the edges of the graph. In the
current model, both the in-degree and the out-degree of each vertex equal K. Moreover, the
graph is connected since one can always reach vertex j from vertex i by traveling to i + 1,
i + 2 and so on until one reaches j (by passing vertex 0 if j < i). Since the in-degree equals
the out-degree of each vertex and the graph is connected, it is Eulerian.
10

Proposition 1. Let firm i be endowed with an arbitrarily small amount of liquidity w. Using
just this liquidity, a path of payments can be found such that all debts in CNK are settled within
the period.
Proof. Let Ĉ i = {i, j, k, . . . , i} be an Eulerian cycle originating at i. Suppose first that
w < z. Then let i give w to j to settle part of his debt with him, let j use these funds to
pay part of his debt to k, and so on along the Eulerian path until these funds reach i. At
this point, everyone’s outstanding debt towards its K creditors is z − w. If this exceeds w,
i once again pays w to j and so on along the Eulerian path. When enough Eulerian cycles
of payments have been completed that everyone’s outstanding debt z̃ is less than w, i pays
z̃ to j who passes it on to k, and so on, until all debts are settled. This last case covers the
case where w ≥ z as well.
While the particular graph considered in this proposition is special, it is clear from the
proof that the condition that is required is that the graph of debt obligations be Eulerian.
As long as all financial firms are connected to one another, this will be true if each firm’s
total obligations to other financial firms are equal to its total claims from such firms. Since
the model neglects the connections of financial firms with ultimate borrowers and ultimate
lenders, this is an automatic consequence of supposing that financial firms are solvent. Solvency would remain sufficient to guarantee this condition if, as in panel (a) of Figure 1,
financial firms that owe funds to ultimate lenders have equal claims on ultimate borrowers.
In practice, these claims are probably unequal for many firms, so solvency does not imply
an Eulerian graph of debts among financial firms.5 Nonetheless, the basic implication of this
proposition, that a small amount of liquidity provided from outside the financial system (by
ultimate borrowers, for example) is sufficient for the financial system to settle all its debts,
may well carry over to this case.
This proposition can be taken to mean that this sector of the economy this economy
needs very little liquidity to settle its debts. Unfortunately, however, this result relies on
5

If vertices corresponding to ultimate lenders and ultimate borrowers are included in the graph, the graph
is obviously not Eulerian, since the in-degree and out-degree are not equal for these vertices.

11

payments taking a very particular path. It requires, in particular, that these payments move
along an Eulerian cycle. With full information regarding everyone’s debts, such cycles can
be computed so that a central planner could force payments to proceed along such a path.
An individual firm, however, has no reason to know the Eulerian path (in part because, in
practice, no firm is likely to know the full range of debts of any firm other than itself). In
addition, the model forbids the communications that would allow a firm to provide incentives
to another to make payments along an Eulerian path.
In this paper, I study mostly paths that, at least in a certain sense, require as much
liquidity as possible. The purpose of this analysis is to understand how much liquidity
might be required to settle all debt under relatively adverse circumstances. To define these
circumstances, some additional analysis is required.
Suppose that liquidity endowments are of size z (this assumption is relaxed later). As
endowments are used to make payments of z, obligations get extinguished. One can thus
think of the graph that describes these obligations as changing over time, with the edge from
i to j being deleted whenever i pays z to j to settle a debt. When a firm neither has claims
on others nor owes any firm any payments, its vertex can be removed as well. Consider the
initial graph CNK and give an endowment of z to i. An important property of the model is
that these funds continue to remove edges from the graph until i has no further obligations.
At that point, i’s vertex can be removed as well and i’s liquidity endowment is back in his
hands. The return of liquidity to the firm that originally obtained it follows from the fact
that each firm has the same number of debts as it has claims on other firms. This implies
that, whenever a firm j with no endowment receives z as payment, j still has a debt that it
can extinguish by paying z to yet another firm. As a result, any unit of liquidity with which
i is endowed continues to be used for payments until it is back in the hands of i himself. As
long as firm i still has obligations, it makes further payments and this implies that payments
continue until i has settled all its obligations and is in possession of its initial endowment.
Let Gt denote the graph that is left after t firms have each been given an endowment of z
and made all the payments that this endowment facilitates, with G0 = CNK . Let dit represent
12

the total obligations of firm i at t, with di0 = zK. Suppose that, at stage t, there still exists
a firm i such that dit > 0. I consider the following twin assumptions regarding the sequential
distribution of endowments and the paths of payments.
Assumption A. If firm j receives an endowment when the graph of obligations is Gt ,
the path followed by its first payment follows one of the shortest cycles in Gt that includes
j. If at any vertex i of this cycle (including the origin j) there is more than one shortest
path back to j, the one that is chosen is the one that maximizes z where the edge {i, i + z}
is included in the cycle. If j still has outstanding debts after earlier payments return to him,
he makes new payments. These are chosen in a like manner. They thus follow the shortest
cycle such that, whenever there is a choice at a vertex i of paths of equal length, it uses the
edge that advances the most from that vertex.
Assumption A is, in a sense at the opposite extreme from Eulerian paths. While those
paths extinguish as many obligations as possible, Assumption A supposes that i’s payments
settle as few obligations as possible before returning to i. Assumption A can thus be seen as
an attempt at considering a “bad outcome” where a relatively large amount of liquidity is
needed to settle obligations. This conservatism is counteracted to some extent by Assumption
B:
Assumption B. If a firm j receives an endowment after t firms have received theirs (and
made all possible payments), djt ≥ dkτ for all k between 0 and N − 1.
The purpose of Assumption B is to ensure that liquid endowments go to the firms that
need them the most (because they have the largest debts). The reason to make this assumption is that, without it, it is easy to waste massive amounts of liquidity by giving it to
firms that have already settled all their obligations in the past. It does not seem reasonable
to compute the minimum amount of liquidity needed by the system while allowing large
amounts of liquidity to be wasted in this manner.
Proposition 2. Under Assumptions A and B, the minimum number of firms that must be
provided with liquidity to settle all obligations in G0 = CNK is K.
Proof. Start by giving z to firm i. The K shortest cycles starting at i on CNK start at i + j,
13

1 ≤ j ≤ K, then go to i + j + K, i + j + 2K and so on, until they reach {i − K, . . . , i − 1},
at which point they return to i (where all these numbers are modulo N ). These K cycles
are edge-disjoint and the full set of them touches each vertex once. Once the edges that are
part of these cycles are removed, one can remove vertex i as well since i is left with no debts
or claims. This leaves the graph G1 which is given by CNK−1
−1 . In this graph, each vertex has
dj1 = K − 1.
Assumption B implies that one of these remaining firms receives the next unit of endowment. By the argument above, Gt is thus CNK−t
−t for all t ≤ K − 1. After K − 1 firms
have been given an endowment, the graph is CN1 −K+1 . Denoting the K’th firm that receives
an endowment by i, this firm pays i + 1, who pays i + 2 and so on until all the debts are
cleared.
This proposition shows both that giving K separate firms an endowment is enough to
clear all debts and that, under assumptions A and B, giving endowments to fewer firms
leaves some firms unable to settle their obligations. Indeed, if only K − 1 firms are given
an endowment, only K − 1 firms clear their debts and the remaining N + 1 − K firms are
unable to do so. This shows that an increase in the interconnectedness of firms increases the
liquidity that is needed to settle all debts under assumptions A and B.
To simplify the presentation, the size of individual endowments and the size of bilateral
obligations have both been set equal to z. This is not essential, however. Let the size of
individual endowments be ze , which is not necessarily equal to z, instead. Then:
Proposition 3. The number of debts that are cleared under assumptions A and B by giving
k firms an endowment of ze is independent of the size of the bilateral obligations z.
Proof. Consider any cycle of payments that takes place when ze = z. If ze > z, this cycle
of payments is still feasible so that the same sequence of payments clears the same debts as
are cleared when the endowment is z. If ze < z, let q equal z/ze when this ratio is rounded
down and let zr = z − qze . Then replace each cycle of the cycle of payments that takes place
when ze = z by q + 1 cycles, where the first q transfer ze each and the last transfers zr .
14

This proposition also implies that z, and thus the total size of debts, does not affect the
minimum amount of liquidity needed. Only the interconnectedness of debts K matters when
R is sufficiently large.
To gain intuition for the model and its behavior consider the simple case shown on Figure
2 where N = 6 and K = 1. Suppose that only firm 0 starts out with liquidity equal to z,
perhaps because it is the only one involved in a vertical lending chain like the one depicted in
panel (a) of Figure 1. Within the financial system, this firm has no one to pass this liquidity
to other than firm 1, who passes it on to firm 2 and so on until firm 5 returns it to 0. In the
process, all debts are settled. Figure 2 also makes it clear that this result does not depend
on N being equal to 6: no firm has a choice as to whom to pay when K = 1, so all payments
complete a full circle before returning to firm 0.
This can be contrasted with Figure 3 where N = 6 and K = 2 and the left panel shows
C62 . The middle panel shows an Eulerian cycle. In this cycle, 0 makes a second payment
after the funds it has advanced first get returned to him. Suppose that the first payment is
given by the dashed arrows so that the vertices it reaches, in order, are {0, 2, 4, 5, 1, 3, 5, 0}.
The second payment then follows the solid arrows so that its path is {0, 1, 2, 3, 4, 0}. When
all these payments have been made, all obligations have been settled. Note that it is crucial
for this particular Eulerian path to be completed that 5 first pass to 1 and only later pass
to 0. The right panel shows a less happy outcome where the first of 0’s payments follows
{0, 2, 4, 0} so that 4 passes immediately to 0, while the second payment follows {0, 1, 3, 5, 0},
so that 5 passes to 0 at his first available opportunity. The multiplicity of choices faced by
each firm in the case K = 2 makes it easier to construct paths of payments such that giving
liquidity to just one firm is insufficient to settle all debts. As K is increased further, this
multiplicity can be exploited so that even more firms must be given liquidity.
So far, this section has only considered the fully symmetric graph of obligations CNK . To
study whether firms make optimal decisions when they acquire claims and debts, however,
one must study what happens when one firm has fewer assets and liabilities. It is, of course,
impossible to reduce only one firm’s obligations since eliminating i’s obligation to j means
15

that j is unable to pay off as many obligations as before. If j responds by reducing its
obligations to k, firm k must further reduce its own debts. This logic implies that, starting
with the graph CNK , at least one cycle must be removed for i to have one fewer obligation
while ensuring that all firms still have the same number of claims as they do debts. Consider
then, the graph Gi = CNK − Ci where Ci is a cycle that passes through i.
Intuition would suggest that, since there are fewer debts to settle, complete settlement of
all debts can be accomplished by providing fewer firms with liquidity when debts are given
by Gi than when they are given by CNK . This can be seen graphically for a special with N = 6
and K = 2 in Figure 4. In this Figure, one cycle has been removed from C62 , namely the
cycle given by {1, 3, 5, 1}. Inspection of the Figure shows that giving a liquid endowment to
any of the firms with two debts (0, 2 or 4) is enough to clear all debts because these firms
first make a payment that travels along the dashed arrows and then make a second payment
that travels along the solid ones.
Using numerical methods, it is readily shown that the basic conclusion from this example
extends to other values of K and N . I have, in particular, considered a range of values
for these parameters and constructed Gi by subtracting a shortest cycle from CNK . In other
words, I subtracted a cycle such that all but one of its edges went from a vertex with index i
to a vertex with index i + K, while the remaining edge went from a vertex with index i to a
vertex with index i + r where r is the remainder in the division of N by K. I then assigned
endowments using Assumption B and chose paths of payments consistent with Assumption
A. When a firm receives an endowment, Assumption A uniquely determines these paths. By
contrast, Assumption B does not uniquely determine which firm receives an endowment from
among all the firms that have the maximum total debt. In the case of CNK , this ambiguity
was not important because all firms were symmetrically placed after an endowment had
been used as much as possible for payments. In the case where one cycle is removed from
CNK , however, firms are not as symmetric. The numerical analysis reveals that, as a result,
the total number of firms that must be given liquidity to settle all the debts depend on the
identity of the particular firms that are given liquidity. While I did not study this dependence
16

exhaustively, many possible allocations were considered and, in all cases, fewer than K firms
had to be given liquidity to settle all debts.

3

A model of multilateral claims acquisition

To show the effect of interconnectedness on the amount of liquidity that might be needed
for settlement, one can treat the level of obligations as exogenous, and this is the course
pursued in the Section 2. This analysis leaves open, however, whether the interconnections
that are observed in equilibrium are excessive or not. To show that the equilibrium degree of
interconnectedness need not be socially optimal, this section develops a very simple model of
claims acquisition. This model is somewhat unusual both in the way that it creates demands
for securities and in the centralized mechanism that it postulates for determining who holds
claims on whom. It tries to capture two fairly conventional forces, however. The first is that
firms differ in the claims that they wish to hold. The second is that financial intermediaries
have an incentive to maximize the volume of intermediation.
One reason why people and firms may wish to hold different portfolios from one another
is that they differ in the returns that they expect from different securities. Models where
people differ in their equilibrium beliefs are somewhat complex, however, and I thus opt for a
simpler approach that relies on “tastes.” In particular, firm i is assumed to derive utility u(j)
from holding a claim of z on firm i − j. Claims smaller than z yield no utility, and neither
does utility rise if the size of claims is increased above z. This extreme concavity leads firms
to be unwilling to lend more than z to anyone and this fits with the common tendency of
many financial market participants to limit their exposures to individual counterparties as
a method to manage their counterparty risk (see Corrigan, Theike et al. 1999, p. B1 for
a description and discussion). I let u(j) be decreasing in the index j so that firms have
an intrinsic preference for holding the claims of firms that are close to them when going
in the direction where the firm index falls. There is an extensive literature demonstrating
that people and firms’ portfolios contain relatively large proportions of claims on “local”
creditors, and the model is partially faithful to this effect by giving firms a preference for
17

claims whose indexes are close to their own.
Explicit modeling of a decentralized system where individuals have something to gain by
arranging trades by third parties is also beyond the scope of this paper, even though the issue
occupies a central role in the financial services industry. I postulate instead a centralized
mechanism whose aim is to maximize financial transactions on the basis of messages sent
by participating firms. The message sent by firm i consists of the integer `i . This integer is
interpreted as the number of firms that i is willing to lend to if it has the resources to do so.
Because i is known to have a preference to lend to local firms, the message is taken to mean
that i is willing to lend resources to all firms whose index is i − j where 1 ≤ j ≤ `i and the
subtraction i − j is modulo N .
On the basis of these messages, the mechanism determines the matrix X whose element
Xji is equal to 1 if firm i lends z to j and equals zero otherwise. The ith column thus
indicates the firms to whom i lends funds, while the jth row indicates all the firms that lend
resources to j. Letting ι represent a vector of N ones, the requirement that each firm’s total
loans be equal to its total obligations can be written as
Xι = X 0 ι

(3)

where X 0 is the transpose of X, so the sum of the elements of a row is equal to the sum of
the elements of the corresponding column. The centralized mechanism maximizes the total
value of claims ι0 Xι subject to two constraints. The first is (3) and the second is that Xji
can only equal zero or one, and can take the latter value only if i − j ∈ {1, . . . , `i }. Letting
` denote the full set of messages, the solution to this optimization problem is the matrix
X ∗ (`). The matrix X ∗ is the adjoining matrix of a directed graph, since it has zeros on the
diagonal while some of its off-diagonal elements equal one. Since Xij∗ is equal to one when i
owes funds to j, and since this debt contract requires i to pass z units of liquidity to j, X ∗
is in fact the adjoining matrix for the settlements graph described in the previous sections.
From the perspective of firms i, it is useful to decompose ` into the message sent by i
himself, `i and the messages sent by all other firms `i . Firm i then chooses `i to maximize
18

his own utility, which is given by
Ui =

i+N
X−1

u(j − i)Xij − Pi (X ∗ )c

j=i+1

where Pi (X ∗ ) is the probability that firm i will be unable to settle one of its obligations given
the debts represented by the matrix X ∗ . An equilibrium, then, is a set of messages `i that
maximize Ui while taking `i as given. I focus on symmetric equilibria where all firms send
¯ Given such symmetric messages, the centralized mechanism sets K = `¯
a message `i = `.
and thereby reproduces the debts considered in the previous section. Assuming that `¯ firms
chosen sequentially according to Assumption B are given endowments of liquidity and that
settlements proceed according to Assumption A, Pi = 0. These probabilities are higher if
Assumptions A and B govern who gets liquidity and how it is used but the number of firms
¯
that receive liquidity has a positive probability of being smaller than `.
For a symmetric equilibrium to exist, no firm must want to unilaterally deviate from
¯ When a single firm deviates by setting `i above `,
¯ X ∗ is unaffected.
sending a message of `.
¯ firm i does not have the resources
Since the mechanism limits the loans of all other firms to `,
to increase the number of its loans beyond this. The ineffectiveness of a message that is above
that of all other firms implies that firms cannot gain or lose from sending messages that are
¯ This indifference could justify assuming that firms send
above the consensus message `.
messages of `¯ whenever they believe that other firms do so, even if all firms preferred to
make loans to more firms. This could then rationalize equilibria with arbitrarily small (and
even zero) loans. Such equilibria are not robust, since they hinge on reacting to indifference
in a very particular way. They are also unattractive because firms appear impotent to change
their loan volume, which does not seem consistent with the active interest that firms seem
to take in their loan exposures.
I thus center my attention on symmetric equilibria where firms are indifferent with respect
¯ on the other hand, does affect equilibrium
to reductions in `i . A reduction in `i below `,
lending because it prevents the centralized mechanism from giving firm i claims on `¯ firms.
Indeed, (3) requires a reduction also in the number of firms that lend to i and in the loans
19

¯
of at least some of the firms to whom i would have lent if `i had been set equal to `.
Consider then, a deviation where `i = `¯− 1. Because i can end up with at most `i claims
and obligations, the resulting X ∗ must feature at least one less cycle passing through i than
¯

the graph CN` . Since the mechanism seeks to maximize the number of edges remaining in X ∗ ,
it removes a shortest cycle. As discussed in the previous section, this implies that endowing
`¯ − 1 firms with liquidity is sufficient to settle all debts under assumptions A and B.
The aim of this section is only to demonstrate that the acquisition of claims need not
be optimal. I thus proceed to construct a special case where private and social interests
diverge, with the hope that it provides some intuition that is more generally valid. Suppose
that assumptions A and B hold, that it is certain that at least K̄ − 1 firms will receive
endowments of liquidity and that there is a probability µ that K̄ firms will do so. I now
consider a sufficient condition for an equilibrium to exist such that all firms set `i equal to
K̄.
At such an equilibrium, all debts are settled with probability (1−µ). With the remaining
probability, N − K̄ + 1 firms are left with one unpaid debt, while K̄ − 1 firms settle all their
debts because they receive an endowment of liquidity. This means that a firm i that deviates
from the proposed equilibrium by setting `i = (`¯ − 1) increases its probability of settling
all its debts from (1 − µ + µ(K̄ − 1)/N ) to one. It thus avoids the expected default costs
µc(N − K̄ + 1)/N . Since the firm loses u(K̄) by doing so, it is indifferent with respect to
this deviation if
u(K̄) =

µc(N − K̄ + 1)
N

(4)

Condition (4) ensures that there is an equilibrium with `¯ = K̄. Symmetric equilibria with
smaller numbers of loans also exist if all firms set `i to smaller values. What is less appealing
about these equilibria is that all firms prefer to have more debts, so their existence relies on
firms sending the message `¯ rather than `¯ + 1 only because they are sure that it will make
no difference. To see this, consider an equilibrium with `¯ = K̄ − 1. If firm j thought that it
stood a chance of obtaining K̄ debts and assets by sending a message of K̄, it would do so.
Its benefit from doing so would be u(K̄). Its loss, meanwhile, would be µc(N − K̄ + 1)/N if
20

every other firm sent a message of K̄. If fewer firms did so, but nonetheless enough of them
did it for firm j to end up with K̄ debts and assets, Assumption B ensures that firm j would
have a greater than (K̄ − 1)/N probability of being a recipient of a liquidity endowment. It
would then be assured of settling its debts even if only K̄ − 1 receive an endowment. It thus
stands some chance to gain, and no chance to lose by sending a message of K̄.
¯ a single firm is strictly better off if sending a
For equilibria with even lower values of `,
¯ leads it to acquire `+1
¯ debts and assets. At these lower levels of indebtedness,
message of `+1
all debts are settled with probability one, so that the firm simply gains u(`¯+ 1) if it succeeds
in increasing the size of its balance sheet.
I now study the social consequences of having firm i reduce `i from K̄ to K̄ − 1. For a
certain number of firms, this reduces the number of their debtors and creditors by one. Given
that the mechanism maximizes total debts, the number of firms thus affected is N/K if N
is divisible by K and is otherwise 1 + N/K. These firms all lose u(K̄) − µc(N − K̄ + 1)/N
so that they neither gain or lose anything. For the rest of the firms, there is a net gain
of µc(N − K̄ + 1)/N since their debts are now settled for sure. To obtain the total social
gain, one multiplies this individual gain by (N − N/K̄) when N is divisible by K̄ and by
(N − N/K − 1) otherwise. The reason these social gains exist is that Assumption A implies
that liquidity is not used in its most socially efficient manner. This means that reducing a
few firms’ liquidity requirements allows many other firms to take advantage of the liquidity
that is thus freed up.

4

Short payments chains

There are several reasons to be interested in situations where there are limits to the number
of payments that can be settled by a unit of liquidity. One might suppose, for example, that
the processing of each payment takes a discrete amount of time τ while the length of the
trading day is itself limited and equal to T . It is then impossible to use a unit of liquidity for
more than T /τ payments on a given calendar day and this may affect the amount of liquidity
that one needs to settle the debts that come due on that day. As one firm is paying a second
21

during a particular time interval, a third firm might be able to learn that it will receive the
resulting funds later on. This third firm may thus be both able and willing to make a nearly
simultaneous payment to a fourth firm using funds raised though a “daylight” loan. This
parallel processing of payments may allow a unit of liquidity to be used more than T /τ in a
given day.6
Nonetheless, there may well be limitations on the process of making payments in advance
of receiving liquidity. One of these is that, when a bank’s daylight loan is repaid, the bank
receives liquidity. This liquidity can only be used to settle more debts if the bank lends it
anew. If the bank fails to do so, only the original cascade of payments using the system’s
actual liquidity continues unabated.
This section thus takes up the case where the maximum number of times that a unit of
liquidity can be used, R, is smaller than N − K so that the paths of payments considered in
Section 2 are infeasible. One immediate consequence of this is that the total liquidity that
is needed to settle all debts now depends on the volume of debt in addition to depending
on the number of interconnections among firms. To see this, imagine a pattern of liquidity
endowments that settles all debts when each firm owes z to each of its creditors. If each
bilateral debt is of size λz (so that the total debt is multiplied by λ), it can be settled
by the same sequence of endowments, as long as each endowment is multiplied by λ as
well. Conversely, if one multiplies every bilateral debt by a sufficiently large λ, the original
distribution of liquidity endowments will be insufficient to settle all debts.
When R is small enough that it prevents liquidity from returning to the firm that was
originally endowed with it, Assumption A becomes inappropriate. Because one role of this
assumption was to prevent payments from following Eulerian paths, which were even longer,
it might be desirable to leave payment paths unconstrained when they are already being
limited by the size of R. At least some of the analysis in this section is valid for such
arbitrary paths. Still, some of the proofs of this section rely on tracing out the effects of
6

If these loans are costly, firms would prefer to pay with cash that they have already received, and this
might dampen the use of this borrowing. See Angelini (1998) for a model where priced intraday credit leads
firms to postpone their payments until they have cash on hand.

22

particular sequences of liquidity endowments and these effects do hinge on the way firms use
the liquidity they receive. For this reason, I consider a simple modification of Assumption
A, which maintains the idea that payments are made along edges that advance the index as
much as possible. This is:
Assumption A’. If firm j receives an endowment when the graph of obligations is Gt ,
and the shortest cycles that include j are longer than R, then each firm i that is able to
make a payment to a creditor based on j’s endowment makes this payment to the creditor
whose index is furthest from i.
Assumption B, on the other hand, does not require modification in the sense that the
total debt of each firm is still well-defined at each stage so that one can give liquidity to one of
the firms with the largest outstanding obligations. Unfortunately, imposing a limitation on
the size of payment paths implies that firms with the same total debt can be quite differently
situated in other ways. Some, for example, may have creditors with debts while others may
have creditors that have already repaid theirs. By the same token, the maximum length
of the payment chains originating from one firm may be quite different from that of chains
originating from another.
A consequence of the fact that firms end up being quite asymmetrically placed after some
units of liquidity have been used to make payments is that it seems difficult to study the
general properties of CNK . I thus start by analyzing in detail the special case where N = 6 and
K is equal to either 1, so that the required payments are given in Figure 2, or 2, so that the
required payments are depicted in the left panel of Figure 3. After these cases are analyzed
in detail, I show that some of the basic results concerning the effect of interconnectedness
generalize. To demonstrate the importance of interdependence, the total debt of firms d is
made independent of K and set equal to 2z.
This raises the immediate question of how large are the endowments that are sequentially
distributed according to Assumption B. One possibility is to distribute this liquidity in small
increments. I show that, when these increments are sufficiently small, interconnectivity
among firms does not affect the minimum amount of liquidity that is needed to settle all
23

the debts. By contrast, if liquidity is distributed in large doses, this interconnectivity does
matter. The case of large doses may be more realistic because it captures the idea that certain
firms have ample access to liquidity (because they receive it from ultimate borrowers, for
example) while other firms do not (because, continuing with the example, they deal only
with other financial firms). The analysis shows that in this case, interconnectedness does
make it more likely that the economy will suffer costs as a result of insufficient liquidity.
Interconnectedness also does not matter in the related special case that we have already
seen, namely when R = 1 so that each unit of liquidity can only be used once. As we saw, the
complete settlement of all debts then requires that each firm start out with a liquidity equal
to its total debt. This case is not particularly interesting, however, because the capacity
of firms to make payments with funds that they receive on the same day appears to be
important in practice. The simplest model where this is possible has R = 2, and much of
the analysis in this section is focused on this case.
To demonstrate the importance of the size of the liquidity endowments that firms receive,
I compare the case where each firm that receives exogenous liquidity receives z units to the
case where the size of the sequentially distributed endowments is 2z. In the former case, we
have
Proposition 4. When R = 2, liquidity endowments of size z = d/2 are distributed sequentially according to Assumption B, and debts are given either by C61 or by C62 , the minimum
number of distributions to clear all debts is 6 and the maximum is 8.
Proof. See Appendix.
The logic of this proposition implies that the same total amount of liquidity is needed
if the distributions are equal to d/2n where n is an integer. It suffices to distribute these
endowments in n rounds, each of which follows the sequence of endowments considered
Proposition 4. This proposition demonstrates that K does not matter very much when
the endowments are distributed gradually while always going to firms that need them most
acutely. The degree of interconnectedness does matter, however, when the endowments of
24

individual firms cover all their obligations, so that they equal 2z. To see this, the next two
propositions show the amount of liquidity that is needed to settle all debts for the cases of
C61 and C62 respectively.
Proposition 5. Let the initial pattern of debts be given by C61 while R = 2 and liquidity
distributions equal d = 2z. Under assumptions A’ and B, the smallest number of liquidity
endowments that leads all debts to be settled is 3 while the largest is 5.
Under the further assumption that the endowment of liquidity is received with equal probability by all firms that satisfy Assumption B, the probability that 3 endowments of liquidity are
sufficient equals 1/4, the probability that exactly 4 are needed equals 17/24 and the probability
that 5 are necessary equals 1/24.
Proof. See Appendix.
This result can be contrasted to the analogous one when K = 2.
Proposition 6. Let the initial pattern of debts be given by C62 while R = 2 and liquidity
distributions equal d = 2z. Under assumptions A’ and B, the smallest number of liquidity
endowments that leads all debts to be settled is 4 while the largest is 6.
Under the further assumption that the endowment of liquidity is received with equal probability by all firms that satisfy Assumption B, the probability that 4 endowments of liquidity are
sufficient equals 1/4, the probability that exactly 5 are needed equals 2/3 and the probability
that 6 are necessary equals 1/12.
Proof. See Appendix.
These propositions point to several important contrasts between the case of K = 1 and
the case of K = 2. First, the minimum number of firms that need to receive an endowment
for all debts to settle is smaller when K = 1. Second, the maximum number of firms that
need to be given an endowment is also smaller when K = 1. Lastly, the distribution of
the amount of liquidity that is needed under C62 stochastically dominates the corresponding

25

distribution under C61 . The first two of these results can be generalized somewhat, as the
following propositions show.
Proposition 7. Let each of N firms have a total debt equal to d and be owed d by others.
Suppose that N is divisible by R > 1 and that liquidity endowments are equal to d. Then,
under assumptions A’ and B, the minimum number of liquidity endowments needed to clear
all debts when these are given by CN1 equals N/R while this number is strictly larger if they
are given by CNK with K > 1.
Proof. See Appendix.
The proposition suggests that settling all obligations is more complex when K > 1. When
K = 1, it suffices to space the recipients of exogenous liquidity so that their indices differ
by R. By contrast, when K > 1 so that each firm makes payments to a variety of firms,
the early endowments lead many firms to have their debts reduced slightly. This means that
later endowments debts cannot be used to settle as many debts so that more firms must be
given endowments if all debts are to be settled.
Proposition 8. For debts that can be described by CN1 , the maximum number of liquidity
endowments of size d needed to clear all debts is N − R + 1. If K > 1 and R = K then, for
N large enough, the maximum number of endowments of size d needed to clear all debts is
N.
Proof. see Appendix.
A building block for this result is that the first endowment clears R debts when K = 1
whereas only one debt is cleared by this endowment when K > 1. Perhaps more important
than the difference in the maximum number of firms that need to be given an endowment
is that this maximum number requires a very particular distribution of endowments when
K = 1. Indeed, there is only a single sequence that accomplishes the upper bound in
Proposition 8 when K = 1. By contrast, while a specific sequence is used to demonstrate
the upper bound for K > 1 in proposition 8, the proof makes it clear that several similar
26

sequences would serve the same purpose. Thus, the outcome where every firm needs liquidity
when K > 1 does not appear to have a vanishing probability. The reason is that the payments
made by firms when K > 1 are much more fragmented throughout the economy. It is thus
easier to find firms with considerable debts that make payments only to firms that either
have lots of debts themselves (so that they do not finish settling their debts) or to firms that
have already finished settling all their own debts.

5

Conclusions

We have seen that limits on the amount of liquid assets that are available to the financial
system for the payment of debts can lead to more defaults when the web of debts is more
densely interconnected. It might be tempting to read this as implying that governments
should be more prepared to lend resources for the purpose of debt settlement when debts are
interconnected. This conclusion does not entirely follow from the current analysis, however.
To isolate the effect of trading frictions that require firms to settle their debts with liquid
assets, the model supposes that all firms have claims that are at least as large as their
obligations. By assumption, then, a program of lending to all firms so that they can cover
their obligations does not make losses. This raises the question, which is not explored in
the current paper, of why private firms do not lend and thereby eliminate the difficulties I
discuss. One possibility is that periods of liquidity problems also involve genuine credit risk.
A proper evaluation of a government lending program would then have to take into account
the potential for financial losses.
The lack of private lending also has a potential alternative explanation which is closer to
the spirit of this paper. This is that the resources of individual private lenders are limited
so that no single firm has sufficient lendable assets to guarantee that the entire financial
system settles its debts. As demonstrated in section 3, the existence of an upper bound on
the number of payments that can be made with a unit of liquidity implies that a firm that
makes a payment on its debts cannot be sure to receive a payment back on the claims that
it has on other firms. By the same token, an institution that lends liquidity to a firm so
27

that it can pay its obligations cannot be sure that the firm will be able to pay it back with
funds recovered from its debtors. This suggests that limitations on the amount of liquidity
that any one firm can lend might make it possible for all firms to be too afraid to lend.
Given that an increase in debt interconnections raises the amount of liquidity that may be
needed to clear all debts, it may also increase the likelihood that firms become too afraid to
lend to one another. Lending by a government with larger resources than those available to
individual firms might then be justifiable.
To simplify the analysis, the model assumes a great deal of symmetry, and much of the
analysis involves firms that have to pay the same quantity z to the same number K other
firms. This symmetry allows me to be somewhat silent concerning the maturity of the debts
involved. One can interpret z as the coupon on a long term debt (so that each firm’s debt
is expected to be unchanged when the period is over) or as principal plus interest on short
term debt (so that firms are massively reducing their exposure to one another). In the latter
case, z is obviously much larger for a given market value of total debt so that more liquidity
is needed if payment chains are limited in length. The model thus suggests conditions under
which more liquidity is needed when the maturity of inter-firm debts is shorter.
It is easy to see that the model would be more realistic if it involved less symmetry, as
well as if it incorporated explicitly firms’ vertical debt relations with borrowers and lenders
outside the financial system itself. It is important to stress, however, that considerable
care will have to be employed when generalizing the model in these directions to maintain
analytic tractability. To get an idea of the vast distance that separates what can be proven
analytically for related graphs when the interconnectivity parameter K is varied and the sort
of conjectures that experts regard as plausible, the reader is referred to Alon et al (1996).

28

References
Allen, Franklin and Douglas Gale, “Financial Contagion,” Journal of Political Economy,
108, February 2000, 1–33.
Alon, Noga, Colin McDiarmid and Michael Molloy, “Edge-Disjoint Cycles in Regular
Directed Graphs,” Journal of Graph Theory, 22, 1996, 231–7.
Angelini, Paolo, “An analysis of competitive externalities in gross settlement systems,”
Journal of Banking & Finance, 22, 1998), 1-18
Bech, Morten L. and Kimmo Soramäki, “Gridlock resolution in payment systems,” Danmarks Nationalbank Monetary Review, 2001, 67–79.
Cifuentes, Rodrigo, Gianluigi Ferrucci and Hyun Song Shin, “Liquidity Risk and Contagion,” Journal of the European Economic Association 3, 2005, 556-566.
Coleman, Stacy P., “The Evolution of the Federal Reserves Intraday Credit Policies,”
Federal Reserve Bulletin, February 2002, 67–84.
Corrigan, E. Gerald, Stephen G. Thieke and other members of the Counterparty Risk
Management Policy Group, “Improving Counterarty Risk Management Practices,
June 1999, available at http://financialservices.house.gov/banking/62499crm.pdf.
Diamond, Douglas W., “Financial intermediation and delegated monitoring,” Review of
Economic Studies, 51, July 1984, 393–414.
Diamond, Douglas W., and Philip H. Dybvig, “Bank runs, deposit insurance, and liquidity,” Journal of Political Economy, 91, June 1983, 401–19.
Eisenberg, Larry, Thomas H. Noe, “Systemic risk in financial systems,” Management
Science, 47, 2001, 236-249.
Freixas, Xavier, Bruno M. Parigi, and Jean-Charles Rochet, “Systemic Risk, Interbank
Relations, and Liquidity Provision by the Central Bank,” Journal of Money, Credit,
and Banking, 32, August 2000, 611–38.
Kiyotaki, Nobuhiro and Randall Wright, “A Search-Theoretic Approach to Monetary
Economics,” American Economic Review, 83, March 1993, 63–77.
Martin, Antoine, “Recent evolution of large-value payments systems: balancing liquidity
and risk,” Federal Reserve Bank of Kansas City Economic Review, 2005, 33–57.
Mengle, David L., “Daylight overdrafts and payments system risks,” Federal Reserve
29

Bank of Richmond Economic Review, May–June 1985, 14–27.
Nier, Erlend, Jing Yang, Tanju Yorulmazer, and Amadeo Alentorn, “Network models and
financial stability,” Journal of Economic Dynamics and Control,, 2007, 2033–60.
Reguly, Eric, “Hedge funds: the credit crunch’s enigma,” The Globe and Mail, 26 May
2008.
Wright, Randall, “A note on asymmetric and mixed strategy equilibria in the searchtheoretic model of fiat money,” Economic Theory, 14, 1999, 463–71.

30

Appendix: proofs of some propositions
Proof of proposition 4
The size of the system’s total debt is 6d = 12z for both C61 and C62 . Since each endowment
of z can only be used twice, the theoretical minimum number of endowments needed to clear
all debts is 6. In the case of C61 , this minimum can be obtained by first giving endowments to
firms 0, 2 and 4 in sequence (thereby leaving each firm with a debt of z) and then repeating
this sequence.
In the case of C62 , the minimum can be obtained as follows. First give an endowment to
firm 0. Using Assumption A’, this removes the edges (0, 2) and (2, 4). Then give an endowment to firm 1, removing the set of edges {(1, 3), (3, 5)}. Follow this with an endowments
to 4 and 5 (in either order), thereby removing the edges (4, 0), (0, 1), (5, 1) and (1, 2). Then,
end by giving endowments to 2 and 4 (in either order) to clear the edges (2, 3), (3, 4), (4, 5)
and (5, 0).
Examples can also be found where sequences of 8 endowments of liquidity are needed to
clear all debts (so that cutting one of these sequences short would lead some firms to be in
default). In the case of C61 , a sequence with this property involves giving units of liquidity
to 0, 2, 4, 0, 5, 4, 3 and 2. The last four of these endowments are used only once because
they are given to firms whose creditors have already settled all their debts. In the case of
C62 , a sequence with this property involves giving liquidity to 0, 3, 1, 4, 5, 4, 2 and 1. Once
again, the last four of these endowments are used only once each.
I now show that more than 8 allocations of liquidity are not needed. Given that total
debts equal 12z, only four debts of z each are left if the first four endowments can settle
two debts of z each. This implies that one does not need more than 8 units of liquidity if
the first four units clear two debts. By enumerating all possible sequences of the initial four
endowments that satisfy Assumptions A’ and B, one can observe that they each allow these
units of liquidity to be used twice.
Consider first the case of C61 . If 3 is given a unit of liquidity after 0, Assumptions A’ and
B imply that the next units of liquidity must go to 2 and 5 (in either order). All four of these
31

units are used twice. If 5 is given a unit of liquidity after 0, firms 2, 3, and 4 are left with 2
debts of z each and this means that one of the next two units of liquidity must be given to
2 while the other goes to either 3 or 4. In either case, they are each used twice. Lastly, if
either 2 or 4 are given a unit of liquidity after 0, the next unit goes to the other member of
this pair. This leaves every firm with a debt of z, so that the next unit of liquidity can go
to any firm, and will be used twice.
Now consider the case of C62 . If firm 1 is given a z units of liquidity after firm 0, the
next endowments of liquidity must go to firms 4 and 5 (in either order) because they each
have 2z of debts remaining. If firm 3 is given an endowment after 0, the next endowments
go to firms 1 and 4 in either order. If firm 4 is given an endowment after 0, the next ones go
to 1 and 3 in either order. Lastly, if firm 5 receives an endowment after 0, the next two go
to firms 3 and 4 in either order. In each of these cases, the first four endowments are used
twice.
Proof of proposition 5
Since total obligations equal 12z, each endowment equals 2z and can be used at most to
make 2 payments, a minimum of 3 endowments is needed to settle all debts. This minimum
is achieved by giving endowments to firms 0, 2 and 4 in any order. Each of these firms passes
its endowment to the firm with an index just above their own, and this firm in turn passes
these funds to its own creditor.
The first endowment, which goes to firm 0 by convention, clears the debts of two firms so
that it leaves obligations of 8z. Given that both debts and endowments equal 2z, any subsequent endowment clears at least 2z worth of debts. This implies that, at most, 4 additional
firms have to be given endowments of 2z. Four firms are indeed needed if endowments are
received in the sequence {5, 4, 3, 2}, which is consistent with Assumption B.
Suppose now that all firms that satisfy Assumption B are equally likely to get liquidity.
After 0 has used his liquidity and this has gone to firms 1 and 2, the 4 firms in this sequence
are left with a single debt of 2z each and have a probability 1/4 of obtaining liquidity at
this stage. The sequence that leads 5 firms to need liquidity starts by giving an endowment
32

to firm 5, then gives an endowment to firm 4 (which has a probability 1/3 of occurring after
5 receives the first unit) and then gives an endowment to firm 3 (which has a probability
1/2 of occurring after 5 and 4 have received theirs). Thus, the probability of this outcome
is (1/4)(1/3)(1/2)=1/24.
To ensure that it is sufficient to give liquidity to 3 firms, firms 2 and 4 must be given
endowments after 0, with the order that they receive it in being unimportant. If firm 2
receives an endowment after firm 0, this firm pays off 3, which settles its debt with 4. Thus,
only 4 and 5 are left with debts and there is an equal probability that each will receive the
next unit of endowment. The sequences {2, 4} and {4, 2} thus each have a probability 1/8
(since 2 and 4 each have an initial probability of 1/4).
Proof of proposition 6
Start again with the arbitrary assumption that 0 is the first firm to receive an endowment. Letting this firm’s payments follow the paths implied by Assumption A’, the graph
of remaining obligations is given by panel (a) in Figure 5. This leaves 3, 4, and 5 with two
debts each so that one of these firms receives the next endowment of liquidity. Panels (b),
(c), and (d) of Figure 5 display the debts that remain after giving liquidity to 3, 4 and 5 respectively. It is immediately apparent from inspecting these figures that there is no method
for extinguishing the remaining debts by giving liquidity to just one additional firm.
If all endowment distributions satisfying Assumption B are equally likely, panels (b), (c)
and (d) of Figure 5 each have a probability 1/3 of representing the graph of obligations after
the second round. From panel (d) of Figure 5, it follows that giving liquidity to firm 5 after
firm 0 leads 5 units of liquidity to be required to settle all debts regardless of whether firm
3 or 4 is given liquidity after firm 5 (and these are the only possibilities consistent with
Assumption B). The extreme cases where 4 or 6 units of liquidity are required thus involve
giving liquidity to either firm 3 or 4 after giving it to firm 0.
If firm 4 receives liquidity after firm 0, panel (c) describes the outcome and, Assumption
B guarantees that firm 3 is given liquidity next. There is then a probability 1/2 that the
next unit of liquidity goes to firm 1, which leads all debts to be settled with just four units
33

of liquidity. The overall probability of this sequence is thus 1/6.
Now consider panel (b) in Figure 5, which is the result of following the endowment to
firm 0 with an endowment to firm 3. Starting from this point, there is a probability 1/2
that the next endowment goes to either firm 1 or firm 4. Having gone to one of these firms,
there is a 1/2 probability that the following endowment goes to the other. There is thus a
1/4 conditional probability that all debts are settled with four units of liquidity. The total
probability of needing just 4 units of liquidity to settle all debts is thus 1/6+(1/3)(1/4)=1/4.
Also starting in panel (b), there are several sequences in which all four firms with outstanding debts must receive endowments for all debts to settle (so that the total number
of firms that must receive an endowment equals 6). These sequences require that firm 1
receive an endowment before an endowment is given to firm 2 while firm 4 receives an endowment before firm 5 receives one. One example of this is the sequence {0, 3, 2, 1, 5, 4}.
Starting at the stage described in panel (b), the probability that the next endowment will
go to either firms 2 or 5 equals 1/2. Conditional on this occurring, there is a 1/2 probability
that the other of these two firms will receive an endowment before firms 1 or 4 do. Thus,
the overall probability that six firms need to receive an endowment to settle all debts is
(1/3)(1/4)=1/12.
Proof of proposition 7
In the case of CN1 , it suffices to give endowments to firm with indices given by iR with
i = 0, . . . , N/R to clear all debts. For the provision of d units of liquidity to N/R firms to be
sufficient to settle all dN debts, liquidity endowments of d must on average settle dR debts.
Since dR is the maximum amount of debt that an endowment can settle, every liquidity
endowment must settle this amount of debt.
Now consider the case where K > 1 and R > 1. The first firm that receives a liquidity
endowment has a debt of d outstanding and makes payments of d/K to K firms. According
to Assumption A’, each of these K firms make a payment to a firm whose index is K larger
than their own, and the same is true for the recipients of these payments. This implies that
all subsequent payments are received (and made) by distinct firms. As a result, the first
34

liquidity endowment reduces the outstanding debt of Q = 1 + K(R − 1) firms. Thus, N/Q
is the maximum number of firms that can be given liquidity at a point where their total
obligations still equal d. Because R > 1 and K > 1, Q > R, so that providing liquidity to
N/Q firms is not enough to settle all debts. Providing liquidity to more firms implies that
some firms receive liquidity when their obligations are smaller than d, so that less than dR
debts are settled with the liquidity they receive. Thus, giving liquidity to N/R firms is also
insufficient.
Proof of proposition 8
In the case where K = 1, the first liquidity endowment clears the debts of R firms and no
endowment given to any firm thereafter clears less than one debt. So, N − R + 1 endowments
are sufficient. A particular sequence that requires this many endowments consists of first
giving an endowment to firm 0. This is followed by giving endowments to firms N − 1, N − 2
and continuing, backwards one by one, until one reaches firm R.
In the case of K > 1 and R > K, a sequence of endowment distributions has the property
that every single firm must be given an endowment for all debts to be extinguished if each
individual distribution extinguishes only the debts of the recipient of this distribution. I now
describe such a sequence, demonstrating along the way that each distribution extinguishes
only one debt. To describe it, it is useful to let Ij represent the index of the firm which is
given liquidity at the jth step of this sequence. As always let the first firm that is given
liquidity be firm 0 so I1 = 0. As long as K > 1, this distribution extinguishes only the
debts of firm 0. Under Assumption A’, it leads all firms with indices between 1 and K 2 to
receive a payment, though only firms with indices between 1 and (K − 1)K make a payment
themselves (so that they reduce their obligations by d/K).
For j between 2 and K, let Ij = N − 2K + 3 − j (so that the first of these firms receiving
an endowment has index w0 = N − 2K + 1 and the last one has index w1 = w0 − K + 2).
Notice that the first of these endowments leads all firms between w0 + 1 and N − 1 to
make one payment, and also leads firms with indices between 1 and [1 + (K − 1)(K − 3)]
to make payments. If K > 2, the second of these endowments also leads several firms with
35

indices between 1 and (K − 2)(K − 4) to make payments. This number is smaller than
the corresponding number in the case of the first of these endowments because I3 < I2 and
because the firms between w0 and (K − 2)(K − 4) have made payments already, so that the
edges that capture the payments based on the second of these endowments are shorter.
When they receive payments based on the endowment given to IK , the firms with indices
between w0 and N − 1 have already received and made K − 2 payments, so that they make
payments to firms whose index exceeds their own by 2. This implies that the last firm to
make payments based on this endowment has an index of w0 −K +2+K +2(K −2) = N −1.
This firm makes a payment to the firm with index 1. At this stage, no one owes this firm
anything, but this firm still has an obligation of d/K outstanding (to firm 2). Note also that
the endowment given to IK also leaves the firms with indices between w and N − 1 with one
obligation each, since they have been able to make K − 1 payments with the endowments
given to the firms between I2 and IK . At this stage, none of the firms whose indices are
between K(K − 1) + 1 and w − K − 3 = N − 3K + 3 has made any payments, and there are
M = N − K 2 − 4K + 3 such firms.
For N large enough, one can find two integers m0 and m1 such that
M = m0 K(K − 1) + m1 (1 + K(K − 1))
since m1 can be set equal to the remainder in the division of N by K(K − 1). For K <
j ≤ K + m0 , set Ij = w1 − (j − K)K(K − 1). For K + m0 < j ≤ K + m0 + m1 , set
Ij = w1 −m0 K(K −1)−(j −K −m0 )(1+K(K −1)). To see the effects of these endowments,
start with IK+1 = w1 − K(K − 1). The firm with this index makes payments to all K of its
creditors. The payments received by the (K − 1) firms whose index is closest to IK+1 lead to
K−1 additional payments because w1 −K(K−1)+r+(K−2)K is less than w1 for all r smaller
than or equal to K −1. The payment that firm w1 −K(K −1) makes to firm w1 −K(K −1)+K
only leads to K − 2 additional payments because, w1 − K(K − 1) + K + (K − 2)K is equal to
w −1, and this firm has already received an endowment. The effect of this endowment is thus
to eliminate the debts of IK+1 while leaving all firms with indices between IK+1 and IK with
36

one less obligation. By the same logic, the endowments to firms Ij with K + 1 < j ≤ K + m0
eliminate the debts of one firm and reduce the debt of K(K − 1) − 1 firms by one obligation.
This logic also implies that the endowments to firms Ij with K + m0 < j ≤ K + m0 + m1
eliminate the debts of one firms while reducing the debts of K(K − 1) debts by d/K (as was
the case of the endowment given to firm 0).
After these endowments, firms with indices between 1+(K −1)(K −3) and w1 have either
completed all their payments (if they have received an endowment) or made one payment of
d/K so that they have K −1 obligations outstanding. If an endowment is now given to w1 −1,
this firm’s payments to its remaining K −1 creditors do not lead to any subsequent payments.
The reason is that these go to firms with indices between w1 and w1 + K − 1 = w0 and all
these firms have already received endowments. So, let IK+m0 +m1 +1 = w1 − 1. Consider next
the firm w1 − 2. Unless it has received an endowment already, it has K − 1 creditors, all of
whom have already received an endowment. Thus giving an endowment to firm w2 − 2 leads
only this firm to become free of all obligations. One can now proceed to give endowments one
by one to firms by reducing their indices all the way until one reaches firm 1. By proceeding
in this way, the number of obligations of the firms that receive endowments is falling over
time (consistent with Assumption B), and each endowment clears only the debts of the firm
receiving it. After this is done, one gives endowments to the firms whose indices are between
N − 1 and w0 moving backwards one by one. Each of these firms has one obligation and, if
one proceeds backwards, the recipient of their payment has already received an endowment
so that he is incapable of making further payments.

37

Figure 1: An example combining vertical lending with a cycle

Figure 2: An example with K = 1

38

Figure 3: An example with K = 2

Figure 4: An example with K = 2 and a missing cycle

39

Figure 5: Remaining obligations of C62 when R = 2

40

