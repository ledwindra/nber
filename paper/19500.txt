NBER WORKING PAPER SERIES

A SHARPER RATIO:
A GENERAL MEASURE FOR CORRECTLY RANKING NON-NORMAL INVESTMENT RISKS
Kent Smetters
Xingtan Zhang
Working Paper 19500
http://www.nber.org/papers/w19500

NATIONAL BUREAU OF ECONOMIC RESEARCH
1050 Massachusetts Avenue
Cambridge, MA 02138
October 2013

The views expressed herein are those of the authors and do not necessarily reflect the views of the
National Bureau of Economic Research.
NBER working papers are circulated for discussion and comment purposes. They have not been peerreviewed or been subject to the review by the NBER Board of Directors that accompanies official
NBER publications.
© 2013 by Kent Smetters and Xingtan Zhang. All rights reserved. Short sections of text, not to exceed
two paragraphs, may be quoted without explicit permission provided that full credit, including © notice,
is given to the source.

A Sharper Ratio: A General Measure for Correctly Ranking Non-Normal Investment Risks
Kent Smetters and Xingtan Zhang
NBER Working Paper No. 19500
October 2013
JEL No. G11
ABSTRACT
While the Sharpe ratio is still the dominant measure for ranking risky assets, a substantial effort has
been made over the past three decades to find a way to account for non-Normally distributed risks.
This paper derives a generalized ranking measure which, under a regularity condition, correctly ranks
risks relative to the original investor problem for a broad probability space. Moreover, like the Sharpe
ratio, the generalized measure maintains wealth separation for the broad HARA utility class. Besides
being effective in the presence of “fat tails,” the generalized measure is also a foundation for multi-asset
class portfolio optimization due to its ability to pairwise rank two risks following two different probability
distributions. This paper also explores the theoretical foundations of risk ranking, including proving
a key impossibility theorem: any ranking measure that is valid for non-Normal distributions cannot
generically be free from investor preferences. Finally, this paper shows that the generalized ratio provides
substantially more ranking power than simpler approximation measures that have sometimes been
used in the past to account for non-Normal higher moments, even if those approximations are extended
to include an infinite number of higher moments.

Kent Smetters
University of Pennsylvania
SH-DH 1354
3620 Locust Walk
Philadelphia, PA 19104
and NBER
smetters@wharton.upenn.edu
Xingtan Zhang
3620 Locust Walk
SH-DH 3000
Philadelphia, PA 19104
xingtan@wharton.upenn.edu

1

Introduction

Sharpe (1966) demonstrated that picking a portfolio with the largest expected risk premium relative to its
standard deviation is equivalent to picking the portfolio that maximizes the original investor’s expected
utility problem, assuming that portfolio returns are Normally distributed.1 The simple mean-variance
foundation of the Sharpe ratio, therefore, is a convenient “sufficient statistic” for the investor’s problem
since it does not rely on the investor’s preferences or level of wealth.
The immense power of the Sharpe ratio stems from the fact that it allows the investment management process to be decoupled from the specific attributes of the heterogeneous investor base. Indeed,
the multi-trillion dollar money management industry relies heavily on this separation. Investors in a
mutual fund or hedge fund might differ in their levels of risk aversion and wealth (including assets held
outside the fund). Nonetheless, an investment manager only needs to correctly estimate the first two
moments of the Normal distribution, characterizing the fund’s risk, in order to pick the single risky
portfolio that is best for each underlying investor.2 It is not surprising, therefore, that the Sharpe ratio
is tightly integrated into the modern investment management practice and embedded into virtually all
institutional investment analytic and trading platforms. Even consumer-facing investment websites like
Google Finance reports the Sharpe ratio for most mutual funds along with just a few other basic statistics, including the fund’s alpha, beta, expected return, R2 tracking (if an indexed fund), and standard
deviation.
Of course, it is well known that investment returns often exhibit “higher order” moments that might
differ from Normality (Fama 1965; Brooks and Kat 2002; Agarwal and Naik 2004, and Malkiel and
Saha 2005).3 In practice, investment professionals, therefore, often look for investment opportunities
that would have historically – that is, in a “back test” – produced unusually large Sharpe ratios under the
belief that large values provide some “buffer room” in case the underlying distribution is not Normal.
This convention, though, is misguided. Outside of the admissible utility-probability space (“admissible
space” for short) where the Sharpe ratio is valid, it is easy to create portfolios with large Sharpe ratios
that are actually first-order stochastically dominated by portfolios with smaller Sharpe ratios.4 Multiasset class portfolios with bonds, options and other derivatives, often produce left skewed distributions
even if the core equity risk is Normally distributed (Leland 1999; Spurgin 2001; and Ingersoll et al.
2007).
The potential limitations of the Sharpe ratio to correctly rank risky portfolios has led to a longstanding interest in producing ranking measures that take into account some higher-order moments of
the non-Normal distribution. The first line of work dates back to at least the work by Paul Samuelson
(1970), who, at the time, also expressed some skepticism that such extensions were actually needed
in practice. A short list of other contributors include the well-cited paper by Kraus and Litzenberger
(1976), Scott and Horvath (1980), Owen and Rabinovitch (1983), Ingersoll’s (1987) classic textbook,
Brandt et al (2005), Jurczendo and Maillet (2006), Zakamouline and Koekebakker (2008), Dávila (2010)
1 Of

course, the Sharpe ratio also builds on the pioneering mean-variance work by Markowitz (1952, 1959).
Sharpe ratio, however, only ranks risky portfolios in order to determine the best one. The ratio itself does not
determine the optimal division of an investor’s wealth between this best risky portfolio and the risk-free instrument. That
division must be determined in a second stage using consumer-specific information. The Sharpe ratio, therefore, supports
the standard division between the “investment manager,” who determines the best risky portfolio, and the “financial planner”
who, knowing each client in more detail, helps decide the share of the client’s wealth that should be invested into this best
risky asset based on the client’s specific circumstances.
3 A related literature has examined how disaster risk can explain equilibrium pricing within the neoclassical growth model
(Barro 2009; Gabaix 2012; Gourio 2012; Wachter 2012)
4 In other words, the portfolio with the smaller Sharpe ratio would be preferred by all expected utility maximizers with
positive marginal utility in wealth.
2 The

2

and Pierro and Mosevich (2011). This line of work, however, imposed fairly strong restrictions to utility
preferences and/or the risk distribution. The current paper contributes to this line of research by deriving
a ranking measure that is valid over a much broader admissible space.5
A second and much larger line of research bypasses the investor’s expected utility problem altogether
and produces risk measures that satisfy certain mathematical properties such as “coherence.”6 Examples
of coherent risk measures include “average VaR,” “entropic VaR,” and the “superhedging price.” While
these measures satisfy certain axioms, a portfolio that maximizes one or more of these measures does
not necessarily maximize the standard investor expected utility problem, as considered by Sharpe.
A third line of work, which is also very large in scope, has evolved more from practitioners. It has
produced more heuristic measures that have a more “intuitive” interpretation relative to the axiomaticbased measures just noted. Common heuristic measures include “value at risk (VaR),”7 Omega, the
Sortino ratio, the Treynor ratio, Jensen’s alpha, the upside potential ratio, Roy’s safety-first criterion,
and many more.8 In practice, many investment managers combine the Sharpe ratio with one or more of
these other types of measures.
This paper makes three contributions. First, as summarized in our Lemma 2, we demonstrate how
to solve an infinite-order Maclaurin expansion for its correct asymptotic root when no closed form
solution exists. This result allows us to derive a generalized ranking measure (the “generalized ratio”)
that correctly ranks risky returns under a broad admissible space. By “correctly ranks,” we mean it in the
tradition of Sharpe: the generalized ratio picks the portfolio that is preferred under the original investor
expected utility problem.
It is easy to motivate the importance of allowing for a broad utility-probability admissible space. A
broad utility space is critical for capturing realistic investor attitudes toward risk. For example, while
the common assumption of constant absolute risk aversion is useful for obtaining various theoretical
insights, it is also fairly implausible for modeling risky portfolio choice decisions. (Quadratic utility is
even more problematic.) Similarly, allowing for a broad set of risk distributions is, of course, important
for accommodating non-Normal distributions with “fat tails.” But our generalized ratio can also rank
between risks that follow different probability distributions. The generalized ratio, therefore, can be used
as the foundation for multi-asset class optimization. For example, it can pairwise rank a risky portfolio
without derivatives that follows one distribution against another risky portfolio with option overlays
following a different distribution. This flexibility is much more powerful than simply assuming that all
potential portfolio combinations follow the same probability distribution form, even if that distribution
is more extensible than Normality.
Like the original Sharpe ratio, our generalized measure preserves wealth separation under the broad
functional form of HARA utility, which includes many standard utility functions as special cases.9 Unlike the original Sharpe ratio, however, our generalized ratio does not preserve separation from investor
5 Throughout

this paper, we will write expressions like “ranking measure ABC is valid over admissible space XYZ” even
though such terminology is a bit redundant since admissibility implies validity. However, we believe that such terminology
is generally understood and more readable than various alternatives.
6 A “coherent” risk measure satisfies monotonicity, sub-additivity, homogeneity, and translational invariance (Artzner et
al 1999). More recent work has emphasized risk measures that avoid “worst case” scenarios and are monotonic in first-order
stochastic dominance. See, for example, Aumann and Serrano (2008); Foster and Hart (2009); and Hart (2011).
7 Standard VaR is not coherent, whereas the variants on VaR noted in the previous paragraph are coherent.
8 Modigliani (1997) proposed a transformation of the Sharpe ratio, which became known as the “risk-adjusted performance measure.” This measure attempts to characterize how well a risk rewards the investor for the amount of risk taken
relative to a benchmark portfolio and the risk-free rate. This measure is not included in the list in the text because it mainly
provides a way of interpreting the unit-free Sharpe ratio rather than offering an alternative measure in the presence of nonNormally distributed risk.
9 In other words, the generalized ratio can correctly rank without knowing the investor’s wealth.

3

preferences. But we show that this limitation is not a function of the generalized risk measure. Rather,
we prove a key impossibility theorem: preference separation is generically impossible in the presence
of non-Normal risk. Fortunately, as a practical matter, the generalized ratio still supports the decoupled
investment management process noted above: instead of reporting a single ratio, each fund can report a
small tuple of ratios corresponding to different standardized levels of risk aversion (see Section 6). By
law, financial advisors must already actively test for the level of risk aversion of each client.
Second, using some of the machinery that we developed to produce the generalized ratio, we then
“backtrack” to explore the theoretical foundations of the classic Sharpe ratio in more detail. Despite its
extensive usage in academics and industry, very little is actually known about the Sharpe ratio beyond
the few cases where it is well known to correctly rank risks (e.g., Normally distributed risk or quadratic
utility). We show that the Sharpe ratio is actually valid under a larger admissible space than currently
understood. We also explore why it is challenging to actually write down a necessary condition for
the Sharpe ratio to be a valid ranking measure. In answering these questions, we are also able to
generalize the Kaus-Litzenberger (1976) “preference for skewness” result to an unlimited number of
higher moments. This generalization is useful because plausible utility functions produce an infinite
number of non-zero higher-order derivatives, and there does not exist any probability distribution that
can be fully described by any finite number of cumulants greater than two.
Third, we derive a linear approximation of the investor problem in the presence of non-Normal
higher-order moments. This formulation accommodates a simple closed-form solution, and it nests
some previous attempts to generalize the Sharpe ratio. Our computations, however, show that approximations can be very inaccurate, unstable and even divergent. Accurate ranking, therefore, requires using
the generalized ratio.
The paper is organized as follows. Section 2 provides an overview of the standard investor problem.
Section 3 derives the generalized ratio described earlier. Section 4 explores the theoretical foundations
of the Sharpe ratio in more detail. Section 5 derives the linear approximation. Section 6 provides
numerical examples comparing the Sharpe ratio, the generalized ratio, and the linear approximation for
a range of potential investment applications. Section 7 concludes. Proofs of lemmas and theorems are
provided in the Appendices.

2
2.1

The Investor Problem and the Sharpe Ratio
Investor Problem

The investor has preferences characterized by the utility function u and wants to allocate wealth w
among the risk free asset paying a constant rate r and a risky asset paying a net return Y . More formally:
max Eu (w(1 + r) + a(Y − r))
a

(1)

where the variable a is the amount of wealth invested in the risky asset. To reduce notation, we will often
write wr ≡ w(1 + r). Now suppose that u belongs to the function space Us that denotes all the smooth
utility functions defined on the real number line with positive odd-order derivatives and negative evenorder derivatives. Us , therefore, incorporates a broad set of utility classes including HARA. Of course,
this problem may not be well defined if, for example, the utility function is only defined for positive
wealth while the risk distribution is unbounded. So, as usual, we exclude this possibility by restricting
the admissible space, defined more rigorously below, to those utility-probability combinations that are
well defined.
4

Lemma 1. For any given increasing and concave utility function u, maximization problem (1) has a
unique solution a∗ . Furthermore,
if EY > r then a∗ > 0;
if EY = r then a∗ = 0;
if EY < r then a∗ < 0
In other words, the investor problem that we are considering is standard. A unique best portfolio
exists that maximizes the investor’s expected utility. Moreover, risk taking follows the usual behavior:
if the expected return to the risky security exceeds the risk-free rate then at least some of the risk will
be held; if the two returns are equal then no risk is held; otherwise, a short position is taken in the risky
asset.
Given the utility function u and initial wealth w, then for two different risky assets, Y1 and Y2 , and
risk free rate r, it is a convenient shorthand to write (Y1, r) ≥w
u (Y2, r) if and only if
max Eu(w(1 + r) + a(Y1 − r)) ≥ max Eu(w(1 + r) + a(Y2 − r))

a
a
w
In words, (Y1, r) ≥u (Y2, r) implies that an investor with preference function u and initial wealth w prefers
investing in Y1 over Y2 when the risk-free is r. (We will sometimes write (Y1, r) ≥u (Y2, r) if (Y1, r) ≥w
u

(Y2, r) for all w > 0.) Note that Y1 and Y2 can be risks derived from different probability distributions.

2.2

Ranking Definitions

Like the original Sharpe Ratio, we want to pairwise rank two risky investments with random returns Y1
and Y2 . Of course, if we know the investor’s wealth and preferences as well as the exact functional form
of the underlying risk distribution, we can then simply integrate the expectation operator in equation (1)
to determine investor’s indirect utility associated with each risk. However, in practice, we are typically
missing some of this information, and so we would like to be able to rank investments based on a subset
of this information. Indeed, as noted in Section 1, the real power of the Sharpe Ratio stems from its
ability to correctly pairwise rank two investment risks simply by knowing the first two moments of the
underlying Normal distribution as well as the risk-free rate. Toward that end, the following definitions
will be useful:
Definition 1. [Ranking Measures] For any risky asset Y and risk-free rate r, we say that:
• A distribution-only ranking measure is a function qD which only depends on Y and r.
• A distribution-preference ranking measure is a function qDU which only depends on Y , r, and u.
• A distribution-preference-wealth ranking measure is a function qDUW which only depends on Y ,
r, u and w.
Definition 2. [Valid Ranking Measure, Admissible Space] Suppose U is a set of utility functions and
Y is a set of random variables. We then say that q is a valid ranking measure with respect to U × Y if,
∀u ∈ U and ∀Y1,Y2 ∈ Y :
q(Y1 , r, •) ≥ q(Y2 , r, •) ⇐⇒ (Y1, r) ≥w
u (Y2, r)
We call A ≡ U × Y the admissible space of the ranking measure. We can also define qn to be a valid
ranking measure sequence if it point-wise converges to a valid ranking measure.
5

In words, a valid distribution-only ranking measure only requires knowing the properties of the risk
distribution, and not the investor’s preferences or level of wealth, in order to properly rank risks. The
Sharpe ratio is an example. A valid distribution-preference ranking measure then also requires knowing
the investor’s preferences. We show below that our generalized ranking measure for HARA utility
is an example. We also prove that all ranking measures that are valid at arbitrary higher moments
of the risk distribution and across a wide range of utility functions must at least be a distributionpreference ranking measure. Finally, the distribution-preference-wealth ranking measure then requires
also knowing the investor’s wealth. Of course, this ranking measure is the least powerful of the three.
Relative to the original investor problem, its main advantage is that it does not require knowing the exact
risk distribution: valid ranking can still be achieved by estimating distribution’s moments empirically.
Importantly, set Y can include many risk distribution families. That flexibility allows comparing
portfolios with potentially very different assets. Of course, not all utility-risk distribution pairs are
compatible with a well-defined investor problem described by Lemma 1. For example, a risk distribution
with unbounded negative returns can’t be combined with a utility function where the Inada condition
holds (limw→0 u0 (w) = ∞). These combinations are implicitly ruled out in Definition 2 through the
mapping back to the original investor problem (1).
Remark 1. It is straightforward to show that a sufficient condition for function q to be valid ranking
measure is for the indirect utility, maxa Eu (w(1 + r) + a(Y − r)), to be increasing in q. Moreover, two
ranking measures are equivalent if one measure is a strictly increasing transformation of the other.
Example 1. Let Ue = {u(·) : u(w) = −exp(−γw), γ > 0} be a set of utility functions, commonly known
as the CARA class. Also, let qCARA (Y, r) = γ{u[maxa Eu (w(1 + r) + a(Y − r))] − w(1 + r)}. Then, it
is easy to show that qCARA (Y, r) only depends on Y and r for ∀u ∈ Ue and is a valid distribution-only
ranking measure with respect to Ue × Y , where Y is the set of all random variables.

2.3

The Sharpe Ratio



p
Suppose that the underlying risky return Y is draw from a Normal distribution N EY, Var(Y ) , and
let
!2
EY − r
.
qS (Y, r) = p
Var(Y )
Sharpe (1966) showed that the investor’s indirect utility (1) is an increasing function of qS (Y, r), the
Sharpe ratio squared. (If, in addition, we restrict the random variable space so that EY ≥ r then the investor’s indirect utility is an increasing function of the more familiar form of the Sharpe ratio, √EY −r .)
Var(Y )

Hence, qS is a valid distribution-only ranking measure with respect to set Yn of all Normal distributions.
It can also be shown that qS is a valid distribution-only ranking measure with respect to the set Uq of all
quadratic utility functions.
However, the Normal distribution is only a sufficient condition for qS to be a valid distribution-only
based ranking measure. The Sharpe ratio ranking measure qS is actually valid over a wider class of
return distributions.
Theorem 1. Let χα denote a parametrized distribution family, where α is the vector of parameters.
Yα −EYα
If, for every element Yα ∈ χα , the random variable √
is independent of α and symmetric, then
Var(Yα )

maxa Eu (w(1 + r) + a(Y − r)) is an increasing function of qS .
Normally distributed risk is a special case of this result.
6

Yα −EYα
Example 2. If Yα is Normally distributed, then √
is N(0, 1), which is independent of α and
Var(Yα )

symmetric.
So is the symmetric bivariate distribution.
√
√
Example 3. Consider the random variable X where X = α1 + α2 w.p. 1/2, X = α1 + α2 w.p. 1/2.
Xα −EXα
Then √
is a bivariate random variable.
Var(Xα )

Indeed, we can construct many probability spaces where the Sharpe ratio properly ranks risky returns.
Example 4. Suppose T is a t distribution with degree of freedom 4 and let χα1 ,α2 = {X : X = α1 +α2 ∗T }
be the set of all random variables (a distribution family) that can be written as linear function of T. Then
Yα −EYα
T
= std(T
∀Yα ∈ χα1,α2 , the random variable √
) is independent of parameter and symmetric. Hence,
Var(Yα )

the Sharpe ratio properly ranks risky returns contained in the set χα1 ,α2 .
These results demonstrate that Sharpe is potentially more robust than commonly understood. It
holds even for non-Normal distributions without assuming quadratic utility. We explore the theoretical
foundations of the Sharpe ratio in Section 4.
However, when Sharpe ratio is not valid, it can “break, not bend.” Consider the following example
that comes from Hodges (1998).
Example 5. Consider two risky assets described by their risk net returns Y1 and Y2 .
Probability
0.01
0.04 0.25 0.40 0.25 0.04 0.01
Excess Return Y1 −25% −15% −5% 5% 15% 25% 35%
Excess Return Y2 −25% −15% −5% 5% 15% 25% 45%
Clearly the first asset with return Y1 is first-order stochastically dominated by the second asset with
return Y2 . However, the Sharpe ratio for the first asset is 0.500 whereas the Sharpe ratio for the second
asset is only 0.493.
Indeed, as discussed in Section 1, it is now generally understood that large Sharpe ratios can be
produced simply by introducing options and other derivative contracts into the portfolio. We return to
this topic in Section 6.

3

The Generalized Ranking Measure

We now derive our generalized ratio for ranking risks that is applicable to a broad admissible space.

7

3.1

The Regularity Condition

Using Taylor’s theorem, we can rewrite the first-order condition of the investor’s problem (1) as follows:
0 = Eu0 (wr + a(Y − r)) (Y − r)
an (Y − r)n
= E ∑ u(n+1) (wr )
n!
n=0
∞

!

=

u(n+1) (wr )E(Y − r)n+1 n
a
∑
n!
n=0

=

u(n) (wr )E(Y − r)n n−1
a
(n − 1)!
n=1

(Y − r)

∞

∞

∑

(2)

Definition 3. [The n-th t-moment] Define tnY ≡ E(Y − r)n as the n-th translated moment (the n-th tmoment for short) for the risky investment with return Y .
A closed-form solution of equation 2 is typically not available. (Section 5 provides some closedform solutions for approximate measures.) Moreover, we can’t let computers run indefinitely, and so we
must truncate the expansion to a finite, even if large, number of terms, N. However, such a truncation,
will typically produce many real and complex roots, even though the original infinite expansion in
equation (2) has a single root by Lemma (1).
Fortunately, the following lemma provides the central mechanism for selecting the correct root in the
N-term expansion. The general nature of this lemma suggests that it could have fairly broad application
outside of the current application.
Lemma 2. Suppose real function f (x) = 0 has a unique real solution x0 . Denote the Maclaurin expann
sion of f to be ∑∞
n=0 cn x . Consider
N

fN (x) =

∑ cnxn.

n=0

fN = 0 has N solutions on the complex plane SN . Denote the convergent radius for the series as λ . If
λ > |x0 |, then: (i) the smallest absolute real root in SN converges to x0 as N → ∞ and (ii) there is a finite
value of N, call it N̄, such that there is only one real root ∀N > N̄.
Remark 2. The smallest absolute root does not necessarily converge monotonically (even in absolute
value) as N grows. It is technically challenging to consider a “stopping rule” on the value of N to be
used for calculating the root. However, in practice, our computations suggest that root does indeed
converge after a reasonable value of N, especially after the only one real root emerges at large values of
N. See Section 6.
Definition 4. [Regularity Condition] We will say that the utility-risk pair (u,Y ) satisfies the regularity
condition if the corresponding series of equation (2) satisfies the requirement λ > |x0 | in Lemma 2.
Denote ARC as the admissible space of all the utility-risk pairs where the regularity condition holds.
Corollary 1. The regularity condition trivially holds if the convergence radius is infinite (i.e., λ = ∞).
Example 6. For CARA and any discrete distribution, the convergence radius is ∞.

8

3.2

HARA Utility


1−ρ
ρ
λw
+
φ
. The HARA class
Consider the HARA utility function u ∈ UH class where u(w) = 1−ρ
ρ
is fairly broad and nests several other specifications as special cases, including decreasing, constant and
increasing absolute risk aversion as well as decreasing, constant and increasing relative risk aversion.
ρ
ρ
Denote UH ⊂ UH as the subset of HARA utility function where ρ is given. Then for u ∈ UH :

1−n−ρ
ρ
λ n λw
u (w) =
(1 − ρ)(−ρ) · · · (2 − n − ρ)( )
+φ
1−ρ
ρ
ρ
(n)

From equation (2), we need to solve
N

∑ u(n)(wr )

n=1

tnY
an−1 = 0
(n − 1)!

(3)

as N → ∞. With some direct substitutions, this series becomes:

1−n−ρ
N
λ n λ wr
tnY
ρ
(1
−
ρ)(−ρ)
·
·
·
(2
−
n
−
ρ)(
)
+
φ
an−1 = 0
∑ 1−ρ
ρ
ρ
(n
−
1)!
n=1
or

λ

λ wr
+φ
ρ

−ρ

N

tnY
(ρ)
·
·
·
(ρ
+
n
−
2)
∑
(n − 1)!
n=1

λ
−
ρ

a
λ wr
ρ

+φ

!n−1
=0

Let
(
bn =
Also, let z = − λρ

a
λ wr
ρ +φ

1,
n=1
(ρ) · · · (ρ + n − 2), n ≥ 2

(4)

. With this change of variables, equation (3) can be rewritten as:
N

bntnY n−1
z
= 0.
n=1 (n − 1)!

−∑

(5)

Definition 5. [Generalized Ranking Measure with HARA Utility] Let zN,Y denote the smallest absolute
real root z that solves equation (5). The (N-th order) generalized ranking measure with HARA utility is
defined as:
N

bntnY n
zN,Y .
n=1 n!

Y
qN
H (tn , bn ) = − ∑

(6)

where bn is shown in equation (4) and tnY is the nth t-moment of the risky investment with return Y .
Notice that the root zN,Y is only a function of preferences bn and the t-moments tnY of the underlying
risk distribution. In particular, zN,Y does not depend on the investor’s wealth.
Y
Theorem 2. qN
H (tn , bn ) is a valid
 distribution-preference ranking measure sequence w.r.t. to the admisρ
sible space AH ≡ UH × Y ∩ARC , where Y is the set of all random variables.

9

In other words, qN
H is a generalized ranking ratio that is valid for the broad HARA utility class
provided that the regularity condition holds.
We can even drop the assumption of HARA utility if we are comfortable with a potentially less powerful distribution-preference-wealth ranking measure that also requires knowing the investor’s wealth.10
Relative to the original investor problem (1), we don’t need to know the underlying risk distribution; we
only need to know its t-moments. Still, requiring information about the investor’s wealth is much more
restrictive for investment fund managers. Fortunately, the HARA utility class is very broad, and so we
will typically focus on the more powerful distribution-preference ranking measure (6), which we will
simply call the generalized risk ranking measure, or the generalized ratio for brevity.

3.3

An Impossibility Theorem

Like the Sharpe ratio, the generalized ratio can rank risks without knowing the wealth of the underlying
investors. The advantage of the generalized ranking ratio is that it can accommodate a broad admissible
space. The disadvantage of the generalized ratio, however, is that it is a distribution-preference ranking measure that also requires knowledge of the investor’s preferences, whereas the Sharpe ratio is a
distribution-only ranking measure. The additional requirement of the generalized ratio, however, is not
a feature of our particular construction. It is impossible to construct a distribution-only ranking measure
that is generically valid for the HARA class.
Theorem 3. There does not exist a distribution-only ranking measure for HARA utility if portfolio risk
Y can be any random variable.
Indeed, we can conclude that there is no generic distribution-only ranking measure when Y can take
on any distribution, leading to the following impossibility theorem.
Corollary 2. There does not exist a generic distribution-only ranking measure if portfolio risk Y can be
any random variable.
In other words, if we want to accommodate non-Normally distributed risk, a distribution-only ranking measure, like Sharpe, is not available across a wide range of investor preferences.

3.4

Two Special Cases

However, in two special cases of HARA utility, we can simplify things a bit more.
3.4.1

CARA Utility

In the case of constant absolute risk aversion (CARA), the value of φ = 1, ρ → ∞, we can show that it
is equivalent to have bn = 1. Hence, the corresponding value of zN,Y is only a function of the t-moments
of the underlying risk, due to the absence of the income effect.
Corollary 3. For CARA utility, if the regularity condition holds, a distribution-only ranking measure
tnY n
exists and takes the form qCARA (tnY ) = − ∑N
n=1 n! zN,Y .
(n) (w )t Y
r n

particular, the ranking measure would take the form qNH (tnY , u, wr ) = − ∑Nn=1 u
version of equation equation (2).
10 In

10

n!

znN,Y , where z solves a finite N

In other words, we can construct a valid ranking measure that requires only a characterization of the
shock distribution, just like the Sharpe ratio. Unlike the Sharpe ratio, however, this measure is valid for
non-Normally distributed risk if preferences are restricted to the CARA form. Of course, while CARA
utility is commonly used for theoretical analysis, its applicability to actual investor problems is quite
limited.
3.4.2

CRRA Utility

As with the Sharpe ratio, the generalized ratio only ranks various risky portfolios in search for the best
one. Neither the Sharpe ratio or the generalized ratio determines the optimal split between the best risky
asset and the risk-free asset. That division must be determined in the second stage using consumer preferences and wealth. In the finance industry, that’s where the division between the investment manager
and the personal financial advisor traditionally comes into play. The investment manager searches for
the best stock portfolio that produces the largest ranking measure, without specific knowledge of the underlying investors. The financial planner then gets to know the risk tolerance of each client to determine
the optimal split between stocks and bonds.
However, we can collapse both of these steps into a single step in the case of constant relative risk
aversion (CRRA) utility where φ = 0, ρ > 0, and λ = ρ. The CRRA form is commonly used to model
investor preferences since the level of risk aversion scales with investor wealth. To be sure, the CRRA
ranking function is still a distribution-preference ranking measure, as in the more general HARA case.
But, we obtain a nice simplification.
Remark 3. For CRRA utility, the quantity −z (1 + r) is equal to a/w, the percentage of wealth w that is
invested into the risky asset.
In other words, upon picking the best risky investment Y from the admissible space AH , we can
also immediately determine the share of wealth to be placed into this risky investment (versus bonds).
However, the quantity −z (1 + r) itself is not a valid ranking measure since the generalized ranking
measure under CRRA is not a monotone transformation of −z (1 + r).11

3.5

Extension to Multiple Asset Classes

The set Y of random variables in Theorem 2 potentially includes random variables drawn from different
distributions. The generalized ratio, therefore, allows one to consider composite risks, that is, multi-asset
class portfolios. Examples include portfolios with derivatives, thinly traded securities, and corporate
bonds. The generalized ratio, therefore, can be used as the foundation for multi-asset class portfolio
optimization due to its ability to correctly pairwise rank composite risks from different distributions.
For example, one can pairwise rank random return Y1 , representing a portfolio without derivatives,
against random return Y2 , representing a portfolio with derivatives following a different distribution.
This flexibility is more powerful than simply assuming that all potential portfolio combinations follow
the same probability distribution form, even if that distribution is more extensible than Normality. The
only additional practical step required for full portfolio optimization is to combine the ranking function
qH with a globally stable optimization routine that searches over the space of potential composite assets
contained within AH . We provide examples in Section 6.
11 For example,

consider two risky asset payoffs, Y and tY , where t is a positive constant. The generalized ranking measure
produces identical values since the investor should be indifferent between the two risky assets. However, the percent invested
into each asset will differ.

11

4

Theoretical Foundations of the Sharpe Ratio

Despite its widespread use, the Sharpe ratio is still a bit of a mystery because it holds between seemingly
unrelated admissible spaces. It correctly ranks risks that are Normally distributed for those types of preferences consistent with an unbounded distribution. It is also correctly ranks non-Normally distributed
risks if preferences are (albeit, unrealistically) quadratic. Furthermore, as we showed in Section 2, the
Sharpe ratio is valid under more general admissible spaces with non-Normal risks and non-quadratic
preferences. This section explores the foundations of the popular Sharpe ratio in more detail. We are
able to obtain key insights by shrinking the investment time horizon to near zero and then, under certain
conditions, map back to the original investor problem considered in Sections 2 and 3. In the process,
we also extend the classic Kraus-Litzenberger (1976) result, demonstrating the preference of investors
for skewed returns, to infinite (adjusted) cumulants.

4.1

Adjusted Cumulants

This subsection develops the preliminary mathematical concepts required for analyzing risk ranking as
the investment horizon approaches zero.
4.1.1

Definitions

Definition 6. [Infinitely Divisible] For a given probability space, we say that random variable Y has
an infinitely divisible distribution, if for each positive integer T , there is a sequence of i.i.d. random
variables XT,1 , XT,2 ,...,XT,T such that
d

Y = XT,1 + XT,2 + · · · + XT,T ,
d

where the symbol = denotes equality in distribution. Loosely, we say Y has the “infinitely divisibility
property.”
We can think of a single unit of time as being divided into T subintervals of equal length of time,
∆t, i.e., ∆t = T1 . Each variable XT,i then represents the return during the i-th subinterval. For notational
simplicity, since the XT,1 , XT,2 , · · · , XT,T subintervals of risk Y are i.i.d., we drop the subscripts and
simply express each subinterval as X.
Definition 7. [Adjusted Cumulant] Suppose Y has an infinitely divisible distribution and let
X − Tµ
X − µ∆t
εT = q = √ ,
σ ∆t
σ T1
where µ and σ are the mean and standard deviation of Y . In the context of ∆t , we write ε =
Define Y ’s n-th’s adjusted cumulant as
EεTn
Eε n
νn = νn (Y ) = lim
=
lim
n−2 , ∀n ≥ 2.
T →∞ ( 1 )− n−2
∆t→0 (∆t)− 2
2
T

X−µ∆t
√ .
σ ∆t

Lemma 3. The more traditionally defined (that is, non-adjusted) n-th cumulant is equal to νn σ n , ∀n ≥ 2.
The adjusted cumulant concept, however, is easier to interpret than the more traditional cumulant
of a distribution. In particular, ν3 corresponds to a random variable Y ’s skewness while ν4 is its excess
kurtosis, etc. Moreover, like the more traditionally defined cumulant, if Y is Normally distributed then
νn = 0, ∀n ≥ 3.
12

4.1.2

Calculating Adjusted Cumulants

For random variable Y , denote µ1 as the mean and for n ≥ 2,
µn = E(Y − EY )n and ξn =

µn
n

µ22

So ξ3 represents the skewness and ξ4 the kurtosis. We can then calculate adjusted cumulants either by
induction or using the known distribution’s moment generating function. Each has its relative strengths.
First, consider the induction approach.
Theorem 4. For any integer n ≥ 4,
ν n = ξn −

n−i1 −···−ik−1 
n  n−i1 
i1
i2 · · ·
ik

∑

k!

n = i1 + i2 + · · · + ik
i1 ≥ i2 · · · ≥ ik ≥ 2

νi1 · · · νik .

The key advantage of the inductive approach is that adjusted cumulants can be easily calculated
using actual data where the functional form of the risk distribution is not known. While that precise
purpose is not the focus of this section, it does make the point that our insights are not reliant on being
able to calculate the cumulants of a known distribution. Moreover, as a practical matter, Theorem 4
likely has value outside of the current study.
Remark 4. By Remark 3, the standard cumulant of a distribution can, therefore, also be computed
inductively using Theorem 4.
Another way to calculated adjusted cumulants is by exploiting the fact that an infinitely divisible
distribution corresponds to a Levy process. Suppose Xt is Levy Process and Y = X1 . Then Y is infinitely
divisible distribution with X = X 1 . By Levy-Khinchine representation, we have
T
!
ˆ
1
(eiθ x − 1 − iθ xI|x|<1 )W (dx)
Eeiθ Xt = exp bitθ − σ02tθ 2 + t
2
R\{0}
where b ∈ R , I is the indicator function and i is the imaginary unit and θ is the parameter for the
characteristic function. The Levy measure W must be such that
ˆ
min{x2 , 1}W (dx) < ∞
R\{0}

Denote

and

1
φ (θ ,t) ≡ bitθ − σ02tθ 2 + t
2
1
ψ(θ ,t) ≡ btθ + σ02tθ 2 + t
2

ˆ
(eiθ x − 1 − iθ xI|x|<1 )W (dx)
R\{0}

ˆ
(eθ x − 1 − θ xI|x|<1 )W (dx)
R\{0}

i.e., φ (θ ,t) = ψ(iθ ,t) where eψ(θ ,t) is the moment generating function of Xt .
Theorem 5. Suppose eψ(θ ,t) is the moment generating function of the Levy Process Xt . Let Y = X1 and
let σ denote the standard deviation of Y . Then:
νn (Y ) =

∂ n ψ(θ ,1)
∂ θ n |θ =0
, ∀n ≥ 2.
σn

13

4.2

Ranking Measure with Short Trading Times

We are now ready to consider the investor problem as the time horizon approaches zero. For the risky
return Y with an infinitely divisible distribution, consider the ∆t period investor problem.
max Eu(w(1 + r∆t) + a(X − r∆t))
a

+∞

(7)

an
= max ∑ u (w(1 + r∆t)) E(X − r∆t)n
a
n!
n=0
(n)

√
an
E(µ∆t + σ ∆tε − r∆t)n
a
n!
n=0
√
n
By definition of adjusted cumulants, the leading term of E(µ∆t + σ ∆tε − r∆t)n is σ n (∆t) 2 Eε n√
, which
is of order σ n νn ∆t for n ≥ 2, and it is (µ − r)∆t when n = 1. Denote ν1 = µ−r
.
Then
E(µ∆t
+
σ
∆tε −
σ
n
n
r∆t) ∼ σ νn ∆t for any n ≥ 1. Denote wr = w(1 + r∆t). So
+∞

= max ∑ u(n) (w(1 + r∆t))

√
an
E(µ∆t + σ ∆tε − r∆t)n
a
n!
n=0
!
+∞
n ν ∆t
σ
n
= max u(wr ) + ∑ u(n) (wr )
an + o(∆t)
a
n!
n=1
!
!
+∞
νn
n
(n)
= max u(wr ) + ∑ u (wr ) (σ a) ∆t + o(∆t) .
a
n!
n=1
+∞

max ∑ u(n) (w(1 + r∆t))

Theorem 6. As ∆t → 0, the maximization problem (7) is :
+∞

νn

∑ u(n)(wr ) (n − 1)! (σ a)n−1 = 0,

(8)

n=1

assuming that this series converges.
Now, consider the finite series:
N

νn

∑ u(n)(wr ) (n − 1)! (σ a)n−1 = 0

(9)

n=1

and let a∗N equal the smallest absolute real root that solves equation (9). By Lemma 2, this value will
converge to the root of series (8) for a large enough value of N, if the series’ regularity condition holds.
Inserting a∗N into the investor problem:
max Eu(w(1 + r∆t) + a(X − r∆t))
a

= Eu(w(1 + r∆t) + a∗N (X − r∆t))
!
ν
n
= u(wr ) + ∑ u(n) (wr ) (σ a∗N )n ∆t + o(∆t)
n!
n=1

 

(n) (w ) νn (σ a∗ )n ∆t
u
∑+∞
r
N
n=1
n!

≈ u  wr +
0
u (wr )
! !
+∞ (n)
u (wr ) νn
= u wr + ∑ 0
(σ a∗N )n ∆t
u
(w
)
n!
r
n=1
+∞

14

Definition 8. [Adjusted Cumulant Ranking Measure] Now define the N-th order adjusted cumulant
ranking measure as
N
u(n) (wr ) νn
(10)
∑ u0(wr ) n! (σ a∗N )n
n=1
As N approaches to infinity, we simply call it the adjusted cumulant ranking measure.
Example 7. If utility takes the CARA form, the adjusted cumulant ranking measure takes the simple
νn
n 12
form ∑N
n=1 n! (σ aN ) .
Of course, the adjusted cumulant ranking measure, which is defined over the ∆t → 0 period, is
not useful as a practical matter unless it gives us some insight into the discrete time length T investor
problem previously considered in Sections 2 and 3. The following definition and subsequent results
allow us to make that connection.
Definition 9. [Scalable] We say that utility function u is scalable with respect to the random variable
space χ, a subset of all infinite divisible distributions, if the following equivalence holds
(Y, r) ≥u (Y 0 , r) ⇔ (X, r∆t) ≥u (X 0 , r∆t)
where Y,Y 0 ∈ χ and X and X 0 are any subinterval of Y and Y 0 of length ∆t. In other words, if u is
scalable, an investor prefers Y over Y 0 if and only if he prefers X over X 0 in the ∆t time period.
Theorem 7. If u is scalable with respect to random variable space χ, then the adjusted cumulant
ranking measure is also a valid ranking measure for the original discrete-time investor problem (1) with
respect to u × χ.
Lemma 4. CARA utility and Quadratic utility are both scalable with respect to all infinite divisible
distributions. HARA utility is scalable with respect to all Poisson distributions. Any utility function is
scalable with respect to a Normal risk distribution.
Example 8. Suppose utility is CARA and the underlying portfolio risk distributions are infinitely divisible that satisfy the regularity condition. Then, the adjusted cumulant ranking measure is a valid
distribution-only ranking measure, that is,
+∞ Y2
νn
νnY1
n
(σ
a
)
>
N,Y
∑ n! (σ2aN,Y2 )n ⇐⇒ (Y1,r) ≥u (Y2, r)
∑ n! 1 1
n=1
n=1
+∞

where σi is the standard deviation of Yi , i = 1, 2. In other words, with CARA utility, ranking the ∆t
subinterval problem with the adjusted cumulant measure correctly ranks the original investor problem
where the investment problem is made over the discrete time length T . Intuitively, the absence of wealth
effects with CARA utility means that there is no need for rebalancing.
12 Dávila

(2010) derives a similar expansion for CARA utility for N = ∞. Since he did not have the concept of Lemma
(2), he did not solve the finite N case in order to derive a ranking measure for CARA with general cumulants. Instead,
he considers some specific distributions that are assumed to be known ex-ante. To be sure, CARA utility is restrictive for
practical purposes. Moreover, assuming that each risk comes from the same known distribution prohibits making pairwise
comparisons across different risk distributions, which, for example, effectively rules out multi-asset class optimization.
Nonetheless, his nice paper appears to have made the most headway in the first line of literature referenced in Section 1.

15

Of course, many utility functions are not scalable with common probability distributions. Moreover,
in practice, the probability distribution is often unknown. Hence, the generalized ratio derived in Section
3 must be used to rank risky returns for the original discrete time length T investor problem (1), rather
than the adjusted cumulant ranking measure.
Still, the ∆t → 0 analysis developed in this section allows us to gain deeper insights that carry over
to the discrete time length T problem if the utility function is scalable with respect to the underlying
risk distribution. The most relevant cases for analyzing the Sharpe ratio are indeed scalable. By Lemma
4, these cases include quadratic preferences combined with any infinitely divisible distribution as well
as any utility function combined with Normally distributed risk.13

4.3

Understanding the Sharpe Ratio

We are now well positioned to develop a deeper understanding of the Sharpe Ratio. Suppose that, for
all n ≥ 3 , νn = 0 or u(n) = 0. The first-order condition (8) is then
2

νn

∑ u(n)(wr ) (n − 1)! (σ a)n−1 = 0

(11)

n=1

and the 2nd-order adjusted cumulant ranking measure implies:
σ a∗ = −

u0 (wr )ν1
u0 (wr ) µ − r
=
−
u00 (wr )ν2
u00 (wr ) σ

The investor’s indirect utility is then given by:
max Eu(wr + a(X − r))
a

!
νn
∗ n
= u(wr ) + ∑ u (wr ) (σ a ) ∆t + o(∆t)
n!
n=1
 0
n !
2
u (wr ) µ − r
νn
= u(wr ) + ∑ u(n) (wr )
− 00
∆t + o(∆t)
n!
u (wr ) σ
n=1
 0

u (wr ) µ − r 2 1 u0 (wr ) µ − r 2
0
= u(wr ) + u (wr ) − 00
(
) + 00
(
) ∆t + o(∆t)
u (wr ) σ
2 u (wr ) σ
 0

1 u (wr ) µ − r 2
0
= u(wr ) − u (wr )
(
) ∆t + o(∆t)
2 u00 (wr ) σ


1 u0 (wr ) µ − r 2
≈ u wr − 00
(
) ∆t
2 u (wr ) σ

 !
1 u0 (wr ) µ∆t − r∆t 2
√
= u wr − 00
2 u (wr )
σ ∆t
2

(n)

Notice that the Sharpe Ratio of X is exactly
sure.14

µ∆t−r∆t
√
σ ∆t

13 Of

. Hence, the Sharpe ratio is a valid ranking mea-

course, as noted earlier, the investor problem (1) should be well-defined. For example, the Inada condition
→ 0) = ∞) associated with CRRA utility implies that the demand for a Normally distributed risky asset would always be zero due to unlimited liability.
14 Technically, the ranking measure is the square of the Sharpe Ratio, which implies the Sharpe Ratio when the expected
equity premium, µ − r, is positive. For brevity, we won’t continue to make this distinction in the discussion below under the
assumption that, in equilibrium, risky securities must pay a risk premium.
(u0 (w

16

We can, therefore, now see why the Sharpe ratio works for Normal risk distributions or quadratic
utility. The reason stems directly from the multiplicative pairing of the Nth-order marginal utility u(n)
and the Nth-order adjusted cumulant νn within each separable term inside of the investor’s first-order
condition (9). Anything that “zeros out” either one of these 3rd- and higher-order terms is sufficient to
make the Sharpe ratio valid. In particular, if risk Y is Normally distributed, then νn = 0, n ≥ 3. If u takes
the quadratic form then u(n) = 0, n ≥ 3.
It is also clear why Normally distributed risk or quadratic utility are not necessary conditions either
for Sharpe to be valid. Indeed, it is possible that equation (11) emerges if, for example, νn = 0 for odd
values of n and u(n) = 0 for even values, or some other combination.
In fact, in turns out that even equation (11) is not even a necessary condition for the Sharpe ratio
to be valid. In fact, some of the examples we provided in Section 2, where Sharpe is a correct ranking
measure, do not produce equation (11). In other words, an even more general sufficient condition for
Sharpe exists. We provide one in the following Theorem, which nests equation (11) as a special case.
Theorem 8. For given utility function u, suppose that the corresponding risk space χu is not empty.
Then, the Sharpe ratio is a valid ranking measure on set χu if the higher-order adjusted cumulants of all
risks in set χu are equal to each other (i.e. νk (Y ) = νk (Y 0 ), ∀Y,Y 0 ∈ χu , k ≥ 3), with the odd-numbered
cumulants equal to zero (i.e., νk (Y ) = νk (Y 0 ) = 0, ∀Y,Y 0 ∈ χu , k = 3, 5, 7, ...).
Example 9. Suppose T is a given symmetric infinitely divisible distribution. Construct a new distribution family of the form χα1 ,α2 = {X : X = α1 + α2 ∗ T }. Then, the adjusted cumulants are ν2k (X) =
ν2k (T ) and ν2k+1 (X) = ν2k+1 (T ) = 0, ∀k ≥ 1. Therefore, the Sharpe ratio is a valid ranking measure
on the set χα1 ,α2 .

4.4

Generalization of the Skewness Preference

Using a three-moment distribution, Kraus and Litzenberger (1976) well-cited paper demonstrates that
investors with cubic utility prefer skewness in their returns.15 More recently, Peirro and Mosevich
(2011) demonstrate that, in the special case of CARA utility, investors dislike kurtosis as well. Dávila
(2010) considers higher-order terms for the CARA utility case.
Most interesting utility functions have infinite non-zero higher-order terms. Moreover, on the risk
side, the case of Normally distributed risk (νk = 0, k > 2) turns out to be extremely special. In particular,
there does not exist a probability distribution that can be characterized by just adding a finite number of
additional higher-order cumulants in order to expand on mean-variance analysis.
Lemma 5. There does not exist a random probability distribution for which νm = νm+1 = ... = 0 for
some m > 3, with the lower-order adjusted cumulants (orders 3 to m − 1) being nonzero.
Hence, it is interesting to consider high-order terms as well. The following theorem generalizes the
Kraus-Litzenberger result.
Theorem 9. If µ > r, the adjusted cumulant risk measure (equation (10) ) is increasing with respect to
odd adjusted cumulants ν3 , ν5 , · · · and decreasing with respect to even adjusted cumulants ν4 , ν6 , · · · . If
µ < r, the adjusted cumulant risk measure is decreasing with respect to odd adjusted cumulant ν3 , ν5 , · · ·
and increasing with respect to even adjusted cumulant ν4 , ν6 , · · · .
15 See

also Kane (1982).

17

Theorem 9, therefore, generalizes the previous results either in the number of higher-order terms
or in the allowable admissible utility-probability space. For this result to be applicable to the discrete
time length T problem considered in Section 3, we only require that the utility function is scalable with
respect to the underlying risk distribution.
Corollary 4. Suppose µ > r, the investor prefers high skewness and low kurtosis.

5

An Approximation Formula

Historically, there was a significant debate whether Markowitz’s (1952) mean-variance foundation,
which is central to the Sharpe ratio, was a useful approximation even when the underlying risk was
not Normally distributed. On one hand, Borch (1969) and Feldstein (1969) argued that mean-variance
framework was not robust. On the other hand, Tobin (1969), Markowitz (1959), and Samuelson (1970)
argued that mean-variance was, in fact, a good approximation. Samuelson (1970, P. 542) concludes his
article as follows: “Notice how higher-than second moments do improve the solution. But it also needs
emphasizing that ... when ’risk is quite limited,’ the mean-variance result is a very good approximation.
When the heat of the controversy dissipates, that I think will be generally agreed on.” Using a market
data on a broad stock index, Levy and Markowitz (1979) and Kroll, Levy and Markowitz (1984) were
influential in suggesting that the investor’s expected utility problem could be well approximated by the
mean and variance.
Of course, this debate took place before newer asset classes, beyond the broad stock market index,
became more common, and certainly before investment managers started using derivatives to manage
risks which produce non-Normal risk distributions. Without Lemma 2 from Section 3, allowing for
additional higher-order terms for investment ranking within the discrete time length T investor problem
sometimes takes the form of a functional approximation (as oppose to a convergence to the exact risk
ranking as N grows).
We, therefore, now consider an infinite number of additional higher moment approximations. The
computations provided in following section, however, demonstrates that, even with a large number of
additional terms, these sorts of approximations often fail to correctly rank portfolios, are unstable, and
can even diverge. To be clear, our intent is not to critique previous attempts to extend the Sharpe ratio to
allow for additional moments using approximation methods. Rather, our motivation is to demonstrate
that the generalized ratio, derived in Section 3, provides a lot more ranking power than can be achieved
simply by adding functional approximations of higher-order terms to the mean-variance framework.
Although it is impossible to get a closed-form formula for the investor’s first-order condition (9), we
can solve for a linearized closed-form solution. Starting with equation (9),
N

u(n) (wr ) νn
∑ u0(wr ) (n − 1)! (σ a)n−1 = 0,
n=1
we can rearrange to solve,
N
µ − r u00 (wr )
u(n) (wr ) νn
+ 0
(σ a) + ∑ 0
(σ a)n−1 = 0,
σ
u (wr )
u
(w
)
(n
−
1)!
r
n=3

for its root σ a∗ , which depends only on the coefficients of the polynomial. Now denote
!
0 (w ) µ − r
(n) (w )
u
u
r
r
σ a∗ = − 00
+g
νn ; 1 ≤ n ≤ N
u (wr ) σ
u0 (wr )
18

The most straightforward approximation of g as νn → 0 for all 3 ≤ n ≤ N is a linear function of {νn ; 3 ≤
n ≤ N}. Suppose
!
N
u(n) (wr )
u(n) (wr )
ν
;
1
≤
n
≤
N
≈
c
g
n
∑ n u0(wr ) νn
u0 (wr )
n=3
i.e.

N
u0 (wr ) µ − r
u(n) (wr )
σ a ≈ − 00
+ ∑ cn 0
νn
u (wr ) σ
u (wr )
n=3
∗

Define pn =

u(n) (wr )
u0 (wr ) .

Then:
N (− 1 )n ν n−1
1
1
p2
σ a ≈ − ν1 + ∑
pn νn .
p2
(n
−
1)!
n=3
∗

(12)

Theorem 10. If equation (12) holds with equality, then the investor’s expected utility is increasing in
the value of
N
ν2
pn νn ν1 n
(− )
(13)
− 1 +∑
2p2 n=3 n!
p2
which we will call the “approximate ranking measure.”
Remark 5. For HARA utility, the approximate ranking measure becomes:
N b ν n ν (−1)n−1
1 ν12
n 1 n
− ( +∑
)
p2 2 n=3
n!

(14)

Like the generalized ratio derived in Section 3, the approximate measure (14) has a nice property in
that it converges to the Sharpe ratio as the higher-order adjusted cumulants (νn = 0, n > 2). It also nests
some other extensions considered in the literature:
2

• When N = 2, we have − p12 ( SR2 ), where SR denotes the Sharpe Ratio, corresponding to the meanvariance framework tested empirically by Levy and Markowitz (1979).


b3
−1 SR2
3
−/2
• When N = 3, we have p2 2 + 6 SR (ν3 (∆t) ) . Notice that ν3 (∆t)−/2 is the skewness of
X. This formula matches the extension of the mean-variance framework by Zakamouline and
Koekebakker (2008) to include skewness.
 2

b3
SR
3 ∗ Skew − b4 SR4 ∗ (Kurt − 3) , where Skew corresponds to
• When N = 4, we have −1
+
SR
p2
2
6
24
the skewness. Di Pierro and Mosevich (2011) derive a similar formula, but specialized to CARA
investors and no risk-free asset, allowing them to avoid explicit linearization and instead group
the approximation error into a single term.

6
6.1

Applications
Hodges’ (1998) Paradox

Let’s now return to Hodges’ paradox that was considered earlier in Example 5.
Probability
0.01
0.04 0.25 0.40 0.25 0.04 0.01
Excess Return of Asset A −25% −15% −5% 5% 15% 25% 35%
Excess Return of Asset B −25% −15% −5% 5% 15% 25% 45%
19

As noted in Section 2, Asset B clearly first-order stochastically dominates Asset A. However, Asset A
has a Sharpe ratio of 0.500, whereas Asset B has a Sharpe ratio of 0.493. We now use our generalized
ratio to re-evaluate this paradox. Even with the distribution-only CARA version of our ranking function,
the generalized ratio is able to correctly rank Asset B greater than Asset A at a value of N ≥ 5 or more
adjusted cumulants (Table (1)). Our approximation formula also seems to work reasonably well in this
case (Table (2)).
Table 1: Hodges’ Paradox – The Generalized Ratio
N
Asset A
Asset B

3
NaN
NaN

4
0.1150
0.1140

5
0.1172
0.1190

10
0.1166
0.1173

Explanation: Ranking measures for the distribution-only CARA version of the generalized ratio for Hodge’s example, where
N is the largest adjusted cumulant used in the shown calculation.

Table 2: Hodge’s Paradox – Approximation Formula
N
Asset A
Asset B

3
0.1237
0.1263

4
0.1227
0.1228

5
0.1227
0.1239

10
0.1227
0.1236

Explanation: Ranking measures for the distribution-only CARA version of the approximate ratio for Hodge’s example,
where N is the largest adjusted cumulant used in the shown calculation.

6.2

Single Fund Asset Allocation

As noted in Section 3.4.2, in the case of CRRA utility, we can solve the “investment manager” and
“financial planner” problem simultaneously as part of generating the ranking index. Combining the
generalized ratio with a globally stable optimizer,16 we, therefore, calculate the optimal asset allocation
into the S&P500, based on monthly returns from January 1950 to June 2012, versus a risk-free bond
paying an annual interest rate r f = 5%. In particular, for each level of risk aversion, a global optimizer
finds the stock allocation that maximizes the generalized ratio, as shown in Table 3 across different
values of N used for calculating the generalized ratio.
Notice that, in this example, the optimal allocation picked by the generalized ratio with N = 20
terms is not so different than the optimal allocation that would have been picked by the Sharpe ratio
with just N = 2 terms. The reason is that S&P500 is almost Normally distributed at monthly frequency.
However, one must still calculate the generalized ratio at larger values of N to verify that apparently
small deviations from Normality in a given data set do not have a material impact on the optimal asset
allocation. Despite Samuelson’s (1970) conjecture about the approximation value of mean-variance
analysis, there is no mapping between a distribution’s goodness of fit to Normality and the sup norm
error created by using the Sharpe ratio.
16 To

ensure that our results are not be driven by errors in the optimization engine, we use conservative (but slow) globally
stable methods, including grid search and simplex. Furthermore, as discussed in the text, in several of our examples, by
construction, we are able to verify (or nearly so) our calculations using an alternative method.

20

Table 3: Portfolio Allocation into the S&P500 using the CRRA Generalized Ratio
N
CRRA(1)
CRRA(2)
CRRA(3)
CRRA(4)
CRRA(5)

2
147.66%
73.83%
49.22%
36.92%
29.53%

3
145.65%
73.07%
48.77%
36.6%
29.29%

4
143.35%
72.47%
48.47%
36.41%
29.15%

5
143.15%
72.44%
48.46%
36.4%
29.15%

6
143.06%
72.43%
48.45%
36.4%
29.15%

20
143.03%
72.43%
48.45%
36.4%
29.15%

Explanation: CRRA(X) shows the optimal allocation into the S&P500, as a percentage of wealth, where X is the coefficient
of risk aversion and N is the largest adjusted cumulant used in the shown calculation.

We can loosely “verify” the accuracy of our generalized ranking calculation by performing simulations on the original investor problem (1). Recall that the generalized ranking measure is calculated
based on knowing only the translated moments of the underlying data. For the original investor problem
(1), however, we need to know the actual risk distribution in order to integrate the expectation operator.
Since, we don’t have that information, we simply assume that the “true” distribution is given by the histogram of our data, which we then sample 100,000 times. Of course, this assumption could, in general,
produce considerable error because it effectively eliminates the latent tails of the distribution, which
could be especially problematic with non-Normal risk. In the case of broad S&P500 index, however,
this effect appears to be small. Table 4 shows the results from this simulation analysis. Notice that the
results are very close to calculations produced by the Generalized Ratio with N = 20.
Table 4: S&P500 – Simulation Results using the Investor Problem (1)
CRRA(1)
CRRA(2)
CRRA(3)
CRRA(4)
CRRA(5)

Optimal Allocation
143.03%
72.41%
48.45%
36.4%
29.15%

Explanation: CRRA(X) shows the distribution-preference CRRA ranking, where X is the coefficient of risk aversion. CRRA
results expressed as a percentage of wealth to be invested in the fund.

Table 5 shows the results for the approximate risk measure derived in Section 5.17 Notice that the
measure does fairly well at low values of risk aversion but performs poorly at higher values. Interesting,
the approximation formula actually performs worse as more higher order terms are added (i.e., N grows).
This example shows that approximation formulas run the risk of appearing to detect higher-order effects
that don’t actually exist, even in a sample that is already pretty close to being Normally distributed.

6.3

Fund-Level Reporting

Sharpe ratios are routinely reported for mutual and private funds in order to provide investors with
guidance about how well the fund is performing relative to the risk being taken. A single Sharpe Ratio
17 At a value of N

= 2, the results shown in Tables 3 and 5 should exactly match since both the generalized and approximate
measures are equal to the Sharpe Ratio. The small differences come from the grid size used in the global optimizer.

21

Table 5: S&P500 – The Approximate Ratio
N
CRRA(1)
CRRA(2)
CRRA(3)
CRRA(4)
CRRA(5)

2
147.42%
73.71%
49.14%
36.86%
29.48%

3
143.64%
68.03%
41.57%
27.39%
18.13%

4
142.68%
66.13%
38.39%
22.62%
11.45%

5
142.47%
65.59%
37.31%
20.74%
8.43%

6
142.4%
65.4%
36.88%
19.87%
6.88%

20
142.39%
65.34%
36.71%
19.47%
6.07%

Explanation: CRRA(X) shows the optimal allocation into the S&P500, as a percentage of wealth, where X is the coefficient
of risk aversion and N is the largest adjusted cumulant used in the shown calculation.

Table 6: Fund Ranking: The S&P500 Index as an Example Fund
N = 20
CRRA(1)
CRRA(2)
CRRA(3)
CRRA(4)
CRRA(5)

Investor Tolerance Generalized Ranking Ratios
“Growth”
0.00189
0.00095
“Moderate”
0.00063
0.00048
“Conservative”
0.00038

Explanation: Hypothetical rankings for CRRA(X), where X is the coefficient of risk aversion with N = 20 adjusted cumulants.

is typically provided for each fund (along with other information, of course).
As shown in Corollary 2, however, a single measure is not consistent with non-Normally distributed
risk because all valid ranking measures must at least be conditioned on the preferences of investors.
Accordingly, to produce useable information in an environment with non-Normal risk, investment managers need to produce a vector of generalized risk ratios conditional on preference parameters, using a
sufficiently large value of N. As a practical matter, that is easy to do. Using the data described in the last
subsection as an example, Table 6 shows the generalized risk ratios that could be reported for a hypothetical S&P500 indexed fund.18 Ratios are shown for CRRA utility – a fairly standard investor utility
function – across a range of risk tolerances, say 1 (“Growth”), 3 (“Moderate”) and 5 (“Conservative”).
The values of 2 and 4 are also shown for completeness.
Investors can now compare funds based on their individual risk tolerance. Assessing an investor’s
risk tolerance in the presence of non-Normal risk is both necessary (by our impossibility theorem) and
by no means far-fetched. Under the Uniform Securities Act, financial advisors must assess the risk
tolerance of each client. Moreover, virtually all of the online broker-dealers offer “Investor Profile
Questionnaires” that allows investors to determine their own “risk tolerance.”19 Investor tolerances are
usually broken down into 3 to 5 categories, similar to those shown in Table 6.
18 As

discussed in Section 3.4.2, the ranking measure is not necessarily monotone in the percent allocations invested into
the fund (as shown in Table 4). Hence, the percent allocation is not a valid ranking measure. Instead, the generalized ratio
itself should be shown.
19 For example, Vanguard’s Questionnaire can be found here: https://personal.vanguard.com/us/FundsInvQuestionnaire.
[Last checked, August, 2013]. Schwab, Fidelity, and other major online broker-dealers offer similar surveys.

22

6.4

Multi-Asset Class Allocation

Now consider a multi-asset portfolio with underlying risk that is clearly non-Normally distributed. The
following example is borrowed from the interesting papers by Goetzmann et al (2002) and Ingersoll et
al (2007). The underlying stock follows a geometric Brownian motion with today’s price normalized to
$1 per share. The price in 1 year, therefore, is


1 2
S = exp (µ − σ ) + σ z ,
2
where z is the standard Normal random variable. We set µ = 0.10, r f = 0.05, and σ = 0.15, which are
reasonable values at an annual frequency, implying an annual equity premium of 5%.
In addition to holding a share of this stock, now include a European put option with a $0.88 strike
price and a European call option with $1.12 strike price, both maturing in 1 year. Using the BlackScholes-Merton model, the price for these put and call options today are $0.0079 and $0.0345, respectively. An investor can use the options to either buy or sell insurance or both. For example, a “12%
collar” per share can be constructed buying a put option, which protects against the stock price falling
more than 12%, while selling a call option that gives away gains above 12%.20
Denote (a1 , a2 ) as the allocation in put and call options, respectively. A positive value denotes buying the option while a negative value means selling (a writer). Our objective, therefore, is to determine
the optimal buy/sell amounts of each option per share of stock.
We find that a1 = −1.3739 and a2 = −0.5807 maximizes the Sharpe ratio, as shown in Table 7 for
the case of N = 2. (Recall that the level of risk aversion is irrelevant for the Sharpe ratio, which is why
the values in Table 7 are identical across the different utility functions and risk preferences shown when
N = 2.) In other words, the Sharpe ratio suggests a strong amount of put and call writing. In effect, the
Sharpe ratio recommends that the investor’s optimal position is short in volatility, thereby paying out
for stock price swings in excess of 12% in either direction, but collecting the insurance premium as the
reward.
Our generalized ratio, however, suggests that much less shorting of each option is optimal, as shown
in Table 7 with N = 20. For example, at CRRA = 3 and N = 20, a1 = −0.160 and a2 = −0.076. The
premium income collected from shorting the put equals $0.00790.16 = $0.00126 while the premium
collected on shorting the call is $0.03450.077 = $0.00266, for a total of $0.00392.21
We can also verify the solutions produced by the generalized ratio solution. By construction, we
know the exact functional form for the underlying risk distribution in this example. Hence, we can
alternatively use simulation analysis with many random draws, based on the original investor problem
1, to derive the optimal holdings of the put and call options. These results are also shown in Table 7
under the label of “Simulation.” Notice that they closely match the results from the generalized ratio
with N = 20.
20 The

12% value was arbitrarily chosen in this example to give the investor some upside above the mean, which is fairly
common practice among those using collars. However, larger or smaller collar bounds could be used.
21 Ingersoll et al (2007) develop a manager manipulation-proof measure around the (0,0) position. In contrast, we focus on
the allocation that maximizes the investor expected utility problem, which will produce some demand for the new securities
at fair prices since these securities are not spanned in discrete time. Of course, the demand for these securities should
decrease as the trading interval shortens.

23

Table 7: Optimal (Put, Call) Positions Per Share Held: The Generalized Ratio
N
CARA
CRRA(3)
CRRA(4)
CRRA(5)

2
3
5
(-1.374, -0.581) (-1.129,0.902) (-0.402,-0.229)
(-1.374,-0.581)
NaN
(-0.482,0.529)
(-1.374,-0.581) (-0.792,0.233) (-0.317,0.065)
(-1.374,-0.581) (-0.704,0.280) (-0.310,-0.040)

20
Simulation
(-0.390, -0.239) (-0.390,-0.239)
(-0.160,-0.077) (-0.160,-0.076)
(-0.214,-0.120) (-0.214,-0.120)
(-0.247,-0.145) (-0.247,-0.145)

Explanation: The optimal (put, call) allocation. For CRRA(X), X is the coefficient of risk aversion. N is the largest adjusted
cumulant used in the shown calculation.

7

Conclusions

The Sharpe ratio correctly ranks risky investments, consistent with the original investor problem, if
risks are normally distributed. Considerable past effort has been made to account for non-normally distributed risks. Some of this effort have started with the original investor problem and added some higher
moments under strong restrictions on the risk distribution or utility function, sometimes relying on additional linear approximations. Considerable past effort has also focused on deriving risk ranking measures that satisfy certain mathematical properties independent of the original investor problem. Probably
even more attention, at least by industry, has been given to more heuristic “intuitive” measures. These
measures are then commonly used to complement “large” Sharpe ratios under the (incorrect) belief that
a large ratio produces some buffer in case the underlying risk distribution is sufficiently non-Normal.
This paper derives a generalized ranking measure which, under a regularity condition, is valid under
a broad admissible utility-probability space and yet preserves wealth separation for the broad HARA
utility class. Our ranking measure can be used with “fat tails.” But, because it can also pairwise compare
composite risks following different distributions, it can also serve as the foundation for multi-asset class
portfolio optimization, thereby replacing the mixture of numerous other measures currently being used
in industry. We demonstrate that the generalized ratio can produce very different optimal allocations
than the Sharpe ratio, especially in the context of financial derivatives and other securities that produce
a non-Normal risk distribution. Along the way, we prove a key impossibility theorem: any ranking measure that is valid at non-Normal “higher moments” cannot generically be free from investor preferences.
But, as a matter of practice, we demonstrate how the generalized ratio can be easily presented at the
fund level as a function of investor risk tolerance, that is, using basic information that is already legally
required to be gathered by financial advisors for each investor.

References
[1] Agarwal, V. and Naik, N. Y. (2004). “Risk and Portfolio Decisions Involving Hedge Funds," Review of Financial Studies, 17 (1), 63-98.
[2] Artzner, P., Delbaen, F., Eber, J.M. and Heath, D. (1999). “Coherent Measures of Risk". Mathematical Finance 9 (3): 203-228.
[3] Aumann, R. J., and Roberto S. (2008). “An economic index of riskiness.” Journal of Political
Economy, 116, 810-836.

24

[4] Barro, R. J. (2009). “Rare disasters, asset prices, and welfare costs.” American Economic Review,
99, 243-264.
[5] Black, F, and Scholes, M (1973). “The Pricing of Options and Corporate Liabilities.” Journal of
Political Economy 81 (3): 637–654.
[6] Bodie, Z., Merton, R.C. and Samuelson, W. (1991). “Labor supply exibility and portfolio choice
in a life cycle model.” Journal of Economic Dynamics and Control, 16,427-449.
[7] Borch, K (1960). “A Note on Uncertainty and Indifference Curves,” Review of Economic Studies,
36: 1-4.
[8] Brandt, M.W., Goyal, A., Santa-Clara, P. and Stroud. J.R. (2005). “A simulation approach to
dynamic portfolio choice with an application to learning about return predictability.” Review of
Financial Studies, 18(3): 831.
[9] Brooks, C. and Kat, H. M., (2002). “The Statistical Properties of Hedge Fund Index Returns and
Their Implications for Investors”, Journal of Alternative Investments, 5 (2), 26–44.
[10] Cherny, A. (2003). “Generalized Sharpe Ratios and Asset Pricing in Incomplete Markets", European Finance Review ,7 (2), 191-233.
[11] Dávila, E. 2010. “Myopic Portfolio Choice with Higher Cumulants.” Working Paper, Harvard
University.
[12] Dowd, K. (2000).“Adjusting for Risk: An Improved Sharpe Ratio", International Review of Economics and Finance, 9, 209-222.
[13] Durrett, R. (2005). “Probability: Theory and Examples 3rd Edition”, Thomson LearningT M
[14] Fama, E. (1965). “The Behaviour of Stock-Market Prices", Journal of Business, 38, 34-105.
[15] Feldstein, M.S., (1969). “Mean-Variance Analysis in the Theory of Liquidity Preference and Portfolio Selection,” Review of Economic Studies, 36: 5-12.
[16] Foster, D.P., and Hart, S. (2009). “An Operational Measure of Riskiness.” Journal of Political
Economy, 117, 785-814.
[17] Gabaix, Xavier (2012). “Variable Rare Disasters: An Exactly Solved Framework for Ten Puzzles
in Macro-finance.” Quarterly Journal of Economics, 127(7): 645-700.
[18] Gourio, F (2012). “Disaster Risk and Business Cycles.” American Economic Review, 102(6):
2734-66.
[19] Goetzmann, W., Ingersoll, J., Spiegel, M., and Welch, I. (2002). “Sharpening Sharpe Ratios",
NBER Working Paper #9116.
[20] Hart, S. (2011). “Comparing Risks by Acceptance and Rejection.” Journal of Political Economy,
119, 617-638.
[21] Hodges, S. (1998). “A Generalization of the Sharpe Ratio and its Applications to Valuation Bounds
and Risk Measures,” Working Paper, Financial Options Research Centre, University of Warwick.
25

[22] Ingersoll, J.E. (1987). Theory of financial decision making. Rowman and Littlefield Studies in
Financial Economics.
[23] Ingersoll, J., Spiegel, M., and Goetzmann, W. (2007). “Portfolio Performance Manipulation and
Manipulation-proof Performance Measures", Review of Financial Studies, 20 (5), 1503-1546.
[24] Jensen, M.C. (1968). “The Performance of Mutual Funds in the Period 1945-1964,” Journal of
Finance 23, 389-416.
[25] Jurczenko, E., and Maillet, B. (2006), “Theoretical Foundations of Asset Allocations and Pricing
Models with Higher-order Moments", Jurczenko, E., and Maillet, B. (eds), Multi-moment Asset
Allocation and Pricing Models, John Wiley & Sons, 233 p.
[26] Kane, M. (1982). “Skewness preference and portfolio choice.” Journal of Financial and Quantitative Analysis, 17(1): 15 - 25.
[27] Kaplan, P.D. and Knowles, J.A. (2004). “Kappa: A Generalized Downside Risk-Adjusted Performance Measure", Journal of Performance Measurement, 8 (3): 42-54.
[28] Kraus, A., and Litzenberger, R.H. (1976). “Skewness preference and the valuation of risk assets.”
Journal of Finance 31(4): 1085–1100.
[29] Kroll, Y., Levy, H. and Markowitz, H.M. (1984). “Mean-Variance Versus Direct Utility Maximization.” The Journal of Finance 39(1): 47 - 61.
[30] Leland, H.E. (1999). “Beyond Mean-Variance: Risk and Performance Measurement in a Nonsymmetrical World", Financial Analysts Journal 1: 27 - 36.
[31] Levy, H. and Markowitz, H. (1979). “Approximating expected utility by a function of mean and
variance.” American Economics Review 69: 308–317.
[32] Lukacs, E. (1970) Characteristic Functions (2nd Edition), Griffin, London.
[33] Malkiel, B.G. and Saha, A. (2005). “Hedge Funds: Risk and Return,” Financial Analysts Journal,
Vol. 61(6): 80 - 88.
[34] Markowitz, Harry, 1952. “Portfolio Selection,” The Journal of Finance, 7: 77 - 91.
[35] Markowitz, H, 1959. Portfolio Selection: Efficient Diversification of Investments. John Wiley &
Sons: New York.
[36] Merton, R. “Theory of Rational Option Pricing.” Bell Journal of Economics and Management
Science 4 (1): 141–183.
[37] Modigliani, F. (1997). “Risk-Adjusted Performance.” Journal of Portfolio Management (Winter):
45–54.
[38] Owen, J., and Rabinovitch, R. (1983). “On the class of elliptical distributions and their applications
to the theory of portfolio choice.” Journal of Finance, 38(3): 745–752.
[39] Pierro, M. D. and Mosevich, J. (2011). “Effects of skewness and kurtosis on portfolio rankings,”
Quantitative Finance, 11(10): 1449 - 1453.
26

[40] Roy, A.D. (1952). “Safety First and the Holding of Assets.” Econometrica 20: 431–450.
[41] Samuelson, P. (1970) “The Fundamental Approximation Theorem of Portfolio Analysis in Terms
of Means, Variances and Higher Moments.” The Review of Economic Studies, 37(4): 537–542.
[42] Scott, R., and Horvath, P. (1980). “On the Direction of Preference for Moments of Higher Order
than Variance.” Journal of Finance, 35: 915–919.
[43] Shadwick, W. F. and Keating, C. (2002). “A Universal Performance Measure", Journal of Performance Measurement, 6 (3): 59 - 84.
[44] Sharpe, W.F., (1964). “Capital asset prices: A theory of market equilibrium under conditions of
risk.” Journal of Finance 19: 425 - 442.
[45] Sharpe, W.F., (1966). “Mutual Fund Performance,” Journal of Business 39: 119–138.
[46] Sortino, F.A. and Price, L.N. (1994). “Performance Measurement in a Downside Risk Framework,”
Journal of Investing 3(3): 59 - 65.
[47] Spurgin, R.B. (2001). “How to Game Your Sharpe Ratio,” Journal of Alternative Investments 4(3):
38 - 46.
[48] Tobin, J. (1958). “Liquidity Preference as Behaviour Towards Risk,” Review of Economic Studies
25: 65 - 86.
[49] Tobin, J. (1969). “Comment on Borch and Feldstein,” Review of Econonmic Studies, 36: 13 - 14.
[50] Wachter, J. (2012). “Can Time-Varying Risk of Rare Disasters Explain Aggregate Stock Market
Volatility?,” Journal of Finance 68(3): 987-1035.
[51] Zakamouline, V. and Koekebakker, S. (2009). “Portfolio Performance Evaluation with Generalized
Sharpe Ratios: Beyond the Mean and Variance", Journal of Banking and Finance 33(7): 12421254.

27

Proofs
Theorem 1
Yα −EYα
Denote that Zα = √
, by our assumption Zα doesn’t depend on α, thus we can ignore the subscript:
Var(Yα )

Z = Zα . The FOC of the maximization problem is
Eu0 (w(1 + r) + a∗ (Yα − r))(Yα − r) = 0
in terms of Z:
Eu0 (w(1 + r) + a∗ (Z

p
p
Var(Yα ) + EYα − r))(Z Var(Yα ) + EYα − r) = 0

i.e.

!
p
EY
−
r
EYα − r
α
Eu0 w(1 + r) + a∗ Var(Yα )(Z + p
) (Z + p
)=0
Var(Yα )
Var(Yα )
p
Given information about u, w, r, the solution a∗ Var(Yα ) only depends on √EYα −r and Z. Since we
Var(Yα )
p
∗
assume Zα doesn’t depend on parameters α, we can write a Var(Yα ) as a function of √EYα −r . Let
Var(Yα )
us assume
!
p
EYα − r
a∗ Var(Yα ) = g p
Var(Yα )
Then
max Eu(w(1 + r) + a(Yα − r)) = Eu(w(1 + r) + a∗ (Yα − r))
a
p
= Eu(w(1 + r) + a∗ (Z Var(Yα ) + EYα − r))
!
p
EY
−
r
α
= Eu w(1 + r) + a∗ Var(Yα )(Z + p
)
Var(Yα )
!
!
EYα − r
EYα − r
= Eu w(1 + r) + g p
(Z + p
)
Var(Yα )
Var(Yα )


EYα − r 
= f(u,w,r)  q
Var(Yα)
In addition, since Z is symmetric, if Y1 and Y2 produce opposite value of Sharpe ratio, i.e.
EY − r
EY2 − r
q 1
= −q
Var(Y1)
Var(Y2)
The optimal allocation in these two cases would be opposite too, i.e.
p
p
a∗1 Var(Y1 ) = −a∗2 Var(Y2 )
so f(u,w,r) is an even function. Let f¯(x) = f (x2 ), clearly that f¯ is an increasing function. Thus the term

2

EY −r f
maxa Eu w(1 + r f ) + a(Y − r f ) is an increasing function of √
.
Var(Y )

28

Lemma 1
The uniqueness is because the maximization problem is concave, i.e. the second order derivative is
Eu00 (w(1 + r) + a(Y − r))(Y − r)2 < 0
Let h(a) = Eu0 (w(1 + r) + a(Y − r))(Y − r) be the first order derivative. It is easy to see that sign of
h(0) is same as sign of EY − r. So if EY > r,then h(0) > 0. We can conclude that the root of h(a)must
be on right side of h because h is a decreasing function. Similarly we can show h(0) = 0 if EY = r and
h(0) < 0 if EY < r.

Lemma 2
On the complex plan, we can draw a small circle Γ around x0 so that f have unique complex solution x0
on Γ. Denote γ = ∂ Γ is the boundary of Γ. By Cauchy’s Theorem, we have
˛ 0
1
f
dz = 1
2πi γ f
and

The fact that

¸ fN0
1
2πi γ fN

fN0
f0
→ .
fN
f
dz is always an integer, we conclude that for sufficient large N
1
2πi

˛
γ

fN0
dz = 1
fN

In other word, fN has unique solution on Γ. In addition, since fN is a polynomial with real coefficients,
we can conclude that this root is a real number as real polynomials have conjugate complex roots.
Now we show that the unique solution of fN on Γ is the smallest absolute root of fN on the complex
plane. We show by contradiction, i.e. for any N, there is n > N so that fn has a root that is smaller
in absolute value. First, they are uniform bounded, say 2|x0 |. Then, since it is a bounded convergent
subsequence, we know that we can find a convergent subsequence and it must converge to x0 . This
is an contradiction because those points are outside Γ, meaning they have a positive distance from x0 ,
resulting in impossibility of converging to x0 .
Example 6
Suppose utility is CARA and the underlying distribution is a discrete distribution, then we want to show
that the Taylor expansion has infinite convergence radius, i.e. regularity condition always holds in this
case. Suppose the underlying distribution is characterized by
{x1 , p1 ; x2 , p2 , ; · · · ; xm , pm }
and A = max{|xi − r f |} = |x j − r f |. Then one can show that the t-moments tn ≈ An for sufficient large n
for the reason below. Then using familiar convergence radius formula, we obtain convergent radius
lim sup k/A = ∞
k

29

To calculate tn , we have

p j An ≤ tn = ∑ pi (xi − r f )n ≤ ∑ pi An = An .
i

i

Theorem 2
For HARA utility, u(w) =

ρ
1−ρ



λw
ρ

+φ

1−ρ

,


max Eu w(1 + r f ) + a(Y − r f )
a

−ρ ∞
λ wr
tnY
= u(wr ) + λ
+φ
(ρ)
·
·
·
(ρ
+
n
−
2)
∑
ρ
(n)!
n=1

−ρ ∞
λ wr
bntnY n
= u(wr ) − λ
+φ
z
∑
ρ
n=1 (n)!
So qH (tnY , bn ) = − ∑N
n=1

bn tnY n
n! zN,Y

λ
−
ρ

a
λ wr
ρ

!n

+φ

is the ranking function.

Theorem 3
We show by contradiction. Consider
(
k%
Y=
−1%

w.p. p
w.p. 1 − p

1−γ

Suppose investor’s utility function is u(w) = w1−γ . Without loss of generality, assume initial wealth
w0 = 1, then investor solves following problem
max Eu(1 + aY ) = pu(1 + ak/100) + (1 − p)u(1 − 0.01a)
a

FOC gives
pku0 (1 + ak/100) = (1 − p)u0 (1 − 0.01a)
So we have
∗

a =

pk −1/γ
100(1 − ( 1−p
)
)
pk −1/γ
(1 + k ∗ ( 1−p
)
)

The maximal value is then Eu(1 + a∗Y ) = pu(1 + a∗ k) + (1 − p)u(1 − 0.01a∗ ). Specifically, consider
following example
(
1.6% w.p. 0.77
Y1 =
−1% w.p. 0.23
(
1.3% w.p. 0.81
Y2 =
−1% w.p. 0.19
Investors A and B are both CRRA with ρ = 2 and ρ = 100, respectively. Then

30

Investor
Y1
A
-0.8472
B
-0.00722

Y2
ranking
-0.8485 Y1 > Y2
-0.00717 Y1 < Y2

This implies there can not have distribution only ranking measure as if there is, we should expect
investor A and B has same preference over Y1 and Y2 .

Lemma 3
Since eψ(θ ,t) = Eeθ Xt , then the cumulant-generating function
g(θ ,t) = log(Eeθ Xt ) = ψ(θ ,t).
Denote kn the n-th cumulant. Then
kn =

∂ gn (θ , 1)
∂ ψ n (θ , 1)
|
=
|θ =0 .
θ =0
∂θn
∂θn

So for n ≥ 2,
kn = νn σ n

Theorem 4
In general, for random variable Y , we denote µ1 the mean and for k ≥ 2,
µk = E(Y − EY )k and ξk =

µk
k

µ22
So ξ3 represents the skewness and ξ4 the kurtosis. We write S, K to represent skewness and kurtosis for
simplicity. We also write µ2 = σ 2 . We have
• ν3 = ξ3
• ν4 = ξ4 − 3
• ν5 = ξ5 − 5ξ3
15
2
2
• ν6 = ξ6 − 15
2 (ξ4 − 3) − 10ξ3 − 15 = ξ6 − 2 ν4 − 10ν3 − 15
35
175
21
35
175
• ν7 = ξ7 − 21
2 (ξ5 − 5S) − 2 (K − 3)S − 3 S = ξ7 − 2 ν5 − 2 ν4 ν3 − 3 ν3

For integer n, there are numbers of ways to write it as sum of positive integers that greater than 1. For
example, we can write
• 7=7
• 7=5+2
• 7=4+3
• 7=3+2+2
31

Those four ways to decomposing 7 matches the terms in ν7 (noting that ν2 = 1). For a particular
decomposition of n
n = i1 + i2 + · · · + ik
where i1 ≥ i2 · · · ≥ ik ≥ 2. For k ≥ 2, there is a corresponding term in νn that is νi1 · · · νik and the
coefficient is
n−i1 −···−ik−1 
n  n−i1 
·
·
·
i1
i2
ik
k!
Thus, we conclude that
ν n = ξn −

n−i1 −···−ik−1 
n  n−i1 
·
·
·
i1
i2
ik

∑

k!

n = i1 + i2 + · · · + ik
i1 ≥ i2 · · · ≥ ik ≥ 2

νi1 · · · νik

Indeed let Y = X1 + X2 + · · · + Xm , where Xi are i.i.d. Let’s denote X for simplicity. Expand
E(Y − EY )n
=E(X1 + X2 + · · · + Xm − E(X1 + X2 + · · · + Xm ))n
=E((X1 − EX1 ) + (X2 − EX2 ) + · · · + (Xm − EXm ))n
=

∑

E(X1 − EX1 )i1 · · · (Xm − EXm )im

i1 +i2 +···+im =n

=mE(X − EX)n +

E(X1 − EX1 )i1 · · · (Xm − EXm )im

∑
i1 + i2 + · · · + im = n
2 ≤ ik < n, or ik = 0

Theorem 5
Suppose Xt is Levy Process, Y = X1 then Y is infinitely divisible distribution with X = X 1 . By Levyn
Khinchine representation, we have
!
ˆ
1 2 2
iθ Xt
iθ x
Ee
= exp bitθ − σ0 tθ + t
(e − 1 − iθ xI|x|<1 )W (dx)
2
R\{0}
where b ∈ R , and I is the indicator function. The Levy measure W must be such that
ˆ
min{x2 , 1}W (dx) < ∞
R\{0}

Denote

and

1
φ (θ ,t) = bitθ − σ02tθ 2 + t
2
1
ψ(θ ,t) = btθ + σ02tθ 2 + t
2

ˆ
(eiθ x − 1 − iθ xI|x|<1 )W (dx)
R\{0}

ˆ
(eθ x − 1 − θ xI|x|<1 )W (dx)
R\{0}

i.e φ (θ ,t) = ψ(iθ ,t) and eψ(θ ,t) is the moments generating function of Xt . Suppose eψ(θ ,t) are the
moments generating function of Levy Process Xt , let Y = X1 , and σ is the standard deviation of Y , then
we have
∂ k ψ(θ ,1)
|θ =0
k
νk (Y ) = ∂ θ k
, ∀k ≥ 2.
σ
32

Theorem 6
The derivations in the text before the theorem was stated serves as proof.

Lemma 4
1. Suppose investor’s preference is characterized by CARA and Xt is Levy Process. LetY = X1 then
Y is infinitely divisible distribution with X = X 1 . By Levy-Khinchine representation, we have
n
!
ˆ
1
(eiθ x − 1 − iθ xI|x|<1 )W (dx)
Eeiθ Xt = exp bitθ − σ02tθ 2 + t
2
R\{0}
where b ∈ R , and I is the indicator function. The Levy measure W must be such that
ˆ
min{x2 , 1}W (dx) < ∞
R\{0}

Denote

and

1
φ (θ ,t) = bitθ − σ02tθ 2 + t
2

ˆ

1
ψ(θ ,t) = btθ + σ02tθ 2 + t
2

(eiθ x − 1 − iθ xI|x|<1 )W (dx)
R\{0}

ˆ
(eθ x − 1 − θ xI|x|<1 )W (dx)
R\{0}

i.e φ (θ ,t) = ψ(iθ ,t) and eψ(θ ,t) is the moments generating function of Xt . From Theorem 5 we
have,
∂ k ψ(θ ,1)
EX 1k
|θ =0
k
νk = lim Eε k n−k/2+1 = kn n = ∂ θ k
n→∞
σ
σ
Now suppose investor has CARA utility and as we mention before the risk aversion doesn’t matter
because of bn = 1, so for simplicity, we assume u(w) = −e−w .
a∗ = arg max E − e−(wr +a(Y −r))
a

= arg max E − e−wr +ar−aY
a

= arg max E − e−wr +ar e−aY
a

= arg max −e−wr +ar Ee−aY
a

= arg max −e−wr +ar eψ(−a,1)
a

= arg min ear+ψ(−a,1)
a

= arg min ar + ψ(−a, 1)
a

i.e.

a∗

is the unique solution of
r = ψ 0 (−a, 1)

For adjusted cumulants performance measurement, we want to solve
N

νn

∑ u(n)(wr ) (n − 1)! (σ a)n−1 = 0

n=1

33

Plug in

u(w) = −e−w

and νk =

∂ k ψ(θ ,1)
|θ =0
∂θk
k
σ

for k ≥ 2 we get
N

∂ n ψ(θ ,1)
|θ =0
∂θn
σn

µ −r
+∑
(−σ a)n−1 = 0
σ
n=2 (n − 1)!
i.e.
µ −r+

n+1 ψ(θ ,1)
N−1 ∂
|θ =0
∂ θ n+1

∑

n!

n=1

Notice that µ =

∂ ψ(θ ,1)
|θ =0 ,
∂θ

(−a)n = 0

i.e.
r=

n+1 ψ(θ ,1)
N−1 ∂
|θ =0
∂ θ n+1

∑

n!

n=0

(−a)n

By Taylor expansion we knows that the right hand side approaches ψ 0 (−a, 1). From Lemma 2, we have
a∗N → a∗ . In other word, the Adjusted Cumulant Ranking Measure is consistent with the maximized
expected utility, therefore CARA is scalable.
1. For quadractic risk, since Sharpe ratio sqaured is a valid ranking measure and notice that
µ∆t − r∆t
µ −r
=
σ ∆t
σ
2. For HARA and Possion, since it is one parameter distribution (λ ), we can show that the maximized
expected utility is an increasing function of λ when λ ≥ r and decreasing function when λ < r.
When it is scaled to ∆t, we have the maximized expected utility to be an increasing function
λ when λ ∆t ≥ r∆t and decreasing function when λ ∆t < r∆t. So the maximized expected utility
in the regular time and ∆t time have the same ranking among all Possion distributions.
3. For Normal risk, the result is also from the fact that

µ∆t−r∆t
σ ∆t

=

µ−r
σ .

Theorem 7
First we claim that the adjusted cumulant ranking measure produces same ranking over time t and time
∆t. In other words, (Y, r) ≥ACRM (Y 0 , r) ⇔ (X, r∆t) ≥ACRM (X 0 , r∆t).
By Levy-Khinchine representation, we have in general
νnX = νnY k

n−2
2

Now look at the equations that solve a∗ . a∗Y solves
N

∑ u(n)(w)

n=1

while a∗X solves

N

νnY
(σ a)n−1 = 0
(n − 1)!
νX

∑ u(n)(w) (n −n 1)! (σ a)n−1 = 0

n=1

34

(15)

(16)

Since νnX = νnY k

n−2
2

, so (16) is equivalent to
n−2

N

νnY k 2
u
(w)
(σ a)n−1 = 0
∑
(n
−
1)!
n=1
i.e.
1

k− 2

(n)

N

∑ u(n)(w)

n=1

Compared it to (15), we have

√
νnY
(σ a k)n−1 = 0
(n − 1)!

√
a∗Y = a∗X k

Therefore, the left hand side of theorem
X

N

u(n) (w) νn k,1
∑ u0(w) n! (σ a∗Xk,1 )n
n=1
n−2

N

1
u(n) (w) νnY k 2
=∑ 0
(σ a∗Y k− 2 )n
n!
n=1 u (w)

1 N u(n) (w) νnY
= ∑ 0
(σ a∗Y )n
k n=1 u (w) n!
Or
ACRMN (Xk,1 ,
where

rf
1
) = PM(Y, r f )
k
k
N

ACRMN (Y, r f ) =

u(n) (w) νnY
∑ u0(w) n! (σ a∗Y )n
n=1

Therefore, suppose we have infinitely divisible distributions Y and Y 0 in χmN , we must have the following
equivalence:
ACRMN (Y, r f ) ≥ ACRMN (Y 0 , r f ) ⇔ ACRMN (Xk,1 ,

rf
rf
0
) ≥ ACRMN (Xk,1
, ), ∀k
k
k

Now above argument is also correct when N = +∞, so we obtain
rf
rf
0
) ≥ ACRM(Xk,1
, ), ∀k
k
k
0
Since u is scalable with respect to χ, we have (Y, r) ≥u (Y , r) ⇔ (X, r∆t) ≥u (X 0 , r∆t). By above
derivation, we have (X, r∆t) ≥u (X 0 , r∆t) ⇔ (X, r∆t) ≥ACRM (X 0 , r∆t), where ≥ACRM means adjusted
cumulant ranking measure score function. From above claim, we have (X, r∆t) ≥ACRM (X 0 , r∆t) ⇔
(Y, r) ≥ACRM (Y 0 , r). So we establish that (Y, r) ≥ACRM (Y 0 , r) ⇔ (Y, r) ≥u (Y 0 , r).
ACRM(Y, r f ) ≥ ACRM(Y 0 , r f ) ⇔ ACRM(Xk,1 ,

Theorem 8
Suppose νn = cn, ∀n ≥ 3. We need to solve
2

∑ u(n)(w)

n=1

∞
νn
cn
(σ a)n−1 + ∑ u(n) (w)
(σ a)n−1 = 0
(n − 1)!
(n
−
1)!
n=4,even

35

Suppose we haveσ a = g(ν1 ). Then the let PM be the corresponding ranking furnction
2

PM =

∑ u(n)(w)

n=1

∞
cn
νn
(g(ν1 ))n + ∑ u(n) (w)
(g(ν1 ))n
n!
(n
−
1)!
n=4,even

Then we have
∞
∂ PM
νn
= u0 (w)g(ν1 ) + g0 (ν1 ) ∑ u(n) (w)
(σ a)n−1 = u0 (w)g(ν1 )
∂ ν1
(n
−
1)!
n=1

It it positive whenever ν1 is poisitive and negative when ν1 is negative. In addition, the measure is
symmetric because PM(ν1 ) = PM(−ν1 ). So Sharpe ratio is valid.

Lemma 5
This Lemma is similar to a result that is well known in the literature. See, in particular, Lukacs (1970).

Theorem 9
We use chain rule:
(n)

u (wr ) νn
∗ n
∂ ∑N
n=1 u0 (wr ) n! (σ a )

∂ νi
∂ ∑n6=i

u(n) (w

r ) νn
∗ n
u0 (wr ) n! (σ a )

(i)

(wr ) νi
∂ uu0 (w
(σ a∗ )i
r ) i!

+
∂ νi
∂ νi
(n)
(i)
∗
n
u (wr ) νn ∂ (σ a )
u (wr ) 1
u(i) (wr ) νi ∂ (σ a∗ )i
=∑ 0
+ 0
(σ a∗ )i + 0
∂ νi
u (wr ) i!
u (wr ) i! ∂ νi
n6=i u (wr ) n!

=

u(n) (wr ) νn ∂ (σ a∗ )n u(i) (wr ) 1
+ 0
(σ a∗ )i
0 (w ) n!
u
∂
ν
u
(w
)
i!
r
i
r
n=1
N

=∑

∗
u(n) (wr ) νn
u(i) (wr ) 1
∗ n−1 ∂ (σ a )
=∑ 0
n(σ a )
+ 0
(σ a∗ )i
∂ νi
u (wr ) i!
n=1 u (wr ) n!
!
N
u(n) (wr ) νn
∂ (σ a∗ ) u(i) (wr ) 1
= ∑ 0
(σ a∗ )n−1
+ 0
(σ a∗ )i
u
(w
)
(n
−
1)!
∂
ν
u
(w
)
i!
r
i
r
n=1
N

=

u(i) (wr ) 1
(σ a∗ )i
u0 (wr ) i!

Use lemma 2.1 and the fact that u has positive odd derivatives and negative even derivatives, we can
easily get the conclusion:
• If µ > r, it is increasing with respect to odd adjusted cumulants ν3 , ν5 , · · · and decreasing with
respect to even adjusted cumulants ν4 , ν6 , · · · .
• If µ < r, it is decreasing with respect to odd adjusted cumulant ν3 , ν5 , · · · and increasing with
respect to even adjusted cumulant ν4 , ν6 , · · · .
36

Theorem 10
We have
σ a∗ ≈ −

N
u0 (wr ) µ − r
u(n) (wr )
+
c
∑ n u0(wr ) νn
u00 (wr ) σ
n=3

Plug into the first order condition and only keeps terms of νn and ignore higher terms:
 0

N
u(n) (wr ) νn
u00 (wr ) N
u(n) (wr )
u (wr ) µ − r n−1
= 0.
∑ cn u0(wr ) νn + ∑ u0(wr ) (n − 1)! − u00(wr ) σ
u0 (wr ) n=3
n=3
Since pn =

u(n) (wr )
u0 (wr ) ,

then
N

N

νn
p2 ∑ cn pn νn + ∑ pn
(n − 1)!
n=3
n=3


 !
1 µ − r n−1
−
= 0.
p2 σ

This implies that
cn =
So

1 n µ−r n−1
(− p2
) ( σ )

(n − 1)!

N (− 1 )n ( µ−r )n−1
1 µ −r
p2
σ
σa = −
+∑
pn νn .
p2 σ
(n
−
1)!
n=3
∗

Now we plug in σ a∗ to the expected utility
max Eu(wr + a(X − r))
a

!
ν
n
= u(wr ) + ∑ u(n) (wr ) (σ a∗ )n ∆t + o(∆t)
n!
n=1
N

N

N (− 1 )k ( µ−r )k−1
1 µ −r
p2
σ
+∑
pk νk
−
p2 σ
(k − 1)!
k=3
!n !
N (− 1 )k ( µ−r )k−1
1 µ −r
p2
σ
−
+∑
pk νk ∆t
p2 σ
(k
−
1)!
k=3

νn
= u(wr ) + u0 (wr ) ∑ pn
n!
n=1
N

≈ u wr + ∑ p n
n=1

νn
n!

!n !

then we have the approximation performance measure in Nth moments given by
−

2
N
( µ−r
pk νk µ − r k
σ )
∆t + ∑
(−
) ∆t
2p2
p2 σ
k=3 k!

Rewrite in terms of adjusted cumulants:
−

N
ν12
pk νk ν1 k
+∑
(− )
2p2 k=3 k!
p2

37

∆t + o(∆t)

For Remark 5, notice that bn =

pn
pn−1
2

distribute the ∆t, then we have

N
( µ−r
)2
pk νk µ − r k
− σ
∆t + ∑
(−
) ∆t
2p2
p2 σ
k=3 k!
√ 2
N
∆t)
( µ−r
(−1)k bk νk µ − r √ k
σ
+∑
(
∆t) (∆t)1−k/2
=−
2p2
k!p
σ
2
k=3
µ−r √
2
(
∆t)
1 N (−1)k bk k
=− σ
+
∑ k! SR (νk (∆t)1−k/2)
2p2
p2 k=3

=−

SR2
1 N (−1)k bk k
+
∑ k! SR (νk (∆t)1−k/2)
2p2 p2 k=3

−1
=
p2
≈

−1
p2

!
N
SR2
(−1)k−1 bk k
+∑
SR (νk (∆t)1−k/2 )
2
k!
k=3
!
N
SR2
(−1)k−1 bk k k
+∑
SR Eε
2
k!
k=3

38

